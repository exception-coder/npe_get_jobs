import {
  Gr,
  Id,
  Ir,
  Jt,
  Pe as Pe2,
  Rd,
  Re,
  Rm,
  Ud,
  Ye,
  de,
  gr,
  hd as hd2,
  pr,
  wd,
  xt,
  zt
} from "./chunk-2TCKJKRG.js";
import {
  Ke,
  V,
  Ve as Ve2,
  X,
  x,
  ze
} from "./chunk-AFUSFBAE.js";
import {
  $t,
  M4 as M,
  Pe,
  hd,
  hn,
  ie,
  t,
  z
} from "./chunk-I7I3GTAS.js";
import {
  BehaviorSubject,
  El,
  En,
  Fn,
  GC,
  Ii,
  Inject,
  Injector,
  J,
  Ki,
  Ls,
  Ms,
  Nr,
  Ol,
  Optional,
  QE,
  Qo,
  Qt,
  Quantity,
  ReplaySubject,
  Rs,
  Subject,
  Ve,
  We,
  Yc,
  ao,
  concatMap,
  createIdentifier,
  dE,
  delay,
  eC,
  et,
  filter,
  firstValueFrom,
  fo,
  h1,
  ic,
  map,
  merge,
  nC,
  oc,
  of,
  oo,
  pE,
  qR,
  shareReplay,
  take,
  takeUntil,
  vr,
  we,
  ws,
  yt,
  zc
} from "./chunk-RGZYGL3P.js";
import {
  __commonJS
} from "./chunk-DC5AMYBS.js";

// browser-external:crypto
var require_crypto = __commonJS({
  "browser-external:crypto"(exports, module) {
    module.exports = Object.create(new Proxy({}, {
      get(_, key) {
        if (key !== "__esModule" && key !== "__proto__" && key !== "constructor" && key !== "splice") {
          console.warn(`Module "crypto" has been externalized for browser compatibility. Cannot access "crypto.${key}" in client code. See https://vite.dev/guide/troubleshooting.html#module-externalized-for-browser-compatibility for more details.`);
        }
      }
    }));
  }
});

// node_modules/@univerjs-pro/collaboration-client/lib/es/index.js
var _0x2dad69 = _0x35c2;
(function(_0x193353, _0x570bab) {
  var _0x40f9cd = _0x35c2, _0x172313 = _0x193353();
  while (!![]) {
    try {
      var _0xab33f6 = parseInt(_0x40f9cd(724)) / 1 + parseInt(_0x40f9cd(374)) / 2 + -parseInt(_0x40f9cd(198)) / 3 + -parseInt(_0x40f9cd(797)) / 4 * (parseInt(_0x40f9cd(717)) / 5) + -parseInt(_0x40f9cd(123)) / 6 + parseInt(_0x40f9cd(863)) / 7 * (-parseInt(_0x40f9cd(771)) / 8) + parseInt(_0x40f9cd(256)) / 9;
      if (_0xab33f6 === _0x570bab) break;
      else _0x172313["push"](_0x172313["shift"]());
    } catch (_0xa5feeb) {
      _0x172313["push"](_0x172313["shift"]());
    }
  }
})(_0x1259, 428880);
var bi = Object[_0x2dad69(433)];
var Di = (_0x44f8b2, _0x361364, _0x361ffa) => _0x361364 in _0x44f8b2 ? bi(_0x44f8b2, _0x361364, { "enumerable": true, "configurable": true, "writable": true, "value": _0x361ffa }) : _0x44f8b2[_0x361364] = _0x361ffa;
var D = (_0xca7f6f, _0xb4d895, _0xd00801) => Di(_0xca7f6f, typeof _0xb4d895 != _0x2dad69(228) ? _0xb4d895 + "" : _0xb4d895, _0xd00801);
var fs = _0x2dad69(471);
var vs = "SNAPSHOT_URL_KEY";
var ps = 2e3;
var Es = _0x2dad69(732);
var gr2 = "/universer-api/user/session-ticket";
var ms = "HEARTBEAT_INTERVAL";
var Is = 3e4;
var di = "HEARTBEAT_TIMEOUT";
var fi = 2e4;
var Ss = 2e4;
var gs = _0x2dad69(590);
var Ts = 3;
var Tr = "LOCAL_CACHE_INTERVAL";
var Or = 1e3;
var Os = "/universer-api/comb";
var Rs2 = _0x2dad69(465);
var Rr = _0x2dad69(330);
var Cr = "/universer-api/uniscript";
var vi = ((_0x519c8c) => (_0x519c8c[_0x519c8c[_0x2dad69(484)] = 0] = _0x2dad69(484), _0x519c8c[_0x519c8c["OK"] = 1] = "OK", _0x519c8c[_0x519c8c[_0x2dad69(781)] = 2] = "INTERNAL_ERROR", _0x519c8c[_0x519c8c["PERMISSION_DENIED"] = 3] = _0x2dad69(238), _0x519c8c[_0x519c8c[_0x2dad69(505)] = 4] = "NOT_FOUND", _0x519c8c[_0x519c8c[_0x2dad69(727)] = 5] = _0x2dad69(727), _0x519c8c[_0x519c8c[_0x2dad69(705)] = 6] = _0x2dad69(705), _0x519c8c[_0x519c8c[_0x2dad69(487)] = 7] = "INVALID_ARGUMENT", _0x519c8c[_0x519c8c["TOO_MANY_REQUESTS"] = 8] = "TOO_MANY_REQUESTS", _0x519c8c[_0x519c8c["COMPLETION_FINISHED"] = 9] = _0x2dad69(376), _0x519c8c[_0x519c8c["LOGIN_FAILED"] = 10] = _0x2dad69(533), _0x519c8c[_0x519c8c[_0x2dad69(700)] = 11] = _0x2dad69(700), _0x519c8c[_0x519c8c["MOBILE_VERIFY_CODE_NOT_FOUND_OR_EXPIRED"] = 12] = _0x2dad69(552), _0x519c8c[_0x519c8c[_0x2dad69(331)] = 13] = _0x2dad69(331), _0x519c8c[_0x519c8c[_0x2dad69(381)] = 14] = _0x2dad69(381), _0x519c8c[_0x519c8c[_0x2dad69(177)] = 15] = "AUTHORIZE_CODE_ILLEGAL", _0x519c8c[_0x519c8c["LOGIN_TOKEN_PROCESSING_FAILED"] = 16] = _0x2dad69(740), _0x519c8c[_0x519c8c[_0x2dad69(669)] = 100] = _0x2dad69(669), _0x519c8c[_0x519c8c[_0x2dad69(244)] = 101] = _0x2dad69(244), _0x519c8c[_0x519c8c[_0x2dad69(796)] = 201] = _0x2dad69(796), _0x519c8c[_0x519c8c["USER_IS_ANONYMOUS"] = 202] = _0x2dad69(662), _0x519c8c[_0x519c8c["CHANGESET_REVISION_CONFILICT"] = 5001] = _0x2dad69(687), _0x519c8c[_0x519c8c[_0x2dad69(593)] = 6001] = "SNAPSHOT_INVALID_SNAPSHOT", _0x519c8c[_0x519c8c[_0x2dad69(768)] = 6002] = _0x2dad69(768), _0x519c8c[_0x519c8c[_0x2dad69(215)] = 6003] = _0x2dad69(215), _0x519c8c[_0x519c8c[_0x2dad69(385)] = 7001] = "APPLY_REJECT", _0x519c8c[_0x519c8c[_0x2dad69(775)] = 7002] = _0x2dad69(775), _0x519c8c[_0x519c8c[_0x2dad69(540)] = 7003] = "APPLY_REVISION_CONFILICT", _0x519c8c[_0x519c8c[_0x2dad69(598)] = 7004] = _0x2dad69(598), _0x519c8c[_0x519c8c[_0x2dad69(447)] = 7005] = _0x2dad69(447), _0x519c8c[_0x519c8c["CONNECTOR_DATA_TOO_LARGE"] = 8001] = "CONNECTOR_DATA_TOO_LARGE", _0x519c8c[_0x519c8c[_0x2dad69(901)] = 9001] = _0x2dad69(901), _0x519c8c[_0x519c8c[_0x2dad69(173)] = 9002] = "LICENSE_MAX_MEMBERS_PER_UNIT_EXCEEDED", _0x519c8c[_0x519c8c[_0x2dad69(332)] = 9003] = "LICENSE_IMPORT_SIZE_EXCEEDED", _0x519c8c[_0x519c8c[_0x2dad69(419)] = 9004] = "LICENSE_EXPORT_SIZE_EXCEEDED", _0x519c8c[_0x519c8c["LICENSE_DISTRO_REJECTED"] = 9005] = _0x2dad69(361), _0x519c8c[_0x519c8c[_0x2dad69(643)] = 10001] = _0x2dad69(643), _0x519c8c[_0x519c8c[_0x2dad69(143)] = 10002] = _0x2dad69(143), _0x519c8c[_0x519c8c["YUUMI_RATE_OVER_LIMIT"] = 10003] = _0x2dad69(854), _0x519c8c[_0x519c8c[_0x2dad69(302)] = 10004] = _0x2dad69(302), _0x519c8c[_0x519c8c[_0x2dad69(485)] = 10010] = "YUUMI_NO_CUBOID_FOR_QUESTION", _0x519c8c[_0x519c8c[_0x2dad69(691)] = 10011] = "YUUMI_ASYNCIO_CANCELLED", _0x519c8c[_0x519c8c[_0x2dad69(109)] = 10012] = _0x2dad69(109), _0x519c8c[_0x519c8c[_0x2dad69(233)] = 10013] = _0x2dad69(233), _0x519c8c[_0x519c8c[_0x2dad69(728)] = 10014] = "YUUMI_PROMPT_MAX_TOKENS_EXCEEDED", _0x519c8c[_0x519c8c[_0x2dad69(560)] = 10015] = _0x2dad69(560), _0x519c8c[_0x519c8c["YUUMI_CONNECTOR_URL_NOT_FOUND"] = 10016] = _0x2dad69(886), _0x519c8c[_0x519c8c["PY_RUNTIME_SCRIPT_ERROR"] = 11001] = "PY_RUNTIME_SCRIPT_ERROR", _0x519c8c[_0x519c8c[_0x2dad69(860)] = 12001] = _0x2dad69(860), _0x519c8c[_0x519c8c[_0x2dad69(201)] = 12002] = _0x2dad69(201), _0x519c8c[_0x519c8c["INVITE_CODE_REQUIRED"] = 12003] = "INVITE_CODE_REQUIRED", _0x519c8c[_0x519c8c[_0x2dad69(206)] = 12004] = _0x2dad69(206), _0x519c8c[_0x519c8c[_0x2dad69(423)] = 12005] = _0x2dad69(423), _0x519c8c[_0x519c8c["WECHAT_HAS_BEEN_BOUND"] = 13001] = _0x2dad69(541), _0x519c8c[_0x519c8c[_0x2dad69(576)] = 13002] = "MOBILE_HAS_BEEN_BOUND", _0x519c8c[_0x519c8c["EMAIL_HAS_BEEN_BOUND"] = 13003] = _0x2dad69(712), _0x519c8c[_0x519c8c[_0x2dad69(293)] = 14001] = "ENTITLE_CAN_NOT_BUY_LOWER_OTP", _0x519c8c[_0x519c8c[_0x2dad69(536)] = 14002] = _0x2dad69(536), _0x519c8c[_0x519c8c["ENTITLE_DUP_SUBSCRIPTION"] = 14003] = _0x2dad69(545), _0x519c8c[_0x519c8c[_0x2dad69(791)] = 14004] = _0x2dad69(791), _0x519c8c[_0x519c8c[_0x2dad69(551)] = 14101] = _0x2dad69(551), _0x519c8c[_0x519c8c[_0x2dad69(273)] = 14102] = _0x2dad69(273), _0x519c8c[_0x519c8c["ENTITLE_INSUFFICIENT_QUOTA"] = 14103] = "ENTITLE_INSUFFICIENT_QUOTA", _0x519c8c[_0x519c8c[_0x2dad69(222)] = 14301] = _0x2dad69(222), _0x519c8c[_0x519c8c[_0x2dad69(876)] = 15001] = _0x2dad69(876), _0x519c8c[_0x519c8c[_0x2dad69(721)] = 15002] = "REDEMPTION_CODE_INACTIVE", _0x519c8c[_0x519c8c[_0x2dad69(428)] = 15003] = "REDEMPTION_CODE_FULLY_REDEEMED", _0x519c8c[_0x519c8c[_0x2dad69(167)] = 15004] = _0x2dad69(167), _0x519c8c[_0x519c8c[_0x2dad69(801)] = 15005] = _0x2dad69(801), _0x519c8c[_0x519c8c["REDEMPTION_USER_REDEEM_TIMES_EXCEED"] = 15006] = _0x2dad69(835), _0x519c8c[_0x519c8c[_0x2dad69(352)] = 15007] = _0x2dad69(352), _0x519c8c[_0x519c8c["DATA_SOURCE_TOO_LARGE"] = 16001] = _0x2dad69(429), _0x519c8c[_0x519c8c[_0x2dad69(213)] = -1] = _0x2dad69(213), _0x519c8c))(vi || {});
var Q = ((_0x3df6bc) => (_0x3df6bc[_0x3df6bc["UNIVER_UNKNOWN"] = 0] = "UNIVER_UNKNOWN", _0x3df6bc[_0x3df6bc["UNIVER_DOC"] = 1] = _0x2dad69(744), _0x3df6bc[_0x3df6bc[_0x2dad69(370)] = 2] = _0x2dad69(370), _0x3df6bc[_0x3df6bc[_0x2dad69(839)] = 3] = _0x2dad69(839), _0x3df6bc[_0x3df6bc[_0x2dad69(380)] = 4] = "UNIVER_PROJECT", _0x3df6bc[_0x3df6bc[_0x2dad69(213)] = -1] = _0x2dad69(213), _0x3df6bc))(Q || {});
var j = ((_0x54e6b5) => (_0x54e6b5[_0x54e6b5[_0x2dad69(144)] = 0] = _0x2dad69(144), _0x54e6b5[_0x54e6b5[_0x2dad69(282)] = 1] = _0x2dad69(282), _0x54e6b5[_0x54e6b5["JOIN"] = 2] = _0x2dad69(509), _0x54e6b5[_0x54e6b5[_0x2dad69(310)] = 3] = _0x2dad69(310), _0x54e6b5[_0x54e6b5[_0x2dad69(261)] = 4] = "INGEST", _0x54e6b5[_0x54e6b5[_0x2dad69(777)] = 5] = _0x2dad69(777), _0x54e6b5[_0x54e6b5[_0x2dad69(420)] = 6] = _0x2dad69(420), _0x54e6b5[_0x54e6b5[_0x2dad69(213)] = -1] = _0x2dad69(213), _0x54e6b5))(j || {});
var pe = ((_0x431f24) => (_0x431f24[_0x431f24[_0x2dad69(162)] = 0] = _0x2dad69(162), _0x431f24[_0x431f24["OK"] = 1] = "OK", _0x431f24[_0x431f24[_0x2dad69(488)] = 2] = _0x2dad69(488), _0x431f24[_0x431f24[_0x2dad69(270)] = 1001] = _0x2dad69(270), _0x431f24[_0x431f24[_0x2dad69(616)] = 1002] = _0x2dad69(616), _0x431f24[_0x431f24[_0x2dad69(327)] = 1003] = _0x2dad69(327), _0x431f24[_0x431f24[_0x2dad69(718)] = 1004] = _0x2dad69(718), _0x431f24[_0x431f24[_0x2dad69(213)] = -1] = "UNRECOGNIZED", _0x431f24))(pe || {});
var pi = ((_0x10509d) => (_0x10509d[_0x10509d[_0x2dad69(181)] = 0] = "Undefined", _0x10509d[_0x10509d[_0x2dad69(320)] = 1] = _0x2dad69(320), _0x10509d[_0x10509d["HttpExport"] = 2] = _0x2dad69(530), _0x10509d[_0x10509d[_0x2dad69(572)] = 3] = "UnitEmbedded", _0x10509d[_0x10509d[_0x2dad69(377)] = 4] = _0x2dad69(377), _0x10509d[_0x10509d["UserProfileImg"] = 5] = _0x2dad69(305), _0x10509d[_0x10509d[_0x2dad69(826)] = 6] = _0x2dad69(826), _0x10509d[_0x10509d["UNRECOGNIZED"] = -1] = _0x2dad69(213), _0x10509d))(pi || {});
var Cs = _0x2dad69(639);
function Ns(_0x1cb575) {
  var _0x14bac9 = _0x2dad69;
  return JSON[_0x14bac9(878)](_0x1cb575)["length"];
}
var re = ((_0x5aaf38) => (_0x5aaf38[_0x2dad69(295)] = _0x2dad69(295), _0x5aaf38[_0x2dad69(238)] = _0x2dad69(238), _0x5aaf38["CONFLICT"] = _0x2dad69(176), _0x5aaf38[_0x2dad69(597)] = _0x2dad69(597), _0x5aaf38[_0x2dad69(558)] = _0x2dad69(558), _0x5aaf38["SOCKET_FAILED_RETRY"] = _0x2dad69(773), _0x5aaf38["SOCKET_FAILED"] = _0x2dad69(266), _0x5aaf38[_0x2dad69(389)] = _0x2dad69(389), _0x5aaf38))(re || {});
var ve = class {
  constructor() {
    var _0x340fd6 = _0x2dad69;
    D(this, "_event$", new Subject()), D(this, "event$", this["_event$"][_0x340fd6(475)]());
  }
  [_0x2dad69(194)](_0x1ceb94) {
    var _0x5d590b = _0x2dad69;
    this[_0x5d590b(684)]["next"](_0x1ceb94);
  }
};
var Ei = class {
  constructor() {
    var _0x5f4d61 = _0x2dad69;
    D(this, _0x5f4d61(402), new Subject()), D(this, _0x5f4d61(110), this[_0x5f4d61(402)]["asObservable"]());
  }
  [_0x2dad69(411)](_0x39889e) {
    this["_commentUpdate$"]["next"](_0x39889e);
  }
};
var bs = Object[_0x2dad69(498)];
var Ds = (_0x270342, _0xd0e380, _0x1a2d63, _0x32b001) => {
  var _0x1fa0ec = _0x2dad69;
  for (var _0x58352a = _0x32b001 > 1 ? void 0 : _0x32b001 ? bs(_0xd0e380, _0x1a2d63) : _0xd0e380, _0x32806c = _0x270342[_0x1fa0ec(208)] - 1, _0x157a2e; _0x32806c >= 0; _0x32806c--) (_0x157a2e = _0x270342[_0x32806c]) && (_0x58352a = _0x157a2e(_0x58352a) || _0x58352a);
  return _0x58352a;
};
var jt = (_0x3bf44f, _0x2778f7) => (_0x31a31d, _0x43a84e) => _0x2778f7(_0x31a31d, _0x43a84e, _0x3bf44f);
var Pe3 = class extends Ve {
  constructor(_0x39b76c, _0x2a029e) {
    var _0x24a3e6 = _0x2dad69;
    super(), D(this, _0x24a3e6(274), /* @__PURE__ */ new Map()), D(this, _0x24a3e6(762), new Subject()), this[_0x24a3e6(263)] = _0x39b76c, this[_0x24a3e6(767)] = _0x2a029e, this[_0x24a3e6(657)](merge(this["_univerInstanceService"][_0x24a3e6(809)](we["UNIVER_SHEET"])[_0x24a3e6(348)](map((_0x11d4c9) => _0x11d4c9[_0x24a3e6(309)]())), this[_0x24a3e6(263)][_0x24a3e6(809)](we[_0x24a3e6(744)])[_0x24a3e6(348)](map((_0x36ba19) => _0x36ba19[_0x24a3e6(309)]())), this[_0x24a3e6(263)]["getTypeOfUnitDisposed$"](we[_0x24a3e6(839)])[_0x24a3e6(348)](map((_0x4143ba) => _0x4143ba["getUnitId"]())))[_0x24a3e6(461)]((_0x18aa26) => this[_0x24a3e6(224)](_0x18aa26)));
  }
  [_0x2dad69(514)](_0x2d0e28) {
    var _0x2699e9 = _0x2dad69;
    return this[_0x2699e9(274)]["has"](_0x2d0e28) ? of(this["_roomMembers"][_0x2699e9(126)](_0x2d0e28)) : this[_0x2699e9(762)]["pipe"](map((_0x346699) => {
      var _0x98c0ba = _0x2699e9;
      if (_0x346699 === _0x2d0e28) return this[_0x98c0ba(274)][_0x98c0ba(126)](_0x346699);
    }));
  }
  [_0x2dad69(683)](_0xa9b4df) {
    var _0xa08e11 = _0x2dad69;
    this[_0xa08e11(767)]["setCurrentUser"](_0xa9b4df);
  }
  [_0x2dad69(214)]() {
    var _0x549289 = _0x2dad69;
    return this[_0x549289(767)][_0x549289(214)]();
  }
  ["updateMember"](_0x561764, _0x577e34) {
    var _0x10fd7e = _0x2dad69;
    let _0x52629f = this[_0x10fd7e(274)][_0x10fd7e(126)](_0x561764);
    _0x52629f || (_0x52629f = new ys(), this[_0x10fd7e(274)]["set"](_0x561764, _0x52629f), this[_0x10fd7e(762)][_0x10fd7e(836)](_0x561764)), _0x52629f[_0x10fd7e(490)](_0x577e34);
  }
  [_0x2dad69(588)](_0xb376af, _0xa29c91) {
    var _0x17f84b = _0x2dad69;
    const _0xeee5c1 = this["_roomMembers"][_0x17f84b(126)](_0xb376af);
    _0xeee5c1 && _0xeee5c1[_0x17f84b(588)](_0xa29c91);
  }
  [_0x2dad69(474)](_0x5b7b4d) {
    var _0x417696 = _0x2dad69;
    return this[_0x417696(274)][_0x417696(126)](_0x5b7b4d);
  }
  [_0x2dad69(112)](_0x3e8d37, _0x368ce3) {
    var _0x4f71f5 = _0x2dad69;
    const _0x400e40 = this[_0x4f71f5(274)][_0x4f71f5(126)](_0x3e8d37);
    if (_0x400e40) return _0x400e40[_0x4f71f5(112)](_0x368ce3);
  }
  ["_removeRoom"](_0x42f873) {
    var _0x30b83b = _0x2dad69;
    const _0x4e4c55 = this[_0x30b83b(274)][_0x30b83b(126)](_0x42f873);
    _0x4e4c55 && (_0x4e4c55[_0x30b83b(114)](), this[_0x30b83b(274)][_0x30b83b(277)](_0x42f873));
  }
  ["dispose"]() {
    var _0x184c7e = _0x2dad69;
    this["_roomMembers"]["forEach"]((_0x134d58) => _0x134d58[_0x184c7e(114)]()), this[_0x184c7e(274)][_0x184c7e(788)](), this["_roomCreated$"][_0x184c7e(681)]();
  }
};
Pe3 = Ds([jt(0, vr), jt(1, Inject(Rs))], Pe3);
var ys = class extends Ve {
  constructor() {
    var _0x19a14b = _0x2dad69;
    super(...arguments), D(this, "_members", /* @__PURE__ */ new Map()), D(this, _0x19a14b(749), new BehaviorSubject(this["_members"])), D(this, _0x19a14b(670), this[_0x19a14b(749)][_0x19a14b(475)]());
  }
  [_0x2dad69(114)]() {
    var _0x39ae4d = _0x2dad69;
    this[_0x39ae4d(328)]["clear"]();
  }
  [_0x2dad69(490)](_0x31c77e) {
    var _0x2c094a = _0x2dad69;
    this[_0x2c094a(328)]["set"](_0x31c77e["memberID"], _0x31c77e), this["_emitMembers"]();
  }
  [_0x2dad69(588)](_0x120943) {
    var _0x14c125 = _0x2dad69;
    this["_members"][_0x14c125(277)](_0x120943);
  }
  [_0x2dad69(112)](_0x4c7049) {
    var _0x48ac5e = _0x2dad69;
    return this[_0x48ac5e(328)][_0x48ac5e(126)](_0x4c7049);
  }
  [_0x2dad69(111)]() {
    var _0x32a999 = _0x2dad69;
    return Array[_0x32a999(852)](this[_0x32a999(328)][_0x32a999(515)]());
  }
  [_0x2dad69(271)]() {
    var _0xabf28 = _0x2dad69;
    this[_0xabf28(749)]["next"](this[_0xabf28(328)]);
  }
};
var Us = Object[_0x2dad69(498)];
var As = (_0xa57b95, _0x5604f1, _0x4f3622, _0x13a1c7) => {
  var _0x11224b = _0x2dad69;
  for (var _0xf58a1e = _0x13a1c7 > 1 ? void 0 : _0x13a1c7 ? Us(_0x5604f1, _0x4f3622) : _0x5604f1, _0x19c5a7 = _0xa57b95[_0x11224b(208)] - 1, _0x4ab993; _0x19c5a7 >= 0; _0x19c5a7--) (_0x4ab993 = _0xa57b95[_0x19c5a7]) && (_0xf58a1e = _0x4ab993(_0xf58a1e) || _0xf58a1e);
  return _0xf58a1e;
};
var Oe = (_0x1d9f03, _0x1a73f8) => (_0x645b13, _0x3d3b0f) => _0x1a73f8(_0x645b13, _0x3d3b0f, _0x1d9f03);
var me = ((_0x154cee) => (_0x154cee[_0x154cee[_0x2dad69(108)] = 0] = "IDLE", _0x154cee[_0x154cee[_0x2dad69(464)] = 1] = "JOINING", _0x154cee[_0x154cee[_0x2dad69(658)] = 2] = _0x2dad69(658), _0x154cee[_0x154cee[_0x2dad69(365)] = 3] = _0x2dad69(365), _0x154cee))(me || {});
var Vt = { [pe[_0x2dad69(488)]]: _0x2dad69(840), [pe["JOIN_ROOM_FULL"]]: "session.room-full", [pe["JOIN_ROOM_NOT_EXISTS"]]: _0x2dad69(845), [pe["JOIN_ROOM_PERMISSION_DENIED"]]: _0x2dad69(888), [pe["GLOBAL_ROOMS_CNT_EXCEEDS"]]: "session.room-cnt-exceeds" };
var mt = class extends h1 {
  constructor(_0x12dad6, _0x39a3e5, _0x5c1daf, _0x1cb378, _0x5aa04d, _0x10697c, _0x536e1f, _0x529004) {
    var _0x252972 = _0x2dad69;
    super(), D(this, "_sessionStatus$", new BehaviorSubject(0)), D(this, _0x252972(251), this[_0x252972(885)][_0x252972(475)]()), D(this, "_event$", new Subject()), D(this, _0x252972(695), this[_0x252972(684)][_0x252972(475)]()), D(this, _0x252972(422)), D(this, _0x252972(587)), D(this, "_collaborationTimeoutTimer"), D(this, _0x252972(367), false), D(this, _0x252972(252), null), this[_0x252972(772)] = _0x12dad6, this[_0x252972(211)] = _0x5c1daf, this[_0x252972(633)] = _0x1cb378, this["_memberService"] = _0x5aa04d, this[_0x252972(755)] = _0x10697c, this[_0x252972(634)] = _0x536e1f, this[_0x252972(356)] = _0x529004, this[_0x252972(367)] = !!this[_0x252972(356)], _0x39a3e5["pipe"](takeUntil(this["dispose$"]))[_0x252972(461)]((_0x756e1a) => {
      var _0x5ac779 = _0x252972, _0x40cec6;
      typeof _0x756e1a > "u" || (this[_0x5ac779(422)] = _0x756e1a, _0x756e1a ? (this["_joinRoom"](_0x756e1a), this["_socketMessageSubscription"] = _0x756e1a[_0x5ac779(760)][_0x5ac779(461)]((_0x11ba63) => {
        _0x11ba63["routeKey"] === this["_unitID"] && this["_onCombEvent"](_0x11ba63);
      })) : (this[_0x5ac779(577)](), this["_sessionStatus$"]["next"](2), (_0x40cec6 = this[_0x5ac779(587)]) == null || _0x40cec6[_0x5ac779(311)](), this[_0x5ac779(587)] = null));
    });
  }
  get [_0x2dad69(841)]() {
    var _0x52d5a9 = _0x2dad69;
    return this[_0x52d5a9(885)]["getValue"]();
  }
  [_0x2dad69(532)]() {
    var _0x57b0b5 = _0x2dad69, _0x55fe13, _0xfac2ca;
    return (_0xfac2ca = (_0x55fe13 = this[_0x57b0b5(422)]) == null ? void 0 : _0x55fe13[_0x57b0b5(118)]) != null ? _0xfac2ca : null;
  }
  ["dispose"]() {
    var _0x283b8b = _0x2dad69;
    super["dispose"](), this["dispose$"]["next"](), this[_0x283b8b(730)][_0x283b8b(681)]();
  }
  [_0x2dad69(453)]() {
    var _0x47c35e = _0x2dad69, _0x10c66c, _0x45bdef;
    this["_throwTelemetryCollaborationNewChangeset"](), (_0x10c66c = this["_socket"]) == null || _0x10c66c[_0x47c35e(629)]({ "cmd": j[_0x47c35e(310)], "data": { "roomID": this[_0x47c35e(772)] } }), (_0x45bdef = this[_0x47c35e(422)]) == null || _0x45bdef["close"](), this[_0x47c35e(684)]["complete"](), this["_sessionStatus$"][_0x47c35e(681)](), this["dispose"]();
  }
  ["_onCombEvent"](_0x26767c) {
    var _0x49d6ea = _0x2dad69;
    _0x26767c[_0x49d6ea(315)] === j[_0x49d6ea(509)] ? this["_onJoinRoomEvent"](_0x26767c) : _0x26767c[_0x49d6ea(315)] === j[_0x49d6ea(420)] && this[_0x49d6ea(278)](_0x26767c);
  }
  ["_joinRoom"](_0x56e178) {
    var _0x1c6d9f = _0x2dad69;
    this[_0x1c6d9f(885)]["next"](1), _0x56e178[_0x1c6d9f(629)]({ "cmd": j[_0x1c6d9f(509)], "routeKey": this[_0x1c6d9f(772)], "routeType": "", "data": { "rooms": [{ "roomID": this[_0x1c6d9f(772)] }] } });
  }
  [_0x2dad69(113)](_0xc046b1) {
    var _0x5abf8d = _0x2dad69, _0x526938;
    if (_0xc046b1["code"] in Vt) {
      this[_0x5abf8d(634)][_0x5abf8d(194)]({ "id": re[_0x5abf8d(558)], "data": Vt[_0xc046b1[_0x5abf8d(607)]] }), this[_0x5abf8d(885)][_0x5abf8d(836)](2);
      return;
    }
    this[_0x5abf8d(885)][_0x5abf8d(836)](3);
    const _0x175fac = (_0x526938 = _0xc046b1["data"][_0x5abf8d(405)][this["_unitID"]]) == null ? void 0 : _0x526938[_0x5abf8d(495)];
    _0x175fac && _0x175fac["forEach"]((_0x5e8515) => this[_0x5abf8d(699)][_0x5abf8d(490)](this[_0x5abf8d(772)], _0x5e8515));
  }
  [_0x2dad69(278)](_0x4c2197) {
    var _0x34bb91 = _0x2dad69;
    try {
      const _0x53a547 = _0x4c2197["data"];
      switch (_0x53a547["eventID"]) {
        case Rm["USERS_ENTER"]:
          this[_0x34bb91(694)](_0x53a547), this["_event$"][_0x34bb91(836)](_0x53a547);
          break;
        case Rm["USERS_LEAVE"]:
          this[_0x34bb91(544)](_0x53a547), this[_0x34bb91(684)][_0x34bb91(836)](_0x53a547);
          break;
        case Rm["CHANGESET_ACK"]:
        case Rm[_0x34bb91(410)]:
          this["_stopTelemetryCollaborationNewChangeset"](), this[_0x34bb91(686)](), this[_0x34bb91(684)]["next"](_0x53a547);
          break;
        case Rm[_0x34bb91(161)]:
          this[_0x34bb91(211)]["error"](_0x34bb91(489) + JSON["stringify"](_0x53a547)), this[_0x34bb91(684)][_0x34bb91(836)](_0x53a547);
          break;
        case Rm[_0x34bb91(739)]:
          this[_0x34bb91(755)]["onCommentUpdate"](_0x53a547["data"]), this[_0x34bb91(684)]["next"](_0x53a547);
          break;
        default:
          this[_0x34bb91(684)][_0x34bb91(836)](_0x53a547);
      }
    } catch (_0x409a2) {
      this[_0x34bb91(211)][_0x34bb91(355)](_0x409a2, _0x4c2197);
    }
  }
  [_0x2dad69(694)](_0x2f7fe4) {
    var _0x58d72d = _0x2dad69;
    this[_0x58d72d(699)][_0x58d72d(490)](this[_0x58d72d(772)], _0x2f7fe4[_0x58d72d(163)]);
  }
  [_0x2dad69(544)](_0x5aa48f) {
    var _0x459680 = _0x2dad69;
    this["_memberService"]["removeMember"](this[_0x459680(772)], _0x5aa48f[_0x459680(163)][_0x459680(118)]);
  }
  async [_0x2dad69(629)](_0x25a86f, _0x582f70) {
    var _0x4a6e98 = _0x2dad69;
    if (this[_0x4a6e98(841)] !== 3 || !this[_0x4a6e98(422)]) throw new Error(_0x4a6e98(789));
    try {
      _0x25a86f[_0x4a6e98(589)] === Rm[_0x4a6e98(631)] && (this[_0x4a6e98(679)](), this[_0x4a6e98(200)](_0x25a86f)), this[_0x4a6e98(422)][_0x4a6e98(629)]({ "cmd": j[_0x4a6e98(261)], "routeKey": _0x582f70, "routeType": "", "data": _0x25a86f });
    } catch (_0x2c9d2d) {
      this[_0x4a6e98(211)][_0x4a6e98(355)](_0x2c9d2d);
    }
  }
  [_0x2dad69(679)]() {
    var _0x782d31 = _0x2dad69, _0x34dd72;
    this[_0x782d31(414)] = setTimeout(() => {
      var _0xd0910a = _0x782d31;
      this[_0xd0910a(414)] = null, this["_collaborationUIEventService"][_0xd0910a(194)]({ "id": re[_0xd0910a(389)] });
    }, (_0x34dd72 = this[_0x782d31(633)][_0x782d31(599)](di)) != null ? _0x34dd72 : fi);
  }
  ["_clearCollaborationTimeoutTimer"]() {
    var _0x33c5b4 = _0x2dad69;
    this[_0x33c5b4(414)] && (clearTimeout(this[_0x33c5b4(414)]), this[_0x33c5b4(414)] = null);
  }
  ["_startTelemetryCollaborationNewChangeset"](_0x5bcb56) {
    var _0x162101 = _0x2dad69;
    if (!this[_0x162101(367)]) return;
    const { data: _0x1389bf } = _0x5bcb56, { unitID: _0xa780aa, changeset: _0xbc5b0d } = _0x1389bf, { mutations: _0x3271d9, type: _0x4baa01 } = _0xbc5b0d;
    this[_0x162101(252)] = { "unitId": _0xa780aa, "type": _0x4baa01, "startTime": performance[_0x162101(319)](), "stopTime": 0, "duration": 0, "size": Ns(_0x3271d9) };
  }
  [_0x2dad69(371)]() {
    var _0x147111 = _0x2dad69;
    if (this[_0x147111(367)]) {
      if (!this[_0x147111(252)]) {
        this["_logService"][_0x147111(355)](_0x147111(571), "telemetry info is not initialized");
        return;
      }
      this[_0x147111(252)][_0x147111(621)] = performance["now"](), this["_telemetryInfo"][_0x147111(672)] = this[_0x147111(252)][_0x147111(621)] - this[_0x147111(252)]["startTime"], this["_telemetryService"][_0x147111(220)](Cs, this[_0x147111(252)]), this["_telemetryInfo"] = null;
    }
  }
  [_0x2dad69(577)]() {
    var _0x23c069 = _0x2dad69;
    this[_0x23c069(252)] = null;
  }
};
mt = As([Oe(2, yt), Oe(3, ic), Oe(4, Inject(Pe3)), Oe(5, Inject(Ei)), Oe(6, Inject(ve)), Oe(7, Optional(t))], mt);
var J2 = createIdentifier(_0x2dad69(383));
function Nr2(_0x4e3c4c) {
  var _0x3e2fb2 = _0x2dad69;
  return _0x3e2fb2(507) + _0x4e3c4c;
}
var Ps = Object[_0x2dad69(498)];
var ws2 = (_0x2ab660, _0x54d150, _0x32e2eb, _0x4830cd) => {
  var _0x2f2b32 = _0x2dad69;
  for (var _0x1dc56a = _0x4830cd > 1 ? void 0 : _0x4830cd ? Ps(_0x54d150, _0x32e2eb) : _0x54d150, _0x3fb7f0 = _0x2ab660[_0x2f2b32(208)] - 1, _0x230702; _0x3fb7f0 >= 0; _0x3fb7f0--) (_0x230702 = _0x2ab660[_0x3fb7f0]) && (_0x1dc56a = _0x230702(_0x1dc56a) || _0x1dc56a);
  return _0x1dc56a;
};
var ut = (_0x3435da, _0x936eb5) => (_0x44c2c1, _0x58e62b) => _0x936eb5(_0x44c2c1, _0x58e62b, _0x3435da);
function Ms2(_0x18fc86) {
  var _0x30a8b4 = _0x2dad69;
  const { unitID: _0xa5d1c, mutations: _0x631bfb } = _0x18fc86;
  return { "unitId": _0xa5d1c, "subUnitId": _0x631bfb[_0x30a8b4(208)] > 0 ? _0x631bfb[0][_0x30a8b4(575)][_0x30a8b4(563)] : null };
}
var it = class {
  constructor(_0x46e78f, _0x1b440a, _0x10bd3e) {
    var _0x28cde3 = _0x2dad69;
    this[_0x28cde3(307)] = _0x46e78f, this[_0x28cde3(298)] = _0x1b440a, this[_0x28cde3(671)] = _0x10bd3e;
  }
  [_0x2dad69(313)](_0x5c8478) {
    var _0x204ce1 = _0x2dad69, _0x583c18, _0x3a51ab, _0x562c4b, _0xc76272;
    const _0x392d4c = this[_0x204ce1(307)][_0x204ce1(126)](z), { unitId: _0x3d8e39, subUnitId: _0x5b429c } = Ms2(_0x5c8478), _0x41603b = _0x392d4c == null ? void 0 : _0x392d4c[_0x204ce1(430)](_0x3d8e39)[_0x204ce1(531)](), _0x24534a = (_0x3a51ab = (_0x583c18 = this[_0x204ce1(671)][_0x204ce1(867)](_0x3d8e39)) == null ? void 0 : _0x583c18["getActiveSheet"]()) == null ? void 0 : _0x3a51ab["getSheetId"]();
    if (_0x41603b[_0x204ce1(208)] === 0 || !_0x3d8e39 || !_0x5b429c) return;
    const _0x591695 = [{ "id": ie["id"], "params": { "unitId": _0x3d8e39, "subUnitId": _0x24534a, "selections": J[_0x204ce1(226)](_0x41603b) } }], _0x13b2b7 = this["_transformService"][_0x204ce1(543)](_0x5c8478, _0x591695);
    if (!hd2(_0x13b2b7)) throw _0x13b2b7["error"];
    const _0x7b7720 = (_0xc76272 = (_0x562c4b = _0x13b2b7[_0x204ce1(722)][0]) == null ? void 0 : _0x562c4b[_0x204ce1(575)]) == null ? void 0 : _0xc76272[_0x204ce1(336)];
    if (Array[_0x204ce1(665)](_0x7b7720) && _0x7b7720["length"]) {
      if (_0x7b7720["length"] === _0x591695[0][_0x204ce1(575)][_0x204ce1(336)][_0x204ce1(208)] && _0x7b7720["every"]((_0x247461, _0x57ade9) => En[_0x204ce1(764)](_0x247461[_0x204ce1(741)], _0x591695[0][_0x204ce1(575)]["selections"][_0x57ade9]["range"]))) return;
      this[_0x204ce1(307)]["get"](Ls)[_0x204ce1(521)](ie["id"], { "unitId": _0x3d8e39, "subUnitId": _0x24534a, "selections": _0x7b7720 });
    }
  }
};
it = ws2([ut(0, Inject(Injector)), ut(1, Pe2), ut(2, vr)], it);
var _t = createIdentifier("univer-pro.collaboration-client.single-active-unit-service");
var mi = ((_0x4956ea) => (_0x4956ea[_0x4956ea[_0x2dad69(811)] = 0] = _0x2dad69(811), _0x4956ea[_0x4956ea[_0x2dad69(159)] = 1] = _0x2dad69(159), _0x4956ea))(mi || {});
var K = _0x2dad69(899);
var Ls2 = {};
var xs = /* @__PURE__ */ new Set([hn["id"]]);
function Gt(_0x31de79, _0x3f10d2, _0x37f121, _0xf21685, _0x26dc8c) {
  var _0x58f18b = _0x2dad69, _0x5cb299, _0x52600f, _0x465665, _0x40724c;
  const _0x752695 = [];
  for (const _0x2f293b of _0x31de79) if (xs[_0x58f18b(412)](_0x2f293b["id"])) {
    if (_0x752695["length"] > 0) break;
    _0x752695[_0x58f18b(249)](_0x2f293b);
    break;
  } else _0x752695["push"](_0x2f293b);
  const _0x5977f8 = (_0x52600f = (_0x5cb299 = _0x26dc8c["getCurrentUser"]()) == null ? void 0 : _0x5cb299[_0x58f18b(258)]) != null ? _0x52600f : _0x58f18b(569), _0x4c16d4 = (_0x40724c = (_0x465665 = _0x26dc8c[_0x58f18b(214)]()) == null ? void 0 : _0x465665[_0x58f18b(118)]) != null ? _0x40724c : _0x58f18b(569);
  return { "changeset": { "unitID": _0x3f10d2, "type": Ud(_0x37f121[_0x58f18b(838)](_0x3f10d2)), "baseRev": _0xf21685[_0x58f18b(513)](_0x3f10d2), "revision": 0, "userID": _0x5977f8, "memberID": _0x4c16d4, "mutations": _0x752695 }, "pendingMutations": _0x31de79["slice"](_0x752695[_0x58f18b(208)]) };
}
function ks(_0x3d48e0, _0x2ea004, _0x147868, _0x2a0761, _0x453568) {
  var _0x388aad = _0x2dad69, _0x4df13b, _0x339b2, _0x281310, _0x51d510;
  const _0x14e0c4 = [_0x3d48e0["reduce"]((_0x4f2d92, _0x406e2b) => {
    var _0x3c786c = _0x35c2, _0x3de6f7;
    const { id: _0x314058 } = _0x4f2d92, { id: _0xc000fe, type: _0x53ce59 } = _0x406e2b, _0x1788d1 = (_0x3de6f7 = _0x4f2d92[_0x3c786c(575)]) != null ? _0x3de6f7 : { "actions": null }, _0xf9c072 = _0x406e2b["params"];
    if (_0x314058 && _0x314058 !== _0xc000fe) throw new Error(_0x3c786c(268) + _0x314058 + _0x3c786c(820) + _0xc000fe + ".");
    return { ..._0x4f2d92, "id": _0xc000fe, "type": _0x53ce59, "params": { "unitId": _0xf9c072[_0x3c786c(814)], "textRanges": _0xf9c072[_0x3c786c(418)], "actions": Qt[_0x3c786c(466)](_0x1788d1["actions"], _0xf9c072[_0x3c786c(393)]) } };
  }, {})], _0x13ceaf = (_0x339b2 = (_0x4df13b = _0x453568["getCurrentUser"]()) == null ? void 0 : _0x4df13b[_0x388aad(258)]) != null ? _0x339b2 : _0x388aad(569), _0x581015 = (_0x51d510 = (_0x281310 = _0x453568[_0x388aad(214)]()) == null ? void 0 : _0x281310[_0x388aad(118)]) != null ? _0x51d510 : _0x388aad(569);
  return { "changeset": { "unitID": _0x2ea004, "type": Ud(_0x147868[_0x388aad(838)](_0x2ea004)), "baseRev": _0x2a0761["getCurrentRevOfUnit"](_0x2ea004), "revision": 0, "userID": _0x13ceaf, "memberID": _0x581015, "mutations": _0x14e0c4 }, "pendingMutations": [] };
}
function Ii2(_0x1a5376, _0x1b8214) {
  var _0xa0849e = _0x2dad69;
  const _0x1cc0f7 = new ReplaySubject(1);
  return setTimeout(() => _0x1cc0f7["next"](_0x1b8214), _0x1a5376), _0x1cc0f7[_0xa0849e(475)]()[_0xa0849e(348)](take(1));
}
var $s = { "id": hd["id"], "type": Ms["MUTATION"], "params": {} };
var Hs = Object[_0x2dad69(498)];
var Se = (_0x386182, _0x12558f, _0x2ffb62, _0x1a2df7) => {
  var _0x266599 = _0x2dad69;
  for (var _0x4f1e90 = _0x1a2df7 > 1 ? void 0 : _0x1a2df7 ? Hs(_0x12558f, _0x2ffb62) : _0x12558f, _0x548542 = _0x386182[_0x266599(208)] - 1, _0x164117; _0x548542 >= 0; _0x548542--) (_0x164117 = _0x386182[_0x548542]) && (_0x4f1e90 = _0x164117(_0x4f1e90) || _0x4f1e90);
  return _0x4f1e90;
};
var w = (_0x3688f1, _0x3994c0) => (_0x1dc66f, _0x5f011c) => _0x3994c0(_0x1dc66f, _0x5f011c, _0x3688f1);
var Si = ((_0x5de1ca) => (_0x5de1ca["NOT_COLLAB"] = _0x2dad69(830), _0x5de1ca[_0x2dad69(525)] = _0x2dad69(117), _0x5de1ca[_0x2dad69(595)] = _0x2dad69(794), _0x5de1ca[_0x2dad69(145)] = _0x2dad69(232), _0x5de1ca[_0x2dad69(511)] = _0x2dad69(421), _0x5de1ca[_0x2dad69(554)] = "fetch_missing", _0x5de1ca[_0x2dad69(176)] = _0x2dad69(828), _0x5de1ca["OFFLINE"] = _0x2dad69(769), _0x5de1ca))(Si || {});
var gi = 6e4;
var ge = class {
  constructor(_0x4757f2, _0x278987, _0x3ff77c, _0x2bab2b, _0x2d977f, _0x5c5451, _0x243962, _0xf257e3, _0x32eb6a) {
    var _0x2fa2cb = _0x2dad69;
    D(this, _0x2fa2cb(808), null), D(this, "_pendingMutations", []), this[_0x2fa2cb(557)] = _0x4757f2, this[_0x2fa2cb(151)] = _0x278987, this[_0x2fa2cb(782)] = _0x2d977f, this["_commandService"] = _0x5c5451, this["_undoRedoService"] = _0x243962, this["_revisionService"] = _0xf257e3, this[_0x2fa2cb(190)] = _0x32eb6a, this[_0x2fa2cb(808)] = _0x3ff77c, this[_0x2fa2cb(391)] = _0x2bab2b;
  }
  [_0x2dad69(171)](_0x5c889a) {
    var _0x31ac4f = _0x2dad69;
    const _0x130d2f = this[_0x31ac4f(652)]["getCurrentRevOfUnit"](this["unitID"]);
    return _0x5c889a[_0x31ac4f(892)] > _0x130d2f + 1 ? (this[_0x31ac4f(782)][_0x31ac4f(770)]({ "from": _0x130d2f, "to": _0x5c889a["revision"] - 1 }), true) : false;
  }
  [_0x2dad69(199)](_0x121122) {
    var _0x5d0e85 = _0x2dad69;
    this[_0x5d0e85(647)][_0x5d0e85(617)](this[_0x5d0e85(557)], _0x121122);
  }
  [_0x2dad69(660)](_0x4ed918) {
    var _0xd02427 = _0x2dad69, _0x32fbba, _0x45de71;
    (_0x45de71 = (_0x32fbba = this["_handler"])[_0xd02427(318)]) == null || _0x45de71[_0xd02427(678)](_0x32fbba, _0x4ed918);
  }
  ["_transformIMECache"](_0x12d58e) {
    var _0x579861 = _0x2dad69, _0x3757f6, _0x188d84;
    return (_0x188d84 = (_0x3757f6 = this[_0x579861(782)])["onTransformIME"]) == null ? void 0 : _0x188d84["call"](_0x3757f6, _0x12d58e);
  }
  [_0x2dad69(131)](_0xd3d047) {
    var _0x45a8b6 = _0x2dad69, _0x47c5de, _0x8d1e02;
    return (_0x8d1e02 = (_0x47c5de = this["_handler"])["onTransformState"]) == null ? void 0 : _0x8d1e02[_0x45a8b6(678)](_0x47c5de, _0xd3d047);
  }
  [_0x2dad69(438)](_0x1d5415) {
    var _0x34c8fc = _0x2dad69, _0x20b9f3, _0x305055, _0x3f840b;
    return (_0x3f840b = (_0x305055 = (_0x20b9f3 = this[_0x34c8fc(782)])[_0x34c8fc(329)]) == null ? void 0 : _0x305055[_0x34c8fc(678)](_0x20b9f3, _0x1d5415)) != null ? _0x3f840b : _0x1d5415;
  }
  [_0x2dad69(709)](_0x52ba1d) {
    var _0x54d7d2 = _0x2dad69, _0xe0e797, _0x5f109a, _0x220b20;
    return (_0x220b20 = (_0x5f109a = (_0xe0e797 = this[_0x54d7d2(782)])["onTransformRemoteChangesetByStateCache"]) == null ? void 0 : _0x5f109a[_0x54d7d2(678)](_0xe0e797, _0x52ba1d)) != null ? _0x220b20 : _0x52ba1d;
  }
  [_0x2dad69(404)](_0x2600f4) {
    var _0x5f0f6f = _0x2dad69, _0x3f8a2f, _0x180745;
    if (this[_0x5f0f6f(151)] === Q[_0x5f0f6f(744)]) {
      const { unitID: _0x2eaa9b, mutations: _0x52640e, memberID: _0x5eb2c9 } = _0x2600f4, _0x3074ac = _0x52640e[_0x5f0f6f(208)] > 0 ? _0x52640e[0][_0x5f0f6f(575)][_0x5f0f6f(418)] : [];
      Array[_0x5f0f6f(665)](_0x3074ac) && _0x3074ac["length"] > 0 && ((_0x180745 = (_0x3f8a2f = this[_0x5f0f6f(782)])[_0x5f0f6f(417)]) == null || _0x180745["call"](_0x3f8a2f, { "unitID": _0x2eaa9b, "memberID": _0x5eb2c9, "textRanges": _0x3074ac }));
    }
  }
  ["_updateLocalCache"]() {
    var _0xbc6d62 = _0x2dad69, _0x3cc4a9;
    (_0x3cc4a9 = this["_localCacheService"]) == null || _0x3cc4a9[_0xbc6d62(269)](this[_0xbc6d62(557)], this[_0xbc6d62(151)], this["_awaitingChangeset"], this[_0xbc6d62(391)]);
  }
  [_0x2dad69(585)]() {
    var _0x411014 = _0x2dad69;
    return this["_revisionService"][_0x411014(513)](this[_0x411014(557)]);
  }
  [_0x2dad69(668)]() {
    var _0x5dda65 = _0x2dad69;
    this[_0x5dda65(652)][_0x5dda65(745)](this[_0x5dda65(557)]);
  }
  [_0x2dad69(776)](_0x5eab3b) {
    var _0xd0cce7 = _0x2dad69, _0x3a0644;
    let _0x390da = this["_transformRemoteChangesetByIMECache"](_0x5eab3b);
    _0x390da = this["_transformRemoteChangesetByStateCache"](_0x390da);
    const _0x5d8658 = fo(_0x390da[_0xd0cce7(825)], this[_0xd0cce7(893)], { "fromCollab": true });
    if (!_0x5d8658[_0xd0cce7(254)]) throw _0x5d8658[_0xd0cce7(355)] instanceof Error ? _0x5d8658[_0xd0cce7(355)] : new Error((_0x3a0644 = _0x5d8658["error"]) != null ? _0x3a0644 : "[CollaborationState]: apply error!");
    this[_0xd0cce7(247)](_0x390da), this["_transformStateCache"](_0x390da), this[_0xd0cce7(199)](_0x5eab3b), this["_transformSelections"](_0x390da), this[_0xd0cce7(404)](_0x390da), this["_incrementRevisionNumber"]();
  }
};
var be = class extends ge {
  constructor(_0x58b0c7, _0x42e21f, _0x147bb1, _0x2b29d4, _0x20fed2, _0x1f83da, _0xcae80, _0x287b99, _0x2c76da, _0x168cb6) {
    var _0x2d7ec8 = _0x2dad69;
    super(_0x58b0c7, _0x42e21f, null, [], _0x147bb1, _0xcae80, _0x1f83da, _0x2b29d4, _0x168cb6), D(this, _0x2d7ec8(136), "synced"), this[_0x2d7ec8(307)] = _0x20fed2, this[_0x2d7ec8(211)] = _0x287b99, this[_0x2d7ec8(298)] = _0x2c76da, this[_0x2d7ec8(445)] = _0x168cb6;
  }
  [_0x2dad69(583)](_0x2e6e69) {
    var _0x5f3d06 = _0x2dad69;
    const _0x8a1568 = this[_0x5f3d06(307)][_0x5f3d06(792)](ae, this[_0x5f3d06(557)], this[_0x5f3d06(151)], [_0x2e6e69], this[_0x5f3d06(782)]);
    return _0x8a1568["_schedule"](), _0x8a1568[_0x5f3d06(272)](), _0x8a1568;
  }
  ["onRemoteChangeset"](_0x203895) {
    var _0x3ed531 = _0x2dad69;
    if (this["_checkMissing"](_0x203895)) return this[_0x3ed531(307)][_0x3ed531(792)](ee, this[_0x3ed531(557)], this[_0x3ed531(151)], null, [], null, [_0x203895], this[_0x3ed531(782)]);
    try {
      const _0x5a6a6c = this["_transformService"]["transformMutationsWithChangeset"](_0x203895, [$s]);
      if (hd2(_0x5a6a6c)) {
        const { c1Prime: _0x2a5108 } = _0x5a6a6c;
        return this[_0x3ed531(776)](_0x2a5108), this;
      }
      throw _0x5a6a6c[_0x3ed531(355)];
    } catch (_0x104853) {
      return this["_logService"]["error"](_0x104853), this[_0x3ed531(504)](false);
    }
  }
  [_0x2dad69(504)](_0x2fad07) {
    var _0x50a122 = _0x2dad69;
    return this[_0x50a122(307)][_0x50a122(792)](ue, this["unitID"], this[_0x50a122(151)], null, [], this[_0x50a122(782)], _0x2fad07);
  }
  ["onRemoteAck"]() {
    var _0x4e1f3f = _0x2dad69;
    throw new Error(_0x4e1f3f(308));
  }
  [_0x2dad69(506)]() {
    throw new Error("[SyncedState]: received rejection.");
  }
  ["onRemoteRetry"]() {
    return this;
  }
  [_0x2dad69(636)]() {
    var _0x31208a = _0x2dad69;
    return this[_0x31208a(307)][_0x31208a(792)](de2, this[_0x31208a(557)], this[_0x31208a(151)], null, [], this["_handler"]);
  }
  [_0x2dad69(265)]() {
    return this;
  }
  [_0x2dad69(873)]() {
    throw new Error("[SyncedState]: invalid calling to `resend`.");
  }
  [_0x2dad69(424)]() {
    var _0x3f3387 = _0x2dad69;
    const _0xda8dc7 = this["_revisionService"]["getCurrentRevOfUnit"](this[_0x3f3387(557)]);
    return this[_0x3f3387(782)][_0x3f3387(770)]({ "from": _0xda8dc7, "to": 0 }), this[_0x3f3387(307)][_0x3f3387(792)](ee, this[_0x3f3387(557)], this["type"], null, [], null, [], this[_0x3f3387(782)]);
  }
};
be = Se([w(3, Inject(Jt)), w(4, Inject(Injector)), w(5, Qo), w(6, Ls), w(7, yt), w(8, Pe2), w(9, Optional(J2))], be);
var ae = class extends ge {
  constructor(_0x47e601, _0x5aabea, _0x20c22a, _0x4a9e90, _0x251f18, _0xa0d3f0, _0x5f1550, _0x1a884f, _0x327c40, _0x298213, _0x58bfcd, _0x53cdd9, _0x4d61a9, _0x4a9593) {
    var _0x3cbe1b = _0x2dad69;
    super(_0x47e601, _0x5aabea, null, _0x20c22a, _0x4a9e90, _0x327c40, _0x4d61a9, _0xa0d3f0, _0x4a9593), D(this, _0x3cbe1b(136), _0x3cbe1b(794)), D(this, _0x3cbe1b(875), null), D(this, _0x3cbe1b(235), null), this[_0x3cbe1b(307)] = _0x251f18, this[_0x3cbe1b(699)] = _0x5f1550, this["_logService"] = _0x1a884f, this["_configService"] = _0x298213, this[_0x3cbe1b(298)] = _0x58bfcd, this["_univerInstanceService"] = _0x53cdd9;
  }
  [_0x2dad69(583)](_0x55356b) {
    var _0x38a2f5 = _0x2dad69;
    return this[_0x38a2f5(391)][_0x38a2f5(249)](_0x55356b), this["_updateLocalCache"](), this;
  }
  [_0x2dad69(799)](_0x36e887) {
    var _0xef6f27 = _0x2dad69;
    if (this[_0xef6f27(171)](_0x36e887)) return this["_clearScheduledTask"](), this[_0xef6f27(307)][_0xef6f27(792)](ee, this[_0xef6f27(557)], this["type"], null, this[_0xef6f27(391)], null, [_0x36e887], this[_0xef6f27(782)]);
    try {
      const _0x382347 = this["_transformService"][_0xef6f27(543)](_0x36e887, this[_0xef6f27(391)]);
      if (hd2(_0x382347)) {
        const { c1Prime: _0x59e77c, m2Prime: _0x4092b1 } = _0x382347;
        this[_0xef6f27(776)](_0x59e77c);
        const _0x101419 = this["_injector"][_0xef6f27(792)](ae, this[_0xef6f27(557)], this[_0xef6f27(151)], _0x4092b1, this[_0xef6f27(782)]);
        this["_clearScheduledTask"]();
        const _0x46d7b2 = (/* @__PURE__ */ new Date())["getTime"](), _0x5c33e1 = this[_0xef6f27(875)] ? Math[_0xef6f27(149)](this[_0xef6f27(875)] - _0x46d7b2, 0) : this[_0xef6f27(239)]();
        return _0x101419[_0xef6f27(178)](_0x5c33e1), _0x101419;
      }
      throw _0x382347[_0xef6f27(355)];
    } catch (_0x39ab13) {
      return this["_logService"][_0xef6f27(355)](_0x39ab13), this[_0xef6f27(504)](false);
    }
  }
  [_0x2dad69(594)]() {
    var _0x2653e9 = _0x2dad69;
    throw new Error(_0x2653e9(846));
  }
  [_0x2dad69(506)]() {
    throw new Error("[PendingState]: received rejection.");
  }
  [_0x2dad69(900)]() {
    return this;
  }
  [_0x2dad69(636)]() {
    var _0x73c8ce = _0x2dad69;
    return this["_clearScheduledTask"](), this[_0x73c8ce(307)][_0x73c8ce(792)](de2, this["unitID"], this[_0x73c8ce(151)], null, this[_0x73c8ce(391)], this[_0x73c8ce(782)]);
  }
  [_0x2dad69(265)]() {
    return this;
  }
  [_0x2dad69(178)](_0x9ec2cd) {
    var _0x52a8e7 = _0x2dad69;
    const _0x4852c8 = _0x9ec2cd != null ? _0x9ec2cd : this[_0x52a8e7(239)]();
    this[_0x52a8e7(875)] = (/* @__PURE__ */ new Date())[_0x52a8e7(156)]() + _0x4852c8, this[_0x52a8e7(235)] = setTimeout(() => {
      var _0x397b60 = _0x52a8e7;
      this[_0x397b60(872)]();
      let _0x1ae8f6 = null;
      switch (this[_0x397b60(151)]) {
        case Q[_0x397b60(370)]: {
          _0x1ae8f6 = Gt(this[_0x397b60(391)], this["unitID"], this[_0x397b60(263)], this["_revisionService"], this[_0x397b60(699)]);
          break;
        }
        case Q[_0x397b60(744)]: {
          this[_0x397b60(391)][_0x397b60(155)]((_0x2b558b) => _0x2b558b["id"] === M["id"]) ? _0x1ae8f6 = ks(this[_0x397b60(391)], this[_0x397b60(557)], this[_0x397b60(263)], this[_0x397b60(652)], this[_0x397b60(699)]) : _0x1ae8f6 = Gt(this[_0x397b60(391)], this[_0x397b60(557)], this[_0x397b60(263)], this[_0x397b60(652)], this[_0x397b60(699)]);
          break;
        }
        default:
          throw new Error(_0x397b60(129) + this["type"] + _0x397b60(120));
      }
      const { changeset: _0x4530b1, pendingMutations: _0x1303be } = _0x1ae8f6;
      this[_0x397b60(782)]["onSendChangeset"](_0x4530b1);
      const _0x568a6c = _0x1303be[_0x397b60(208)] ? this["_injector"][_0x397b60(792)](oe, this["unitID"], this[_0x397b60(151)], _0x4530b1, _0x1303be, this[_0x397b60(782)], void 0) : this[_0x397b60(307)][_0x397b60(792)](le, this[_0x397b60(557)], this[_0x397b60(151)], _0x4530b1, this["_handler"]);
      _0x568a6c[_0x397b60(272)](), this["_handler"]["onStateChange"](this, _0x568a6c);
    }, _0x4852c8);
  }
  [_0x2dad69(239)]() {
    var _0x47e7fc = _0x2dad69, _0x30c93f;
    const _0x5f3425 = this[_0x47e7fc(633)][_0x47e7fc(599)](K);
    return (_0x30c93f = _0x5f3425 == null ? void 0 : _0x5f3425[_0x47e7fc(567)]) != null ? _0x30c93f : ps;
  }
  [_0x2dad69(873)]() {
    var _0x340c53 = _0x2dad69;
    throw new Error(_0x340c53(748));
  }
  [_0x2dad69(872)]() {
    var _0x4fb90c = _0x2dad69;
    this[_0x4fb90c(235)] != null && (clearTimeout(this[_0x4fb90c(235)]), this[_0x4fb90c(235)] = null);
  }
  [_0x2dad69(504)](_0x130195) {
    var _0x21b767 = _0x2dad69;
    return this[_0x21b767(872)](), this[_0x21b767(307)][_0x21b767(792)](ue, this[_0x21b767(557)], this[_0x21b767(151)], null, this[_0x21b767(391)], this[_0x21b767(782)], _0x130195);
  }
};
ae = Se([w(4, Inject(Injector)), w(5, Inject(Jt)), w(6, Inject(Pe3)), w(7, yt), w(8, Ls), w(9, ic), w(10, Pe2), w(11, vr), w(12, Qo), w(13, Optional(J2))], ae);
var le = class extends ge {
  constructor(_0x86deb7, _0x2f1008, _0x1ca7ff, _0x4533ca, _0x28e5a7, _0x46a2aa, _0x2557e7, _0x18471f, _0x274125, _0x19baf0, _0x46df94) {
    var _0x1e76d3 = _0x2dad69;
    super(_0x86deb7, _0x2f1008, _0x1ca7ff, [], _0x4533ca, _0x2557e7, _0x19baf0, _0x46a2aa, _0x46df94), D(this, _0x1e76d3(136), _0x1e76d3(232)), D(this, "_resendTimeout", 0), D(this, _0x1e76d3(815)), D(this, _0x1e76d3(736)), this["_injector"] = _0x28e5a7, this[_0x1e76d3(211)] = _0x18471f, this["_transformService"] = _0x274125;
  }
  [_0x2dad69(583)](_0x67ec69) {
    var _0x170d26 = _0x2dad69;
    this["_clearScheduledTask"]();
    const _0x1ed379 = this["_injector"][_0x170d26(792)](oe, this[_0x170d26(557)], this[_0x170d26(151)], this[_0x170d26(808)], [_0x67ec69], this[_0x170d26(782)], this[_0x170d26(815)]);
    return _0x1ed379[_0x170d26(272)](), _0x1ed379;
  }
  [_0x2dad69(799)](_0x5d438b) {
    var _0x944e44 = _0x2dad69;
    if (this[_0x944e44(171)](_0x5d438b)) return this[_0x944e44(872)](), this[_0x944e44(307)]["createInstance"](ee, this[_0x944e44(557)], this[_0x944e44(151)], this[_0x944e44(808)], [], null, [_0x5d438b], this["_handler"]);
    try {
      const _0x3a4709 = this[_0x944e44(298)]["transformChangesets"]([_0x5d438b], [this[_0x944e44(808)]], false);
      if (Rd(_0x3a4709)) {
        const { c1Prime: _0x5b1e7d, c2Prime: _0x15b47d } = _0x3a4709;
        this[_0x944e44(776)](_0x5b1e7d[0]), _0x15b47d[0][_0x944e44(353)] = this[_0x944e44(585)](), this[_0x944e44(872)]();
        const _0x458d2c = this["_injector"]["createInstance"](le, this[_0x944e44(557)], this["type"], _0x15b47d[0], this[_0x944e44(782)]);
        return _0x458d2c[_0x944e44(272)](), _0x458d2c;
      }
      return this[_0x944e44(504)](false);
    } catch (_0x2e819c) {
      return this[_0x944e44(211)][_0x944e44(355)](_0x2e819c), this[_0x944e44(504)](false);
    }
  }
  [_0x2dad69(594)](_0x4a930e) {
    var _0x2efcd4 = _0x2dad69;
    this[_0x2efcd4(872)]();
    const _0x40e312 = this[_0x2efcd4(652)][_0x2efcd4(513)](this[_0x2efcd4(557)]);
    if (_0x4a930e[_0x2efcd4(892)] < _0x40e312 - 1) return this;
    if (this[_0x2efcd4(171)](_0x4a930e)) return this[_0x2efcd4(307)][_0x2efcd4(792)](ee, this[_0x2efcd4(557)], this[_0x2efcd4(151)], null, [], this["_awaitingChangeset"], [], this["_handler"]);
    this[_0x2efcd4(668)]();
    const _0x10bf93 = this["_injector"][_0x2efcd4(792)](be, this["unitID"], this[_0x2efcd4(151)], this[_0x2efcd4(782)]);
    return _0x10bf93["_updateLocalCache"](), _0x10bf93;
  }
  [_0x2dad69(506)](_0x1b68d5) {
    var _0x311fcb = _0x2dad69;
    return this["_onConflict"](!!(_0x1b68d5 != null && _0x1b68d5[_0x311fcb(844)]));
  }
  [_0x2dad69(900)](_0x2b01f9) {
    var _0x5c3a34 = _0x2dad69;
    return this[_0x5c3a34(242)] > gi ? this[_0x5c3a34(636)]() : (this[_0x5c3a34(815)] = Ii2(this["_resendTimeout"], { "timeout": this[_0x5c3a34(242)], "reqId": _0x2b01f9[_0x5c3a34(884)] }), this[_0x5c3a34(736)] = this["_resendTimer"]["subscribe"](({ reqId: _0x4dbe00, timeout: _0x5dbdf3 }) => {
      var _0x19afc1 = _0x5c3a34;
      this[_0x19afc1(314)](_0x4dbe00, _0x5dbdf3);
    }), this);
  }
  [_0x2dad69(636)]() {
    var _0x196ed1 = _0x2dad69;
    return this[_0x196ed1(872)](), this["_injector"][_0x196ed1(792)](de2, this["unitID"], this[_0x196ed1(151)], this[_0x196ed1(808)], [], this[_0x196ed1(782)]);
  }
  [_0x2dad69(265)]() {
    return this;
  }
  [_0x2dad69(873)]() {
    var _0x3f648e = _0x2dad69;
    this["_handler"][_0x3f648e(528)](this[_0x3f648e(808)]);
  }
  ["_onConflict"](_0x581793) {
    var _0x2ec547 = _0x2dad69;
    return this[_0x2ec547(872)](), this[_0x2ec547(307)][_0x2ec547(792)](ue, this[_0x2ec547(557)], this[_0x2ec547(151)], this[_0x2ec547(808)], [], this[_0x2ec547(782)], _0x581793);
  }
  [_0x2dad69(314)](_0xfe79fd, _0xb844fa) {
    var _0x566862 = _0x2dad69, _0x1ba4cf;
    _0xfe79fd === ((_0x1ba4cf = this[_0x566862(808)]) == null ? void 0 : _0x1ba4cf[_0x566862(884)]) && (this[_0x566862(873)](), this[_0x566862(242)] = _0xb844fa === 0 ? 1e3 : _0xb844fa * 2);
  }
  [_0x2dad69(872)]() {
    var _0x5f0f3f = _0x2dad69, _0x594019;
    (_0x594019 = this[_0x5f0f3f(736)]) == null || _0x594019[_0x5f0f3f(311)](), this[_0x5f0f3f(242)] = 0;
  }
};
le = Se([w(4, Inject(Injector)), w(5, Inject(Jt)), w(6, Ls), w(7, yt), w(8, Pe2), w(9, Qo), w(10, Optional(J2))], le);
var oe = class extends ge {
  constructor(_0x31dfcb, _0x2077ae, _0x1a3e50, _0x45cc64, _0x1335e9, _0xd4fc3c, _0xb934b1, _0x196e9d, _0x4c5a2d, _0x55e47f, _0x514efd, _0x6b752b, _0x5bb7c9) {
    var _0x465ff5 = _0x2dad69;
    super(_0x31dfcb, _0x2077ae, _0x1a3e50, _0x45cc64, _0x1335e9, _0x4c5a2d, _0x6b752b, _0x196e9d, _0x5bb7c9), D(this, _0x465ff5(136), _0x465ff5(421)), D(this, "_resendTimeout", 0), D(this, _0x465ff5(815)), D(this, _0x465ff5(736)), this[_0x465ff5(307)] = _0xb934b1, this[_0x465ff5(211)] = _0x55e47f, this[_0x465ff5(298)] = _0x514efd, this[_0x465ff5(445)] = _0x5bb7c9, _0xd4fc3c && (this["_resendTimer"] = _0xd4fc3c, this["_sender"] = this["_resendTimer"][_0x465ff5(461)](({ reqId: _0x1035a6, timeout: _0x36bbc0 }) => {
      var _0x4e83fb = _0x465ff5;
      this[_0x4e83fb(314)](_0x1035a6, _0x36bbc0);
    }));
  }
  [_0x2dad69(583)](_0x516bc7) {
    var _0x320617 = _0x2dad69;
    return this["_pendingMutations"][_0x320617(249)](_0x516bc7), this;
  }
  [_0x2dad69(799)](_0x26a224) {
    var _0x474085 = _0x2dad69;
    if (this[_0x474085(171)](_0x26a224)) return this[_0x474085(872)](), this[_0x474085(307)][_0x474085(792)](ee, this["unitID"], this[_0x474085(151)], this[_0x474085(808)], this[_0x474085(391)], null, [_0x26a224], this[_0x474085(782)]);
    try {
      const _0x320438 = this[_0x474085(298)][_0x474085(497)]([_0x26a224], [this[_0x474085(808)]], false);
      if (Rd(_0x320438)) {
        const { c1Prime: _0x264686, c2Prime: _0x4c962c } = _0x320438, _0x1c97f1 = this["_transformService"][_0x474085(543)](_0x264686[0], this[_0x474085(391)]);
        if (hd2(_0x1c97f1)) {
          const { c1Prime: _0x29d495, m2Prime: _0xfa1faa } = _0x1c97f1;
          return this[_0x474085(776)](_0x29d495), _0x4c962c[0][_0x474085(353)] = this[_0x474085(585)](), this[_0x474085(872)](), this[_0x474085(307)][_0x474085(792)](oe, this["unitID"], this[_0x474085(151)], _0x4c962c[0], _0xfa1faa, this[_0x474085(782)], void 0);
        }
        throw _0x1c97f1[_0x474085(355)];
      }
      throw _0x320438[_0x474085(355)];
    } catch (_0x440da1) {
      return this[_0x474085(211)][_0x474085(355)](_0x440da1), this["_onConflict"](false);
    }
  }
  ["onRemoteAck"](_0x596d53) {
    var _0x14fdb1 = _0x2dad69;
    if (this[_0x14fdb1(872)](), this["_checkMissing"](_0x596d53)) return this["_injector"]["createInstance"](ee, this[_0x14fdb1(557)], this["type"], null, this[_0x14fdb1(391)], this[_0x14fdb1(808)], [], this["_handler"]);
    this[_0x14fdb1(668)]();
    const _0x53509f = this[_0x14fdb1(307)][_0x14fdb1(792)](ae, this[_0x14fdb1(557)], this[_0x14fdb1(151)], this[_0x14fdb1(391)], this[_0x14fdb1(782)]);
    return _0x53509f[_0x14fdb1(178)](), _0x53509f[_0x14fdb1(272)](), _0x53509f;
  }
  ["onRemoteRej"](_0x4f9812) {
    var _0x1b136a = _0x2dad69;
    return this[_0x1b136a(504)](!!(_0x4f9812 != null && _0x4f9812[_0x1b136a(844)]));
  }
  [_0x2dad69(900)](_0x308a61) {
    var _0x3634de = _0x2dad69;
    return this[_0x3634de(242)] > gi ? this["toggleOffline"]() : (this["_resendTimer"] = Ii2(this[_0x3634de(242)], { "timeout": this[_0x3634de(242)], "reqId": _0x308a61[_0x3634de(884)] }), this[_0x3634de(736)] = this[_0x3634de(815)]["subscribe"](({ reqId: _0x5c82bf, timeout: _0x4d8053 }) => {
      var _0x2b4c3b = _0x3634de;
      this[_0x2b4c3b(314)](_0x5c82bf, _0x4d8053);
    }), this);
  }
  ["toggleOffline"]() {
    var _0x42c136 = _0x2dad69;
    return this["_clearScheduledTask"](), this["_injector"][_0x42c136(792)](de2, this["unitID"], this[_0x42c136(151)], this[_0x42c136(808)], this[_0x42c136(391)], this[_0x42c136(782)]);
  }
  ["toggleOnline"]() {
    return this;
  }
  [_0x2dad69(873)]() {
    var _0x4dbcd4 = _0x2dad69;
    this[_0x4dbcd4(782)][_0x4dbcd4(528)](this[_0x4dbcd4(808)]);
  }
  [_0x2dad69(504)](_0x23b794) {
    var _0x585bc7 = _0x2dad69;
    return this[_0x585bc7(872)](), this["_injector"][_0x585bc7(792)](ue, this[_0x585bc7(557)], this[_0x585bc7(151)], null, this[_0x585bc7(391)], this[_0x585bc7(782)], _0x23b794);
  }
  ["_resendWithTimeout"](_0xddd45b, _0x2287d1) {
    var _0x568898 = _0x2dad69, _0xed9822;
    _0xddd45b === ((_0xed9822 = this[_0x568898(808)]) == null ? void 0 : _0xed9822[_0x568898(884)]) && (this["resend"](), this[_0x568898(242)] = _0x2287d1 === 0 ? 1e3 : _0x2287d1 * 2);
  }
  [_0x2dad69(872)]() {
    var _0x5793da = _0x2dad69, _0x59d8fa;
    (_0x59d8fa = this[_0x5793da(736)]) == null || _0x59d8fa[_0x5793da(311)](), this["_resendTimeout"] = 0;
  }
};
oe = Se([w(6, Inject(Injector)), w(7, Inject(Jt)), w(8, Ls), w(9, yt), w(10, Pe2), w(11, Qo), w(12, Optional(J2))], oe);
var ue = class extends ge {
  constructor(_0x152296, _0x2d04d9, _0x47df00, _0x4c5b9a, _0x5b8bf8, _0x2c597a = false, _0x5dc722, _0x46a46d, _0x571a57, _0x3cbfab, _0x4ec5f4, _0x18c86d, _0x38bd59) {
    var _0x5cd0c1 = _0x2dad69;
    super(_0x152296, _0x2d04d9, _0x47df00, _0x4c5b9a, _0x5b8bf8, _0x46a46d, _0x571a57, _0x3cbfab, _0x38bd59), D(this, _0x5cd0c1(136), "conflict"), this[_0x5cd0c1(693)] = _0x2c597a, this[_0x5cd0c1(578)] = _0x5dc722, this[_0x5cd0c1(612)] = _0x4ec5f4, this[_0x5cd0c1(634)] = _0x18c86d, this[_0x5cd0c1(445)] = _0x38bd59, this[_0x5cd0c1(264)](), this[_0x5cd0c1(869)](), this["_disableEditing"]();
  }
  [_0x2dad69(583)]() {
    return this;
  }
  ["onRemoteChangeset"]() {
    return this;
  }
  [_0x2dad69(594)]() {
    return this;
  }
  [_0x2dad69(506)]() {
    return this;
  }
  [_0x2dad69(900)]() {
    return this;
  }
  [_0x2dad69(636)]() {
    return this;
  }
  ["toggleOnline"]() {
    return this;
  }
  [_0x2dad69(873)]() {
    var _0x1d4561 = _0x2dad69;
    throw new Error(_0x1d4561(407));
  }
  [_0x2dad69(869)]() {
    var _0x397fd2 = _0x2dad69, _0x43682a;
    (_0x43682a = this[_0x397fd2(190)]) == null || _0x43682a["updateOfflineData"](this[_0x397fd2(557)], this[_0x397fd2(151)], null, []);
  }
  [_0x2dad69(264)]() {
    var _0x12cc30 = _0x2dad69;
    this["_isPermissionRej"] ? this[_0x12cc30(634)][_0x12cc30(194)]({ "id": re[_0x12cc30(238)] }) : this[_0x12cc30(634)][_0x12cc30(194)]({ "id": re[_0x12cc30(176)] });
  }
  [_0x2dad69(150)]() {
    var _0x12f576 = _0x2dad69;
    this["_permissionService"][_0x12f576(152)](new Pe(this["unitID"])["id"], false);
  }
};
ue = Se([w(6, Inject(eC)), w(7, Ls), w(8, Qo), w(9, Inject(Jt)), w(10, Inject(Fn)), w(11, Inject(ve)), w(12, Optional(J2))], ue);
var de2 = class extends ge {
  constructor(_0x545b95, _0x3bfb8f, _0x3664f2, _0x48196f, _0x473852, _0xae065, _0x624939, _0x100bdb, _0x2b1941, _0x58a5f7) {
    var _0x3117b1 = _0x2dad69;
    super(_0x545b95, _0x3bfb8f, _0x3664f2, _0x48196f, _0x473852, _0x100bdb, _0x2b1941, _0x624939, _0x58a5f7), D(this, _0x3117b1(136), _0x3117b1(769)), this["_injector"] = _0xae065;
  }
  ["appendMutation"](_0x2dc4f1) {
    var _0x20c18d = _0x2dad69;
    return this[_0x20c18d(391)][_0x20c18d(249)](_0x2dc4f1), this["_updateLocalCache"](), this;
  }
  ["onRemoteChangeset"](_0xe2c001) {
    var _0x8e9590 = _0x2dad69;
    throw new Error(_0x8e9590(810));
  }
  ["onRemoteAck"]() {
    var _0x367c4c = _0x2dad69;
    throw new Error(_0x367c4c(656));
  }
  [_0x2dad69(506)]() {
    var _0x55b667 = _0x2dad69;
    throw new Error(_0x55b667(608));
  }
  [_0x2dad69(900)]() {
    return this;
  }
  ["toggleOffline"]() {
    return this;
  }
  [_0x2dad69(265)]() {
    const { _injector: _0x113fc2, _pendingMutations: _0x1d43ee, _awaitingChangeset: _0x12f34c, unitID: _0x4e0e9b, _handler: _0x3ce42d, type: _0x3b2d49 } = this, _0x557767 = Ti(_0x113fc2, _0x4e0e9b, _0x3b2d49, _0x12f34c, _0x1d43ee, _0x3ce42d);
    return _0x557767 instanceof ae ? _0x557767["_schedule"]() : (_0x557767 instanceof oe || _0x557767 instanceof le) && _0x557767["resend"](), _0x557767;
  }
  [_0x2dad69(873)]() {
    var _0x1e1789 = _0x2dad69;
    throw new Error(_0x1e1789(452));
  }
};
de2 = Se([w(5, Inject(Injector)), w(6, Inject(Jt)), w(7, Ls), w(8, Qo), w(9, Optional(J2))], de2);
var ee = class extends ge {
  constructor(_0x58fe1, _0x2be418, _0x5bf578, _0x30dc61, _0x4c700f, _0x41abfc, _0xa2b793, _0xc8526e, _0x453649, _0x4264e3, _0x4b308f, _0x4bd16a, _0x327aff, _0x52d7eb) {
    var _0x1f4d44 = _0x2dad69;
    super(_0x58fe1, _0x2be418, _0x5bf578, _0x30dc61, _0xa2b793, _0x4b308f, _0x4bd16a, _0x453649, _0x52d7eb), D(this, _0x1f4d44(136), _0x1f4d44(733)), this[_0x1f4d44(209)] = _0x4c700f, this[_0x1f4d44(436)] = _0x41abfc, this[_0x1f4d44(307)] = _0xc8526e, this["_logService"] = _0x4264e3, this[_0x1f4d44(298)] = _0x327aff, this[_0x1f4d44(445)] = _0x52d7eb;
  }
  [_0x2dad69(746)](_0x34ace3) {
    var _0x41052b = _0x2dad69;
    try {
      const _0x1f9a4e = [..._0x34ace3, ...this[_0x41052b(436)]], _0x20677b = [this[_0x41052b(808)] || this[_0x41052b(209)]][_0x41052b(437)]((_0x50489a) => !!_0x50489a);
      let _0x444a14, _0x15ecf3;
      if (_0x20677b["length"]) {
        const _0x29be5a = this["_transformService"]["transformChangesets"](_0x1f9a4e, _0x20677b, false);
        if (!Rd(_0x29be5a)) throw _0x29be5a["error"];
        _0x444a14 = _0x29be5a[_0x41052b(148)], _0x15ecf3 = _0x29be5a["c2Prime"];
      } else _0x444a14 = _0x1f9a4e, _0x15ecf3 = [];
      let _0x14cf4d = this["_pendingMutations"];
      _0x444a14[_0x41052b(817)]((_0x200a75) => {
        var _0x53f326 = _0x41052b;
        let _0x21bc0a;
        if (_0x14cf4d["length"]) {
          const _0x221a2c = this[_0x53f326(298)][_0x53f326(543)](_0x200a75, _0x14cf4d);
          if (!hd2(_0x221a2c)) throw _0x221a2c[_0x53f326(355)];
          _0x21bc0a = _0x221a2c[_0x53f326(148)], _0x14cf4d = _0x221a2c[_0x53f326(722)];
        } else _0x21bc0a = _0x200a75;
        this[_0x53f326(776)](_0x21bc0a);
      }), this[_0x41052b(209)] && this[_0x41052b(668)](), this[_0x41052b(808)] && _0x15ecf3["length"] && (_0x15ecf3[0]["baseRev"] = this["_getCurrentRevision"]());
      let _0x5e663a;
      if (this[_0x41052b(808)] && _0x14cf4d[_0x41052b(208)] !== 0) _0x5e663a = this[_0x41052b(307)][_0x41052b(792)](oe, this["unitID"], this[_0x41052b(151)], _0x15ecf3[0], _0x14cf4d, this["_handler"], void 0);
      else {
        if (this[_0x41052b(808)] && _0x14cf4d[_0x41052b(208)] === 0) _0x15ecf3[0][_0x41052b(353)] = this[_0x41052b(585)](), _0x5e663a = this[_0x41052b(307)]["createInstance"](le, this[_0x41052b(557)], this[_0x41052b(151)], _0x15ecf3[0], this[_0x41052b(782)]);
        else {
          if (_0x14cf4d["length"] !== 0) {
            const _0x59845f = this["_injector"][_0x41052b(792)](ae, this["unitID"], this[_0x41052b(151)], _0x14cf4d, this[_0x41052b(782)]);
            _0x59845f[_0x41052b(178)](), _0x5e663a = _0x59845f;
          } else _0x5e663a = this[_0x41052b(307)][_0x41052b(792)](be, this[_0x41052b(557)], this[_0x41052b(151)], this[_0x41052b(782)]);
        }
      }
      return _0x5e663a["_updateLocalCache"](), _0x5e663a;
    } catch (_0x4364ba) {
      return this[_0x41052b(211)][_0x41052b(355)](_0x41052b(343), _0x41052b(813), _0x4364ba), this[_0x41052b(307)][_0x41052b(792)](ue, this[_0x41052b(557)], this["type"], this[_0x41052b(808)], this[_0x41052b(391)], this["_handler"], false);
    }
  }
  [_0x2dad69(873)]() {
    throw new Error("[FetchingMissState]: invalid calling to `resend`.");
  }
  [_0x2dad69(583)](_0x155ef3) {
    var _0x275342 = _0x2dad69;
    return this[_0x275342(391)]["push"](_0x155ef3), this;
  }
  [_0x2dad69(799)](_0x40e001) {
    var _0x5d685e = _0x2dad69;
    return this[_0x5d685e(436)]["push"](_0x40e001), this;
  }
  ["onRemoteAck"](_0x3807ff) {
    var _0xdc490b = _0x2dad69;
    if (this["_awaitingChangeset"]) return this[_0xdc490b(209)] = this[_0xdc490b(808)], this[_0xdc490b(808)] = null, this;
    throw new Error(_0xdc490b(160));
  }
  [_0x2dad69(506)](_0x283411) {
    var _0x2ee4ab = _0x2dad69;
    return this[_0x2ee4ab(504)](!!(_0x283411 != null && _0x283411["isPermissionRej"]));
  }
  [_0x2dad69(900)]() {
    return this;
  }
  [_0x2dad69(636)]() {
    var _0x18906e = _0x2dad69;
    return this[_0x18906e(307)][_0x18906e(792)](de2, this["unitID"], this[_0x18906e(151)], this["_awaitingChangeset"], this[_0x18906e(391)], this[_0x18906e(782)]);
  }
  [_0x2dad69(265)]() {
    return this;
  }
  ["_onConflict"](_0x1d1c23) {
    var _0x33b781 = _0x2dad69;
    return this[_0x33b781(307)]["createInstance"](ue, this["unitID"], this[_0x33b781(151)], this["_awaitingChangeset"], this["_pendingMutations"], this["_handler"], _0x1d1c23);
  }
};
ee = Se([w(7, Inject(Injector)), w(8, Inject(Jt)), w(9, yt), w(10, Ls), w(11, Qo), w(12, Pe2), w(13, Optional(J2))], ee);
function Ti(_0x2bb868, _0x1584a7, _0x5a5c08, _0x4b8507, _0x37ea1f, _0x310cc6) {
  var _0x2cf8a1 = _0x2dad69;
  return _0x4b8507 && _0x37ea1f[_0x2cf8a1(208)] ? _0x2bb868[_0x2cf8a1(792)](oe, _0x1584a7, _0x5a5c08, _0x4b8507, _0x37ea1f, _0x310cc6, void 0) : _0x4b8507 ? _0x2bb868[_0x2cf8a1(792)](le, _0x1584a7, _0x5a5c08, _0x4b8507, _0x310cc6) : _0x37ea1f[_0x2cf8a1(208)] ? _0x2bb868[_0x2cf8a1(792)](ae, _0x1584a7, _0x5a5c08, _0x37ea1f, _0x310cc6) : _0x2bb868[_0x2cf8a1(792)](be, _0x1584a7, _0x5a5c08, _0x310cc6);
}
var Bs = Object[_0x2dad69(498)];
var Pt = (_0x5babb1, _0x28abbf, _0x5ed58c, _0x133080) => {
  var _0x417887 = _0x2dad69;
  for (var _0x1d1d35 = _0x133080 > 1 ? void 0 : _0x133080 ? Bs(_0x28abbf, _0x5ed58c) : _0x28abbf, _0x17ec00 = _0x5babb1[_0x417887(208)] - 1, _0x3543b1; _0x17ec00 >= 0; _0x17ec00--) (_0x3543b1 = _0x5babb1[_0x17ec00]) && (_0x1d1d35 = _0x3543b1(_0x1d1d35) || _0x1d1d35);
  return _0x1d1d35;
};
var $ = (_0x704404, _0x82afdf) => (_0x3f5503, _0x2baae3) => _0x82afdf(_0x3f5503, _0x2baae3, _0x704404);
var st = class extends h1 {
  constructor(_0xd4387f, _0x58a513, _0x3873eb, _0x3900d3, _0x511041, _0x5e0c42, _0x4cb400, _0x3a611d, _0x5a30de, _0x22772d, _0x4c4b6b, _0x31510b, _0x269cf2, _0x11ed35) {
    var _0x526edb = _0x2dad69;
    super(), D(this, "_state$", new BehaviorSubject(null)), D(this, _0x526edb(688), this[_0x526edb(276)]["asObservable"]()), D(this, _0x526edb(141)), D(this, "_collaborationPaused", false), D(this, _0x526edb(462), ""), D(this, _0x526edb(158), 0), D(this, _0x526edb(289), this["state$"]["pipe"](map((_0xfccc02) => _0xfccc02 ? _0xfccc02[_0x526edb(136)] : Si[_0x526edb(658)]), shareReplay(1))), D(this, _0x526edb(137), false), D(this, _0x526edb(553), []), this[_0x526edb(557)] = _0xd4387f, this["session"] = _0x58a513, this[_0x526edb(630)] = _0x3873eb, this[_0x526edb(307)] = _0x3900d3, this["_compressMutationService"] = _0x511041, this[_0x526edb(612)] = _0x5e0c42, this["_revisionService"] = _0x4cb400, this[_0x526edb(346)] = _0x3a611d, this[_0x526edb(263)] = _0x5a30de, this[_0x526edb(211)] = _0x22772d, this[_0x526edb(893)] = _0x4c4b6b, this["_permissionService"] = _0x31510b, this[_0x526edb(800)] = _0x269cf2, this[_0x526edb(190)] = _0x11ed35;
  }
  get [_0x2dad69(195)]() {
    var _0x4903f4 = _0x2dad69;
    return this[_0x4903f4(141)];
  }
  async [_0x2dad69(408)]() {
    var _0x390ce4 = _0x2dad69;
    if (this["state"]) throw new Error(_0x390ce4(547));
    await this[_0x390ce4(234)]();
  }
  [_0x2dad69(259)]() {
    return this["_collaborationPaused"] = true, We(() => {
      var _0x41d5da = _0x35c2;
      this[_0x41d5da(882)] = false, this[_0x41d5da(218)]();
    });
  }
  [_0x2dad69(243)](_0x1348d7) {
    this["_onLocalMutation"](_0x1348d7);
  }
  ["_updateState"](_0x3d5ea2) {
    var _0x8c2d87 = _0x2dad69;
    this[_0x8c2d87(141)] = _0x3d5ea2, this[_0x8c2d87(276)][_0x8c2d87(836)](_0x3d5ea2);
  }
  async ["_init"]() {
    var _0x3cd09f = _0x2dad69, _0x315b9e;
    this[_0x3cd09f(834)](await this[_0x3cd09f(182)]()), this[_0x3cd09f(800)] && ((_0x315b9e = this[_0x3cd09f(800)]) == null || _0x315b9e["editingUnit"](this[_0x3cd09f(557)]), this["disposeWithMe"](this[_0x3cd09f(800)][_0x3cd09f(707)](this[_0x3cd09f(557)])["subscribe"]((_0x406471) => {
      var _0x234986 = _0x3cd09f;
      this[_0x234986(211)]["debug"](_0x234986(556), _0x234986(859), _0x406471), _0x406471 === mi[_0x234986(159)] ? (this[_0x234986(346)][_0x234986(194)]({ "id": re[_0x234986(295)] }), this[_0x234986(578)][_0x234986(152)](new Pe(this[_0x234986(557)])["id"], false), this[_0x234986(578)][_0x234986(358)](false)) : (this[_0x234986(578)][_0x234986(152)](new Pe(this[_0x234986(557)])["id"], true), this[_0x234986(578)]["setShowComponents"](true));
    })));
    let _0x3e1462 = false;
    return this[_0x3cd09f(657)](this["session"]["sessionStatus$"]["subscribe"]((_0x280a19) => {
      var _0x59772d = _0x3cd09f;
      _0x280a19 === me[_0x59772d(365)] ? this["_toggleOnline"](_0x3e1462) : _0x280a19 === me["OFFLINE"] && (_0x3e1462 = true, this[_0x59772d(529)]());
    })), this["disposeWithMe"](this[_0x3cd09f(360)][_0x3cd09f(695)]["subscribe"]((_0x595152) => {
      var _0x1dd1cc = _0x3cd09f;
      try {
        switch (_0x595152[_0x1dd1cc(589)]) {
          case Rm[_0x1dd1cc(891)]: {
            this[_0x1dd1cc(761)](Id(_0x595152[_0x1dd1cc(163)]));
            break;
          }
          case Rm[_0x1dd1cc(172)]: {
            this["_onRemoteACK"](_0x595152[_0x1dd1cc(163)]);
            break;
          }
          case Rm["CHANGESET_REJ"]: {
            this[_0x1dd1cc(750)]();
            break;
          }
          case Rm[_0x1dd1cc(410)]: {
            this["_onRemoteRetry"](_0x595152[_0x1dd1cc(163)]);
            break;
          }
          case Rm["PSEUDO_FETCH_MISSING_RESULT"]: {
            this[_0x1dd1cc(493)](_0x595152["data"][_0x1dd1cc(287)][_0x1dd1cc(864)]((_0x76a0e1) => Id(_0x76a0e1)));
            break;
          }
          case Rm[_0x1dd1cc(338)]: {
            this[_0x1dd1cc(750)]({ "isPermissionRej": true });
            break;
          }
          case Rm[_0x1dd1cc(690)]:
            break;
        }
      } catch (_0x4ab417) {
        throw console[_0x1dd1cc(355)](_0x1dd1cc(170), _0x4ab417), _0x4ab417;
      }
    })), this[_0x3cd09f(141)];
  }
  [_0x2dad69(119)]() {
    this["_transitionLocked"] = false;
  }
  ["_lockTransition"]() {
    var _0x2b1416 = _0x2dad69;
    if (this[_0x2b1416(137)]) throw new Error("[CollaborationEntity]: cannot lock transition twice! This is an implementation error, meaning you transit the collaboration state again in the process of a previous transition. This should never happen.");
    this[_0x2b1416(137)] = true;
  }
  [_0x2dad69(627)](_0x3095e0) {
    var _0x3871ed = _0x2dad69;
    this[_0x3871ed(843)](), this[_0x3871ed(834)](this[_0x3871ed(141)][_0x3871ed(583)](_0x3095e0)), this[_0x3871ed(119)]();
  }
  [_0x2dad69(761)](_0xd953d6) {
    var _0x39fd63 = _0x2dad69;
    if (!(_0xd953d6[_0x39fd63(892)] <= this["_revisionService"][_0x39fd63(513)](this[_0x39fd63(557)]))) {
      if (this[_0x39fd63(882)]) {
        this["_remoteChangesetQueue"][_0x39fd63(249)](_0xd953d6);
        return;
      }
      this["_applyRemoteChangeset"](_0xd953d6);
    }
  }
  [_0x2dad69(218)]() {
    var _0x2384fa = _0x2dad69;
    this[_0x2384fa(553)]["forEach"]((_0x3a1bfc) => this["_applyRemoteChangeset"](_0x3a1bfc)), this[_0x2384fa(553)] = [];
  }
  [_0x2dad69(642)](_0x1a1457) {
    var _0x1ddc43 = _0x2dad69;
    const _0x3313f6 = this["_compressMutationService"][_0x1ddc43(824)][_0x1ddc43(139)](this["_compressMutationService"][_0x1ddc43(824)][_0x1ddc43(795)]()[_0x1ddc43(661)])(_0x1a1457[_0x1ddc43(825)], null) || _0x1a1457[_0x1ddc43(825)], _0x4d3034 = { ..._0x1a1457, "mutations": _0x3313f6 };
    this["_lockTransition"](), this[_0x1ddc43(834)](this[_0x1ddc43(141)][_0x1ddc43(799)](_0x4d3034)), this["_unlockTransition"]();
  }
  [_0x2dad69(517)](_0x5e55ef) {
    var _0x17992d = _0x2dad69;
    this[_0x17992d(843)](), this[_0x17992d(834)](this[_0x17992d(141)][_0x17992d(594)](_0x5e55ef)), this[_0x17992d(119)]();
  }
  ["_onRemoteRejected"](_0x144ed2) {
    var _0x140a97 = _0x2dad69;
    this[_0x140a97(843)](), this[_0x140a97(834)](this["_state"][_0x140a97(506)](_0x144ed2)), this[_0x140a97(119)]();
  }
  ["_onRemoteRetry"](_0x501ca0) {
    var _0x1d555f = _0x2dad69;
    this[_0x1d555f(843)](), this[_0x1d555f(834)](this["_state"][_0x1d555f(900)](_0x501ca0)), this["_unlockTransition"]();
  }
  [_0x2dad69(493)](_0x16fdcf) {
    var _0x487c78 = _0x2dad69;
    if (!(this[_0x487c78(141)] instanceof ee)) throw new TypeError(_0x487c78(153));
    const _0x418fb1 = _0x16fdcf[_0x487c78(864)]((_0x5abfa5) => {
      var _0x48b4db = _0x487c78;
      const _0xb902aa = this[_0x48b4db(526)][_0x48b4db(824)][_0x48b4db(139)](this[_0x48b4db(526)]["interceptor"][_0x48b4db(795)]()[_0x48b4db(661)])(_0x5abfa5[_0x48b4db(825)], null) || _0x5abfa5[_0x48b4db(825)];
      return { ..._0x5abfa5, "mutations": _0xb902aa };
    });
    this[_0x487c78(843)](), this[_0x487c78(834)](this[_0x487c78(141)]["onMissedChangesetFetched"](_0x418fb1)), this[_0x487c78(119)]();
  }
  ["_toggleOffline"]() {
    var _0xcc8f9f = _0x2dad69;
    this[_0xcc8f9f(843)](), this[_0xcc8f9f(834)](this[_0xcc8f9f(141)]["toggleOffline"]()), this["_unlockTransition"]();
  }
  [_0x2dad69(236)](_0x384c0d = false) {
    var _0x57aaea = _0x2dad69;
    this[_0x57aaea(843)](), this[_0x57aaea(834)](this[_0x57aaea(141)][_0x57aaea(265)]()), this[_0x57aaea(119)]();
    const _0x1339cc = this["_state"];
    _0x384c0d && _0x1339cc instanceof be && (this["_lockTransition"](), this[_0x57aaea(834)](_0x1339cc[_0x57aaea(424)]()), this["_unlockTransition"]());
  }
  async [_0x2dad69(182)]() {
    return new Promise((_0x4404e9) => {
      var _0x3edfcf = _0x35c2;
      this[_0x3edfcf(360)][_0x3edfcf(251)][_0x3edfcf(348)](take(1))["subscribe"](async (_0x27c8f0) => {
        var _0x1a0001 = _0x3edfcf;
        _0x4404e9(await this[_0x1a0001(675)](_0x27c8f0 === me["ONLINE"]));
      });
    });
  }
  [_0x2dad69(372)]() {
    const _0x437163 = this["unitID"];
    return { "onStateChange": (_0x26d726, _0x55f9d1) => {
      var _0x320747 = _0x35c2;
      if (_0x26d726 !== this[_0x320747(141)]) throw new Error(_0x320747(477) + _0x26d726["status"] + "\nAfter: " + _0x55f9d1["status"] + "\nCurrent: " + this[_0x320747(141)][_0x320747(136)]);
      this[_0x320747(834)](_0x55f9d1);
    }, "onSendChangeset": (_0x56dfb1) => {
      var _0xc7bf33 = _0x35c2;
      _0x56dfb1[_0xc7bf33(491)] || (_0x56dfb1[_0xc7bf33(491)] = this["_changesetSessionId"], _0x56dfb1[_0xc7bf33(884)] = ++this[_0xc7bf33(158)]);
      const _0x3f2742 = { "eventID": Rm["SUBMIT_CHANGESET"], "data": { "unitID": _0x56dfb1[_0xc7bf33(557)], "unitType": this[_0xc7bf33(630)], "changeset": _0x56dfb1, "memberID": this["session"]["getMemberID"]() } };
      this[_0xc7bf33(360)][_0xc7bf33(629)](_0x3f2742, this[_0xc7bf33(557)]);
    }, "onMissingChangesets": ({ from: _0x13cccb, to: _0x4b3940 }) => {
      var _0x58a7c9 = _0x35c2;
      this[_0x58a7c9(211)]["debug"](_0x58a7c9(556), _0x58a7c9(379) + _0x13cccb + _0x58a7c9(823) + _0x4b3940);
      const _0x5ccd40 = { "eventID": Rm[_0x58a7c9(219)], "data": { "unitID": _0x437163, "unitType": this[_0x58a7c9(630)], "from": _0x13cccb, "to": _0x4b3940 } };
      this[_0x58a7c9(360)][_0x58a7c9(629)](_0x5ccd40, this[_0x58a7c9(557)]);
    } };
  }
  async [_0x2dad69(675)](_0x3e74fe) {
    var _0x18aeff = _0x2dad69, _0x22034d, _0x280214, _0x4107ce;
    const _0x5dd5e6 = await ((_0x22034d = this["_localCacheService"]) == null ? void 0 : _0x22034d["loadOfflineData"](this["unitID"])), _0x392210 = (_0x280214 = _0x5dd5e6 == null ? void 0 : _0x5dd5e6[_0x18aeff(825)]) != null ? _0x280214 : [], _0x3935ed = (_0x4107ce = _0x5dd5e6 == null ? void 0 : _0x5dd5e6[_0x18aeff(476)]) != null ? _0x4107ce : null, _0x1c59dc = !!(_0x3935ed != null && _0x3935ed[_0x18aeff(491)]) && !!(_0x3935ed != null && _0x3935ed["reqId"]);
    this[_0x18aeff(462)] = _0x1c59dc ? _0x3935ed[_0x18aeff(491)] : Ye(), this["_changesetReqId"] = _0x1c59dc ? _0x3935ed[_0x18aeff(884)] : 0;
    const _0x3812a5 = this[_0x18aeff(557)];
    try {
      this[_0x18aeff(524)](_0x3935ed, _0x392210);
    } catch (_0x2bf871) {
      this["_logService"]["error"](_0x2bf871);
    }
    const _0x233f15 = this[_0x18aeff(372)]();
    if (_0x3e74fe) {
      const _0xa4e93 = Ti(this[_0x18aeff(307)], _0x3812a5, this["_type"], _0x3935ed, _0x392210, _0x233f15);
      return _0xa4e93 instanceof ae ? _0xa4e93[_0x18aeff(178)]() : (_0xa4e93 instanceof oe || _0xa4e93 instanceof le) && _0xa4e93[_0x18aeff(873)](), _0xa4e93;
    }
    return this["_injector"][_0x18aeff(792)](de2, _0x3812a5, this[_0x18aeff(630)], _0x3935ed, _0x392210, _0x233f15);
  }
  [_0x2dad69(524)](_0x557250, _0x505438) {
    var _0xa34d09 = _0x2dad69, _0x23a4ca, _0x3fe52d;
    const _0x362ca8 = this["_compressMutationService"][_0xa34d09(824)]["fetchThroughInterceptors"](this["_compressMutationService"]["interceptor"][_0xa34d09(795)]()[_0xa34d09(661)]);
    (_0x23a4ca = _0x362ca8((_0x557250 == null ? void 0 : _0x557250[_0xa34d09(825)]) || [], null)) == null || _0x23a4ca[_0xa34d09(817)]((_0x39f4dc) => this[_0xa34d09(893)][_0xa34d09(521)](_0x39f4dc["id"], _0x39f4dc["params"])), (_0x3fe52d = _0x362ca8(_0x505438 || [], null)) == null || _0x3fe52d[_0xa34d09(817)]((_0x3ad77f) => this[_0xa34d09(893)][_0xa34d09(521)](_0x3ad77f["id"], _0x3ad77f[_0xa34d09(575)]));
  }
};
st = Pt([$(3, Inject(Injector)), $(4, Inject(pr)), $(5, Inject(Fn)), $(6, Inject(Jt)), $(7, Inject(ve)), $(8, vr), $(9, yt), $(10, Ls), $(11, eC), $(12, Optional(_t)), $(13, Optional(J2))], st);
var It = class extends st {
  constructor(_0x28aa88, _0x2f2946, _0x36333b, _0x4453f3, _0x5480ed, _0x1032de, _0x9ed2a2, _0x5e2746, _0x9a77d5, _0x28d14e, _0x1c6bd1, _0x59730d, _0x2faed3, _0x25107c) {
    var _0x478ce8 = _0x2dad69;
    super(_0x28aa88, _0x36333b, _0x2f2946, _0x4453f3, _0x5480ed, _0x1032de, _0x9ed2a2, _0x5e2746, _0x9a77d5, _0x28d14e, _0x1c6bd1, _0x59730d, _0x2faed3, _0x25107c), D(this, _0x478ce8(738), null), this[_0x478ce8(557)] = _0x28aa88, this[_0x478ce8(151)] = _0x2f2946;
  }
  [_0x2dad69(641)](_0x4d9ea1) {
    var _0x50170c = _0x2dad69;
    this[_0x50170c(738)] = _0x4d9ea1;
  }
  ["dispose"]() {
    var _0x35f620 = _0x2dad69;
    this[_0x35f620(738)] = null, super[_0x35f620(114)]();
  }
  [_0x2dad69(372)]() {
    var _0x2b30db = _0x2dad69;
    const _0x2cbd9b = super[_0x2b30db(372)]();
    return _0x2cbd9b[_0x2b30db(333)] = (_0x31ad26) => {
      var _0x58e2ef = _0x2b30db, _0x47b805, _0x49824c;
      return (_0x49824c = (_0x47b805 = this[_0x58e2ef(738)]) == null ? void 0 : _0x47b805[_0x58e2ef(333)]) == null ? void 0 : _0x49824c[_0x58e2ef(678)](_0x47b805, _0x31ad26);
    }, _0x2cbd9b[_0x2b30db(431)] = (_0x51d967) => {
      var _0x1b841e = _0x2b30db, _0x5b1a6b, _0xe97ceb;
      return (_0xe97ceb = (_0x5b1a6b = this[_0x1b841e(738)]) == null ? void 0 : _0x5b1a6b[_0x1b841e(431)]) == null ? void 0 : _0xe97ceb[_0x1b841e(678)](_0x5b1a6b, _0x51d967);
    }, _0x2cbd9b[_0x2b30db(318)] = (_0x5d53e6) => {
      var _0x281d67 = _0x2b30db, _0x1567e4, _0x25a068;
      return (_0x25a068 = (_0x1567e4 = this["_handlerCallback"]) == null ? void 0 : _0x1567e4[_0x281d67(318)]) == null ? void 0 : _0x25a068[_0x281d67(678)](_0x1567e4, _0x5d53e6);
    }, _0x2cbd9b[_0x2b30db(417)] = (_0x1d4ada) => {
      var _0x216f77 = _0x2b30db, _0x4e1eee, _0x42c9f9;
      return (_0x42c9f9 = (_0x4e1eee = this[_0x216f77(738)]) == null ? void 0 : _0x4e1eee["onSyncEditingCollabCursor"]) == null ? void 0 : _0x42c9f9[_0x216f77(678)](_0x4e1eee, _0x1d4ada);
    }, _0x2cbd9b[_0x2b30db(329)] = (_0x3a3d65) => {
      var _0x393416 = _0x2b30db, _0x592bc7, _0x847eca, _0xdfc820;
      if (!((_0x592bc7 = this[_0x393416(738)]) != null && _0x592bc7[_0x393416(329)])) throw new Error(_0x393416(448));
      return (_0xdfc820 = (_0x847eca = this["_handlerCallback"]) == null ? void 0 : _0x847eca[_0x393416(329)]) == null ? void 0 : _0xdfc820[_0x393416(678)](_0x847eca, _0x3a3d65);
    }, _0x2cbd9b[_0x2b30db(396)] = (_0x48e409) => {
      var _0x583097 = _0x2b30db, _0x541bb6, _0x178425, _0x50cd00;
      if (!((_0x541bb6 = this["_handlerCallback"]) != null && _0x541bb6[_0x583097(396)])) throw new Error(_0x583097(180));
      return (_0x50cd00 = (_0x178425 = this[_0x583097(738)]) == null ? void 0 : _0x178425["onTransformRemoteChangesetByStateCache"]) == null ? void 0 : _0x50cd00[_0x583097(678)](_0x178425, _0x48e409);
    }, _0x2cbd9b;
  }
  async [_0x2dad69(234)]() {
    var _0x5d5e23 = _0x2dad69;
    const _0x5a77aa = await super[_0x5d5e23(234)]();
    return this[_0x5d5e23(657)](this["_commandService"][_0x5d5e23(503)]((_0x5d62a0, _0x57a4bf) => {
      var _0x2c5a5e = _0x5d5e23;
      if (_0x5d62a0[_0x2c5a5e(151)] !== Ms[_0x2c5a5e(518)] || _0x57a4bf != null && _0x57a4bf[_0x2c5a5e(703)] || _0x57a4bf != null && _0x57a4bf["onlyLocal"] || _0x5d62a0["id"] === M["id"]) return;
      const _0x3c8672 = _0x5d62a0["params"];
      if ((_0x3c8672 == null ? void 0 : _0x3c8672[_0x2c5a5e(814)]) !== this[_0x2c5a5e(557)]) return;
      const _0xec0f59 = _0x5d62a0, _0x20a29e = this[_0x2c5a5e(526)][_0x2c5a5e(824)]["fetchThroughInterceptors"](this["_compressMutationService"][_0x2c5a5e(824)]["getInterceptPoints"]()["COMPRESS_MUTATION_SEND"])([_0xec0f59], this[_0x2c5a5e(263)]) || [_0xec0f59];
      this[_0x2c5a5e(627)](_0x20a29e[0]);
    })), _0x5a77aa;
  }
};
It = Pt([$(3, Inject(Injector)), $(4, Inject(pr)), $(5, Inject(Fn)), $(6, Inject(Jt)), $(7, Inject(ve)), $(8, vr), $(9, yt), $(10, Ls), $(11, eC), $(12, Optional(_t)), $(13, Optional(J2))], It);
var St = class extends st {
  constructor(_0x3f8a9b, _0x5887cb, _0x2eb300, _0x1398b0, _0x5394ac, _0x17ed18, _0x53cf02, _0x1bc851, _0x50cd9d, _0x4cfd45, _0x5f0314, _0x223381, _0x27f33d, _0x202216, _0x4be21d) {
    var _0x281cc2 = _0x2dad69;
    super(_0x3f8a9b, _0x2eb300, _0x5887cb, _0x1398b0, _0x5394ac, _0x17ed18, _0x53cf02, _0x50cd9d, _0x4cfd45, _0x5f0314, _0x223381, _0x27f33d, _0x202216, _0x4be21d), this["unitID"] = _0x3f8a9b, this[_0x281cc2(151)] = _0x5887cb, this[_0x281cc2(403)] = _0x1bc851;
  }
  [_0x2dad69(372)]() {
    var _0x11994e = _0x2dad69;
    const _0x54f482 = super[_0x11994e(372)]();
    return _0x54f482[_0x11994e(318)] = (_0x2a90da) => this[_0x11994e(403)][_0x11994e(313)](_0x2a90da), _0x54f482;
  }
  async [_0x2dad69(234)]() {
    var _0xe68e78 = _0x2dad69;
    const _0x503cc4 = await super[_0xe68e78(234)]();
    return this["disposeWithMe"](this[_0xe68e78(893)]["onCommandExecuted"]((_0x1f812a, _0x3f2fb0) => {
      var _0x53c892 = _0xe68e78;
      if (_0x1f812a["type"] !== Ms["MUTATION"] || _0x3f2fb0 != null && _0x3f2fb0[_0x53c892(703)] || _0x3f2fb0 != null && _0x3f2fb0[_0x53c892(674)]) return;
      const _0x366a16 = _0x1f812a["params"];
      if ((_0x366a16 == null ? void 0 : _0x366a16[_0x53c892(814)]) !== this[_0x53c892(557)]) return;
      const _0x1fa930 = _0x1f812a, _0x2ed1ca = this[_0x53c892(526)][_0x53c892(824)][_0x53c892(139)](this[_0x53c892(526)][_0x53c892(824)][_0x53c892(795)]()["COMPRESS_MUTATION_SEND"])([_0x1fa930], this["_univerInstanceService"]) || [_0x1fa930];
      this[_0x53c892(627)](_0x2ed1ca[0]);
    })), _0x503cc4;
  }
};
St = Pt([$(3, Inject(Injector)), $(4, Inject(pr)), $(5, Inject(Fn)), $(6, Inject(Jt)), $(7, Inject(it)), $(8, Inject(ve)), $(9, vr), $(10, yt), $(11, Ls), $(12, eC), $(13, Optional(_t)), $(14, Optional(J2))], St);
var Fs = createIdentifier(_0x2dad69(902));
function js(_0xe3ac87) {
  var _0x74709e = _0x2dad69, _0xb9b72, _0xae390f, _0x54bf43, _0x54f5ab, _0x545281;
  const _0xf84a55 = _0xe3ac87[_0x74709e(163)], _0x3027a4 = JSON[_0x74709e(303)](_0xf84a55);
  switch (_0x3027a4[_0x74709e(315)]) {
    case j["HEARTBEAT"]:
    case j[_0x74709e(282)]: {
      const _0x55a0fb = _0x3027a4[_0x74709e(460)];
      return { ..._0x3027a4, "data": _0x55a0fb, "cmd": _0x3027a4["cmd"] };
    }
    case j[_0x74709e(509)]: {
      const _0x5a5d1b = _0x3027a4[_0x74709e(427)];
      return { ..._0x3027a4, "data": _0x5a5d1b, "cmd": _0x3027a4[_0x74709e(315)] };
    }
    case j["RECV"]: {
      const _0x5665d1 = _0x3027a4["collaMsg"];
      switch (_0x5665d1[_0x74709e(589)]) {
        case Rm[_0x74709e(338)]:
          return { ..._0x3027a4, "data": { ..._0x5665d1, "data": (_0xb9b72 = _0x5665d1[_0x74709e(316)]) == null ? void 0 : _0xb9b72["cs"] }, "cmd": _0x3027a4[_0x74709e(315)] };
        case Rm["CHANGESET_ACK"]:
          return { ..._0x3027a4, "data": { ..._0x5665d1, "data": (_0xae390f = _0x5665d1[_0x74709e(267)]) == null ? void 0 : _0xae390f["cs"] }, "cmd": _0x3027a4[_0x74709e(315)] };
        case Rm[_0x74709e(891)]:
          return { ..._0x3027a4, "data": { ..._0x5665d1, "data": (_0x54bf43 = _0x5665d1[_0x74709e(334)]) == null ? void 0 : _0x54bf43["cs"] }, "cmd": _0x3027a4[_0x74709e(315)] };
        case Rm[_0x74709e(535)]:
          return { ..._0x3027a4, "data": { ..._0x5665d1, "data": (_0x54f5ab = _0x5665d1["csRejEvent"]) == null ? void 0 : _0x54f5ab["cs"] }, "cmd": _0x3027a4["cmd"] };
        case Rm[_0x74709e(410)]:
          return { ..._0x3027a4, "data": { ..._0x5665d1, "data": (_0x545281 = _0x5665d1["csShouldRetryEvent"]) == null ? void 0 : _0x545281["cs"] }, "cmd": _0x3027a4[_0x74709e(315)] };
        case Rm[_0x74709e(142)]:
          return { ..._0x3027a4, "data": { ..._0x5665d1, "data": _0x5665d1[_0x74709e(413)] }, "cmd": _0x3027a4[_0x74709e(315)] };
        case Rm[_0x74709e(169)]:
          return { ..._0x3027a4, "data": { ..._0x5665d1, "data": _0x5665d1[_0x74709e(192)] }, "cmd": _0x3027a4[_0x74709e(315)] };
        case Rm["USERS_LEAVE"]:
          return { ..._0x3027a4, "data": { ..._0x5665d1, "data": _0x5665d1[_0x74709e(387)] }, "cmd": _0x3027a4[_0x74709e(315)] };
        case Rm[_0x74709e(444)]:
          return { ..._0x3027a4, "data": { ..._0x5665d1, "data": _0x5665d1[_0x74709e(622)] }, "cmd": _0x3027a4[_0x74709e(315)] };
        case Rm["LIVESHARE_FETCH_OPERATIONS"]:
        case Rm[_0x74709e(620)]:
          return { ..._0x3027a4, "data": { ..._0x5665d1, "data": _0x5665d1["liveShareOperation"] }, "cmd": _0x3027a4[_0x74709e(315)] };
        case Rm[_0x74709e(689)]:
          return { ..._0x3027a4, "data": { ..._0x5665d1, "data": _0x5665d1[_0x74709e(622)] }, "cmd": _0x3027a4["cmd"] };
        case Rm["MSG_FOR_ERROR"]:
          return { ..._0x3027a4, "data": _0x5665d1, "cmd": _0x3027a4[_0x74709e(315)] };
        case Rm[_0x74709e(739)]:
          return { ..._0x3027a4, "data": { ..._0x5665d1, "data": _0x5665d1[_0x74709e(858)] }, "cmd": _0x3027a4[_0x74709e(315)] };
        case Rm[_0x74709e(146)]:
          return { ..._0x3027a4, "data": { ..._0x5665d1, "data": _0x5665d1[_0x74709e(386)] }, "cmd": _0x3027a4[_0x74709e(315)] };
        case Rm[_0x74709e(853)]:
          return { ..._0x3027a4, "data": { ..._0x5665d1, "data": _0x5665d1[_0x74709e(229)] }, "cmd": _0x3027a4["cmd"] };
        case Rm[_0x74709e(690)]:
          return { ..._0x3027a4, "data": { ..._0x5665d1, "data": _0x5665d1[_0x74709e(889)] }, "cmd": _0x3027a4["cmd"] };
        default:
          return _0x3027a4;
      }
    }
    default:
      return _0x3027a4;
  }
}
function Vs(_0x213b57) {
  var _0x32c94f = _0x2dad69;
  switch (_0x213b57[_0x32c94f(315)]) {
    case j[_0x32c94f(777)]:
    case j[_0x32c94f(282)]:
      return JSON["stringify"]({ "cmd": _0x213b57[_0x32c94f(315)], "routeKey": _0x213b57["routeKey"] });
    case j[_0x32c94f(261)]: {
      let _0x538937;
      switch (_0x213b57[_0x32c94f(163)]["eventID"]) {
        case Rm[_0x32c94f(142)]: {
          _0x538937 = { "eventID": Rm[_0x32c94f(142)], "updateCursorEvent": _0x213b57["data"][_0x32c94f(163)] };
          break;
        }
        case Rm[_0x32c94f(614)]: {
          _0x538937 = { "eventID": Rm[_0x32c94f(614)], "leaveEvent": _0x213b57[_0x32c94f(163)][_0x32c94f(163)] };
          break;
        }
        case Rm[_0x32c94f(169)]: {
          _0x538937 = { "eventID": Rm["USERS_ENTER"], "joinEvent": _0x213b57[_0x32c94f(163)][_0x32c94f(163)] };
          break;
        }
        case Rm["LIVESHARE_NEW_HOST"]: {
          _0x538937 = { "eventID": Rm[_0x32c94f(444)], "liveShareNewHost": _0x213b57[_0x32c94f(163)][_0x32c94f(163)] };
          break;
        }
        case Rm[_0x32c94f(620)]: {
          _0x538937 = { "eventID": Rm[_0x32c94f(620)], "liveShareOperation": _0x213b57[_0x32c94f(163)][_0x32c94f(163)] };
          break;
        }
        case Rm[_0x32c94f(689)]: {
          _0x538937 = { "eventID": Rm[_0x32c94f(689)], "liveShareTerminate": _0x213b57[_0x32c94f(163)][_0x32c94f(163)] };
          break;
        }
        case Rm["LIVESHARE_REQUEST_HOST"]: {
          _0x538937 = { "eventID": Rm["LIVESHARE_REQUEST_HOST"], "liveShareRequestHost": _0x213b57[_0x32c94f(163)]["data"] };
          break;
        }
        case Rm[_0x32c94f(747)]: {
          _0x538937 = { "eventID": Rm[_0x32c94f(747)] };
          break;
        }
        default:
          _0x538937 = { "eventID": _0x213b57["data"][_0x32c94f(589)] };
      }
      return JSON[_0x32c94f(878)]({ "cmd": _0x213b57["cmd"], "routeKey": _0x213b57["routeKey"], "collaMsg": _0x538937 });
    }
    case j[_0x32c94f(509)]:
      return JSON["stringify"]({ "cmd": _0x213b57["cmd"], "routeKey": _0x213b57["routeKey"], "joinReq": _0x213b57[_0x32c94f(163)] });
    case j["LEAVE"]:
      return JSON[_0x32c94f(878)]({ "cmd": _0x213b57[_0x32c94f(315)], "routeKey": _0x213b57[_0x32c94f(645)], "leaveReq": _0x213b57["data"] });
    default:
      throw new Error(_0x32c94f(870));
  }
}
var Gs = Object[_0x2dad69(498)];
var Ws = (_0x2033ae, _0x16df89, _0x518136, _0x16ef91) => {
  var _0x3eb238 = _0x2dad69;
  for (var _0x4619cc = _0x16ef91 > 1 ? void 0 : _0x16ef91 ? Gs(_0x16df89, _0x518136) : _0x16df89, _0x3df2f6 = _0x2033ae[_0x3eb238(208)] - 1, _0x1dc930; _0x3df2f6 >= 0; _0x3df2f6--) (_0x1dc930 = _0x2033ae[_0x3df2f6]) && (_0x4619cc = _0x1dc930(_0x4619cc) || _0x4619cc);
  return _0x4619cc;
};
var ye = (_0x15ae8e, _0x49f77c) => (_0x136ceb, _0x3a821a) => _0x49f77c(_0x136ceb, _0x3a821a, _0x15ae8e);
var Oi = createIdentifier(_0x2dad69(281));
function Ys(_0xfc4d68, _0x5466c2, _0x177580) {
  var _0x3fcb5c = _0x2dad69;
  return _0xfc4d68 + "/" + _0x5466c2 + "/unit/" + _0x177580 + _0x3fcb5c(306);
}
var Wt = class extends Ve {
  constructor(_0x3750f7, _0x5d4d74, _0x30b2f6, _0x4c1d9b, _0x41cccb) {
    var _0x9e56f4 = _0x2dad69;
    super(), this["_injector"] = _0x3750f7, this["_httpService"] = _0x5d4d74, this[_0x9e56f4(633)] = _0x30b2f6, this[_0x9e56f4(211)] = _0x4c1d9b, this[_0x9e56f4(534)] = _0x41cccb;
  }
  [_0x2dad69(778)](_0x20fcfa) {
    var _0x352610 = _0x2dad69;
    const _0x35c56d = this[_0x352610(307)][_0x352610(126)](ze);
    if (!_0x35c56d) throw new Error(_0x352610(804));
    const _0x240cca = _0x35c56d[_0x352610(758)](_0x20fcfa);
    if (!_0x240cca) throw new Error("[CollaborationSocketService]: failed to create socket!");
    const _0x3fba2c = new ao(), _0x229aed = new Subject();
    _0x3fba2c[_0x352610(221)](_0x240cca[_0x352610(154)][_0x352610(461)]((_0xc2df30) => _0x229aed[_0x352610(836)](_0xc2df30))), _0x3fba2c["add"](We(() => _0x229aed[_0x352610(681)]()));
    const _0x569efb = new Subject();
    _0x3fba2c["add"](_0x240cca[_0x352610(426)]["subscribe"]((_0x45b47f) => _0x569efb[_0x352610(836)](_0x45b47f))), _0x3fba2c[_0x352610(221)](We(() => _0x569efb["complete"]()));
    const _0x39de67 = new Subject();
    _0x3fba2c["add"](_0x240cca[_0x352610(760)][_0x352610(461)]((_0x2eded5) => {
      const _0x5d883e = js(_0x2eded5);
      _0x39de67["next"](_0x5d883e);
    })), _0x3fba2c[_0x352610(221)](We(() => _0x39de67[_0x352610(681)]()));
    let _0x481a70;
    const _0x220493 = () => {
      var _0x6e3473 = _0x352610;
      _0x569efb[_0x6e3473(836)](new Event(_0x6e3473(648))), _0x229aed[_0x6e3473(836)](new Event("connection error")), _0x481a70[_0x6e3473(453)]();
    };
    return _0x481a70 = { "memberID": "", "close$": _0x229aed["asObservable"](), "error$": _0x569efb[_0x352610(475)](), "open$": _0x240cca[_0x352610(632)], "message$": _0x39de67["asObservable"](), "send": (_0x5b1584) => {
      var _0x17031e = _0x352610;
      if (_0x5b1584["cmd"] === j[_0x17031e(261)]) {
        if (_0x5b1584[_0x17031e(163)][_0x17031e(589)] === Rm[_0x17031e(631)]) {
          this[_0x17031e(279)](_0x481a70, _0x5b1584[_0x17031e(163)])[_0x17031e(849)]((_0x276fe6) => {
            var _0x1150fe = _0x17031e;
            this[_0x1150fe(211)][_0x1150fe(355)](_0x276fe6), _0x220493();
          });
          return;
        }
        if (_0x5b1584[_0x17031e(163)][_0x17031e(589)] === Rm[_0x17031e(219)]) {
          const _0x69934d = _0x5b1584[_0x17031e(163)];
          this[_0x17031e(881)](_0x69934d)["then"]((_0x51bb2e) => {
            var _0x288006 = _0x17031e;
            _0x39de67["next"]({ "cmd": j[_0x288006(420)], "code": pe["OK"], "routeKey": _0x69934d[_0x288006(163)][_0x288006(557)], "routeType": "", "data": { "eventID": Rm[_0x288006(766)], "data": { "changesets": _0x51bb2e } } });
          })["catch"]((_0x4b59ab) => {
            this["_logService"]["error"](_0x4b59ab), _0x220493();
          });
          return;
        }
      }
      _0x240cca["send"](Vs(_0x5b1584));
    }, "close": () => {
      var _0x598d9e = _0x352610;
      _0x240cca["close"](), _0x3fba2c[_0x598d9e(114)]();
    } }, _0x481a70;
  }
  async [_0x2dad69(279)](_0x28bded, _0x2c9c3f) {
    var _0x34156e = _0x2dad69, _0x3d3975;
    const { unitType: _0x1fd95c, unitID: _0x2f741c, changeset: _0x53a2f7 } = _0x2c9c3f[_0x34156e(163)], _0x2d0dba = { "unitID": _0x2f741c, "memberID": _0x28bded[_0x34156e(118)], "type": _0x1fd95c, "changeset": wd(_0x53a2f7) }, _0x4716c1 = this[_0x34156e(633)][_0x34156e(599)](K), _0x142f09 = Ys((_0x3d3975 = _0x4716c1 == null ? void 0 : _0x4716c1[_0x34156e(454)]) != null ? _0x3d3975 : Os, _0x1fd95c, _0x2f741c);
    try {
      await this[_0x34156e(349)][_0x34156e(821)](_0x142f09, { "body": _0x2d0dba });
    } catch (_0x260d68) {
      throw this["_logService"][_0x34156e(355)](_0x34156e(571), _0x34156e(340)), _0x260d68;
    }
  }
  async [_0x2dad69(881)](_0x481da5) {
    var _0x5826e4 = _0x2dad69;
    const { unitID: _0x223684, from: _0x5210d4, to: _0x14a11d, unitType: _0x2e2ea3 } = _0x481da5[_0x5826e4(163)];
    return (await this[_0x5826e4(534)][_0x5826e4(362)]({ "metadata": void 0 }, { "unitID": _0x223684, "type": _0x2e2ea3, "from": _0x5210d4, "to": _0x14a11d }))["changesets"][_0x5826e4(864)]((_0x3108d4) => ((_0x3108d4[_0x5826e4(825)] === null || _0x3108d4[_0x5826e4(825)] === void 0) && (_0x3108d4[_0x5826e4(825)] = []), _0x3108d4));
  }
};
Wt = Ws([ye(0, Inject(Injector)), ye(1, Inject(x)), ye(2, ic), ye(3, yt), ye(4, gr)], Wt);
var Ks = Object[_0x2dad69(498)];
var qs = (_0x4a8b7f, _0x5a848b, _0x273f6c, _0x35ee2f) => {
  var _0x56f26 = _0x2dad69;
  for (var _0x885aa1 = _0x35ee2f > 1 ? void 0 : _0x35ee2f ? Ks(_0x5a848b, _0x273f6c) : _0x5a848b, _0x43771d = _0x4a8b7f[_0x56f26(208)] - 1, _0x37a88d; _0x43771d >= 0; _0x43771d--) (_0x37a88d = _0x4a8b7f[_0x43771d]) && (_0x885aa1 = _0x37a88d(_0x885aa1) || _0x885aa1);
  return _0x885aa1;
};
var Re2 = (_0x3f7500, _0x3ae3da) => (_0x521be2, _0x4893c3) => _0x3ae3da(_0x521be2, _0x4893c3, _0x3f7500);
var we2 = class extends Ve {
  constructor(_0x3e9160, _0x6b160, _0x51df2b, _0x464c11, _0x13c3e5, _0x571bee) {
    var _0x4afcaf = _0x2dad69;
    super(), D(this, _0x4afcaf(759), new BehaviorSubject(void 0)), D(this, _0x4afcaf(500), this[_0x4afcaf(759)][_0x4afcaf(475)]()), D(this, _0x4afcaf(499), null), D(this, _0x4afcaf(623), /* @__PURE__ */ new Map()), D(this, _0x4afcaf(650), new BehaviorSubject(me[_0x4afcaf(108)])), D(this, _0x4afcaf(289), this["_status$"]["asObservable"]()), D(this, _0x4afcaf(135), false), D(this, "_retryConnectingTimer"), D(this, _0x4afcaf(677), 0), D(this, _0x4afcaf(373)), D(this, "_timeoutTimer"), this[_0x4afcaf(307)] = _0x3e9160, this[_0x4afcaf(211)] = _0x6b160, this[_0x4afcaf(633)] = _0x51df2b, this["_socketService"] = _0x464c11, this[_0x4afcaf(634)] = _0x13c3e5, this[_0x4afcaf(459)] = _0x571bee, this[_0x4afcaf(132)]();
  }
  get ["_socket"]() {
    var _0x215549 = _0x2dad69;
    return this[_0x215549(759)][_0x215549(786)]();
  }
  [_0x2dad69(132)]() {
    var _0x1c369c = _0x2dad69;
    this["_networkConditionService"] && this[_0x1c369c(657)](this[_0x1c369c(459)][_0x1c369c(283)][_0x1c369c(461)]((_0xb4ec9f) => {
      var _0x18e6bd = _0x1c369c;
      _0xb4ec9f && !this[_0x18e6bd(422)] && this[_0x18e6bd(682)](), _0xb4ec9f || this[_0x18e6bd(339)]();
    }));
  }
  [_0x2dad69(114)]() {
    var _0x5b95bf = _0x2dad69;
    super["dispose"](), this[_0x5b95bf(692)](), this[_0x5b95bf(561)](), this[_0x5b95bf(469)](), this[_0x5b95bf(623)]["forEach"]((_0x170781) => _0x170781["dispose"]()), this[_0x5b95bf(623)]["clear"](), this[_0x5b95bf(650)][_0x5b95bf(681)]();
  }
  async [_0x2dad69(649)](_0x3ef72a) {
    var _0x5714c4 = _0x2dad69;
    if (this[_0x5714c4(623)][_0x5714c4(412)](_0x3ef72a)) return this[_0x5714c4(623)][_0x5714c4(126)](_0x3ef72a);
    this["_tryEnsureSocket"]();
    const _0x3690bf = this[_0x5714c4(307)][_0x5714c4(792)](mt, _0x3ef72a, this[_0x5714c4(759)][_0x5714c4(475)]());
    return this[_0x5714c4(623)][_0x5714c4(130)](_0x3ef72a, _0x3690bf), _0x3690bf;
  }
  [_0x2dad69(326)](_0xabcf49) {
    var _0x3237c5 = _0x2dad69, _0x1b4041;
    const _0x3dd2af = this[_0x3237c5(623)]["get"](_0xabcf49);
    _0x3dd2af && (this[_0x3237c5(623)][_0x3237c5(277)](_0xabcf49), _0x3dd2af[_0x3237c5(453)]()), this[_0x3237c5(623)][_0x3237c5(248)] || (_0x1b4041 = this[_0x3237c5(422)]) == null || _0x1b4041[_0x3237c5(453)]();
  }
  [_0x2dad69(682)]() {
    var _0x2e5f70 = _0x2dad69;
    this[_0x2e5f70(677)] = 0, this["_clearRetryConnectingTimer"](), this["_tryReconnect"]();
  }
  [_0x2dad69(692)]() {
    var _0x4587e1 = _0x2dad69;
    this["_retryConnectingTimer"] != null && (clearTimeout(this[_0x4587e1(592)]), this["_retryConnectingTimer"] = null);
  }
  async [_0x2dad69(715)]() {
    var _0x2ee81f = _0x2dad69, _0x3ea726;
    const _0x492381 = this[_0x2ee81f(633)]["getConfig"](K), _0x3558e2 = (_0x3ea726 = _0x492381 == null ? void 0 : _0x492381[_0x2ee81f(241)]) != null ? _0x3ea726 : Es, _0x991eec = await this["_socketService"]["createSocket"](_0x3558e2);
    return this[_0x2ee81f(499)] = _0x991eec, _0x991eec;
  }
  async [_0x2dad69(550)]() {
    var _0x1948bf = _0x2dad69, _0x1994a2, _0x33cdd9;
    try {
      const _0x433e2f = (_0x33cdd9 = (_0x1994a2 = this["_socket"]) != null ? _0x1994a2 : this[_0x1948bf(499)]) != null ? _0x33cdd9 : await this["_createSocket"]();
      if (_0x433e2f) {
        const _0xeab674 = _0x433e2f[_0x1948bf(629)];
        _0x433e2f[_0x1948bf(629)] = (_0x1125b8) => (this["_rescheduleHeartbeat"](), _0xeab674[_0x1948bf(735)](_0x433e2f, [_0x1125b8])), _0x433e2f[_0x1948bf(760)][_0x1948bf(461)]((_0x4f1adb) => this[_0x1948bf(779)](_0x433e2f, _0x4f1adb)), _0x433e2f[_0x1948bf(426)]["pipe"](take(1))["subscribe"]((_0xcb8c76) => this[_0x1948bf(211)]["error"](_0x1948bf(565), _0xcb8c76)), _0x433e2f[_0x1948bf(632)]["pipe"](take(1))[_0x1948bf(461)](() => {
          this["_onConnectionOpen"](_0x433e2f);
        }), _0x433e2f["close$"][_0x1948bf(348)](take(1))[_0x1948bf(461)]((_0x14d405) => {
          var _0x256ada = _0x1948bf;
          this[_0x256ada(211)][_0x256ada(210)](_0x256ada(866), "socket close", _0x14d405), this[_0x256ada(527)]();
        });
      }
    } catch (_0x440631) {
      this[_0x1948bf(211)][_0x1948bf(355)](_0x440631), this[_0x1948bf(527)]();
    }
  }
  [_0x2dad69(406)](_0x5af5d8) {
    var _0x40c287 = _0x2dad69;
    this[_0x40c287(211)][_0x40c287(210)]("[CollaborationSessionService]", _0x40c287(708)), _0x5af5d8["send"]({ "cmd": j[_0x40c287(282)] }), this[_0x40c287(698)]();
  }
  [_0x2dad69(339)]() {
    var _0x27b858 = _0x2dad69;
    this[_0x27b858(135)] = false, this[_0x27b858(499)] = null, this[_0x27b858(650)][_0x27b858(836)](me["OFFLINE"]), this[_0x27b858(759)][_0x27b858(836)](null), this[_0x27b858(561)](), this[_0x27b858(469)]();
  }
  ["_onConnectionFailed"]() {
    var _0x16c061 = _0x2dad69, _0x3b07e3;
    this[_0x16c061(339)](), this[_0x16c061(677)] < ((_0x3b07e3 = this["_configService"][_0x16c061(599)](gs)) != null ? _0x3b07e3 : Ts) ? (this["_collaborationUIEventService"]["emitEvent"]({ "id": re[_0x16c061(773)] }), this[_0x16c061(818)]()) : this["_collaborationUIEventService"][_0x16c061(194)]({ "id": re[_0x16c061(266)] });
  }
  [_0x2dad69(818)]() {
    var _0x51b8af = _0x2dad69, _0xc1a137;
    const _0x485bb3 = this["_retryCount"], _0x24f855 = this["_configService"]["getConfig"](K), _0x5a7be2 = _0x485bb3 === 0 ? 0 : ((_0xc1a137 = _0x24f855 == null ? void 0 : _0x24f855[_0x51b8af(803)]) != null ? _0xc1a137 : Ss) * 2 ** _0x485bb3;
    this[_0x51b8af(592)] = setTimeout(() => {
      var _0x55f00b = _0x51b8af;
      clearTimeout(this[_0x55f00b(592)]), this["_retryConnectingTimer"] = null, this[_0x55f00b(550)]();
    }, _0x5a7be2), this[_0x51b8af(677)] += 1;
  }
  ["_onMessage"](_0x24e91f, _0x591afb) {
    var _0xcb816f = _0x2dad69;
    const { cmd: _0x4d753d } = _0x591afb;
    _0x4d753d === j["HELLO"] && !this[_0xcb816f(135)] && (_0x24e91f["memberID"] = _0x591afb[_0xcb816f(163)][_0xcb816f(118)], this["_socket$"][_0xcb816f(836)](_0x24e91f), this[_0xcb816f(650)][_0xcb816f(836)](me[_0xcb816f(365)]), this[_0xcb816f(135)] = true, this[_0xcb816f(499)] = null), _0x4d753d === j["HEARTBEAT"] && this[_0xcb816f(561)](), this[_0xcb816f(698)]();
  }
  [_0x2dad69(698)]() {
    var _0x3bc79c = _0x2dad69, _0x88ff4c;
    this[_0x3bc79c(469)](), this[_0x3bc79c(373)] = setTimeout(() => this[_0x3bc79c(601)](), (_0x88ff4c = this[_0x3bc79c(633)][_0x3bc79c(599)](ms)) != null ? _0x88ff4c : Is);
  }
  [_0x2dad69(601)]() {
    var _0xb23b24 = _0x2dad69;
    this["_socket"][_0xb23b24(629)]({ "cmd": j[_0xb23b24(777)] }), this["_waitForHeartbeatResponse"]();
  }
  [_0x2dad69(659)]() {
    var _0x496c66 = _0x2dad69, _0x168f02;
    this[_0x496c66(847)] = setTimeout(() => this[_0x496c66(527)](), (_0x168f02 = this[_0x496c66(633)][_0x496c66(599)](di)) != null ? _0x168f02 : fi);
  }
  [_0x2dad69(469)]() {
    var _0x220b8d = _0x2dad69;
    this[_0x220b8d(373)] != null && (clearTimeout(this[_0x220b8d(373)]), this[_0x220b8d(373)] = null);
  }
  [_0x2dad69(561)]() {
    var _0x1c7355 = _0x2dad69;
    this[_0x1c7355(847)] != null && (clearTimeout(this["_timeoutTimer"]), this["_timeoutTimer"] = null);
  }
};
we2 = qs([Re2(0, Inject(Injector)), Re2(1, yt), Re2(2, ic), Re2(3, Oi), Re2(4, Inject(ve)), Re2(5, Optional(Fs))], we2);
var zs = Object[_0x2dad69(498)];
var Js = (_0x188095, _0x41fdd6, _0x4774c3, _0x5dc901) => {
  var _0x1f3b2f = _0x2dad69;
  for (var _0xda6db4 = _0x5dc901 > 1 ? void 0 : _0x5dc901 ? zs(_0x41fdd6, _0x4774c3) : _0x41fdd6, _0x434cdf = _0x188095[_0x1f3b2f(208)] - 1, _0x295341; _0x434cdf >= 0; _0x434cdf--) (_0x295341 = _0x188095[_0x434cdf]) && (_0xda6db4 = _0x295341(_0xda6db4) || _0xda6db4);
  return _0xda6db4;
};
var Be = (_0x422e70, _0x3a21de) => (_0x14c77e, _0xc70ee6) => _0x3a21de(_0x14c77e, _0xc70ee6, _0x422e70);
var nt = class extends h1 {
  constructor(_0xb82667, _0x3f1d6e, _0x311010, _0x473f9b) {
    var _0x4b662d = _0x2dad69, _0xc704a2;
    super(), D(this, _0x4b662d(240), /* @__PURE__ */ new Map()), D(this, "_entityInit$", new Subject()), D(this, "entityInit$", this[_0x4b662d(250)][_0x4b662d(475)]()), this[_0x4b662d(307)] = _0xb82667, this[_0x4b662d(549)] = _0x3f1d6e, this[_0x4b662d(633)] = _0x311010, this["_univerInstanceService"] = _0x473f9b, ((_0xc704a2 = this[_0x4b662d(633)][_0x4b662d(599)](K)) == null ? void 0 : _0xc704a2[_0x4b662d(609)]) !== false && this[_0x4b662d(234)]();
  }
  ["dispose"]() {
    var _0x5ea84d = _0x2dad69;
    super[_0x5ea84d(114)](), this[_0x5ea84d(240)][_0x5ea84d(817)]((_0x3fac9d) => _0x3fac9d[_0x5ea84d(114)]()), this["_entities"]["clear"]();
  }
  [_0x2dad69(711)](_0x3b27af) {
    var _0x3f3646 = _0x2dad69, _0x13e963;
    return (_0x13e963 = this["_entities"][_0x3f3646(126)](_0x3b27af)) != null ? _0x13e963 : null;
  }
  [_0x2dad69(752)](_0x217e1f) {
    var _0x106707 = _0x2dad69;
    const _0x140a35 = this[_0x106707(711)](_0x217e1f);
    return _0x140a35 ? of(_0x140a35) : this["_entityInit$"]["pipe"](filter((_0x4117ad) => _0x4117ad["unitID"] === _0x217e1f));
  }
  [_0x2dad69(325)](_0x2175dc) {
    var _0x358210 = _0x2dad69;
    return firstValueFrom(this[_0x358210(752)](_0x2175dc)["pipe"](map(() => {
    })));
  }
  [_0x2dad69(234)]() {
    var _0x436365 = _0x2dad69;
    this[_0x436365(263)][_0x436365(574)](we["UNIVER_SHEET"])[_0x436365(348)](takeUntil(this["dispose$"]), delay(16))["subscribe"](async (_0x45ce03) => {
      var _0xa484e1 = _0x436365;
      const _0x49a9e4 = _0x45ce03["getUnitId"](), _0x35e6f8 = await this[_0xa484e1(191)](_0x49a9e4, Q[_0xa484e1(370)]);
      this[_0xa484e1(240)][_0xa484e1(130)](_0x49a9e4, _0x35e6f8);
    }), this[_0x436365(263)]["getTypeOfUnitAdded$"](we[_0x436365(744)])["pipe"](takeUntil(this[_0x436365(730)]), delay(16))[_0x436365(348)](filter((_0x2bb96d) => !_0x2bb96d["getUnitId"]()["startsWith"]("__")))["subscribe"](async (_0xd21a3e) => {
      var _0x336cf5 = _0x436365;
      const _0xdadb9 = _0xd21a3e[_0x336cf5(309)](), _0x172b09 = await this[_0x336cf5(191)](_0xdadb9, Q["UNIVER_DOC"]);
      this[_0x336cf5(240)]["set"](_0xdadb9, _0x172b09);
    }), merge(this["_univerInstanceService"][_0x436365(809)](we[_0x436365(370)]), this["_univerInstanceService"]["getTypeOfUnitDisposed$"](we[_0x436365(744)]))[_0x436365(348)](takeUntil(this[_0x436365(730)]))["subscribe"]((_0x5617a7) => {
      var _0x47d5a3 = _0x436365;
      const _0x3013c3 = _0x5617a7[_0x47d5a3(309)](), _0x54454f = this[_0x47d5a3(240)][_0x47d5a3(126)](_0x3013c3);
      _0x54454f && (_0x54454f[_0x47d5a3(114)](), this[_0x47d5a3(240)][_0x47d5a3(277)](_0x3013c3));
    });
  }
  async ["_startCollaboration"](_0x289a1a, _0x58988f) {
    var _0x5ec48e = _0x2dad69;
    const _0x2bfd79 = await this["_collabSessionService"][_0x5ec48e(649)](_0x289a1a), _0xca9bce = this[_0x5ec48e(307)][_0x5ec48e(792)](this[_0x5ec48e(591)](_0x58988f), _0x289a1a, _0x58988f, _0x2bfd79);
    return await _0xca9bce["init"](), this["_entityInit$"][_0x5ec48e(836)](_0xca9bce), _0xca9bce;
  }
  ["_getCtorByUniverType"](_0xa899d6) {
    var _0x1d0845 = _0x2dad69;
    switch (_0xa899d6) {
      case Q[_0x1d0845(744)]:
        return It;
      case Q["UNIVER_SHEET"]:
        return St;
      default:
        throw new Error(_0x1d0845(704) + _0xa899d6);
    }
  }
};
nt = Js([Be(0, Inject(Injector)), Be(1, Inject(we2)), Be(2, ic), Be(3, vr)], nt);
var Xs = Object["getOwnPropertyDescriptor"];
var Zs = (_0x468d88, _0x502e42, _0x315a2a, _0x371b56) => {
  var _0x5cdc00 = _0x2dad69;
  for (var _0x1d01e9 = _0x371b56 > 1 ? void 0 : _0x371b56 ? Xs(_0x502e42, _0x315a2a) : _0x502e42, _0x531924 = _0x468d88[_0x5cdc00(208)] - 1, _0x1ac029; _0x531924 >= 0; _0x531924--) (_0x1ac029 = _0x468d88[_0x531924]) && (_0x1d01e9 = _0x1ac029(_0x1d01e9) || _0x1d01e9);
  return _0x1d01e9;
};
var Yt = (_0x1c9eb3, _0xf2aaf5) => (_0x387d16, _0x3593f7) => _0xf2aaf5(_0x387d16, _0x3593f7, _0x1c9eb3);
var Qs = "DEFAULT_FILE_NAME";
var en = _0x2dad69(604);
var gt = class extends Ve {
  constructor(_0xd37f6e, _0x1666e3) {
    var _0x9d70ff = _0x2dad69;
    super(), this[_0x9d70ff(263)] = _0xd37f6e, this["_configService"] = _0x1666e3, this[_0x9d70ff(234)]();
  }
  ["_init"]() {
    var _0x1ad4ed = _0x2dad69;
    this[_0x1ad4ed(657)](this[_0x1ad4ed(263)][_0x1ad4ed(827)][_0x1ad4ed(461)](() => {
      var _0x16edfe = _0x1ad4ed, _0x3f436b;
      const _0x1fb9c5 = this[_0x16edfe(263)][_0x16edfe(855)]();
      let _0x2359b2 = (_0x3f436b = this[_0x16edfe(633)][_0x16edfe(599)](Qs)) != null ? _0x3f436b : en;
      _0x1fb9c5 instanceof ws && (_0x2359b2 = _0x1fb9c5["name"]), document["title"] = _0x2359b2;
    }));
  }
};
gt = Zs([Yt(0, vr), Yt(1, ic)], gt);
var tn = Object[_0x2dad69(498)];
var sn = (_0x1345ae, _0x164f5e, _0x4d8340, _0x27c2ed) => {
  var _0x51d11e = _0x2dad69;
  for (var _0x56ad23 = _0x27c2ed > 1 ? void 0 : _0x27c2ed ? tn(_0x164f5e, _0x4d8340) : _0x164f5e, _0x19fdf1 = _0x1345ae[_0x51d11e(208)] - 1, _0x4a3846; _0x19fdf1 >= 0; _0x19fdf1--) (_0x4a3846 = _0x1345ae[_0x19fdf1]) && (_0x56ad23 = _0x4a3846(_0x56ad23) || _0x56ad23);
  return _0x56ad23;
};
var dt = (_0x131a0e, _0x2c8319) => (_0x1fea9b, _0x197f9f) => _0x2c8319(_0x1fea9b, _0x197f9f, _0x131a0e);
var rt = class {
  constructor(_0x33f1ab, _0x5ebbc3, _0x4db698) {
    var _0x325869 = _0x2dad69;
    this[_0x325869(633)] = _0x33f1ab, this[_0x325869(349)] = _0x5ebbc3, this[_0x325869(480)] = _0x4db698, this[_0x325869(408)]();
  }
  ["init"]() {
    var _0x516ca6 = _0x2dad69;
    this["_httpService"][_0x516ca6(416)]({ "priority": 1, "interceptor": (_0x143f47, _0x33e2eb) => _0x33e2eb(_0x143f47)["pipe"](concatMap(async (_0x5165cb) => {
      var _0x362cfd = _0x516ca6;
      const _0x52da0b = _0x5165cb;
      if (_0x52da0b[_0x362cfd(136)] === 401) {
        if (typeof window > "u") throw new Error(_0x362cfd(368));
        if (window[_0x362cfd(470)](this["localeService"]["t"](_0x362cfd(299)))) {
          const _0x34d1af = window[_0x362cfd(245)](window[_0x362cfd(861)][_0x362cfd(618)]);
          window["location"][_0x362cfd(618)] = this["_getLoginPath"]() + _0x362cfd(366) + _0x34d1af;
        }
      }
      return _0x52da0b;
    })) });
  }
  [_0x2dad69(409)]() {
    var _0x22c1c4 = _0x2dad69, _0x1402f0;
    const _0x1d3ee6 = this[_0x22c1c4(633)][_0x22c1c4(599)](K);
    return (_0x1402f0 = _0x1d3ee6 == null ? void 0 : _0x1d3ee6[_0x22c1c4(237)]) != null ? _0x1402f0 : Rs2;
  }
};
rt = sn([dt(0, ic), dt(1, Inject(x)), dt(2, Inject(Fn))], rt);
function _0x1259() {
  var _0x53f866 = ["call", "_scheduleCollaborationTimeoutTimer", "signUrlServerUrl", "complete", "reconnect", "setCurrentUser", "_event$", "NoPadding", "_clearCollaborationTimeoutTimer", "CHANGESET_REVISION_CONFILICT", "state$", "LIVESHARE_TERMINATE", "UNISCRIPT_RUN", "YUUMI_ASYNCIO_CANCELLED", "_clearRetryConnectingTimer", "_isPermissionRej", "_onUserJoin", "event$", "_substituteRedoStack", "ERROR_IMAGE_TYPE", "_rescheduleHeartbeat", "_memberService", "MOBILE_VERIFY_CODE_MISMATCH", "hostname", "_prevBlock", "fromCollab", "[CollaborationController]: invalid univer type: ", "ALREADY_EXISTS", "hasOwnProperty", "getUnitStatus$", "socket open.", "_transformRemoteChangesetByStateCache", "createDecryptor", "getCollabEntity", "EMAIL_HAS_BEEN_BOUND", "substr", "_getUploadFileURL", "_createSocket", "prototype", "60FCOjdH", "GLOBAL_ROOMS_CNT_EXCEEDS", "CipherParams", "unitInfo$", "REDEMPTION_CODE_INACTIVE", "m2Prime", "exports", "287932OLbckZ", "Cipher", "BlockCipherMode", "UNAUTHENTICATED", "YUUMI_PROMPT_MAX_TOKENS_EXCEEDED", "charAt", "dispose$", "_createHelper", "ws://127.0.0.1:8000/universer-api/comb/connect", "fetch_missing", "decrypt", "apply", "_sender", "getRandomValues", "_handlerCallback", "COMMENT_UPDATE", "LOGIN_TOKEN_PROCESSING_FAILED", "range", "Base", "patch", "UNIVER_DOC", "incrementRevOfUnit", "onMissedChangesetFetched", "LIVESHARE_FETCH_OPERATIONS", "[PendingState]: invalid calling to `resend`.", "_members$", "_onRemoteRejected", "batchAllowed", "getCollabEntity$", "Native crypto module could not be used to get secure random number.", "kdf", "_commentService", "slice", "name", "createSocket", "_socket$", "message$", "_onRemoteChangeset", "_roomCreated$", "requestParams", "equals", "create", "PSEUDO_FETCH_MISSING_RESULT", "_userManagerService", "SNAPSHOT_HAS_BEEN_REMOVED", "offline", "onMissingChangesets", "4869352KInCri", "_unitID", "SOCKET_FAILED_RETRY", "HMAC", "APPLY_NON_SEQUENTIAL_REVISION", "_executeRemoteChangeset", "HEARTBEAT", "_doCreateSocket", "_onMessage", "subject", "INTERNAL_ERROR", "_handler", "loadUnit", "[UniverCollaborationClientPlugin]", "getSnapshotAPIPath", "getValue", "updateCollaborator", "clear", "[CollaborationSession]: should not send message when the session is offline!", "ceil", "PAYMENT_CHANNEL_NOT_SUPPORT", "createInstance", "_clearUndo", "pending", "getInterceptPoints", "USER_NOT_FOUND", "198184kJeOuF", "[DataLoaderService]", "onRemoteChangeset", "_singleActiveUnitService", "REDEMPTION_USER_NOT_ELIGIBLE", "ERROR_EXCEED_SIZE", "retryConnectingInterval", "[CollaborationSocketService]: failed to get web socket factory!", "_keySchedule", "BlockCipher", "update", "_awaitingChangeset", "getTypeOfUnitDisposed$", "[OfflineState]: received changeset.", "NO_OTHER_CLIENTS_EDITING", "listCollaborators", "failed to apply missed changesets!", "unitId", "_resendTimer", "finalize", "forEach", "_tryReconnect", "_substituteUndoStack", " - ", "post", "salt", " to ", "interceptor", "mutations", "ClipsheetFragments", "focused$", "conflict", "_map", "not_collab", "abs", "_mode", "reduce", "_updateState", "REDEMPTION_USER_REDEEM_TIMES_EXCEED", "next", "Hex", "getUnitType", "UNIVER_SLIDE", "session.join-failed", "sessionStatus", "objectActions", "_lockTransition", "isPermissionRej", "session.room-not-exists", "[PendingState]: received acknowledgement.", "_timeoutTimer", "entries", "catch", "_clearRedo", "getImage", "from", "SHOULD_CLOSE_CONN", "YUUMI_RATE_OVER_LIMIT", "getFocusedUnit", "/block/", "allowed", "commentUpdateEvent", "editing status changed to", "INVITE_CODE_HAS_BEEN_UES", "location", "_replaceFileID", "7inZbGL", "map", "/object/", "[CollaborationSessionService]", "getUnit", "transformStack failed!", "_clearLocalCache", "[serializeCombRequest]: should not fall into default branch!", "floor", "_clearScheduledTask", "resend", "enableAuthServer", "_scheduleCompleteTimestamp", "REDEMPTION_INVALID_CODE", "_createHmacHelper", "stringify", "src", "saveChangeset", "_fetchMissChangesets", "_collaborationPaused", "objectType", "reqId", "_sessionStatus$", "YUUMI_CONNECTOR_URL_NOT_FOUND", "clone", "session.room-permission-denied", "uniscriptRunEvent", "SUCCUSS", "NEW_CHANGESETS", "revision", "_commandService", "image/jpeg", "POST", "_doProcessBlock", "initWorkbookPermissionChange", "reject", "collaboration-client.config", "onRemoteRetry", "LICENSE_MAX_UNITS_EXCEEDED", "univer-pro.collaboration-client.network-condition.service", "IDLE", "YUUMI_TABLE_NOT_FOUND_IN_UNIT", "commentUpdate$", "getAllMembers", "getMember", "_onJoinRoomEvent", "dispose", "Hasher", "_reverseMap", "synced", "memberID", "_unlockTransition", " in _schedule.", "saveSheetBlock", "replace", "2129436CvaGEI", "msCrypto", "loadSheet", "get", "__creator", "algo", "[PendingState]: unhandled univer type: ", "set", "_transformStateCache", "_listenToNetworkCondition", "blockSize", "mode", "_socketReady", "status", "_transitionLocked", "random", "fetchThroughInterceptors", "append", "_state", "UPDATE_CURSOR", "YUUMI_URL_COL_OUT_OF_RANGE", "UNKNOWN_CMD", "AWAITING", "UPDATE_PERMISSION_OBJ", "image/png", "c1Prime", "max", "_disableEditing", "type", "updatePermissionPoint", "[CollaborationEntity]: cannot apply missing results on other states!", "close$", "every", "getTime", "_ENC_XFORM_MODE", "_changesetReqId", "OTHER_CLIENTS_EDITING", "[FetchingMissState]: not expected to receive ack when `this._awaitingChangeset` is null!", "MSG_FOR_ERROR", "UNKNOWN_CODE", "data", "x-univer-host", "byteOffset", "/resources", "REDEMPTION_CODE_NOT_STARTED", "join", "USERS_ENTER", "Error on receiving event", "_checkMissing", "CHANGESET_ACK", "LICENSE_MAX_MEMBERS_PER_UNIT_EXCEEDED", "image/gif", "authzUrl", "CONFLICT", "AUTHORIZE_CODE_ILLEGAL", "_schedule", "_decreaseWaiting", "onTransformRemoteChangesetByStateCache callback is not added yet.", "Undefined", "_createInitialState", "UUID", "_key", "OPTIONAL", "url", "/universer-api/stream/file/upload", "/universer-api/authz", "&to=", "_localCacheService", "_startCollaboration", "joinEvent", "hasher", "emitEvent", "state", "ERROR_IMAGE", "listRoles", "2125251xQoJcF", "_transformUndoredo", "_startTelemetryCollaborationNewChangeset", "INVALID_INVITE_CODE", "_nDataBytes", "onStarting", "encode", "setWaitCount", "USER_NOT_INVITED_CODE", "cfg", "length", "_acknowledgedAwaitingChangeset", "debug", "_logService", "updateSnapshot", "UNRECOGNIZED", "getCurrentUser", "ENSURE_SNAPSHOT_EXECUTION", "originalMeta", "resolve", "_exhaustRemoteChangesetQueue", "FETCH_MISSING", "capture", "add", "ENTITLE_NEED_BILLING_ADDRESS", "crypto", "_removeRoom", "/allowed", "deepClone", "mixIn", "symbol", "shouldCloseConn", '". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.', "SHA1", "awaiting", "YUUMI_ALL_TABLES_IS_INVALID", "_init", "_sendingTimer", "_toggleOnline", "loginUrlKey", "PERMISSION_DENIED", "_getSendChangesetTimeout", "_entities", "collabWebSocketUrl", "_resendTimeout", "onLocalMutation", "ERROR_AGAIN", "encodeURIComponent", "BufferedBlockAlgorithm", "_transformIMECache", "size", "push", "_entityInit$", "sessionStatus$", "_telemetryInfo", "_imageSourceCache", "result", "socketService", "19467882XRrCvT", "[CollaborationUndoRedoService]", "userID", "pauseCollaboration", "_nRounds", "INGEST", "collaboratorID", "_univerInstanceService", "_showConflictNotification", "toggleOnline", "SOCKET_FAILED", "csAckEvent", "Cannot assemble a changeset from multiple mutations of different types: ", "updateOfflineData", "JOIN_ROOM_FULL", "_emitMembers", "_updateLocalCache", "ENTITLE_REPORT_LIMIT_EXCEED", "_roomMembers", "action", "_state$", "delete", "_onRecvEvent", "_submitChangeset", "OpenSSL", "univer-pro.collaboration-client-socket-service", "HELLO", "online$", "_initRequestHeader", "default", "readAsDataURL", "changesets", "_redoStacks", "status$", "_invKeySchedule", "snapshotServerUrl", "_append", "ENTITLE_CAN_NOT_BUY_LOWER_OTP", "objects", "OTHER_CLIENT_EDITING", "roles", "findIndex", "_transformService", "auth.needGotoLoginAlert", "extend", "getUnitOnRev", "YUUMI_SUBSCRIPTION_NOT_FOUND", "parse", "_data", "UserProfileImg", "/new_changes", "_injector", "[SyncedState]: received acknowledgement.", "getUnitId", "LEAVE", "unsubscribe", "&source=", "transformSelections", "_resendWithTimeout", "cmd", "permissionRejEvent", "function", "onTransformSelections", "now", "HttpImport", "padding", "_parse", "ciphertext", "byteLength", "readyForCollab", "closeSession", "JOIN_ROOM_PERMISSION_DENIED", "_members", "onTransformRemoteChangesetByIMECache", "REMOTE_UNISCRIPT_EXECUTION_ENDPOINT", "EMAIL_VERIFY_CODE_MISMATCH", "LICENSE_IMPORT_SIZE_EXCEEDED", "onTransformIME", "newCsEvent", "headers", "selections", "_xformMode", "PERMISSION_REJ", "_onOffline", "submit changeset error!", "buffer", "_config", "[FetchMissState]", "objectID", "_transformStack", "_eventService", "__Key__", "pipe", "_httpService", "_minBufferSize", "[UniverCollaborationClientPlugin]: you must provide a socketService implementation in config!", "REDEMPTION_CODE_HAS_BEEN_CREATED", "baseRev", "_waitCount", "error", "_telemetryService", "_doCryptBlock", "setShowComponents", "_cipher", "session", "LICENSE_DISTRO_REJECTED", "fetchMissingChangesets", "collaborators", "Failed to update permission point", "ONLINE", "?url=", "_shouldReportTelemetry", "[AuthServerService]: you should provide authentication info on Node.js.", "_getUndoStack", "UNIVER_SHEET", "_stopTelemetryCollaborationNewChangeset", "_createHandler", "_sendHeartbeatTimer", "488788wUKoYO", "_initCloseConn", "COMPLETION_FINISHED", "UnitSnapshot", "target", "fetching missing changesets from ", "UNIVER_PROJECT", "EMAIL_VERIFY_CODE_NOT_FOUND_OR_EXPIRED", "_hash", "collaboration-client.local-cache-service", "loadOfflineData", "APPLY_REJECT", "updatePermissionObjEvent", "leaveEvent", "compute", "SUBMIT_CHANGESET_TIMEOUT", "_collaborationSessionService", "_pendingMutations", "_snapshotService", "actions", "encrypt", "getResourcesRequest", "onTransformRemoteChangesetByStateCache", "_change$", "_updateStatus", "unitId is not found", "deleteCollaborator", "This method should not be called on the client side!", "_commentUpdate$", "_sheetTransformSelectionsService", "_syncEditingCollabCursor", "roomInfos", "_onConnectionOpen", "[ConflictState]: invalid calling to `resend`.", "init", "_getLoginPath", "CHANGESET_SHOULD_RETRY", "onCommentUpdate", "has", "updateCursorEvent", "_collaborationTimeoutTimer", "includes", "registerHTTPInterceptor", "onSyncEditingCollabCursor", "textRanges", "LICENSE_EXPORT_SIZE_EXCEEDED", "RECV", "awaiting_with_pending", "_socket", "INVITE_CODE_ALREADY_BOUND", "fetchMiss", "_iv", "error$", "joinRsp", "REDEMPTION_CODE_FULLY_REDEEMED", "DATA_SOURCE_TOO_LARGE", "getWorkbookSelections", "onTransformState", "body", "defineProperty", "createCollaborator", "_hasher", "_queuedRemoteChangesets", "filter", "_transformRemoteChangesetByIMECache", "pad", "ivSize", "toString", "disableLocalCache", "Decryptor", "LIVESHARE_NEW_HOST", "localCacheService", "avatar", "APPLY_DUPLICATED", "onTransformRemoteChangesetByIMECache callback is not added yet.", "override", "_getAPIPrefix", "Utf8", "[OfflineState]: invalid calling to `resend`.", "close", "collabSubmitChangesetUrl", "list", "MD5", "concat", "processBlock", "_networkConditionService", "infoRsp", "subscribe", "_changesetSessionId", "getSheetBlock", "JOINING", "/universer-api/oidc/authpage", "compose", "onload", "sigBytes", "_clearHeartbeatTimer", "confirm", "/universer-api/snapshot", "AES", "createEncryptor", "getRoom", "asObservable", "awaitingChangeset", "[CollaborationEntity]: invalid state transition! State transferred from is not the current state.\nBefore: ", "/universer-api/snapshot/", "saveImage", "localeService", "keySize", "pluginName", "image/bmp", "UNDEFINED", "YUUMI_NO_CUBOID_FOR_QUESTION", "People", "INVALID_ARGUMENT", "FAIL", "save fail reason is ", "updateMember", "sid", "randomBytes", "_onFetchMissResult", "_unitInfo$", "members", "/fetchmissing?from=", "transformChangesets", "getOwnPropertyDescriptor", "_candidateSocket", "socket$", "enc", "rev", "onCommandExecuted", "_onConflict", "NOT_FOUND", "onRemoteRej", "unit-cache-", "Encryptor", "JOIN", "Base64", "AWAITING_WITH_PENDING", "BASE64", "getCurrentRevOfUnit", "waitForRoom$", "values", "_DEC_XFORM_MODE", "_onRemoteACK", "MUTATION", "_doFinalize", "reset", "executeCommand", "/collaborator", "/role", "_replayCachedMutations", "SYNCED", "_compressMutationService", "_onConnectionFailed", "onSendChangeset", "_toggleOffline", "HttpExport", "getCurrentSelections", "getMemberID", "LOGIN_FAILED", "_snapshotServerService", "CHANGESET_REJ", "ENTITLE_UPDOWN_GRADE_NOT_SUPPORT", "_getRedoStack", "key", "__esModule", "APPLY_REVISION_CONFILICT", "WECHAT_HAS_BEEN_BOUND", "method", "transformMutationsWithChangeset", "_onUserLeave", "ENTITLE_DUP_SUBSCRIPTION", "_process", '[CollaborationEntity]: initial state has been created before. You should not call "init" twice.', "Pkcs7", "_collabSessionService", "_tryEnsureSocket", "ENTITLE_CHAT_LIMIT_EXCEED", "MOBILE_VERIFY_CODE_NOT_FOUND_OR_EXPIRED", "_remoteChangesetQueue", "FETCH_MISS", "_initUnitPermissionChange", "[CollaborationEntity]", "unitID", "JOIN_ROOM_FAILED", "change$", "YUUMI_AI_RUN_FAILED", "_clearTimeoutTimer", "charCodeAt", "subUnitId", "$super", "[CollaborationSessionService]: socket error", "_oKey", "sendChangesetTimeout", "putCollaborators", "unknown", "WordArray", "[CollaborationSession]", "UnitEmbedded", "FileId", "getTypeOfUnitAdded$", "params", "MOBILE_HAS_BEEN_BOUND", "_throwTelemetryCollaborationNewChangeset", "_permissionService", "words", "/object", "_initMergeInterceptor", "_initDependencies", "appendMutation", "loadUnitOfRevision", "_getCurrentRevision", "format", "_socketMessageSubscription", "removeMember", "eventID", "RETRY_CONNECTING_MAX_COUNT", "_getCtorByUniverType", "_retryConnectingTimer", "SNAPSHOT_INVALID_SNAPSHOT", "onRemoteAck", "PENDING", "reverse", "CLOSE_ROOM", "APPLY_PERMISSION_DENIED", "getConfig", "min", "_sendHeartbeat", "saveSnapshot", "clamp", "Univer", "Latin1", "indexOf", "code", "[OfflineState]: received rejection.", "enableCollaboration", "unpad", "PERSON", "_localeService", "find", "USERS_LEAVE", "fetching the latest document from the server.", "JOIN_ROOM_NOT_EXISTS", "transformUndoRedo", "href", "/unit/", "LIVESHARE_OPERATION", "stopTime", "liveShareNewHost", "_sessions", "/-/object/-/batch_allowed", "Malformed UTF-8 data", "_getSignURL", "_onLocalMutation", "getImageSourceCache", "send", "_type", "SUBMIT_CHANGESET", "open$", "_configService", "_collaborationUIEventService", "HmacSHA1", "toggleOffline", "decryptBlock", "execute", "collaboration_new_changeset", "EvpKDF", "addHandlerCallback", "_applyRemoteChangeset", "YUUMI_UNABLE_LOAD_URL", 'you should override "IUndoRedoService" provided in "core" package!', "routeKey", "_registerDependencies", "_undoRedoService", "connection error", "requireSession", "_status$", "string", "_revisionService", "splice", "_iKey", "_getAPIPrefixPath", "[OfflineState]: received acknowledgement.", "disposeWithMe", "OFFLINE", "_waitForHeartbeatResponse", "_transformSelections", "COMPRESS_MUTATION_APPLY", "USER_IS_ANONYMOUS", "_HTTPService", "lib", "isArray", "_getDownloadEndpointURL", "fromCharCode", "_incrementRevisionNumber", "CURRENT_STATUS_CANNOT_OPERATE", "members$", "_instanceService", "duration", "SerializableCipher", "onlyLocal", "_createInitialStateImpl", "sin", "_retryCount"];
  _0x1259 = function() {
    return _0x53f866;
  };
  return _0x1259();
}
var nn = Object[_0x2dad69(498)];
var rn = (_0x414653, _0x2fa115, _0x2255e5, _0x56c716) => {
  for (var _0x465c21 = _0x56c716 > 1 ? void 0 : _0x56c716 ? nn(_0x2fa115, _0x2255e5) : _0x2fa115, _0x2796bb = _0x414653["length"] - 1, _0x2ed497; _0x2796bb >= 0; _0x2796bb--) (_0x2ed497 = _0x414653[_0x2796bb]) && (_0x465c21 = _0x2ed497(_0x465c21) || _0x465c21);
  return _0x465c21;
};
var Kt = (_0x4eef5a, _0x272c30) => (_0x4c6840, _0x38b5e6) => _0x272c30(_0x4c6840, _0x38b5e6, _0x4eef5a);
var an = _0x2dad69(188);
var Tt = class extends Ve {
  constructor(_0x508b23, _0x18fede) {
    var _0x3f92ef = _0x2dad69;
    super(), this[_0x3f92ef(663)] = _0x508b23, this[_0x3f92ef(633)] = _0x18fede, this[_0x3f92ef(581)]();
  }
  ["_initMergeInterceptor"]() {
    var _0x58f314 = _0x2dad69;
    const _0x4bb333 = this;
    this[_0x58f314(657)](this[_0x58f314(663)][_0x58f314(416)]({ "priority": 999, "interceptor": Ve2({ "isMatch"(_0x5ce041) {
      var _0xc525ba = _0x58f314, _0x144dcb;
      if (_0x5ce041[_0xc525ba(542)] === _0xc525ba(895) && ((_0x144dcb = _0x5ce041[_0xc525ba(763)]) != null && _0x144dcb["body"])) {
        const { objectID: _0x20deeb, objectType: _0x5c8114 } = _0x5ce041[_0xc525ba(763)][_0xc525ba(432)] || {};
        if (!_0x20deeb || _0x5c8114 === void 0) return false;
        const _0x3147a3 = _0x4bb333[_0xc525ba(655)]() + "/" + _0x5c8114 + "/object/" + _0x20deeb + _0xc525ba(225);
        if (_0x5ce041[_0xc525ba(186)] === _0x3147a3) return true;
      }
      return false;
    }, "getParamsFromRequest"(_0x3ebe9f) {
      var _0x10e1f0 = _0x58f314, _0xbc60c8;
      return (_0xbc60c8 = _0x3ebe9f[_0x10e1f0(763)]) == null ? void 0 : _0xbc60c8[_0x10e1f0(432)];
    }, "mergeParamsToRequest"(_0x4153f3, _0x58f798) {
      var _0x2f9191 = _0x58f314;
      const _0x392438 = _0x4bb333["_getAPIPrefixPath"]() + _0x2f9191(624), _0x56ca13 = _0x4153f3[_0x2f9191(833)]((_0xd6d991, _0x5fe838) => {
        var _0x1b9b6f = _0x2f9191;
        const { unitID: _0x3740ab, objectID: _0x216cba, objectType: _0x18f605, actions: _0x2b597b } = _0x5fe838;
        return _0xd6d991[_0x3740ab] || (_0xd6d991[_0x3740ab] = {}), _0xd6d991[_0x3740ab][_0x216cba] || (_0xd6d991[_0x3740ab][_0x216cba] = { "objectID": _0x216cba, "objectType": _0x18f605, "actions": [] }), _0xd6d991[_0x3740ab][_0x216cba][_0x1b9b6f(393)][_0x1b9b6f(249)](..._0x2b597b), _0xd6d991;
      }, {}), _0x1c01fd = [];
      for (const _0x43c35b in _0x56ca13) for (const _0x5ee270 in _0x56ca13[_0x43c35b]) {
        const { actions: _0x3a7e87, objectType: _0x1dbd89 } = _0x56ca13[_0x43c35b][_0x5ee270], _0x697920 = [...new Set(_0x3a7e87)];
        _0x1c01fd[_0x2f9191(249)]({ "unitID": _0x43c35b, "objectID": _0x5ee270, "objectType": _0x1dbd89, "actions": _0x697920 });
      }
      return new X("POST", _0x392438, { "headers": _0x58f798[_0x2f9191(335)], "withCredentials": _0x58f798["withCredentials"], "responseType": _0x58f798["responseType"], "body": { "requests": _0x1c01fd } });
    } }, { "distributeResult"(_0x106279, _0x3d8de7) {
      var _0x44177a = _0x58f314;
      const { objectActions: _0x5abb56 } = _0x106279;
      return _0x3d8de7[_0x44177a(864)]((_0xcfe5ac) => {
        var _0x42efe8 = _0x44177a;
        const { unitID: _0x100999, objectID: _0x56d4e4, actions: _0x4a51d9 } = _0xcfe5ac, _0x46260e = _0x5abb56[_0x42efe8(613)]((_0x390af6) => _0x390af6[_0x42efe8(557)] === _0x100999 && _0x390af6[_0x42efe8(344)] === _0x56d4e4), _0x42281e = _0x4a51d9[_0x42efe8(864)]((_0x481087) => _0x46260e == null ? void 0 : _0x46260e[_0x42efe8(393)][_0x42efe8(613)]((_0x341bab) => _0x341bab[_0x42efe8(275)] === _0x481087))["filter"]((_0x279acd) => !!_0x279acd);
        return { "config": _0xcfe5ac, "result": { "actions": _0x42281e, "error": _0x106279[_0x42efe8(355)] } };
      });
    } }) }));
  }
  [_0x2dad69(655)]() {
    var _0x5396e3 = _0x2dad69, _0x359b6b;
    const _0x3e0626 = this[_0x5396e3(633)][_0x5396e3(599)](K);
    return (_0x359b6b = _0x3e0626 == null ? void 0 : _0x3e0626[_0x5396e3(175)]) != null ? _0x359b6b : an;
  }
  async [_0x2dad69(765)](_0x30346e) {
    var _0x1e30fb = _0x2dad69;
    const _0x2d38b5 = this[_0x1e30fb(655)]() + "/" + _0x30346e[_0x1e30fb(883)] + _0x1e30fb(580);
    return (await this[_0x1e30fb(663)][_0x1e30fb(821)](_0x2d38b5, { "body": _0x30346e }))[_0x1e30fb(432)][_0x1e30fb(344)] || "";
  }
  async [_0x2dad69(455)](_0x5cb91c) {
    var _0x654d83 = _0x2dad69;
    const _0xa3174a = this[_0x654d83(655)]() + "/-/object/list";
    return (await this[_0x654d83(663)][_0x654d83(821)](_0xa3174a, { "body": _0x5cb91c }))[_0x654d83(432)][_0x654d83(294)];
  }
  async [_0x2dad69(807)](_0x1e0c82) {
    var _0x4a63cc = _0x2dad69, _0x32d35c, _0x30d3d0;
    const _0x2f4a96 = this["_getAPIPrefixPath"]() + "/" + _0x1e0c82[_0x4a63cc(883)] + _0x4a63cc(865) + _0x1e0c82[_0x4a63cc(344)], _0x2080d3 = await this["_HTTPService"]["put"](_0x2f4a96, { "body": _0x1e0c82 });
    if (((_0x30d3d0 = (_0x32d35c = _0x2080d3 == null ? void 0 : _0x2080d3[_0x4a63cc(432)]) == null ? void 0 : _0x32d35c[_0x4a63cc(355)]) == null ? void 0 : _0x30d3d0[_0x4a63cc(607)]) !== 1) throw new Error(_0x4a63cc(364));
  }
  async [_0x2dad69(857)](_0x1c5d66) {
    var _0x1057ca = _0x2dad69;
    const _0x57ac7c = this[_0x1057ca(655)]() + "/" + _0x1c5d66[_0x1057ca(883)] + _0x1057ca(865) + _0x1c5d66["objectID"] + "/allowed";
    return (await this[_0x1057ca(663)][_0x1057ca(821)](_0x57ac7c, { "body": _0x1c5d66 }))[_0x1057ca(432)][_0x1057ca(393)];
  }
  async [_0x2dad69(751)](_0x2b4599) {
    var _0x5f2cad = _0x2dad69;
    const _0x7e0504 = this[_0x5f2cad(655)]() + _0x5f2cad(624);
    return (await this[_0x5f2cad(663)]["post"](_0x7e0504, { "body": { "requests": _0x2b4599 } }))[_0x5f2cad(432)][_0x5f2cad(842)];
  }
  async [_0x2dad69(197)](_0x3b4a53) {
    var _0x69b963 = _0x2dad69;
    const _0x4b3b5a = this["_getAPIPrefixPath"]() + "/" + _0x3b4a53[_0x69b963(883)] + _0x69b963(523), _0x3ac747 = await this[_0x69b963(663)]["post"](_0x4b3b5a, { "body": _0x3b4a53 });
    return { "roles": _0x3ac747[_0x69b963(432)][_0x69b963(296)], "actions": _0x3ac747[_0x69b963(432)][_0x69b963(393)] };
  }
  async [_0x2dad69(400)](_0x3e281d) {
    var _0x50eff2 = _0x2dad69;
    const _0x85c740 = this["_getAPIPrefixPath"]() + "/collaborator";
    await this["_HTTPService"][_0x50eff2(277)](_0x85c740, { "params": { "collaboratorID": _0x3e281d[_0x50eff2(262)], "objectID": _0x3e281d[_0x50eff2(344)], "unitID": _0x3e281d[_0x50eff2(557)] } });
  }
  async [_0x2dad69(787)](_0x13a3d0) {
    var _0x5bf993 = _0x2dad69;
    const _0x2dd26e = this["_getAPIPrefixPath"]() + "/collaborator";
    await this[_0x5bf993(663)][_0x5bf993(743)](_0x2dd26e, { "body": _0x13a3d0 });
  }
  async [_0x2dad69(434)](_0x3de41e) {
    var _0x4229ba = _0x2dad69;
    const _0x135ddb = this["_getAPIPrefixPath"]() + _0x4229ba(522);
    await this[_0x4229ba(663)][_0x4229ba(821)](_0x135ddb, { "body": _0x3de41e });
  }
  async [_0x2dad69(812)](_0xe90948) {
    var _0x30155f = _0x2dad69;
    const _0x1b0313 = this[_0x30155f(655)]() + _0x30155f(522);
    return (await this[_0x30155f(663)][_0x30155f(126)](_0x1b0313, { "params": { "objectID": _0xe90948["objectID"], "unitID": _0xe90948["unitID"] } }))[_0x30155f(432)][_0x30155f(363)];
  }
  async [_0x2dad69(568)](_0x2cf79c) {
    var _0x4ec1ff = _0x2dad69;
    const _0x56295c = this[_0x4ec1ff(655)]() + _0x4ec1ff(522);
    await this[_0x4ec1ff(663)]["put"](_0x56295c, { "body": _0x2cf79c });
  }
};
Tt = rn([Kt(0, Inject(x)), Kt(1, Inject(ic))], Tt);
var ft = typeof globalThis < "u" ? globalThis : typeof window < "u" ? window : typeof global < "u" ? global : typeof self < "u" ? self : {};
function $e(_0x3d620a) {
  var _0x2f6159 = _0x2dad69;
  return _0x3d620a && _0x3d620a[_0x2f6159(539)] && Object[_0x2f6159(716)][_0x2f6159(706)][_0x2f6159(678)](_0x3d620a, _0x2f6159(285)) ? _0x3d620a[_0x2f6159(285)] : _0x3d620a;
}
var Ve3 = { "exports": {} };
function on(_0x4f9d61) {
  var _0x28f5bf = _0x2dad69;
  throw new Error('Could not dynamically require "' + _0x4f9d61 + _0x28f5bf(230));
}
var Ge = { "exports": {} };
var cn = Ge[_0x2dad69(723)];
var qt;
function ie2() {
  var _0x4828a8 = _0x2dad69;
  return qt || (qt = 1, function(_0x561de9, _0x92388b) {
    (function(_0x1eb57f, _0x2acd26) {
      var _0x3816a3 = _0x35c2;
      _0x561de9[_0x3816a3(723)] = _0x2acd26();
    })(cn, function() {
      var _0x45b0d4 = _0x45b0d4 || function(_0x32efd5, _0x3652f5) {
        var _0x12176c = _0x35c2, _0x18dd92;
        if (typeof window < "u" && window[_0x12176c(223)] && (_0x18dd92 = window[_0x12176c(223)]), typeof self < "u" && self[_0x12176c(223)] && (_0x18dd92 = self[_0x12176c(223)]), typeof globalThis < "u" && globalThis["crypto"] && (_0x18dd92 = globalThis[_0x12176c(223)]), !_0x18dd92 && typeof window < "u" && window["msCrypto"] && (_0x18dd92 = window[_0x12176c(124)]), !_0x18dd92 && typeof ft < "u" && ft[_0x12176c(223)] && (_0x18dd92 = ft[_0x12176c(223)]), !_0x18dd92 && typeof on == "function") try {
          _0x18dd92 = require_crypto();
        } catch {
        }
        var _0x235fa4 = function() {
          var _0x424e99 = _0x12176c;
          if (_0x18dd92) {
            if (typeof _0x18dd92[_0x424e99(737)] == _0x424e99(317)) try {
              return _0x18dd92[_0x424e99(737)](new Uint32Array(1))[0];
            } catch {
            }
            if (typeof _0x18dd92[_0x424e99(492)] == _0x424e99(317)) try {
              return _0x18dd92[_0x424e99(492)](4)["readInt32LE"]();
            } catch {
            }
          }
          throw new Error(_0x424e99(753));
        }, _0x4fc85d = Object[_0x12176c(765)] || /* @__PURE__ */ function() {
          function _0x474fc8() {
          }
          return function(_0x1a45e6) {
            var _0x536268 = _0x35c2, _0x3998b2;
            return _0x474fc8[_0x536268(716)] = _0x1a45e6, _0x3998b2 = new _0x474fc8(), _0x474fc8[_0x536268(716)] = null, _0x3998b2;
          };
        }(), _0x2cf52c = {}, _0x11c602 = _0x2cf52c[_0x12176c(664)] = {}, _0x1e2eeb = _0x11c602["Base"] = /* @__PURE__ */ function() {
          return { "extend": function(_0x57b4e5) {
            var _0x5cba8b = _0x35c2, _0x2fe96e = _0x4fc85d(this);
            return _0x57b4e5 && _0x2fe96e["mixIn"](_0x57b4e5), (!_0x2fe96e[_0x5cba8b(706)]("init") || this[_0x5cba8b(408)] === _0x2fe96e[_0x5cba8b(408)]) && (_0x2fe96e["init"] = function() {
              var _0x4635d8 = _0x5cba8b;
              _0x2fe96e[_0x4635d8(564)][_0x4635d8(408)][_0x4635d8(735)](this, arguments);
            }), _0x2fe96e["init"][_0x5cba8b(716)] = _0x2fe96e, _0x2fe96e[_0x5cba8b(564)] = this, _0x2fe96e;
          }, "create": function() {
            var _0x534898 = _0x35c2, _0x38c0b1 = this[_0x534898(300)]();
            return _0x38c0b1[_0x534898(408)][_0x534898(735)](_0x38c0b1, arguments), _0x38c0b1;
          }, "init": function() {
          }, "mixIn": function(_0xde85f3) {
            var _0x3f0954 = _0x35c2;
            for (var _0x3d1e94 in _0xde85f3) _0xde85f3[_0x3f0954(706)](_0x3d1e94) && (this[_0x3d1e94] = _0xde85f3[_0x3d1e94]);
            _0xde85f3[_0x3f0954(706)](_0x3f0954(441)) && (this["toString"] = _0xde85f3["toString"]);
          }, "clone": function() {
            var _0x42c282 = _0x35c2;
            return this[_0x42c282(408)]["prototype"][_0x42c282(300)](this);
          } };
        }(), _0x9f0f38 = _0x11c602[_0x12176c(570)] = _0x1e2eeb[_0x12176c(300)]({ "init": function(_0x3b530c, _0x125cba) {
          var _0x42549a = _0x12176c;
          _0x3b530c = this[_0x42549a(579)] = _0x3b530c || [], _0x125cba != _0x3652f5 ? this[_0x42549a(468)] = _0x125cba : this[_0x42549a(468)] = _0x3b530c["length"] * 4;
        }, "toString": function(_0x4c5ce4) {
          var _0x2e3b0b = _0x12176c;
          return (_0x4c5ce4 || _0x148fc1)[_0x2e3b0b(878)](this);
        }, "concat": function(_0x58ab2b) {
          var _0x46b0d2 = _0x12176c, _0xfbe207 = this[_0x46b0d2(579)], _0x334788 = _0x58ab2b[_0x46b0d2(579)], _0xa9dc5e = this["sigBytes"], _0x4b4831 = _0x58ab2b[_0x46b0d2(468)];
          if (this[_0x46b0d2(603)](), _0xa9dc5e % 4) for (var _0x2024a3 = 0; _0x2024a3 < _0x4b4831; _0x2024a3++) {
            var _0x369d3a = _0x334788[_0x2024a3 >>> 2] >>> 24 - _0x2024a3 % 4 * 8 & 255;
            _0xfbe207[_0xa9dc5e + _0x2024a3 >>> 2] |= _0x369d3a << 24 - (_0xa9dc5e + _0x2024a3) % 4 * 8;
          }
          else {
            for (var _0x908726 = 0; _0x908726 < _0x4b4831; _0x908726 += 4) _0xfbe207[_0xa9dc5e + _0x908726 >>> 2] = _0x334788[_0x908726 >>> 2];
          }
          return this[_0x46b0d2(468)] += _0x4b4831, this;
        }, "clamp": function() {
          var _0x4fc626 = _0x12176c, _0x64ccd5 = this["words"], _0x9fc182 = this[_0x4fc626(468)];
          _0x64ccd5[_0x9fc182 >>> 2] &= 4294967295 << 32 - _0x9fc182 % 4 * 8, _0x64ccd5[_0x4fc626(208)] = _0x32efd5[_0x4fc626(790)](_0x9fc182 / 4);
        }, "clone": function() {
          var _0x2d93be = _0x12176c, _0x2a98af = _0x1e2eeb["clone"][_0x2d93be(678)](this);
          return _0x2a98af["words"] = this[_0x2d93be(579)][_0x2d93be(756)](0), _0x2a98af;
        }, "random": function(_0x1aad05) {
          var _0x5eef69 = _0x12176c;
          for (var _0x57dd6c = [], _0x520042 = 0; _0x520042 < _0x1aad05; _0x520042 += 4) _0x57dd6c["push"](_0x235fa4());
          return new _0x9f0f38[_0x5eef69(408)](_0x57dd6c, _0x1aad05);
        } }), _0x57236f = _0x2cf52c["enc"] = {}, _0x148fc1 = _0x57236f[_0x12176c(837)] = { "stringify": function(_0x4c0cfc) {
          var _0xccc829 = _0x12176c;
          for (var _0x55695e = _0x4c0cfc[_0xccc829(579)], _0x348d7b = _0x4c0cfc["sigBytes"], _0x10233b = [], _0xc13464 = 0; _0xc13464 < _0x348d7b; _0xc13464++) {
            var _0x1b1c2e = _0x55695e[_0xc13464 >>> 2] >>> 24 - _0xc13464 % 4 * 8 & 255;
            _0x10233b[_0xccc829(249)]((_0x1b1c2e >>> 4)["toString"](16)), _0x10233b[_0xccc829(249)]((_0x1b1c2e & 15)["toString"](16));
          }
          return _0x10233b["join"]("");
        }, "parse": function(_0x581813) {
          var _0x40f90c = _0x12176c;
          for (var _0x2a981e = _0x581813[_0x40f90c(208)], _0x571e40 = [], _0x2071b5 = 0; _0x2071b5 < _0x2a981e; _0x2071b5 += 2) _0x571e40[_0x2071b5 >>> 3] |= parseInt(_0x581813[_0x40f90c(713)](_0x2071b5, 2), 16) << 24 - _0x2071b5 % 8 * 4;
          return new _0x9f0f38[_0x40f90c(408)](_0x571e40, _0x2a981e / 2);
        } }, _0x9ebde7 = _0x57236f[_0x12176c(605)] = { "stringify": function(_0x458a63) {
          var _0x164e44 = _0x12176c;
          for (var _0x24b566 = _0x458a63[_0x164e44(579)], _0x48f165 = _0x458a63[_0x164e44(468)], _0x468761 = [], _0x25fb3d = 0; _0x25fb3d < _0x48f165; _0x25fb3d++) {
            var _0x1124b7 = _0x24b566[_0x25fb3d >>> 2] >>> 24 - _0x25fb3d % 4 * 8 & 255;
            _0x468761[_0x164e44(249)](String["fromCharCode"](_0x1124b7));
          }
          return _0x468761[_0x164e44(168)]("");
        }, "parse": function(_0x314aef) {
          var _0x3ef2e8 = _0x12176c;
          for (var _0xf5055d = _0x314aef["length"], _0x5f5389 = [], _0x331c41 = 0; _0x331c41 < _0xf5055d; _0x331c41++) _0x5f5389[_0x331c41 >>> 2] |= (_0x314aef["charCodeAt"](_0x331c41) & 255) << 24 - _0x331c41 % 4 * 8;
          return new _0x9f0f38[_0x3ef2e8(408)](_0x5f5389, _0xf5055d);
        } }, _0x175d9a = _0x57236f[_0x12176c(451)] = { "stringify": function(_0x3eb8b2) {
          var _0x4f4b4a = _0x12176c;
          try {
            return decodeURIComponent(escape(_0x9ebde7[_0x4f4b4a(878)](_0x3eb8b2)));
          } catch {
            throw new Error(_0x4f4b4a(625));
          }
        }, "parse": function(_0x405985) {
          var _0x37b610 = _0x12176c;
          return _0x9ebde7[_0x37b610(303)](unescape(encodeURIComponent(_0x405985)));
        } }, _0x21c014 = _0x11c602[_0x12176c(246)] = _0x1e2eeb["extend"]({ "reset": function() {
          var _0x1d3ad3 = _0x12176c;
          this[_0x1d3ad3(304)] = new _0x9f0f38[_0x1d3ad3(408)](), this[_0x1d3ad3(202)] = 0;
        }, "_append": function(_0x1105e7) {
          var _0x121e0b = _0x12176c;
          typeof _0x1105e7 == _0x121e0b(651) && (_0x1105e7 = _0x175d9a[_0x121e0b(303)](_0x1105e7)), this["_data"][_0x121e0b(457)](_0x1105e7), this["_nDataBytes"] += _0x1105e7[_0x121e0b(468)];
        }, "_process": function(_0x2a8d02) {
          var _0x316a45 = _0x12176c, _0x36b11b, _0x22c0eb = this[_0x316a45(304)], _0x5d663e = _0x22c0eb[_0x316a45(579)], _0x175775 = _0x22c0eb["sigBytes"], _0x41e4f0 = this[_0x316a45(133)], _0x3c11cc = _0x41e4f0 * 4, _0x22074e = _0x175775 / _0x3c11cc;
          _0x2a8d02 ? _0x22074e = _0x32efd5[_0x316a45(790)](_0x22074e) : _0x22074e = _0x32efd5[_0x316a45(149)]((_0x22074e | 0) - this[_0x316a45(350)], 0);
          var _0x3a0cc5 = _0x22074e * _0x41e4f0, _0x1e3a4b = _0x32efd5[_0x316a45(600)](_0x3a0cc5 * 4, _0x175775);
          if (_0x3a0cc5) {
            for (var _0x3364bc = 0; _0x3364bc < _0x3a0cc5; _0x3364bc += _0x41e4f0) this[_0x316a45(896)](_0x5d663e, _0x3364bc);
            _0x36b11b = _0x5d663e[_0x316a45(653)](0, _0x3a0cc5), _0x22c0eb[_0x316a45(468)] -= _0x1e3a4b;
          }
          return new _0x9f0f38["init"](_0x36b11b, _0x1e3a4b);
        }, "clone": function() {
          var _0x185caf = _0x12176c, _0x5c174b = _0x1e2eeb[_0x185caf(887)][_0x185caf(678)](this);
          return _0x5c174b[_0x185caf(304)] = this[_0x185caf(304)]["clone"](), _0x5c174b;
        }, "_minBufferSize": 0 });
        _0x11c602["Hasher"] = _0x21c014[_0x12176c(300)]({ "cfg": _0x1e2eeb[_0x12176c(300)](), "init": function(_0x4abba5) {
          var _0x7a4f48 = _0x12176c;
          this["cfg"] = this[_0x7a4f48(207)][_0x7a4f48(300)](_0x4abba5), this[_0x7a4f48(520)]();
        }, "reset": function() {
          var _0x29016a = _0x12176c;
          _0x21c014[_0x29016a(520)][_0x29016a(678)](this), this["_doReset"]();
        }, "update": function(_0x50d220) {
          var _0x3fb595 = _0x12176c;
          return this[_0x3fb595(292)](_0x50d220), this["_process"](), this;
        }, "finalize": function(_0x287902) {
          var _0x8f9d4a = _0x12176c;
          _0x287902 && this["_append"](_0x287902);
          var _0x31123a = this[_0x8f9d4a(519)]();
          return _0x31123a;
        }, "blockSize": 16, "_createHelper": function(_0x484beb) {
          return function(_0x5af05e, _0x19da50) {
            var _0x1324e7 = _0x35c2;
            return new _0x484beb[_0x1324e7(408)](_0x19da50)[_0x1324e7(816)](_0x5af05e);
          };
        }, "_createHmacHelper": function(_0x2a8cbc) {
          return function(_0x1ae967, _0x423b5) {
            var _0x577375 = _0x35c2;
            return new _0x5d6d50[_0x577375(774)][_0x577375(408)](_0x2a8cbc, _0x423b5)[_0x577375(816)](_0x1ae967);
          };
        } });
        var _0x5d6d50 = _0x2cf52c[_0x12176c(128)] = {};
        return _0x2cf52c;
      }(Math);
      return _0x45b0d4;
    });
  }(Ge)), Ge[_0x4828a8(723)];
}
var We2 = { "exports": {} };
var _n = We2[_0x2dad69(723)];
var zt2;
function Ri() {
  var _0x2a309b = _0x2dad69;
  return zt2 || (zt2 = 1, function(_0x15431f, _0x5c95aa) {
    (function(_0x7e3ad7, _0x445c31) {
      var _0x360095 = _0x35c2;
      _0x15431f[_0x360095(723)] = _0x445c31(ie2());
    })(_n, function(_0xf02b8f) {
      var _0x240b1f = _0x35c2;
      return function() {
        var _0x40d4cc = _0x35c2, _0x3db760 = _0xf02b8f, _0x2193bc = _0x3db760[_0x40d4cc(664)], _0x3d9c12 = _0x2193bc[_0x40d4cc(570)], _0x240c5b = _0x3db760[_0x40d4cc(501)];
        _0x240c5b[_0x40d4cc(510)] = { "stringify": function(_0x4cf617) {
          var _0x219cdf = _0x40d4cc, _0x43e121 = _0x4cf617[_0x219cdf(579)], _0x1c82c3 = _0x4cf617["sigBytes"], _0x132ac5 = this[_0x219cdf(829)];
          _0x4cf617[_0x219cdf(603)]();
          for (var _0x416811 = [], _0x5f2134 = 0; _0x5f2134 < _0x1c82c3; _0x5f2134 += 3) for (var _0x1afe75 = _0x43e121[_0x5f2134 >>> 2] >>> 24 - _0x5f2134 % 4 * 8 & 255, _0x379b37 = _0x43e121[_0x5f2134 + 1 >>> 2] >>> 24 - (_0x5f2134 + 1) % 4 * 8 & 255, _0x20ebd2 = _0x43e121[_0x5f2134 + 2 >>> 2] >>> 24 - (_0x5f2134 + 2) % 4 * 8 & 255, _0x580cdb = _0x1afe75 << 16 | _0x379b37 << 8 | _0x20ebd2, _0x4bb770 = 0; _0x4bb770 < 4 && _0x5f2134 + _0x4bb770 * 0.75 < _0x1c82c3; _0x4bb770++) _0x416811[_0x219cdf(249)](_0x132ac5[_0x219cdf(729)](_0x580cdb >>> 6 * (3 - _0x4bb770) & 63));
          var _0x3bf771 = _0x132ac5[_0x219cdf(729)](64);
          if (_0x3bf771) {
            for (; _0x416811[_0x219cdf(208)] % 4; ) _0x416811[_0x219cdf(249)](_0x3bf771);
          }
          return _0x416811["join"]("");
        }, "parse": function(_0x5f1d09) {
          var _0x5ecc0d = _0x40d4cc, _0x26ec0e = _0x5f1d09["length"], _0x3c6850 = this[_0x5ecc0d(829)], _0x3f6a07 = this[_0x5ecc0d(116)];
          if (!_0x3f6a07) {
            _0x3f6a07 = this[_0x5ecc0d(116)] = [];
            for (var _0x57ceae = 0; _0x57ceae < _0x3c6850["length"]; _0x57ceae++) _0x3f6a07[_0x3c6850[_0x5ecc0d(562)](_0x57ceae)] = _0x57ceae;
          }
          var _0x2ac376 = _0x3c6850[_0x5ecc0d(729)](64);
          if (_0x2ac376) {
            var _0x5800eb = _0x5f1d09[_0x5ecc0d(606)](_0x2ac376);
            _0x5800eb !== -1 && (_0x26ec0e = _0x5800eb);
          }
          return _0x359fa4(_0x5f1d09, _0x26ec0e, _0x3f6a07);
        }, "_map": "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=" };
        function _0x359fa4(_0x404d5c, _0x1a0df8, _0x3c90d8) {
          var _0x177f13 = _0x40d4cc;
          for (var _0xb520c9 = [], _0x305157 = 0, _0x3c2680 = 0; _0x3c2680 < _0x1a0df8; _0x3c2680++) if (_0x3c2680 % 4) {
            var _0x140804 = _0x3c90d8[_0x404d5c[_0x177f13(562)](_0x3c2680 - 1)] << _0x3c2680 % 4 * 2, _0x5463f1 = _0x3c90d8[_0x404d5c["charCodeAt"](_0x3c2680)] >>> 6 - _0x3c2680 % 4 * 2, _0x3af388 = _0x140804 | _0x5463f1;
            _0xb520c9[_0x305157 >>> 2] |= _0x3af388 << 24 - _0x305157 % 4 * 8, _0x305157++;
          }
          return _0x3d9c12[_0x177f13(765)](_0xb520c9, _0x305157);
        }
      }(), _0xf02b8f[_0x240b1f(501)][_0x240b1f(510)];
    });
  }(We2)), We2[_0x2a309b(723)];
}
var Ye2 = { "exports": {} };
var hn2 = Ye2[_0x2dad69(723)];
var Jt2;
function ln() {
  var _0x48012c = _0x2dad69;
  return Jt2 || (Jt2 = 1, function(_0x13518b, _0x327e67) {
    (function(_0x4b1aa0, _0x2048fc) {
      var _0xf024c5 = _0x35c2;
      _0x13518b[_0xf024c5(723)] = _0x2048fc(ie2());
    })(hn2, function(_0x92c15) {
      var _0x3bd304 = _0x35c2;
      return function(_0x1f0e88) {
        var _0x2c1d52 = _0x35c2, _0x1852b9 = _0x92c15, _0x2b378b = _0x1852b9[_0x2c1d52(664)], _0x3065ea = _0x2b378b["WordArray"], _0x4a5138 = _0x2b378b[_0x2c1d52(115)], _0x145b72 = _0x1852b9[_0x2c1d52(128)], _0x40d7e9 = [];
        (function() {
          var _0x2ccf00 = _0x2c1d52;
          for (var _0x303c9b = 0; _0x303c9b < 64; _0x303c9b++) _0x40d7e9[_0x303c9b] = _0x1f0e88[_0x2ccf00(831)](_0x1f0e88[_0x2ccf00(676)](_0x303c9b + 1)) * 4294967296 | 0;
        })();
        var _0x59019c = _0x145b72[_0x2c1d52(456)] = _0x4a5138[_0x2c1d52(300)]({ "_doReset": function() {
          var _0x434991 = _0x2c1d52;
          this[_0x434991(382)] = new _0x3065ea[_0x434991(408)]([1732584193, 4023233417, 2562383102, 271733878]);
        }, "_doProcessBlock": function(_0x1c7d43, _0x32924a) {
          var _0x4ac039 = _0x2c1d52;
          for (var _0x2ed48d = 0; _0x2ed48d < 16; _0x2ed48d++) {
            var _0x584c76 = _0x32924a + _0x2ed48d, _0x3ee935 = _0x1c7d43[_0x584c76];
            _0x1c7d43[_0x584c76] = (_0x3ee935 << 8 | _0x3ee935 >>> 24) & 16711935 | (_0x3ee935 << 24 | _0x3ee935 >>> 8) & 4278255360;
          }
          var _0x11b20a = this[_0x4ac039(382)][_0x4ac039(579)], _0x1b4c71 = _0x1c7d43[_0x32924a + 0], _0x1c4fd9 = _0x1c7d43[_0x32924a + 1], _0x4d7aa0 = _0x1c7d43[_0x32924a + 2], _0x4aef03 = _0x1c7d43[_0x32924a + 3], _0x1cdfe6 = _0x1c7d43[_0x32924a + 4], _0x3696f6 = _0x1c7d43[_0x32924a + 5], _0x315f74 = _0x1c7d43[_0x32924a + 6], _0x507cac = _0x1c7d43[_0x32924a + 7], _0x58affc = _0x1c7d43[_0x32924a + 8], _0x6a9903 = _0x1c7d43[_0x32924a + 9], _0x5ca7a7 = _0x1c7d43[_0x32924a + 10], _0x3ad06c = _0x1c7d43[_0x32924a + 11], _0x4335c3 = _0x1c7d43[_0x32924a + 12], _0x19512d = _0x1c7d43[_0x32924a + 13], _0x1039b5 = _0x1c7d43[_0x32924a + 14], _0x5e54dd = _0x1c7d43[_0x32924a + 15], _0x1f3dc7 = _0x11b20a[0], _0x37d195 = _0x11b20a[1], _0x3e2ee3 = _0x11b20a[2], _0x30034f = _0x11b20a[3];
          _0x1f3dc7 = _0x473b3e(_0x1f3dc7, _0x37d195, _0x3e2ee3, _0x30034f, _0x1b4c71, 7, _0x40d7e9[0]), _0x30034f = _0x473b3e(_0x30034f, _0x1f3dc7, _0x37d195, _0x3e2ee3, _0x1c4fd9, 12, _0x40d7e9[1]), _0x3e2ee3 = _0x473b3e(_0x3e2ee3, _0x30034f, _0x1f3dc7, _0x37d195, _0x4d7aa0, 17, _0x40d7e9[2]), _0x37d195 = _0x473b3e(_0x37d195, _0x3e2ee3, _0x30034f, _0x1f3dc7, _0x4aef03, 22, _0x40d7e9[3]), _0x1f3dc7 = _0x473b3e(_0x1f3dc7, _0x37d195, _0x3e2ee3, _0x30034f, _0x1cdfe6, 7, _0x40d7e9[4]), _0x30034f = _0x473b3e(_0x30034f, _0x1f3dc7, _0x37d195, _0x3e2ee3, _0x3696f6, 12, _0x40d7e9[5]), _0x3e2ee3 = _0x473b3e(_0x3e2ee3, _0x30034f, _0x1f3dc7, _0x37d195, _0x315f74, 17, _0x40d7e9[6]), _0x37d195 = _0x473b3e(_0x37d195, _0x3e2ee3, _0x30034f, _0x1f3dc7, _0x507cac, 22, _0x40d7e9[7]), _0x1f3dc7 = _0x473b3e(_0x1f3dc7, _0x37d195, _0x3e2ee3, _0x30034f, _0x58affc, 7, _0x40d7e9[8]), _0x30034f = _0x473b3e(_0x30034f, _0x1f3dc7, _0x37d195, _0x3e2ee3, _0x6a9903, 12, _0x40d7e9[9]), _0x3e2ee3 = _0x473b3e(_0x3e2ee3, _0x30034f, _0x1f3dc7, _0x37d195, _0x5ca7a7, 17, _0x40d7e9[10]), _0x37d195 = _0x473b3e(_0x37d195, _0x3e2ee3, _0x30034f, _0x1f3dc7, _0x3ad06c, 22, _0x40d7e9[11]), _0x1f3dc7 = _0x473b3e(_0x1f3dc7, _0x37d195, _0x3e2ee3, _0x30034f, _0x4335c3, 7, _0x40d7e9[12]), _0x30034f = _0x473b3e(_0x30034f, _0x1f3dc7, _0x37d195, _0x3e2ee3, _0x19512d, 12, _0x40d7e9[13]), _0x3e2ee3 = _0x473b3e(_0x3e2ee3, _0x30034f, _0x1f3dc7, _0x37d195, _0x1039b5, 17, _0x40d7e9[14]), _0x37d195 = _0x473b3e(_0x37d195, _0x3e2ee3, _0x30034f, _0x1f3dc7, _0x5e54dd, 22, _0x40d7e9[15]), _0x1f3dc7 = _0x3d2bcf(_0x1f3dc7, _0x37d195, _0x3e2ee3, _0x30034f, _0x1c4fd9, 5, _0x40d7e9[16]), _0x30034f = _0x3d2bcf(_0x30034f, _0x1f3dc7, _0x37d195, _0x3e2ee3, _0x315f74, 9, _0x40d7e9[17]), _0x3e2ee3 = _0x3d2bcf(_0x3e2ee3, _0x30034f, _0x1f3dc7, _0x37d195, _0x3ad06c, 14, _0x40d7e9[18]), _0x37d195 = _0x3d2bcf(_0x37d195, _0x3e2ee3, _0x30034f, _0x1f3dc7, _0x1b4c71, 20, _0x40d7e9[19]), _0x1f3dc7 = _0x3d2bcf(_0x1f3dc7, _0x37d195, _0x3e2ee3, _0x30034f, _0x3696f6, 5, _0x40d7e9[20]), _0x30034f = _0x3d2bcf(_0x30034f, _0x1f3dc7, _0x37d195, _0x3e2ee3, _0x5ca7a7, 9, _0x40d7e9[21]), _0x3e2ee3 = _0x3d2bcf(_0x3e2ee3, _0x30034f, _0x1f3dc7, _0x37d195, _0x5e54dd, 14, _0x40d7e9[22]), _0x37d195 = _0x3d2bcf(_0x37d195, _0x3e2ee3, _0x30034f, _0x1f3dc7, _0x1cdfe6, 20, _0x40d7e9[23]), _0x1f3dc7 = _0x3d2bcf(_0x1f3dc7, _0x37d195, _0x3e2ee3, _0x30034f, _0x6a9903, 5, _0x40d7e9[24]), _0x30034f = _0x3d2bcf(_0x30034f, _0x1f3dc7, _0x37d195, _0x3e2ee3, _0x1039b5, 9, _0x40d7e9[25]), _0x3e2ee3 = _0x3d2bcf(_0x3e2ee3, _0x30034f, _0x1f3dc7, _0x37d195, _0x4aef03, 14, _0x40d7e9[26]), _0x37d195 = _0x3d2bcf(_0x37d195, _0x3e2ee3, _0x30034f, _0x1f3dc7, _0x58affc, 20, _0x40d7e9[27]), _0x1f3dc7 = _0x3d2bcf(_0x1f3dc7, _0x37d195, _0x3e2ee3, _0x30034f, _0x19512d, 5, _0x40d7e9[28]), _0x30034f = _0x3d2bcf(_0x30034f, _0x1f3dc7, _0x37d195, _0x3e2ee3, _0x4d7aa0, 9, _0x40d7e9[29]), _0x3e2ee3 = _0x3d2bcf(_0x3e2ee3, _0x30034f, _0x1f3dc7, _0x37d195, _0x507cac, 14, _0x40d7e9[30]), _0x37d195 = _0x3d2bcf(_0x37d195, _0x3e2ee3, _0x30034f, _0x1f3dc7, _0x4335c3, 20, _0x40d7e9[31]), _0x1f3dc7 = _0x1ec9f5(_0x1f3dc7, _0x37d195, _0x3e2ee3, _0x30034f, _0x3696f6, 4, _0x40d7e9[32]), _0x30034f = _0x1ec9f5(_0x30034f, _0x1f3dc7, _0x37d195, _0x3e2ee3, _0x58affc, 11, _0x40d7e9[33]), _0x3e2ee3 = _0x1ec9f5(_0x3e2ee3, _0x30034f, _0x1f3dc7, _0x37d195, _0x3ad06c, 16, _0x40d7e9[34]), _0x37d195 = _0x1ec9f5(_0x37d195, _0x3e2ee3, _0x30034f, _0x1f3dc7, _0x1039b5, 23, _0x40d7e9[35]), _0x1f3dc7 = _0x1ec9f5(_0x1f3dc7, _0x37d195, _0x3e2ee3, _0x30034f, _0x1c4fd9, 4, _0x40d7e9[36]), _0x30034f = _0x1ec9f5(_0x30034f, _0x1f3dc7, _0x37d195, _0x3e2ee3, _0x1cdfe6, 11, _0x40d7e9[37]), _0x3e2ee3 = _0x1ec9f5(_0x3e2ee3, _0x30034f, _0x1f3dc7, _0x37d195, _0x507cac, 16, _0x40d7e9[38]), _0x37d195 = _0x1ec9f5(_0x37d195, _0x3e2ee3, _0x30034f, _0x1f3dc7, _0x5ca7a7, 23, _0x40d7e9[39]), _0x1f3dc7 = _0x1ec9f5(_0x1f3dc7, _0x37d195, _0x3e2ee3, _0x30034f, _0x19512d, 4, _0x40d7e9[40]), _0x30034f = _0x1ec9f5(_0x30034f, _0x1f3dc7, _0x37d195, _0x3e2ee3, _0x1b4c71, 11, _0x40d7e9[41]), _0x3e2ee3 = _0x1ec9f5(_0x3e2ee3, _0x30034f, _0x1f3dc7, _0x37d195, _0x4aef03, 16, _0x40d7e9[42]), _0x37d195 = _0x1ec9f5(_0x37d195, _0x3e2ee3, _0x30034f, _0x1f3dc7, _0x315f74, 23, _0x40d7e9[43]), _0x1f3dc7 = _0x1ec9f5(_0x1f3dc7, _0x37d195, _0x3e2ee3, _0x30034f, _0x6a9903, 4, _0x40d7e9[44]), _0x30034f = _0x1ec9f5(_0x30034f, _0x1f3dc7, _0x37d195, _0x3e2ee3, _0x4335c3, 11, _0x40d7e9[45]), _0x3e2ee3 = _0x1ec9f5(_0x3e2ee3, _0x30034f, _0x1f3dc7, _0x37d195, _0x5e54dd, 16, _0x40d7e9[46]), _0x37d195 = _0x1ec9f5(_0x37d195, _0x3e2ee3, _0x30034f, _0x1f3dc7, _0x4d7aa0, 23, _0x40d7e9[47]), _0x1f3dc7 = _0x3503d6(_0x1f3dc7, _0x37d195, _0x3e2ee3, _0x30034f, _0x1b4c71, 6, _0x40d7e9[48]), _0x30034f = _0x3503d6(_0x30034f, _0x1f3dc7, _0x37d195, _0x3e2ee3, _0x507cac, 10, _0x40d7e9[49]), _0x3e2ee3 = _0x3503d6(_0x3e2ee3, _0x30034f, _0x1f3dc7, _0x37d195, _0x1039b5, 15, _0x40d7e9[50]), _0x37d195 = _0x3503d6(_0x37d195, _0x3e2ee3, _0x30034f, _0x1f3dc7, _0x3696f6, 21, _0x40d7e9[51]), _0x1f3dc7 = _0x3503d6(_0x1f3dc7, _0x37d195, _0x3e2ee3, _0x30034f, _0x4335c3, 6, _0x40d7e9[52]), _0x30034f = _0x3503d6(_0x30034f, _0x1f3dc7, _0x37d195, _0x3e2ee3, _0x4aef03, 10, _0x40d7e9[53]), _0x3e2ee3 = _0x3503d6(_0x3e2ee3, _0x30034f, _0x1f3dc7, _0x37d195, _0x5ca7a7, 15, _0x40d7e9[54]), _0x37d195 = _0x3503d6(_0x37d195, _0x3e2ee3, _0x30034f, _0x1f3dc7, _0x1c4fd9, 21, _0x40d7e9[55]), _0x1f3dc7 = _0x3503d6(_0x1f3dc7, _0x37d195, _0x3e2ee3, _0x30034f, _0x58affc, 6, _0x40d7e9[56]), _0x30034f = _0x3503d6(_0x30034f, _0x1f3dc7, _0x37d195, _0x3e2ee3, _0x5e54dd, 10, _0x40d7e9[57]), _0x3e2ee3 = _0x3503d6(_0x3e2ee3, _0x30034f, _0x1f3dc7, _0x37d195, _0x315f74, 15, _0x40d7e9[58]), _0x37d195 = _0x3503d6(_0x37d195, _0x3e2ee3, _0x30034f, _0x1f3dc7, _0x19512d, 21, _0x40d7e9[59]), _0x1f3dc7 = _0x3503d6(_0x1f3dc7, _0x37d195, _0x3e2ee3, _0x30034f, _0x1cdfe6, 6, _0x40d7e9[60]), _0x30034f = _0x3503d6(_0x30034f, _0x1f3dc7, _0x37d195, _0x3e2ee3, _0x3ad06c, 10, _0x40d7e9[61]), _0x3e2ee3 = _0x3503d6(_0x3e2ee3, _0x30034f, _0x1f3dc7, _0x37d195, _0x4d7aa0, 15, _0x40d7e9[62]), _0x37d195 = _0x3503d6(_0x37d195, _0x3e2ee3, _0x30034f, _0x1f3dc7, _0x6a9903, 21, _0x40d7e9[63]), _0x11b20a[0] = _0x11b20a[0] + _0x1f3dc7 | 0, _0x11b20a[1] = _0x11b20a[1] + _0x37d195 | 0, _0x11b20a[2] = _0x11b20a[2] + _0x3e2ee3 | 0, _0x11b20a[3] = _0x11b20a[3] + _0x30034f | 0;
        }, "_doFinalize": function() {
          var _0x416b3c = _0x2c1d52, _0x54199b = this[_0x416b3c(304)], _0x51c8de = _0x54199b[_0x416b3c(579)], _0x360306 = this["_nDataBytes"] * 8, _0x37f863 = _0x54199b["sigBytes"] * 8;
          _0x51c8de[_0x37f863 >>> 5] |= 128 << 24 - _0x37f863 % 32;
          var _0x3a0cc9 = _0x1f0e88["floor"](_0x360306 / 4294967296), _0xe8d666 = _0x360306;
          _0x51c8de[(_0x37f863 + 64 >>> 9 << 4) + 15] = (_0x3a0cc9 << 8 | _0x3a0cc9 >>> 24) & 16711935 | (_0x3a0cc9 << 24 | _0x3a0cc9 >>> 8) & 4278255360, _0x51c8de[(_0x37f863 + 64 >>> 9 << 4) + 14] = (_0xe8d666 << 8 | _0xe8d666 >>> 24) & 16711935 | (_0xe8d666 << 24 | _0xe8d666 >>> 8) & 4278255360, _0x54199b[_0x416b3c(468)] = (_0x51c8de["length"] + 1) * 4, this[_0x416b3c(546)]();
          for (var _0x29147a = this["_hash"], _0x20409c = _0x29147a["words"], _0x2d5f5a = 0; _0x2d5f5a < 4; _0x2d5f5a++) {
            var _0x4d86e9 = _0x20409c[_0x2d5f5a];
            _0x20409c[_0x2d5f5a] = (_0x4d86e9 << 8 | _0x4d86e9 >>> 24) & 16711935 | (_0x4d86e9 << 24 | _0x4d86e9 >>> 8) & 4278255360;
          }
          return _0x29147a;
        }, "clone": function() {
          var _0x53dd00 = _0x2c1d52, _0x2cb22b = _0x4a5138[_0x53dd00(887)][_0x53dd00(678)](this);
          return _0x2cb22b["_hash"] = this[_0x53dd00(382)]["clone"](), _0x2cb22b;
        } });
        function _0x473b3e(_0x216c98, _0x288128, _0x23b76f, _0xf53e91, _0x4f577a, _0x2ae02c, _0x27385f) {
          var _0x336bb9 = _0x216c98 + (_0x288128 & _0x23b76f | ~_0x288128 & _0xf53e91) + _0x4f577a + _0x27385f;
          return (_0x336bb9 << _0x2ae02c | _0x336bb9 >>> 32 - _0x2ae02c) + _0x288128;
        }
        function _0x3d2bcf(_0x202e06, _0xd6ecee, _0x2094be, _0x126bc4, _0x20733f, _0x4c4e4f, _0x1ed065) {
          var _0x4789ba = _0x202e06 + (_0xd6ecee & _0x126bc4 | _0x2094be & ~_0x126bc4) + _0x20733f + _0x1ed065;
          return (_0x4789ba << _0x4c4e4f | _0x4789ba >>> 32 - _0x4c4e4f) + _0xd6ecee;
        }
        function _0x1ec9f5(_0x31c34d, _0x4b703d, _0x379310, _0x150905, _0x260e0c, _0x1488c9, _0x33dd35) {
          var _0x537eb3 = _0x31c34d + (_0x4b703d ^ _0x379310 ^ _0x150905) + _0x260e0c + _0x33dd35;
          return (_0x537eb3 << _0x1488c9 | _0x537eb3 >>> 32 - _0x1488c9) + _0x4b703d;
        }
        function _0x3503d6(_0x38b546, _0x199188, _0x5894cb, _0x2497fd, _0x199b6, _0x763f67, _0x56474e) {
          var _0x322eb8 = _0x38b546 + (_0x5894cb ^ (_0x199188 | ~_0x2497fd)) + _0x199b6 + _0x56474e;
          return (_0x322eb8 << _0x763f67 | _0x322eb8 >>> 32 - _0x763f67) + _0x199188;
        }
        _0x1852b9[_0x2c1d52(456)] = _0x4a5138["_createHelper"](_0x59019c), _0x1852b9["HmacMD5"] = _0x4a5138[_0x2c1d52(877)](_0x59019c);
      }(Math), _0x92c15[_0x3bd304(456)];
    });
  }(Ye2)), Ye2[_0x48012c(723)];
}
var Ke2 = { "exports": {} };
var qe = { "exports": {} };
var un = qe[_0x2dad69(723)];
var Xt;
function dn() {
  return Xt || (Xt = 1, function(_0x2de1a9, _0x320a1d) {
    (function(_0x5c5826, _0x467076) {
      var _0x1dcd92 = _0x35c2;
      _0x2de1a9[_0x1dcd92(723)] = _0x467076(ie2());
    })(un, function(_0x57f74c) {
      var _0x4e7d1b = _0x35c2;
      return function() {
        var _0x37baac = _0x35c2, _0x154bc8 = _0x57f74c, _0x447b1d = _0x154bc8[_0x37baac(664)], _0x3cb22c = _0x447b1d[_0x37baac(570)], _0x396f0f = _0x447b1d[_0x37baac(115)], _0x86f681 = _0x154bc8["algo"], _0x32f7f2 = [], _0x199052 = _0x86f681[_0x37baac(231)] = _0x396f0f[_0x37baac(300)]({ "_doReset": function() {
          var _0x1f3e75 = _0x37baac;
          this[_0x1f3e75(382)] = new _0x3cb22c[_0x1f3e75(408)]([1732584193, 4023233417, 2562383102, 271733878, 3285377520]);
        }, "_doProcessBlock": function(_0x2829e7, _0x1588db) {
          var _0x435b07 = _0x37baac;
          for (var _0x309db2 = this[_0x435b07(382)][_0x435b07(579)], _0x4f4795 = _0x309db2[0], _0x537e54 = _0x309db2[1], _0x34512f = _0x309db2[2], _0x3f0a50 = _0x309db2[3], _0x46f8cc = _0x309db2[4], _0x3a8f23 = 0; _0x3a8f23 < 80; _0x3a8f23++) {
            if (_0x3a8f23 < 16) _0x32f7f2[_0x3a8f23] = _0x2829e7[_0x1588db + _0x3a8f23] | 0;
            else {
              var _0xfdc7f8 = _0x32f7f2[_0x3a8f23 - 3] ^ _0x32f7f2[_0x3a8f23 - 8] ^ _0x32f7f2[_0x3a8f23 - 14] ^ _0x32f7f2[_0x3a8f23 - 16];
              _0x32f7f2[_0x3a8f23] = _0xfdc7f8 << 1 | _0xfdc7f8 >>> 31;
            }
            var _0x99b46f = (_0x4f4795 << 5 | _0x4f4795 >>> 27) + _0x46f8cc + _0x32f7f2[_0x3a8f23];
            _0x3a8f23 < 20 ? _0x99b46f += (_0x537e54 & _0x34512f | ~_0x537e54 & _0x3f0a50) + 1518500249 : _0x3a8f23 < 40 ? _0x99b46f += (_0x537e54 ^ _0x34512f ^ _0x3f0a50) + 1859775393 : _0x3a8f23 < 60 ? _0x99b46f += (_0x537e54 & _0x34512f | _0x537e54 & _0x3f0a50 | _0x34512f & _0x3f0a50) - 1894007588 : _0x99b46f += (_0x537e54 ^ _0x34512f ^ _0x3f0a50) - 899497514, _0x46f8cc = _0x3f0a50, _0x3f0a50 = _0x34512f, _0x34512f = _0x537e54 << 30 | _0x537e54 >>> 2, _0x537e54 = _0x4f4795, _0x4f4795 = _0x99b46f;
          }
          _0x309db2[0] = _0x309db2[0] + _0x4f4795 | 0, _0x309db2[1] = _0x309db2[1] + _0x537e54 | 0, _0x309db2[2] = _0x309db2[2] + _0x34512f | 0, _0x309db2[3] = _0x309db2[3] + _0x3f0a50 | 0, _0x309db2[4] = _0x309db2[4] + _0x46f8cc | 0;
        }, "_doFinalize": function() {
          var _0x356379 = _0x37baac, _0x583fad = this[_0x356379(304)], _0x5bca74 = _0x583fad[_0x356379(579)], _0x493050 = this["_nDataBytes"] * 8, _0x2c5607 = _0x583fad["sigBytes"] * 8;
          return _0x5bca74[_0x2c5607 >>> 5] |= 128 << 24 - _0x2c5607 % 32, _0x5bca74[(_0x2c5607 + 64 >>> 9 << 4) + 14] = Math[_0x356379(871)](_0x493050 / 4294967296), _0x5bca74[(_0x2c5607 + 64 >>> 9 << 4) + 15] = _0x493050, _0x583fad[_0x356379(468)] = _0x5bca74[_0x356379(208)] * 4, this[_0x356379(546)](), this[_0x356379(382)];
        }, "clone": function() {
          var _0x552cee = _0x37baac, _0x3e3c61 = _0x396f0f["clone"][_0x552cee(678)](this);
          return _0x3e3c61["_hash"] = this[_0x552cee(382)][_0x552cee(887)](), _0x3e3c61;
        } });
        _0x154bc8["SHA1"] = _0x396f0f[_0x37baac(731)](_0x199052), _0x154bc8[_0x37baac(635)] = _0x396f0f[_0x37baac(877)](_0x199052);
      }(), _0x57f74c[_0x4e7d1b(231)];
    });
  }(qe)), qe["exports"];
}
var ze2 = { "exports": {} };
var fn = ze2[_0x2dad69(723)];
var Zt;
function vn() {
  var _0x5f15a6 = _0x2dad69;
  return Zt || (Zt = 1, function(_0x52775e, _0x20ae29) {
    (function(_0x1e0df9, _0xa4859a) {
      var _0xeccdf0 = _0x35c2;
      _0x52775e[_0xeccdf0(723)] = _0xa4859a(ie2());
    })(fn, function(_0x27a5f4) {
      (function() {
        var _0x2a6dc7 = _0x35c2, _0x106ea5 = _0x27a5f4, _0x83a45 = _0x106ea5[_0x2a6dc7(664)], _0x31dca1 = _0x83a45[_0x2a6dc7(742)], _0x44dd14 = _0x106ea5[_0x2a6dc7(501)], _0x239b49 = _0x44dd14[_0x2a6dc7(451)], _0xdbc7bb = _0x106ea5[_0x2a6dc7(128)];
        _0xdbc7bb[_0x2a6dc7(774)] = _0x31dca1[_0x2a6dc7(300)]({ "init": function(_0x2e91e6, _0x57aa1b) {
          var _0x12a680 = _0x2a6dc7;
          _0x2e91e6 = this["_hasher"] = new _0x2e91e6[_0x12a680(408)](), typeof _0x57aa1b == "string" && (_0x57aa1b = _0x239b49[_0x12a680(303)](_0x57aa1b));
          var _0x4c1b20 = _0x2e91e6[_0x12a680(133)], _0x12096e = _0x4c1b20 * 4;
          _0x57aa1b[_0x12a680(468)] > _0x12096e && (_0x57aa1b = _0x2e91e6["finalize"](_0x57aa1b)), _0x57aa1b[_0x12a680(603)]();
          for (var _0x336635 = this["_oKey"] = _0x57aa1b[_0x12a680(887)](), _0x6783ee = this["_iKey"] = _0x57aa1b[_0x12a680(887)](), _0x3813e7 = _0x336635[_0x12a680(579)], _0x16013b = _0x6783ee[_0x12a680(579)], _0x1a24b9 = 0; _0x1a24b9 < _0x4c1b20; _0x1a24b9++) _0x3813e7[_0x1a24b9] ^= 1549556828, _0x16013b[_0x1a24b9] ^= 909522486;
          _0x336635[_0x12a680(468)] = _0x6783ee[_0x12a680(468)] = _0x12096e, this["reset"]();
        }, "reset": function() {
          var _0x3647e5 = _0x2a6dc7, _0x1f3329 = this[_0x3647e5(435)];
          _0x1f3329[_0x3647e5(520)](), _0x1f3329["update"](this[_0x3647e5(654)]);
        }, "update": function(_0x1a1ce1) {
          var _0x63dad4 = _0x2a6dc7;
          return this[_0x63dad4(435)]["update"](_0x1a1ce1), this;
        }, "finalize": function(_0x1d6d71) {
          var _0x446399 = _0x2a6dc7, _0x14b276 = this["_hasher"], _0x1ec3f8 = _0x14b276[_0x446399(816)](_0x1d6d71);
          _0x14b276[_0x446399(520)]();
          var _0x273022 = _0x14b276[_0x446399(816)](this[_0x446399(566)][_0x446399(887)]()[_0x446399(457)](_0x1ec3f8));
          return _0x273022;
        } });
      })();
    });
  }(ze2)), ze2[_0x5f15a6(723)];
}
var pn = Ke2[_0x2dad69(723)];
var Qt2;
function Ci() {
  var _0x105567 = _0x2dad69;
  return Qt2 || (Qt2 = 1, function(_0x13345e, _0x408a26) {
    (function(_0x5cf796, _0x238f47, _0x147fa7) {
      var _0x3642d6 = _0x35c2;
      _0x13345e[_0x3642d6(723)] = _0x238f47(ie2(), dn(), vn());
    })(pn, function(_0x384787) {
      var _0x3232e4 = _0x35c2;
      return function() {
        var _0x365b30 = _0x35c2, _0x23192f = _0x384787, _0x4a8a14 = _0x23192f[_0x365b30(664)], _0x5bec3f = _0x4a8a14[_0x365b30(742)], _0x3960e0 = _0x4a8a14["WordArray"], _0x48de35 = _0x23192f["algo"], _0x5178b0 = _0x48de35[_0x365b30(456)], _0x31ab11 = _0x48de35["EvpKDF"] = _0x5bec3f["extend"]({ "cfg": _0x5bec3f[_0x365b30(300)]({ "keySize": 128 / 32, "hasher": _0x5178b0, "iterations": 1 }), "init": function(_0x1d3ab7) {
          var _0x2949bb = _0x365b30;
          this[_0x2949bb(207)] = this[_0x2949bb(207)][_0x2949bb(300)](_0x1d3ab7);
        }, "compute": function(_0x464a4e, _0x4f04ea) {
          var _0x1f21bd = _0x365b30;
          for (var _0x2c3363, _0x567691 = this[_0x1f21bd(207)], _0x1dd1c7 = _0x567691[_0x1f21bd(193)]["create"](), _0x3aa974 = _0x3960e0["create"](), _0x3ff7e7 = _0x3aa974[_0x1f21bd(579)], _0x33212f = _0x567691[_0x1f21bd(481)], _0x1c41c3 = _0x567691["iterations"]; _0x3ff7e7["length"] < _0x33212f; ) {
            _0x2c3363 && _0x1dd1c7[_0x1f21bd(807)](_0x2c3363), _0x2c3363 = _0x1dd1c7["update"](_0x464a4e)[_0x1f21bd(816)](_0x4f04ea), _0x1dd1c7["reset"]();
            for (var _0x2498df = 1; _0x2498df < _0x1c41c3; _0x2498df++) _0x2c3363 = _0x1dd1c7[_0x1f21bd(816)](_0x2c3363), _0x1dd1c7[_0x1f21bd(520)]();
            _0x3aa974["concat"](_0x2c3363);
          }
          return _0x3aa974[_0x1f21bd(468)] = _0x33212f * 4, _0x3aa974;
        } });
        _0x23192f[_0x365b30(640)] = function(_0xa24d21, _0x4854d5, _0x297c80) {
          var _0x1f048e = _0x365b30;
          return _0x31ab11[_0x1f048e(765)](_0x297c80)[_0x1f048e(388)](_0xa24d21, _0x4854d5);
        };
      }(), _0x384787[_0x3232e4(640)];
    });
  }(Ke2)), Ke2[_0x105567(723)];
}
var Je = { "exports": {} };
var En2 = Je[_0x2dad69(723)];
var ei;
function Ni() {
  return ei || (ei = 1, function(_0x3df571, _0x2df3bb) {
    (function(_0x2a76cd, _0xacfecc, _0xfe31d4) {
      var _0x29f2be = _0x35c2;
      _0x3df571[_0x29f2be(723)] = _0xacfecc(ie2(), Ci());
    })(En2, function(_0x3addde) {
      var _0x2bf7d5 = _0x35c2;
      _0x3addde[_0x2bf7d5(664)][_0x2bf7d5(725)] || function(_0x7b7708) {
        var _0x142af6 = _0x2bf7d5, _0x2d8a4b = _0x3addde, _0x41f2d2 = _0x2d8a4b[_0x142af6(664)], _0x5a4ec3 = _0x41f2d2[_0x142af6(742)], _0x1460ee = _0x41f2d2[_0x142af6(570)], _0x1c1635 = _0x41f2d2[_0x142af6(246)], _0x496408 = _0x2d8a4b[_0x142af6(501)];
        _0x496408[_0x142af6(451)];
        var _0x90a107 = _0x496408["Base64"], _0x53c62e = _0x2d8a4b[_0x142af6(128)], _0x5c3385 = _0x53c62e[_0x142af6(640)], _0x4ddbfa = _0x41f2d2[_0x142af6(725)] = _0x1c1635[_0x142af6(300)]({ "cfg": _0x5a4ec3[_0x142af6(300)](), "createEncryptor": function(_0x33b464, _0x4d9443) {
          var _0x2c875 = _0x142af6;
          return this[_0x2c875(765)](this[_0x2c875(157)], _0x33b464, _0x4d9443);
        }, "createDecryptor": function(_0xa89d5d, _0x342b5c) {
          var _0x186502 = _0x142af6;
          return this["create"](this[_0x186502(516)], _0xa89d5d, _0x342b5c);
        }, "init": function(_0x511725, _0x3a6147, _0x30a829) {
          var _0x4567e0 = _0x142af6;
          this[_0x4567e0(207)] = this[_0x4567e0(207)][_0x4567e0(300)](_0x30a829), this["_xformMode"] = _0x511725, this[_0x4567e0(184)] = _0x3a6147, this["reset"]();
        }, "reset": function() {
          var _0xad0d = _0x142af6;
          _0x1c1635[_0xad0d(520)][_0xad0d(678)](this), this["_doReset"]();
        }, "process": function(_0x58f746) {
          var _0x4d8ce9 = _0x142af6;
          return this[_0x4d8ce9(292)](_0x58f746), this["_process"]();
        }, "finalize": function(_0x10801a) {
          var _0x474fca = _0x142af6;
          _0x10801a && this["_append"](_0x10801a);
          var _0x268aed = this[_0x474fca(519)]();
          return _0x268aed;
        }, "keySize": 128 / 32, "ivSize": 128 / 32, "_ENC_XFORM_MODE": 1, "_DEC_XFORM_MODE": 2, "_createHelper": /* @__PURE__ */ function() {
          function _0x152675(_0x53d6cd) {
            var _0x1bb50f = _0x35c2;
            return typeof _0x53d6cd == _0x1bb50f(651) ? _0x2ff834 : _0x3b0dc8;
          }
          return function(_0x227528) {
            return { "encrypt": function(_0x146b73, _0x4f1bb7, _0x411760) {
              return _0x152675(_0x4f1bb7)["encrypt"](_0x227528, _0x146b73, _0x4f1bb7, _0x411760);
            }, "decrypt": function(_0x3d4e34, _0x4da86c, _0x36abc9) {
              return _0x152675(_0x4da86c)["decrypt"](_0x227528, _0x3d4e34, _0x4da86c, _0x36abc9);
            } };
          };
        }() });
        _0x41f2d2["StreamCipher"] = _0x4ddbfa["extend"]({ "_doFinalize": function() {
          var _0x159b4b = _0x142af6, _0x57f802 = this[_0x159b4b(546)](true);
          return _0x57f802;
        }, "blockSize": 1 });
        var _0x295d2e = _0x2d8a4b["mode"] = {}, _0x5f0f4d = _0x41f2d2[_0x142af6(726)] = _0x5a4ec3[_0x142af6(300)]({ "createEncryptor": function(_0x556e6e, _0x333b2a) {
          var _0x15237e = _0x142af6;
          return this["Encryptor"][_0x15237e(765)](_0x556e6e, _0x333b2a);
        }, "createDecryptor": function(_0x440f6e, _0x33b3c1) {
          var _0x523734 = _0x142af6;
          return this[_0x523734(443)]["create"](_0x440f6e, _0x33b3c1);
        }, "init": function(_0x2f06ca, _0x3cdd9f) {
          var _0x1d1850 = _0x142af6;
          this[_0x1d1850(359)] = _0x2f06ca, this[_0x1d1850(425)] = _0x3cdd9f;
        } }), _0x310430 = _0x295d2e["CBC"] = function() {
          var _0x16c9d5 = _0x142af6, _0x56e103 = _0x5f0f4d["extend"]();
          _0x56e103[_0x16c9d5(508)] = _0x56e103[_0x16c9d5(300)]({ "processBlock": function(_0x433b4a, _0x24cec6) {
            var _0x56a8d3 = _0x16c9d5, _0x21920e = this[_0x56a8d3(359)], _0x5bb670 = _0x21920e[_0x56a8d3(133)];
            _0x49e70e[_0x56a8d3(678)](this, _0x433b4a, _0x24cec6, _0x5bb670), _0x21920e["encryptBlock"](_0x433b4a, _0x24cec6), this["_prevBlock"] = _0x433b4a["slice"](_0x24cec6, _0x24cec6 + _0x5bb670);
          } }), _0x56e103["Decryptor"] = _0x56e103[_0x16c9d5(300)]({ "processBlock": function(_0x26881c, _0xf31023) {
            var _0x9d3dca = _0x16c9d5, _0x21d1ea = this[_0x9d3dca(359)], _0x3bd5da = _0x21d1ea[_0x9d3dca(133)], _0x467c42 = _0x26881c[_0x9d3dca(756)](_0xf31023, _0xf31023 + _0x3bd5da);
            _0x21d1ea[_0x9d3dca(637)](_0x26881c, _0xf31023), _0x49e70e["call"](this, _0x26881c, _0xf31023, _0x3bd5da), this[_0x9d3dca(702)] = _0x467c42;
          } });
          function _0x49e70e(_0x4e8da4, _0x30f1d4, _0x171858) {
            var _0x2785ff = _0x16c9d5, _0x2b54c7, _0x1ee032 = this[_0x2785ff(425)];
            _0x1ee032 ? (_0x2b54c7 = _0x1ee032, this[_0x2785ff(425)] = _0x7b7708) : _0x2b54c7 = this[_0x2785ff(702)];
            for (var _0xf989a9 = 0; _0xf989a9 < _0x171858; _0xf989a9++) _0x4e8da4[_0x30f1d4 + _0xf989a9] ^= _0x2b54c7[_0xf989a9];
          }
          return _0x56e103;
        }(), _0x3d3feb = _0x2d8a4b["pad"] = {}, _0x14bf89 = _0x3d3feb[_0x142af6(548)] = { "pad": function(_0x2bf8f8, _0x4463ec) {
          var _0x2c8853 = _0x142af6;
          for (var _0x15ab4b = _0x4463ec * 4, _0x1ef621 = _0x15ab4b - _0x2bf8f8[_0x2c8853(468)] % _0x15ab4b, _0x53caa3 = _0x1ef621 << 24 | _0x1ef621 << 16 | _0x1ef621 << 8 | _0x1ef621, _0x34e2e3 = [], _0x4f75a7 = 0; _0x4f75a7 < _0x1ef621; _0x4f75a7 += 4) _0x34e2e3[_0x2c8853(249)](_0x53caa3);
          var _0x4e82f0 = _0x1460ee[_0x2c8853(765)](_0x34e2e3, _0x1ef621);
          _0x2bf8f8["concat"](_0x4e82f0);
        }, "unpad": function(_0x8aab2d) {
          var _0x14a6b5 = _0x142af6, _0x441fb4 = _0x8aab2d[_0x14a6b5(579)][_0x8aab2d[_0x14a6b5(468)] - 1 >>> 2] & 255;
          _0x8aab2d[_0x14a6b5(468)] -= _0x441fb4;
        } };
        _0x41f2d2["BlockCipher"] = _0x4ddbfa[_0x142af6(300)]({ "cfg": _0x4ddbfa[_0x142af6(207)][_0x142af6(300)]({ "mode": _0x310430, "padding": _0x14bf89 }), "reset": function() {
          var _0x2ceab5 = _0x142af6, _0x5eb795;
          _0x4ddbfa["reset"][_0x2ceab5(678)](this);
          var _0x34515f = this["cfg"], _0x240c03 = _0x34515f["iv"], _0x5b124f = _0x34515f[_0x2ceab5(134)];
          this[_0x2ceab5(337)] == this[_0x2ceab5(157)] ? _0x5eb795 = _0x5b124f[_0x2ceab5(473)] : (_0x5eb795 = _0x5b124f[_0x2ceab5(710)], this["_minBufferSize"] = 1), this["_mode"] && this[_0x2ceab5(832)][_0x2ceab5(127)] == _0x5eb795 ? this[_0x2ceab5(832)][_0x2ceab5(408)](this, _0x240c03 && _0x240c03["words"]) : (this[_0x2ceab5(832)] = _0x5eb795["call"](_0x5b124f, this, _0x240c03 && _0x240c03["words"]), this[_0x2ceab5(832)]["__creator"] = _0x5eb795);
        }, "_doProcessBlock": function(_0x4940f5, _0x48809e) {
          var _0x23877c = _0x142af6;
          this["_mode"][_0x23877c(458)](_0x4940f5, _0x48809e);
        }, "_doFinalize": function() {
          var _0x356890 = _0x142af6, _0x703f15, _0x825a76 = this[_0x356890(207)]["padding"];
          return this["_xformMode"] == this[_0x356890(157)] ? (_0x825a76["pad"](this[_0x356890(304)], this[_0x356890(133)]), _0x703f15 = this[_0x356890(546)](true)) : (_0x703f15 = this[_0x356890(546)](true), _0x825a76[_0x356890(610)](_0x703f15)), _0x703f15;
        }, "blockSize": 128 / 32 });
        var _0x32dc02 = _0x41f2d2[_0x142af6(719)] = _0x5a4ec3[_0x142af6(300)]({ "init": function(_0x6aed4e) {
          var _0x25098e = _0x142af6;
          this[_0x25098e(227)](_0x6aed4e);
        }, "toString": function(_0x55228b) {
          return (_0x55228b || this["formatter"])["stringify"](this);
        } }), _0x1d00e4 = _0x2d8a4b[_0x142af6(586)] = {}, _0x20a477 = _0x1d00e4[_0x142af6(280)] = { "stringify": function(_0x1fe16c) {
          var _0x4ebf43 = _0x142af6, _0x13cd82, _0x4c93b7 = _0x1fe16c["ciphertext"], _0x1241c2 = _0x1fe16c[_0x4ebf43(822)];
          return _0x1241c2 ? _0x13cd82 = _0x1460ee[_0x4ebf43(765)]([1398893684, 1701076831])[_0x4ebf43(457)](_0x1241c2)[_0x4ebf43(457)](_0x4c93b7) : _0x13cd82 = _0x4c93b7, _0x13cd82[_0x4ebf43(441)](_0x90a107);
        }, "parse": function(_0x10493e) {
          var _0x533a23 = _0x142af6, _0x4f3476, _0x542636 = _0x90a107["parse"](_0x10493e), _0x5cadd9 = _0x542636[_0x533a23(579)];
          return _0x5cadd9[0] == 1398893684 && _0x5cadd9[1] == 1701076831 && (_0x4f3476 = _0x1460ee[_0x533a23(765)](_0x5cadd9[_0x533a23(756)](2, 4)), _0x5cadd9[_0x533a23(653)](0, 4), _0x542636[_0x533a23(468)] -= 16), _0x32dc02[_0x533a23(765)]({ "ciphertext": _0x542636, "salt": _0x4f3476 });
        } }, _0x3b0dc8 = _0x41f2d2[_0x142af6(673)] = _0x5a4ec3[_0x142af6(300)]({ "cfg": _0x5a4ec3["extend"]({ "format": _0x20a477 }), "encrypt": function(_0x58b86d, _0x574658, _0x548150, _0x687c05) {
          var _0xb6781a = _0x142af6;
          _0x687c05 = this[_0xb6781a(207)]["extend"](_0x687c05);
          var _0xe0ac35 = _0x58b86d[_0xb6781a(473)](_0x548150, _0x687c05), _0x5ce21d = _0xe0ac35["finalize"](_0x574658), _0x488056 = _0xe0ac35[_0xb6781a(207)];
          return _0x32dc02[_0xb6781a(765)]({ "ciphertext": _0x5ce21d, "key": _0x548150, "iv": _0x488056["iv"], "algorithm": _0x58b86d, "mode": _0x488056[_0xb6781a(134)], "padding": _0x488056[_0xb6781a(321)], "blockSize": _0x58b86d[_0xb6781a(133)], "formatter": _0x687c05[_0xb6781a(586)] });
        }, "decrypt": function(_0x489457, _0x49a1e5, _0x14fb0d, _0x482601) {
          var _0xd40ca5 = _0x142af6;
          _0x482601 = this[_0xd40ca5(207)][_0xd40ca5(300)](_0x482601), _0x49a1e5 = this[_0xd40ca5(322)](_0x49a1e5, _0x482601["format"]);
          var _0x490787 = _0x489457[_0xd40ca5(710)](_0x14fb0d, _0x482601)[_0xd40ca5(816)](_0x49a1e5[_0xd40ca5(323)]);
          return _0x490787;
        }, "_parse": function(_0x269409, _0x8e1b9f) {
          return typeof _0x269409 == "string" ? _0x8e1b9f["parse"](_0x269409, this) : _0x269409;
        } }), _0x12e7c8 = _0x2d8a4b[_0x142af6(754)] = {}, _0x4608cc = _0x12e7c8[_0x142af6(280)] = { "execute": function(_0x16e59e, _0xb0009b, _0x3b21aa, _0x5ef0cb, _0x5dbcbc) {
          var _0x21c9c2 = _0x142af6;
          if (_0x5ef0cb || (_0x5ef0cb = _0x1460ee["random"](64 / 8)), _0x5dbcbc) var _0x281656 = _0x5c3385[_0x21c9c2(765)]({ "keySize": _0xb0009b + _0x3b21aa, "hasher": _0x5dbcbc })[_0x21c9c2(388)](_0x16e59e, _0x5ef0cb);
          else var _0x281656 = _0x5c3385[_0x21c9c2(765)]({ "keySize": _0xb0009b + _0x3b21aa })[_0x21c9c2(388)](_0x16e59e, _0x5ef0cb);
          var _0x564213 = _0x1460ee[_0x21c9c2(765)](_0x281656[_0x21c9c2(579)][_0x21c9c2(756)](_0xb0009b), _0x3b21aa * 4);
          return _0x281656["sigBytes"] = _0xb0009b * 4, _0x32dc02[_0x21c9c2(765)]({ "key": _0x281656, "iv": _0x564213, "salt": _0x5ef0cb });
        } }, _0x2ff834 = _0x41f2d2["PasswordBasedCipher"] = _0x3b0dc8[_0x142af6(300)]({ "cfg": _0x3b0dc8[_0x142af6(207)][_0x142af6(300)]({ "kdf": _0x4608cc }), "encrypt": function(_0x21607f, _0x2dcd88, _0xef4d6e, _0x3b1af3) {
          var _0x260491 = _0x142af6;
          _0x3b1af3 = this[_0x260491(207)]["extend"](_0x3b1af3);
          var _0x80f633 = _0x3b1af3["kdf"]["execute"](_0xef4d6e, _0x21607f[_0x260491(481)], _0x21607f[_0x260491(440)], _0x3b1af3[_0x260491(822)], _0x3b1af3[_0x260491(193)]);
          _0x3b1af3["iv"] = _0x80f633["iv"];
          var _0x15de3d = _0x3b0dc8[_0x260491(394)]["call"](this, _0x21607f, _0x2dcd88, _0x80f633[_0x260491(538)], _0x3b1af3);
          return _0x15de3d["mixIn"](_0x80f633), _0x15de3d;
        }, "decrypt": function(_0x217ec0, _0x372209, _0x55d6c8, _0x2f967b) {
          var _0x4c39a5 = _0x142af6;
          _0x2f967b = this[_0x4c39a5(207)]["extend"](_0x2f967b), _0x372209 = this[_0x4c39a5(322)](_0x372209, _0x2f967b[_0x4c39a5(586)]);
          var _0x4c5c73 = _0x2f967b[_0x4c39a5(754)][_0x4c39a5(638)](_0x55d6c8, _0x217ec0[_0x4c39a5(481)], _0x217ec0["ivSize"], _0x372209["salt"], _0x2f967b[_0x4c39a5(193)]);
          _0x2f967b["iv"] = _0x4c5c73["iv"];
          var _0x112609 = _0x3b0dc8[_0x4c39a5(734)][_0x4c39a5(678)](this, _0x217ec0, _0x372209, _0x4c5c73["key"], _0x2f967b);
          return _0x112609;
        } });
      }();
    });
  }(Je)), Je["exports"];
}
var mn = Ve3[_0x2dad69(723)];
var ti;
function In() {
  return ti || (ti = 1, function(_0x1a3fbe, _0x477f7c) {
    (function(_0x2a06a3, _0x35f900, _0x43461f) {
      _0x1a3fbe["exports"] = _0x35f900(ie2(), Ri(), ln(), Ci(), Ni());
    })(mn, function(_0x3e3924) {
      return function() {
        var _0x3f2617 = _0x35c2, _0x1a8e32 = _0x3e3924, _0x3af3cb = _0x1a8e32[_0x3f2617(664)], _0x5e9376 = _0x3af3cb[_0x3f2617(806)], _0x49089e = _0x1a8e32[_0x3f2617(128)], _0x633724 = [], _0xbfe253 = [], _0x13fd0f = [], _0x20fc72 = [], _0x59735e = [], _0x5656d3 = [], _0x1c0d72 = [], _0x239461 = [], _0x116059 = [], _0x3d448d = [];
        (function() {
          for (var _0x1569be = [], _0x61984c = 0; _0x61984c < 256; _0x61984c++) _0x61984c < 128 ? _0x1569be[_0x61984c] = _0x61984c << 1 : _0x1569be[_0x61984c] = _0x61984c << 1 ^ 283;
          for (var _0x42c1a8 = 0, _0x443566 = 0, _0x61984c = 0; _0x61984c < 256; _0x61984c++) {
            var _0x44382b = _0x443566 ^ _0x443566 << 1 ^ _0x443566 << 2 ^ _0x443566 << 3 ^ _0x443566 << 4;
            _0x44382b = _0x44382b >>> 8 ^ _0x44382b & 255 ^ 99, _0x633724[_0x42c1a8] = _0x44382b, _0xbfe253[_0x44382b] = _0x42c1a8;
            var _0x5a2baf = _0x1569be[_0x42c1a8], _0x1a6f55 = _0x1569be[_0x5a2baf], _0x39622f = _0x1569be[_0x1a6f55], _0x3c1790 = _0x1569be[_0x44382b] * 257 ^ _0x44382b * 16843008;
            _0x13fd0f[_0x42c1a8] = _0x3c1790 << 24 | _0x3c1790 >>> 8, _0x20fc72[_0x42c1a8] = _0x3c1790 << 16 | _0x3c1790 >>> 16, _0x59735e[_0x42c1a8] = _0x3c1790 << 8 | _0x3c1790 >>> 24, _0x5656d3[_0x42c1a8] = _0x3c1790;
            var _0x3c1790 = _0x39622f * 16843009 ^ _0x1a6f55 * 65537 ^ _0x5a2baf * 257 ^ _0x42c1a8 * 16843008;
            _0x1c0d72[_0x44382b] = _0x3c1790 << 24 | _0x3c1790 >>> 8, _0x239461[_0x44382b] = _0x3c1790 << 16 | _0x3c1790 >>> 16, _0x116059[_0x44382b] = _0x3c1790 << 8 | _0x3c1790 >>> 24, _0x3d448d[_0x44382b] = _0x3c1790, _0x42c1a8 ? (_0x42c1a8 = _0x5a2baf ^ _0x1569be[_0x1569be[_0x1569be[_0x39622f ^ _0x5a2baf]]], _0x443566 ^= _0x1569be[_0x1569be[_0x443566]]) : _0x42c1a8 = _0x443566 = 1;
          }
        })();
        var _0xb9b158 = [0, 1, 2, 4, 8, 16, 32, 64, 128, 27, 54], _0x150764 = _0x49089e["AES"] = _0x5e9376[_0x3f2617(300)]({ "_doReset": function() {
          var _0x4b119e = _0x3f2617, _0x23f3c5;
          if (!(this[_0x4b119e(260)] && this["_keyPriorReset"] === this["_key"])) {
            for (var _0x49566d = this["_keyPriorReset"] = this[_0x4b119e(184)], _0x351b27 = _0x49566d[_0x4b119e(579)], _0x2ef49d = _0x49566d[_0x4b119e(468)] / 4, _0x571c9e = this[_0x4b119e(260)] = _0x2ef49d + 6, _0x43e5ea = (_0x571c9e + 1) * 4, _0x3fa251 = this[_0x4b119e(805)] = [], _0x5f2a29 = 0; _0x5f2a29 < _0x43e5ea; _0x5f2a29++) _0x5f2a29 < _0x2ef49d ? _0x3fa251[_0x5f2a29] = _0x351b27[_0x5f2a29] : (_0x23f3c5 = _0x3fa251[_0x5f2a29 - 1], _0x5f2a29 % _0x2ef49d ? _0x2ef49d > 6 && _0x5f2a29 % _0x2ef49d == 4 && (_0x23f3c5 = _0x633724[_0x23f3c5 >>> 24] << 24 | _0x633724[_0x23f3c5 >>> 16 & 255] << 16 | _0x633724[_0x23f3c5 >>> 8 & 255] << 8 | _0x633724[_0x23f3c5 & 255]) : (_0x23f3c5 = _0x23f3c5 << 8 | _0x23f3c5 >>> 24, _0x23f3c5 = _0x633724[_0x23f3c5 >>> 24] << 24 | _0x633724[_0x23f3c5 >>> 16 & 255] << 16 | _0x633724[_0x23f3c5 >>> 8 & 255] << 8 | _0x633724[_0x23f3c5 & 255], _0x23f3c5 ^= _0xb9b158[_0x5f2a29 / _0x2ef49d | 0] << 24), _0x3fa251[_0x5f2a29] = _0x3fa251[_0x5f2a29 - _0x2ef49d] ^ _0x23f3c5);
            for (var _0x3a8c15 = this[_0x4b119e(290)] = [], _0x43e1d2 = 0; _0x43e1d2 < _0x43e5ea; _0x43e1d2++) {
              var _0x5f2a29 = _0x43e5ea - _0x43e1d2;
              if (_0x43e1d2 % 4) var _0x23f3c5 = _0x3fa251[_0x5f2a29];
              else var _0x23f3c5 = _0x3fa251[_0x5f2a29 - 4];
              _0x43e1d2 < 4 || _0x5f2a29 <= 4 ? _0x3a8c15[_0x43e1d2] = _0x23f3c5 : _0x3a8c15[_0x43e1d2] = _0x1c0d72[_0x633724[_0x23f3c5 >>> 24]] ^ _0x239461[_0x633724[_0x23f3c5 >>> 16 & 255]] ^ _0x116059[_0x633724[_0x23f3c5 >>> 8 & 255]] ^ _0x3d448d[_0x633724[_0x23f3c5 & 255]];
            }
          }
        }, "encryptBlock": function(_0x54c1dd, _0x564ff1) {
          var _0x559dbe = _0x3f2617;
          this["_doCryptBlock"](_0x54c1dd, _0x564ff1, this[_0x559dbe(805)], _0x13fd0f, _0x20fc72, _0x59735e, _0x5656d3, _0x633724);
        }, "decryptBlock": function(_0x26aa6d, _0x12ac7b) {
          var _0x5b1bc9 = _0x3f2617, _0x1ebf32 = _0x26aa6d[_0x12ac7b + 1];
          _0x26aa6d[_0x12ac7b + 1] = _0x26aa6d[_0x12ac7b + 3], _0x26aa6d[_0x12ac7b + 3] = _0x1ebf32, this[_0x5b1bc9(357)](_0x26aa6d, _0x12ac7b, this["_invKeySchedule"], _0x1c0d72, _0x239461, _0x116059, _0x3d448d, _0xbfe253);
          var _0x1ebf32 = _0x26aa6d[_0x12ac7b + 1];
          _0x26aa6d[_0x12ac7b + 1] = _0x26aa6d[_0x12ac7b + 3], _0x26aa6d[_0x12ac7b + 3] = _0x1ebf32;
        }, "_doCryptBlock": function(_0x2e2e19, _0x53a8f2, _0x507edc, _0x499bf7, _0x182ef6, _0x51e6e2, _0x3761d2, _0x14e992) {
          var _0x2cea12 = _0x3f2617;
          for (var _0x15ddda = this[_0x2cea12(260)], _0x165d6d = _0x2e2e19[_0x53a8f2] ^ _0x507edc[0], _0x4c95f5 = _0x2e2e19[_0x53a8f2 + 1] ^ _0x507edc[1], _0x43dad9 = _0x2e2e19[_0x53a8f2 + 2] ^ _0x507edc[2], _0x4c9546 = _0x2e2e19[_0x53a8f2 + 3] ^ _0x507edc[3], _0x49c529 = 4, _0x5e4c5a = 1; _0x5e4c5a < _0x15ddda; _0x5e4c5a++) {
            var _0x12fc56 = _0x499bf7[_0x165d6d >>> 24] ^ _0x182ef6[_0x4c95f5 >>> 16 & 255] ^ _0x51e6e2[_0x43dad9 >>> 8 & 255] ^ _0x3761d2[_0x4c9546 & 255] ^ _0x507edc[_0x49c529++], _0x138c01 = _0x499bf7[_0x4c95f5 >>> 24] ^ _0x182ef6[_0x43dad9 >>> 16 & 255] ^ _0x51e6e2[_0x4c9546 >>> 8 & 255] ^ _0x3761d2[_0x165d6d & 255] ^ _0x507edc[_0x49c529++], _0x4d01bc = _0x499bf7[_0x43dad9 >>> 24] ^ _0x182ef6[_0x4c9546 >>> 16 & 255] ^ _0x51e6e2[_0x165d6d >>> 8 & 255] ^ _0x3761d2[_0x4c95f5 & 255] ^ _0x507edc[_0x49c529++], _0x118ae7 = _0x499bf7[_0x4c9546 >>> 24] ^ _0x182ef6[_0x165d6d >>> 16 & 255] ^ _0x51e6e2[_0x4c95f5 >>> 8 & 255] ^ _0x3761d2[_0x43dad9 & 255] ^ _0x507edc[_0x49c529++];
            _0x165d6d = _0x12fc56, _0x4c95f5 = _0x138c01, _0x43dad9 = _0x4d01bc, _0x4c9546 = _0x118ae7;
          }
          var _0x12fc56 = (_0x14e992[_0x165d6d >>> 24] << 24 | _0x14e992[_0x4c95f5 >>> 16 & 255] << 16 | _0x14e992[_0x43dad9 >>> 8 & 255] << 8 | _0x14e992[_0x4c9546 & 255]) ^ _0x507edc[_0x49c529++], _0x138c01 = (_0x14e992[_0x4c95f5 >>> 24] << 24 | _0x14e992[_0x43dad9 >>> 16 & 255] << 16 | _0x14e992[_0x4c9546 >>> 8 & 255] << 8 | _0x14e992[_0x165d6d & 255]) ^ _0x507edc[_0x49c529++], _0x4d01bc = (_0x14e992[_0x43dad9 >>> 24] << 24 | _0x14e992[_0x4c9546 >>> 16 & 255] << 16 | _0x14e992[_0x165d6d >>> 8 & 255] << 8 | _0x14e992[_0x4c95f5 & 255]) ^ _0x507edc[_0x49c529++], _0x118ae7 = (_0x14e992[_0x4c9546 >>> 24] << 24 | _0x14e992[_0x165d6d >>> 16 & 255] << 16 | _0x14e992[_0x4c95f5 >>> 8 & 255] << 8 | _0x14e992[_0x43dad9 & 255]) ^ _0x507edc[_0x49c529++];
          _0x2e2e19[_0x53a8f2] = _0x12fc56, _0x2e2e19[_0x53a8f2 + 1] = _0x138c01, _0x2e2e19[_0x53a8f2 + 2] = _0x4d01bc, _0x2e2e19[_0x53a8f2 + 3] = _0x118ae7;
        }, "keySize": 256 / 32 });
        _0x1a8e32[_0x3f2617(472)] = _0x5e9376[_0x3f2617(731)](_0x150764);
      }(), _0x3e3924["AES"];
    });
  }(Ve3)), Ve3["exports"];
}
var Sn = In();
var gn = $e(Sn);
var Tn = Ri();
var ii = $e(Tn);
var Xe = { "exports": {} };
var On = Xe["exports"];
var si;
function Rn() {
  return si || (si = 1, function(_0x391298, _0x2f7fd1) {
    (function(_0x33ad4c, _0x32aefd) {
      var _0x59765a = _0x35c2;
      _0x391298[_0x59765a(723)] = _0x32aefd(ie2());
    })(On, function(_0x21c5c3) {
      return _0x21c5c3["enc"]["Utf8"];
    });
  }(Xe)), Xe["exports"];
}
var Cn = Rn();
var Nn = $e(Cn);
var Ze = { "exports": {} };
var bn = Ze[_0x2dad69(723)];
var ni;
function Dn() {
  var _0x338be7 = _0x2dad69;
  return ni || (ni = 1, function(_0x1d2ed6, _0x282687) {
    (function(_0x5d83dc, _0x4ea0ff) {
      var _0x360c43 = _0x35c2;
      _0x1d2ed6[_0x360c43(723)] = _0x4ea0ff(ie2());
    })(bn, function(_0x22acda) {
      var _0x59fa35 = _0x35c2;
      return function() {
        var _0x2485c4 = _0x35c2;
        if (typeof ArrayBuffer == _0x2485c4(317)) {
          var _0x395a75 = _0x22acda, _0x4f1bc8 = _0x395a75[_0x2485c4(664)], _0x4a0005 = _0x4f1bc8[_0x2485c4(570)], _0x132e7a = _0x4a0005["init"], _0x25ffec = _0x4a0005[_0x2485c4(408)] = function(_0x37b342) {
            var _0x581be2 = _0x2485c4;
            if (_0x37b342 instanceof ArrayBuffer && (_0x37b342 = new Uint8Array(_0x37b342)), (_0x37b342 instanceof Int8Array || typeof Uint8ClampedArray < "u" && _0x37b342 instanceof Uint8ClampedArray || _0x37b342 instanceof Int16Array || _0x37b342 instanceof Uint16Array || _0x37b342 instanceof Int32Array || _0x37b342 instanceof Uint32Array || _0x37b342 instanceof Float32Array || _0x37b342 instanceof Float64Array) && (_0x37b342 = new Uint8Array(_0x37b342[_0x581be2(341)], _0x37b342[_0x581be2(165)], _0x37b342[_0x581be2(324)])), _0x37b342 instanceof Uint8Array) {
              for (var _0x37f754 = _0x37b342[_0x581be2(324)], _0x41577c = [], _0x2ccdff = 0; _0x2ccdff < _0x37f754; _0x2ccdff++) _0x41577c[_0x2ccdff >>> 2] |= _0x37b342[_0x2ccdff] << 24 - _0x2ccdff % 4 * 8;
              _0x132e7a[_0x581be2(678)](this, _0x41577c, _0x37f754);
            } else _0x132e7a["apply"](this, arguments);
          };
          _0x25ffec[_0x2485c4(716)] = _0x4a0005;
        }
      }(), _0x22acda[_0x59fa35(664)][_0x59fa35(570)];
    });
  }(Ze)), Ze[_0x338be7(723)];
}
var yn = Dn();
var Un = $e(yn);
var Qe = { "exports": {} };
var An = Qe[_0x2dad69(723)];
var ri;
function Pn() {
  var _0x21f0d4 = _0x2dad69;
  return ri || (ri = 1, function(_0x44aa66, _0x7a87c8) {
    (function(_0x30d65e, _0x50de55, _0x1a5a8a) {
      var _0x53229f = _0x35c2;
      _0x44aa66[_0x53229f(723)] = _0x50de55(ie2(), Ni());
    })(An, function(_0x2c8e89) {
      var _0xbc8017 = _0x35c2;
      return _0x2c8e89[_0xbc8017(439)][_0xbc8017(685)] = { "pad": function() {
      }, "unpad": function() {
      } }, _0x2c8e89[_0xbc8017(439)][_0xbc8017(685)];
    });
  }(Qe)), Qe[_0x21f0d4(723)];
}
var wn = Pn();
var Mn = $e(wn);
function Ln(_0x1e3440, _0x528053) {
  var _0x5bbb65 = _0x2dad69;
  const _0x3f5612 = _0x528053 - _0x1e3440[_0x5bbb65(208)] % _0x528053, _0x4ac4f9 = String[_0x5bbb65(667)](_0x3f5612)["repeat"](_0x3f5612);
  return _0x1e3440 + _0x4ac4f9;
}
function xn(_0x10caa3, _0x58201e) {
  var _0x47d36c = _0x2dad69;
  const _0x15791d = Un[_0x47d36c(138)](16), _0x2d8fe1 = Ln(_0x10caa3, 16), _0x4aedf0 = gn[_0x47d36c(394)](Nn[_0x47d36c(303)](_0x2d8fe1), ii[_0x47d36c(303)](_0x58201e), { "iv": _0x15791d, "padding": Mn });
  return _0x15791d[_0x47d36c(457)](_0x4aedf0["ciphertext"])[_0x47d36c(441)](ii);
}
function kn() {
  var _0x46bbcc = _0x2dad69;
  const _0x4c6e68 = de()[_0x46bbcc(347)];
  if (_0x4c6e68) {
    const _0x30af64 = { "time": Math[_0x46bbcc(871)](Date[_0x46bbcc(319)]() / 1e3), "domain": location[_0x46bbcc(701)] };
    return xn(JSON[_0x46bbcc(878)](_0x30af64), _0x4c6e68);
  }
}
var $n = Object[_0x2dad69(498)];
var Hn = (_0x3ba090, _0x4efe69, _0x2051ec, _0x1a8ad2) => {
  for (var _0x36d063 = _0x1a8ad2 > 1 ? void 0 : _0x1a8ad2 ? $n(_0x4efe69, _0x2051ec) : _0x4efe69, _0x7793b0 = _0x3ba090["length"] - 1, _0x3e5315; _0x7793b0 >= 0; _0x7793b0--) (_0x3e5315 = _0x3ba090[_0x7793b0]) && (_0x36d063 = _0x3e5315(_0x36d063) || _0x36d063);
  return _0x36d063;
};
var Bn = (_0x4294c9, _0x44211e) => (_0x311d12, _0x17c064) => _0x44211e(_0x311d12, _0x17c064, _0x4294c9);
var at = class {
  constructor(_0x3d96fa) {
    var _0x453555 = _0x2dad69;
    this[_0x453555(349)] = _0x3d96fa, this[_0x453555(284)]();
  }
  [_0x2dad69(284)]() {
    var _0x1f071a = _0x2dad69;
    this[_0x1f071a(349)][_0x1f071a(416)]({ "interceptor": (_0x2109e7, _0x384970) => {
      var _0x296e62 = _0x1f071a;
      const _0x36e763 = _0x2109e7["headers"], _0x590861 = kn();
      return _0x590861 && _0x36e763["set"](_0x296e62(164), _0x590861), _0x384970(_0x2109e7);
    } });
  }
};
at = Hn([Bn(0, Inject(x))], at);
var Fn2 = Object[_0x2dad69(498)];
var jn = (_0x40e419, _0x192bdf, _0x4fbd6c, _0x424fd7) => {
  var _0x14e0dc = _0x2dad69;
  for (var _0x265f08 = _0x424fd7 > 1 ? void 0 : _0x424fd7 ? Fn2(_0x192bdf, _0x4fbd6c) : _0x192bdf, _0x1bf42d = _0x40e419[_0x14e0dc(208)] - 1, _0x52d150; _0x1bf42d >= 0; _0x1bf42d--) (_0x52d150 = _0x40e419[_0x1bf42d]) && (_0x265f08 = _0x52d150(_0x265f08) || _0x265f08);
  return _0x265f08;
};
var vt = (_0x8e77df, _0x3c4574) => (_0x5ef300, _0x52deeb) => _0x3c4574(_0x5ef300, _0x52deeb, _0x8e77df);
var Ot = class extends h1 {
  constructor(_0x4e9c12, _0x4bdf65, _0x1493ce) {
    var _0x251499 = _0x2dad69;
    super(), D(this, _0x251499(494), new BehaviorSubject(null)), D(this, _0x251499(720), this["_unitInfo$"][_0x251499(475)]()), this[_0x251499(211)] = _0x4e9c12, this[_0x251499(392)] = _0x4bdf65, this[_0x251499(190)] = _0x1493ce;
  }
  async [_0x2dad69(584)](_0x21a9b3, _0x4c6a4e, _0x43c284) {
    var _0x34c50d = _0x2dad69;
    this[_0x34c50d(494)][_0x34c50d(836)]({ "unitId": _0x21a9b3, "type": _0x4c6a4e });
    let _0x5833b9 = null;
    switch (_0x4c6a4e) {
      case Q[_0x34c50d(370)]: {
        _0x5833b9 = await this[_0x34c50d(392)][_0x34c50d(125)](_0x21a9b3, _0x43c284);
        break;
      }
      case Q[_0x34c50d(744)]: {
        _0x5833b9 = await this[_0x34c50d(392)]["loadDoc"](_0x21a9b3, _0x43c284);
        break;
      }
      default: {
        this[_0x34c50d(211)]["error"](_0x34c50d(798), "Unknown type. Will not load files from remote address.");
        break;
      }
    }
    return _0x5833b9;
  }
  async [_0x2dad69(783)](_0x2004f9, _0x2ed7c2, _0x3a7b59) {
    var _0x6b5d2f = _0x2dad69, _0x25266e;
    this[_0x6b5d2f(494)]["next"]({ "unitId": _0x2004f9, "type": _0x2ed7c2, "subUnitId": _0x3a7b59 });
    let _0x4e65e4 = 0;
    const _0x4f48dd = await ((_0x25266e = this[_0x6b5d2f(190)]) == null ? void 0 : _0x25266e[_0x6b5d2f(384)](_0x2004f9));
    return _0x4f48dd && (_0x4f48dd[_0x6b5d2f(476)] || _0x4f48dd["mutations"][_0x6b5d2f(208)] !== 0) && (_0x4e65e4 = _0x4f48dd[_0x6b5d2f(502)]), _0x4e65e4 === 0 && this[_0x6b5d2f(211)][_0x6b5d2f(210)](_0x6b5d2f(798), _0x6b5d2f(615)), this["loadUnitOfRevision"](_0x2004f9, _0x2ed7c2, _0x4e65e4);
  }
};
Ot = jn([vt(0, yt), vt(1, Inject(zt)), vt(2, Optional(J2))], Ot);
var Vn = Object[_0x2dad69(498)];
var Gn = (_0x343a5c, _0x40a8c6, _0x131feb, _0x34c1a2) => {
  var _0x266101 = _0x2dad69;
  for (var _0x58bfd1 = _0x34c1a2 > 1 ? void 0 : _0x34c1a2 ? Vn(_0x40a8c6, _0x131feb) : _0x40a8c6, _0x92d622 = _0x343a5c[_0x266101(208)] - 1, _0x26aca5; _0x92d622 >= 0; _0x92d622--) (_0x26aca5 = _0x343a5c[_0x92d622]) && (_0x58bfd1 = _0x26aca5(_0x58bfd1) || _0x58bfd1);
  return _0x58bfd1;
};
var pt = (_0x48029f, _0x2521e7) => (_0x566f82, _0x5ef226) => _0x2521e7(_0x566f82, _0x5ef226, _0x48029f);
var Wn = [_0x2dad69(147), _0x2dad69(894), "image/jpg", _0x2dad69(174), _0x2dad69(483)];
var Yn = 5 * 1024 * 1024;
var Kn = _0x2dad69(187);
var qn = "/universer-api/file/{fileID}/sign-url";
var Rt = class {
  constructor(_0x402d28, _0x2dfe58, _0x1a85bb) {
    var _0x51d747 = _0x2dad69;
    D(this, _0x51d747(354), 0), D(this, _0x51d747(397), new Subject()), D(this, _0x51d747(559), this[_0x51d747(397)]), D(this, _0x51d747(253), /* @__PURE__ */ new Map()), this["_httpService"] = _0x402d28, this[_0x51d747(633)] = _0x2dfe58, this[_0x51d747(263)] = _0x1a85bb;
  }
  [_0x2dad69(205)](_0x26f29d) {
    var _0x1a9fdd = _0x2dad69;
    this[_0x1a9fdd(354)] = _0x26f29d, this[_0x1a9fdd(397)][_0x1a9fdd(836)](_0x26f29d);
  }
  [_0x2dad69(628)](_0x40da56, _0x124e41) {
    var _0x164e11 = _0x2dad69;
    if (_0x124e41 === oc[_0x164e11(512)]) {
      const _0x478777 = new Image();
      return _0x478777[_0x164e11(879)] = _0x40da56, _0x478777;
    }
    return this[_0x164e11(253)][_0x164e11(126)](_0x40da56);
  }
  ["addImageSourceCache"](_0xbeb645, _0x9cf34b, _0x236e5c) {
    var _0x250093 = _0x2dad69;
    _0x9cf34b === oc[_0x250093(512)] || _0x236e5c == null || this[_0x250093(253)]["set"](_0xbeb645, _0x236e5c);
  }
  async [_0x2dad69(851)](_0x5a9a66) {
    var _0xa9696c = _0x2dad69;
    try {
      const _0x56f2e4 = this[_0xa9696c(862)](this[_0xa9696c(626)](), "" + _0x5a9a66), _0xcd9007 = (await this[_0xa9696c(349)]["get"](_0x56f2e4))[_0xa9696c(432)];
      if (_0xcd9007["error"] && _0xcd9007[_0xa9696c(355)][_0xa9696c(607)] === vi["OK"]) {
        const _0x5cdc13 = new URL(_0xcd9007[_0xa9696c(186)], this[_0xa9696c(666)]())[_0xa9696c(441)]();
        return Promise[_0xa9696c(217)](_0x5cdc13);
      }
      return Promise[_0xa9696c(898)](_0xcd9007[_0xa9696c(355)]);
    } catch (_0x35c13e) {
      return Promise[_0xa9696c(898)](_0x35c13e);
    }
  }
  async [_0x2dad69(479)](_0x58c0f5) {
    var _0x119e74 = _0x2dad69;
    let _0x47b31d = "";
    if (!Wn[_0x119e74(415)](_0x58c0f5[_0x119e74(151)])) return this[_0x119e74(179)](), Promise[_0x119e74(898)](new Error(pE[_0x119e74(697)]));
    if (_0x58c0f5["size"] > Yn) return this[_0x119e74(179)](), Promise[_0x119e74(898)](new Error(pE[_0x119e74(802)]));
    try {
      const _0x2a1b6e = new FormData();
      _0x2a1b6e[_0x119e74(140)]("file", _0x58c0f5);
      const _0x745c34 = this[_0x119e74(263)][_0x119e74(855)](), _0x4a6335 = _0x745c34 == null ? void 0 : _0x745c34[_0x119e74(309)]();
      if (!_0x4a6335) throw new Error(_0x119e74(399));
      const _0x4d1c55 = this["_getUploadFileURL"]() + "?size=" + _0x58c0f5[_0x119e74(248)][_0x119e74(441)]() + _0x119e74(312) + pi[_0x119e74(572)] + "&assign=" + encodeURIComponent(_0x4a6335), _0x54fd1b = { "body": _0x2a1b6e }, _0x3a1ba6 = (await this[_0x119e74(349)][_0x119e74(821)](_0x4d1c55, _0x54fd1b))[_0x119e74(432)];
      if (typeof _0x3a1ba6[_0x119e74(573)] != _0x119e74(651)) return this[_0x119e74(179)](), Promise[_0x119e74(898)](new Error(pE[_0x119e74(196)]));
      _0x47b31d = _0x3a1ba6[_0x119e74(573)];
    } catch {
      return this[_0x119e74(179)](), Promise[_0x119e74(898)](new Error(pE["ERROR_IMAGE"]));
    }
    return new Promise((_0x4a2b1b, _0x4abf85) => {
      var _0x2ddd3d = _0x119e74;
      const _0x1debf1 = new FileReader();
      _0x1debf1[_0x2ddd3d(286)](_0x58c0f5), _0x1debf1[_0x2ddd3d(467)] = (_0x482181) => {
        var _0x189be5 = _0x2ddd3d, _0x21b0b9;
        const _0x57cfde = (_0x21b0b9 = _0x482181[_0x189be5(378)]) == null ? void 0 : _0x21b0b9[_0x189be5(254)];
        if (_0x57cfde == null) {
          this["_decreaseWaiting"](), _0x4abf85(new Error(pE["ERROR_IMAGE"]));
          return;
        }
        const _0x413f1f = et(6);
        _0x4a2b1b({ "imageId": _0x413f1f, "imageSourceType": oc[_0x189be5(183)], "source": _0x47b31d, "base64Cache": _0x57cfde, "status": pE[_0x189be5(890)] }), this["_decreaseWaiting"]();
      };
    });
  }
  [_0x2dad69(714)]() {
    var _0x19cef2 = _0x2dad69, _0x55f8b6;
    const _0x390228 = this[_0x19cef2(633)][_0x19cef2(599)](K);
    return (_0x55f8b6 = _0x390228 == null ? void 0 : _0x390228["uploadFileServerUrl"]) != null ? _0x55f8b6 : Kn;
  }
  [_0x2dad69(626)]() {
    var _0x5b0a05 = _0x2dad69, _0x28c78d;
    const _0x46913b = this["_configService"][_0x5b0a05(599)](K);
    return (_0x28c78d = _0x46913b == null ? void 0 : _0x46913b[_0x5b0a05(680)]) != null ? _0x28c78d : qn;
  }
  [_0x2dad69(666)]() {
    var _0x5200ff = _0x2dad69, _0x1793c9;
    const _0x3fd77d = this[_0x5200ff(633)][_0x5200ff(599)](K);
    return (_0x1793c9 = _0x3fd77d == null ? void 0 : _0x3fd77d["downloadEndpointUrl"]) != null ? _0x1793c9 : location["origin"];
  }
  [_0x2dad69(862)](_0x58110f, _0xcbd366) {
    var _0x82ed0c = _0x2dad69;
    return _0x58110f[_0x82ed0c(122)]("{fileID}", _0xcbd366);
  }
  [_0x2dad69(179)]() {
    var _0x2f1993 = _0x2dad69;
    this[_0x2f1993(354)] -= 1, this["_change$"][_0x2f1993(836)](this["_waitCount"]);
  }
};
Rt = Gn([pt(0, Inject(x)), pt(1, ic), pt(2, Inject(vr))], Rt);
function _0x35c2(_0x39f089, _0x39c369) {
  var _0x125953 = _0x1259();
  return _0x35c2 = function(_0x35c292, _0x383217) {
    _0x35c292 = _0x35c292 - 108;
    var _0x1b0987 = _0x125953[_0x35c292];
    return _0x1b0987;
  }, _0x35c2(_0x39f089, _0x39c369);
}
var zn = Object[_0x2dad69(498)];
var Jn = (_0xc2977f, _0x191b2c, _0x30a4ae, _0x4c87fe) => {
  var _0x35efe = _0x2dad69;
  for (var _0x3e5ad6 = _0x4c87fe > 1 ? void 0 : _0x4c87fe ? zn(_0x191b2c, _0x30a4ae) : _0x191b2c, _0x2fbc75 = _0xc2977f[_0x35efe(208)] - 1, _0x177f08; _0x2fbc75 >= 0; _0x2fbc75--) (_0x177f08 = _0xc2977f[_0x2fbc75]) && (_0x3e5ad6 = _0x177f08(_0x3e5ad6) || _0x3e5ad6);
  return _0x3e5ad6;
};
var ai = (_0x1e196d, _0x39a55f) => (_0x56e60c, _0xf72087) => _0x39a55f(_0x56e60c, _0xf72087, _0x1e196d);
var Xn = _0x2dad69(188);
var Ct = class {
  constructor(_0x2fc2b7, _0x77992f) {
    var _0x628f25 = _0x2dad69;
    this[_0x628f25(633)] = _0x2fc2b7, this["_HTTPService"] = _0x77992f;
  }
  [_0x2dad69(655)]() {
    var _0x5d6c55 = _0x2dad69, _0x546622;
    const _0x189f59 = this[_0x5d6c55(633)][_0x5d6c55(599)](K);
    return (_0x546622 = _0x189f59 == null ? void 0 : _0x189f59[_0x5d6c55(175)]) != null ? _0x546622 : Xn;
  }
  async [_0x2dad69(455)](_0x4b66ce) {
    var _0x14d945 = _0x2dad69;
    const _0x41ae1f = this[_0x14d945(655)]() + _0x14d945(522);
    return { "list": [{ "title": _0x14d945(486), "mentions": (await this[_0x14d945(663)][_0x14d945(126)](_0x41ae1f, { "params": { "objectID": _0x4b66ce[_0x14d945(814)], "unitID": _0x4b66ce["unitId"] } }))[_0x14d945(432)][_0x14d945(363)]["map"]((_0x1873b6) => ({ "objectId": _0x1873b6["id"], "name": _0x1873b6[_0x14d945(780)][_0x14d945(757)], "metadata": { "icon": _0x1873b6[_0x14d945(780)][_0x14d945(446)] }, "label": _0x1873b6[_0x14d945(780)][_0x14d945(757)], "objectType": Ii[_0x14d945(611)] })), "metadata": {}, "type": Ii[_0x14d945(611)] }] };
  }
};
Ct = Jn([ai(0, Inject(ic)), ai(1, Inject(x))], Ct);
var Zn = Object[_0x2dad69(498)];
var Qn = (_0x417a40, _0x23f58e, _0x28d100, _0xb0445d) => {
  var _0x1674d5 = _0x2dad69;
  for (var _0x31115b = _0xb0445d > 1 ? void 0 : _0xb0445d ? Zn(_0x23f58e, _0x28d100) : _0x23f58e, _0xe90ba0 = _0x417a40[_0x1674d5(208)] - 1, _0xf1718a; _0xe90ba0 >= 0; _0xe90ba0--) (_0xf1718a = _0x417a40[_0xe90ba0]) && (_0x31115b = _0xf1718a(_0x31115b) || _0x31115b);
  return _0x31115b;
};
var Ue = (_0x207c22, _0x5b6cb2) => (_0x19bccd, _0x322a6f) => _0x5b6cb2(_0x19bccd, _0x322a6f, _0x207c22);
var ot = class extends h1 {
  constructor(_0x446960, _0x611bd9, _0x4a25bc, _0x2cf037, _0x3bc831) {
    var _0x1befee = _0x2dad69;
    super(), this["_injector"] = _0x446960, this[_0x1befee(263)] = _0x611bd9, this["_permissionService"] = _0x4a25bc, this[_0x1befee(390)] = _0x2cf037, this[_0x1befee(634)] = _0x3bc831, this[_0x1befee(555)](), this[_0x1befee(375)]();
  }
  [_0x2dad69(375)]() {
    var _0x517b78 = _0x2dad69;
    const _0xbe13f6 = async (_0x199253) => {
      var _0x23e49d = _0x35c2;
      (await this[_0x23e49d(390)]["requireSession"](_0x199253))[_0x23e49d(695)]["pipe"](filter((_0xbb0120) => _0xbb0120[_0x23e49d(589)] === Rm[_0x23e49d(853)]), takeUntil(this[_0x23e49d(730)]))[_0x23e49d(461)]((_0x1f4275) => {
        var _0x578f5a = _0x23e49d;
        const _0x4498ac = _0x1f4275, { reason: _0x2b5bfc } = _0x4498ac["data"];
        this[_0x578f5a(634)]["emitEvent"]({ "id": re["CLOSE_ROOM"], "data": _0x2b5bfc }), this[_0x578f5a(578)]["updatePermissionPoint"](new Pe(_0x199253)["id"], false), this[_0x578f5a(390)][_0x578f5a(326)](_0x199253);
      });
    };
    merge(this[_0x517b78(263)][_0x517b78(574)](we[_0x517b78(370)]), this[_0x517b78(263)][_0x517b78(574)](we[_0x517b78(744)]))[_0x517b78(348)](map((_0x209756) => _0x209756["getUnitId"]()), filter((_0x3c6aaf) => !Yc(_0x3c6aaf)), takeUntil(this[_0x517b78(730)]))[_0x517b78(461)]((_0x305d92) => {
      _0xbe13f6(_0x305d92);
    });
  }
  ["_initUnitPermissionChange"]() {
    var _0x4d2c65 = _0x2dad69;
    const _0x585a6d = async (_0xd8e6bd) => {
      var _0x2e31bc = _0x35c2;
      const _0x5cb77d = await this[_0x2e31bc(390)]["requireSession"](_0xd8e6bd), _0x45a14e = this[_0x2e31bc(307)][_0x2e31bc(126)]($t);
      _0x5cb77d[_0x2e31bc(695)][_0x2e31bc(348)](filter((_0x4af64c) => _0x4af64c[_0x2e31bc(589)] === Rm[_0x2e31bc(146)]), takeUntil(this[_0x2e31bc(730)]))[_0x2e31bc(461)]((_0x326a7a) => {
        var _0xa06988 = _0x2e31bc;
        const _0x3d1e6b = _0x326a7a, { objectId: _0x579bbf } = _0x3d1e6b["data"];
        _0x579bbf === _0xd8e6bd ? _0x45a14e[_0xa06988(897)](_0xd8e6bd) : _0x45a14e["refreshPermission"](_0xd8e6bd, _0x579bbf);
      });
    };
    merge(this[_0x4d2c65(263)][_0x4d2c65(574)](we[_0x4d2c65(370)]))[_0x4d2c65(348)](map((_0x513cff) => _0x513cff[_0x4d2c65(309)]()), filter((_0x408087) => !Yc(_0x408087)), takeUntil(this[_0x4d2c65(730)]))[_0x4d2c65(461)]((_0x53d0ec) => {
      _0x585a6d(_0x53d0ec);
    });
  }
};
ot = Qn([Ue(0, Inject(Injector)), Ue(1, vr), Ue(2, eC), Ue(3, Inject(we2)), Ue(4, Inject(ve))], ot);
var er = Object[_0x2dad69(498)];
var tr = (_0x26c57c, _0x136987, _0x44a482, _0x56e915) => {
  var _0x2c5a51 = _0x2dad69;
  for (var _0x4187f0 = _0x56e915 > 1 ? void 0 : _0x56e915 ? er(_0x136987, _0x44a482) : _0x136987, _0x8610a7 = _0x26c57c[_0x2c5a51(208)] - 1, _0x48a602; _0x8610a7 >= 0; _0x8610a7--) (_0x48a602 = _0x26c57c[_0x8610a7]) && (_0x4187f0 = _0x48a602(_0x4187f0) || _0x4187f0);
  return _0x4187f0;
};
var oi = (_0x2737ba, _0x421709) => (_0x1d7776, _0x17beb0) => _0x421709(_0x1d7776, _0x17beb0, _0x2737ba);
var Nt = class {
  constructor(_0x3e9c88, _0x4dcaf0) {
    var _0x297d4e = _0x2dad69;
    this[_0x297d4e(633)] = _0x3e9c88, this[_0x297d4e(349)] = _0x4dcaf0;
  }
  async [_0x2dad69(301)](_0x100852, _0x15cb60) {
    var _0x40c092 = _0x2dad69, _0x5dd00f;
    const { unitID: _0xc4d5fd, type: _0x396811, revision: _0x5d5b90 = 0 } = _0x15cb60, _0x24b9b2 = this[_0x40c092(785)]() + "/" + _0x396811 + "/unit/" + _0xc4d5fd + "/rev/" + _0x5d5b90, _0x40d3e3 = (await this[_0x40c092(349)][_0x40c092(126)](_0x24b9b2))["body"], _0x39bb90 = (_0x5dd00f = _0x40d3e3["snapshot"]) == null ? void 0 : _0x5dd00f["workbook"];
    if (_0x39bb90) {
      const _0x4df7c0 = _0x39bb90 == null ? void 0 : _0x39bb90[_0x40c092(216)], _0x1fe86b = xt[_0x40c092(204)](Ir(_0x4df7c0));
      _0x39bb90[_0x40c092(216)] = _0x1fe86b, Object[_0x40c092(848)](_0x39bb90["sheets"])[_0x40c092(817)](([, _0x2dba8b]) => {
        var _0x4c91d0 = _0x40c092;
        const _0x47cf1b = _0x2dba8b["originalMeta"], _0x4e8dbc = xt["encode"](Ir(_0x47cf1b));
        _0x2dba8b[_0x4c91d0(216)] = _0x4e8dbc;
      });
    }
    return _0x40d3e3;
  }
  async [_0x2dad69(463)](_0x89db1b, _0x4d10b4) {
    var _0x3da61e = _0x2dad69;
    const { unitID: _0x18c45a, type: _0x5155f1, blockID: _0x4f6335 } = _0x4d10b4, _0x24ede1 = this["_getAPIPrefix"]() + "/" + _0x5155f1 + "/unit/" + _0x18c45a + _0x3da61e(856) + _0x4f6335;
    return (await this[_0x3da61e(349)]["get"](_0x24ede1))[_0x3da61e(432)];
  }
  async ["getDeserializedSheetBlock"](_0x5e2824, _0x535ec8) {
    var _0x110918 = _0x2dad69;
    const { unitID: _0x32d0e1, type: _0x308a76, blockID: _0x52d5d1 } = _0x535ec8, _0x1fade8 = this["_getAPIPrefix"]() + _0x110918(856) + _0x308a76 + _0x110918(619) + _0x32d0e1 + "/block/" + _0x52d5d1;
    return (await this["_httpService"][_0x110918(126)](_0x1fade8))["body"];
  }
  async [_0x2dad69(362)](_0x19cb96, _0x5a7b9d) {
    var _0x116bdf = _0x2dad69;
    const { unitID: _0x59747a, type: _0x3595c9, from: _0x12041f, to: _0x53a0b6 } = _0x5a7b9d, _0x203b61 = this[_0x116bdf(450)]() + "/" + _0x3595c9 + "/unit/" + _0x59747a + _0x116bdf(496) + _0x12041f + _0x116bdf(189) + _0x53a0b6;
    return (await this[_0x116bdf(349)][_0x116bdf(126)](_0x203b61))["body"];
  }
  [_0x2dad69(785)]() {
    var _0xb0ab38 = _0x2dad69, _0x4f2313;
    return (_0x4f2313 = this[_0xb0ab38(633)]["getConfig"](vs)) != null ? _0x4f2313 : this[_0xb0ab38(450)]();
  }
  ["_getAPIPrefix"]() {
    var _0x461d4f = _0x2dad69, _0x3e7a17;
    const _0x4a6ca7 = this[_0x461d4f(633)][_0x461d4f(599)](K);
    return (_0x3e7a17 = _0x4a6ca7 == null ? void 0 : _0x4a6ca7[_0x461d4f(291)]) != null ? _0x3e7a17 : fs;
  }
  async [_0x2dad69(395)](_0x3f383a, _0x568493) {
    var _0x251e64 = _0x2dad69;
    const _0x38759b = _0x251e64(478) + _0x568493["type"] + _0x251e64(619) + _0x568493["unitID"] + _0x251e64(166);
    return (await this[_0x251e64(349)]["get"](_0x38759b, { "params": { "resourceId": JSON[_0x251e64(878)](_0x568493["resourceIDs"]) } }))[_0x251e64(432)];
  }
  [_0x2dad69(602)]() {
    throw new Error("This method should not be called on the client side!");
  }
  [_0x2dad69(212)]() {
    var _0x440677 = _0x2dad69;
    throw new Error(_0x440677(401));
  }
  [_0x2dad69(121)]() {
    var _0x4d0358 = _0x2dad69;
    throw new Error(_0x4d0358(401));
  }
  [_0x2dad69(880)]() {
    var _0x30f1cd = _0x2dad69;
    throw new Error(_0x30f1cd(401));
  }
  ["copyFileMeta"]() {
    var _0x1f2063 = _0x2dad69;
    throw new Error(_0x1f2063(401));
  }
  ["getLatestCsReqIdBySid"]() {
    var _0x4962d0 = _0x2dad69;
    throw new Error(_0x4962d0(401));
  }
};
Nt = tr([oi(0, ic), oi(1, Inject(x))], Nt);
var ir = Object[_0x2dad69(498)];
var sr = (_0x50c969, _0x41304c, _0x124664, _0x36b43a) => {
  for (var _0x31d218 = _0x36b43a > 1 ? void 0 : _0x36b43a ? ir(_0x41304c, _0x124664) : _0x41304c, _0x103a2e = _0x50c969["length"] - 1, _0x4afacc; _0x103a2e >= 0; _0x103a2e--) (_0x4afacc = _0x50c969[_0x103a2e]) && (_0x31d218 = _0x4afacc(_0x31d218) || _0x31d218);
  return _0x31d218;
};
var Ae = (_0x1806a3, _0x20f11f) => (_0xcb8c2e, _0x52b0a4) => _0x20f11f(_0xcb8c2e, _0x52b0a4, _0x1806a3);
var bt = class extends Ki {
  constructor(_0x13f256, _0x59da5c, _0x342e4e, _0x1e28df, _0x2a437a) {
    var _0x37ffb6 = _0x2dad69;
    super(_0x13f256, _0x59da5c, _0x342e4e), this[_0x37ffb6(298)] = _0x1e28df, this[_0x37ffb6(211)] = _0x2a437a;
  }
  [_0x2dad69(617)](_0x51015d, _0x2c48b1) {
    var _0x5048df = _0x2dad69;
    const _0x42516c = this[_0x5048df(369)](_0x51015d);
    if (_0x42516c) try {
      const _0x3a3309 = this[_0x5048df(345)](_0x42516c, _0x2c48b1);
      this[_0x5048df(819)](_0x51015d, _0x3a3309);
    } catch (_0x12ae0a) {
      this["_logService"]["error"](_0x5048df(257), _0x12ae0a), this["_clearUndo"](_0x51015d);
    }
    const _0x4a08e9 = this[_0x5048df(537)](_0x51015d);
    if (_0x4a08e9) try {
      const _0x22e1d7 = this[_0x5048df(345)](_0x4a08e9, _0x2c48b1);
      this["_substituteRedoStack"](_0x51015d, _0x22e1d7);
    } catch (_0x4e8b75) {
      this[_0x5048df(211)][_0x5048df(355)](_0x4e8b75), this["_clearRedo"](_0x51015d);
    }
  }
  [_0x2dad69(793)](_0x14ad14) {
    const _0x217d9b = this["_getUndoStack"](_0x14ad14);
    _0x217d9b && (_0x217d9b["length"] = 0, this["_updateStatus"]());
  }
  [_0x2dad69(850)](_0x19dc27) {
    var _0x4c4e95 = _0x2dad69;
    const _0xbc217 = this[_0x4c4e95(537)](_0x19dc27);
    _0xbc217 && (_0xbc217[_0x4c4e95(208)] = 0, this[_0x4c4e95(398)]());
  }
  [_0x2dad69(819)](_0x323c3e, _0x2c6f3c) {
    var _0x2c6e7a = _0x2dad69;
    this["_undoStacks"][_0x2c6e7a(130)](_0x323c3e, _0x2c6f3c), this["_updateStatus"]();
  }
  [_0x2dad69(696)](_0x1f7fd6, _0xe2785) {
    var _0x3dfed2 = _0x2dad69;
    this[_0x3dfed2(288)][_0x3dfed2(130)](_0x1f7fd6, _0xe2785), this[_0x3dfed2(398)]();
  }
  [_0x2dad69(345)](_0x23da7a, _0x2aaac9) {
    var _0x163b43 = _0x2dad69;
    const _0x2e34ad = [];
    let _0x3c1db8 = _0x2aaac9, _0x38fe9d = _0x2aaac9;
    for (let _0x5e2c85 = _0x23da7a[_0x163b43(208)] - 1; _0x5e2c85 >= 0; _0x5e2c85--) {
      const { unitID: _0xebe5e7, undoMutations: _0x9984a3, redoMutations: _0x5230fa } = _0x23da7a[_0x5e2c85], _0x469612 = this[_0x163b43(298)][_0x163b43(543)](_0x3c1db8, _0x9984a3), _0x61ff33 = this[_0x163b43(298)]["transformMutationsWithChangeset"](_0x38fe9d, _0x5230fa);
      if (Gr(_0x469612) || Gr(_0x61ff33)) {
        this["_logService"]["error"](_0x163b43(257), _0x163b43(868), _0x469612, _0x61ff33);
        break;
      }
      _0x3c1db8 = _0x469612["c1Prime"], _0x38fe9d = _0x61ff33["c1Prime"], _0x2e34ad["push"]({ "unitID": _0xebe5e7, "undoMutations": _0x469612[_0x163b43(722)], "redoMutations": _0x61ff33[_0x163b43(722)] });
    }
    return _0x2e34ad[_0x163b43(596)]();
  }
};
bt = sr([Ae(0, vr), Ae(1, Ls), Ae(2, Nr), Ae(3, Pe2), Ae(4, yt)], bt);
var nr = Object["defineProperty"];
var rr = Object["getOwnPropertyDescriptor"];
var ar = (_0x392292, _0x10409e, _0x280425) => _0x10409e in _0x392292 ? nr(_0x392292, _0x10409e, { "enumerable": true, "configurable": true, "writable": true, "value": _0x280425 }) : _0x392292[_0x10409e] = _0x280425;
var or = (_0xdce362, _0x923dbc, _0x183916, _0x5509eb) => {
  for (var _0x15cb51 = _0x5509eb > 1 ? void 0 : _0x5509eb ? rr(_0x923dbc, _0x183916) : _0x923dbc, _0x1227b = _0xdce362["length"] - 1, _0x3cc5c1; _0x1227b >= 0; _0x1227b--) (_0x3cc5c1 = _0xdce362[_0x1227b]) && (_0x15cb51 = _0x3cc5c1(_0x15cb51) || _0x15cb51);
  return _0x15cb51;
};
var Et = (_0x172974, _0x1242f0) => (_0x123150, _0x5bb9ae) => _0x1242f0(_0x123150, _0x5bb9ae, _0x172974);
var cr = (_0x349c9f, _0x123b09, _0x2f81e8) => ar(_0x349c9f, _0x123b09 + "", _0x2f81e8);
var _r = "UNIVER_COLLABORATION_CLIENT_PLUGIN";
var Dt = class extends Ol {
  constructor(_0x4b83b3, _0x49331f, _0x34578a, _0x44ca50) {
    var _0x18e787 = _0x2dad69;
    super(), D(this, "_config"), this[_0x18e787(211)] = _0x49331f, this[_0x18e787(307)] = _0x34578a, this["_configService"] = _0x44ca50;
    const { ..._0x5349f0 } = oo({}, Ls2, _0x4b83b3);
    if (!_0x5349f0[_0x18e787(255)]) throw new Error(_0x18e787(351));
    this[_0x18e787(342)] = _0x5349f0, this[_0x18e787(633)]["setConfig"](K, _0x5349f0);
  }
  [_0x2dad69(203)]() {
    var _0x5cbb4e = _0x2dad69;
    this[_0x5cbb4e(646)](), this[_0x5cbb4e(582)]();
  }
  [_0x2dad69(646)]() {
    var _0x54206d = _0x2dad69, _0x2cbc79, _0x538787;
    this[_0x54206d(307)][_0x54206d(412)](Qo) && this[_0x54206d(211)][_0x54206d(355)](_0x54206d(784), _0x54206d(644));
    const _0x92d9d8 = nC([[Qo, { "useClass": bt }], [we2], [Pe3], [it], [rt], [at], [Ei], [ot], [ve], [Ot], [Oi, { "useClass": this[_0x54206d(342)][_0x54206d(255)] }], [gr, { "useClass": Nt }], [dE, { "useClass": Tt }], [El, { "useClass": Rt }], [QE, { "useClass": Ct }], [nt], [gt]], (_0x2cbc79 = this[_0x54206d(342)]) == null ? void 0 : _0x2cbc79[_0x54206d(449)]);
    if (!((_0x538787 = this[_0x54206d(342)]) != null && _0x538787["enableSingleActiveInstanceLock"])) {
      const _0x2126b0 = _0x92d9d8[_0x54206d(297)](([_0x24927c]) => _0x24927c === _t);
      _0x2126b0 !== -1 && _0x92d9d8["splice"](_0x2126b0, 1);
    }
    GC(this[_0x54206d(307)], _0x92d9d8);
  }
  [_0x2dad69(582)]() {
    var _0x535465 = _0x2dad69, _0x223f7e, _0x1e6c7d, _0x90dddd;
    this[_0x535465(307)][_0x535465(126)](x)["registerHTTPInterceptor"]({ "priority": 20, "interceptor": Ke({ "maxParallel": 6 }) }), (_0x223f7e = this["_config"]) != null && _0x223f7e["enableOfflineEditing"] || (_0x1e6c7d = this[_0x535465(307)][_0x535465(126)](J2, Quantity[_0x535465(185)])) == null || _0x1e6c7d[_0x535465(442)](), (_0x90dddd = this[_0x535465(342)]) != null && _0x90dddd[_0x535465(874)] && zc(this[_0x535465(307)], [[rt]]), zc(this[_0x535465(307)], [[at], [nt], [ot]]);
  }
};
cr(Dt, _0x2dad69(482), _r), Dt = or([qR(Re, V), Et(1, yt), Et(2, Inject(Injector)), Et(3, ic)], Dt);

export {
  Es,
  gr2 as gr,
  ms,
  di,
  gs,
  Tr,
  Or,
  Rr,
  Cr,
  re,
  ve,
  Ei,
  Pe3 as Pe,
  me,
  mt,
  J2 as J,
  Nr2 as Nr,
  it,
  _t,
  mi,
  K,
  Si,
  be,
  ae,
  le,
  oe,
  ue,
  de2 as de,
  ee,
  st,
  It,
  St,
  Fs,
  js,
  Vs,
  Oi,
  Wt,
  we2 as we,
  nt,
  Tt,
  Ot,
  Rt,
  Ct,
  Nt,
  bt,
  Dt
};
//# sourceMappingURL=chunk-R2GQM2IX.js.map
