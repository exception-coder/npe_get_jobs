{
  "version": 3,
  "sources": ["../../@univerjs/sheets-thread-comment/lib/es/index.js", "../../@univerjs/thread-comment-ui/lib/es/index.js", "../../@univerjs/sheets-thread-comment-ui/lib/es/index.js", "../../@univerjs/sheets-thread-comment/lib/es/facade.js", "../../@univerjs/preset-sheets-thread-comment/lib/es/index.js"],
  "sourcesContent": ["var A = Object.defineProperty;\nvar W = (a, e, r) => e in a ? A(a, e, { enumerable: !0, configurable: !0, writable: !0, value: r }) : a[e] = r;\nvar _ = (a, e, r) => W(a, typeof e != \"symbol\" ? e + \"\" : e, r);\nimport { Inject as h, IUniverInstanceService as $, Disposable as y, ObjectMatrix as j, UniverInstanceType as g, ICommandService as O, sequenceExecuteAsync as L, toDisposable as N, generateRandomId as b, DependentOn as V, Injector as B, Plugin as H, touchDependencies as F } from \"@univerjs/core\";\nimport { singleReferenceToGrid as p, serializeRange as T } from \"@univerjs/engine-formula\";\nimport { RefRangeService as k, SheetsSelectionsService as z, handleCommonRangeChangeWithEffectRefCommandsSkipNoInterests as G, SheetInterceptorService as q, RemoveSheetCommand as J, CopySheetCommand as K } from \"@univerjs/sheets\";\nimport { ThreadCommentModel as R, AddCommentMutation as w, DeleteCommentMutation as I, UpdateCommentRefMutation as E, IThreadCommentDataSourceService as Q, UniverThreadCommentPlugin as X } from \"@univerjs/thread-comment\";\nimport { Subject as Y } from \"rxjs\";\nvar Z = Object.getOwnPropertyDescriptor, ee = (a, e, r, t) => {\n  for (var n = t > 1 ? void 0 : t ? Z(e, r) : e, s = a.length - 1, o; s >= 0; s--)\n    (o = a[s]) && (n = o(n) || n);\n  return n;\n}, x = (a, e) => (r, t) => e(r, t, a);\nlet C = class extends y {\n  constructor(e, r) {\n    super();\n    _(this, \"_matrixMap\", /* @__PURE__ */ new Map());\n    _(this, \"_locationMap\", /* @__PURE__ */ new Map());\n    _(this, \"_commentUpdate$\", new Y());\n    _(this, \"commentUpdate$\", this._commentUpdate$.asObservable());\n    this._threadCommentModel = e, this._univerInstanceService = r, this._init(), this.disposeWithMe(() => {\n      this._commentUpdate$.complete();\n    });\n  }\n  _init() {\n    this._initData(), this._initUpdateTransform();\n  }\n  _ensureCommentMatrix(e, r) {\n    let t = this._matrixMap.get(e);\n    t || (t = /* @__PURE__ */ new Map(), this._matrixMap.set(e, t));\n    let n = t.get(r);\n    return n || (n = new j(), t.set(r, n)), n;\n  }\n  _ensureCommentLocationMap(e, r) {\n    let t = this._locationMap.get(e);\n    t || (t = /* @__PURE__ */ new Map(), this._locationMap.set(e, t));\n    let n = t.get(r);\n    return n || (n = /* @__PURE__ */ new Map(), t.set(r, n)), n;\n  }\n  _addCommentToMatrix(e, r, t, n) {\n    var o;\n    const s = (o = e.getValue(r, t)) != null ? o : /* @__PURE__ */ new Set();\n    s.add(n), e.setValue(r, t, s);\n  }\n  _deleteCommentFromMatrix(e, r, t, n) {\n    if (r >= 0 && t >= 0) {\n      const s = e.getValue(r, t);\n      s && s.has(n) && (s.delete(n), s.size === 0 && e.realDeleteValue(r, t));\n    }\n  }\n  _ensure(e, r) {\n    const t = this._ensureCommentMatrix(e, r), n = this._ensureCommentLocationMap(e, r);\n    return { matrix: t, locationMap: n };\n  }\n  _initData() {\n    const e = this._threadCommentModel.getAll();\n    for (const r of e)\n      for (const t of r.threads) {\n        const { unitId: n, subUnitId: s, root: o } = t;\n        this._addComment(n, s, o);\n      }\n  }\n  _addComment(e, r, t) {\n    const n = p(t.ref), s = t.parentId, { row: o, column: i } = n, c = t.id, { matrix: m, locationMap: d } = this._ensure(e, r);\n    !s && o >= 0 && i >= 0 && (this._addCommentToMatrix(m, o, i, c), d.set(c, { row: o, column: i })), s || this._commentUpdate$.next({\n      unitId: e,\n      subUnitId: r,\n      payload: t,\n      type: \"add\",\n      isRoot: !s,\n      ...n\n    });\n  }\n  // eslint-disable-next-line max-lines-per-function\n  _initUpdateTransform() {\n    this.disposeWithMe(this._threadCommentModel.commentUpdate$.subscribe((e) => {\n      const { unitId: r, subUnitId: t } = e;\n      try {\n        if (this._univerInstanceService.getUnitType(r) !== g.UNIVER_SHEET)\n          return;\n      } catch {\n      }\n      const { matrix: n, locationMap: s } = this._ensure(r, t);\n      switch (e.type) {\n        case \"add\": {\n          this._addComment(e.unitId, e.subUnitId, e.payload);\n          break;\n        }\n        case \"delete\": {\n          const { isRoot: o, comment: i } = e.payload;\n          if (o) {\n            const c = p(i.ref), { row: m, column: d } = c;\n            this._deleteCommentFromMatrix(n, m, d, i.id), this._commentUpdate$.next({\n              ...e,\n              ...c\n            });\n          }\n          break;\n        }\n        case \"update\": {\n          const { commentId: o } = e.payload, i = this._threadCommentModel.getComment(r, t, o);\n          if (!i)\n            return;\n          const c = p(i.ref);\n          this._commentUpdate$.next({\n            ...e,\n            ...c\n          });\n          break;\n        }\n        case \"updateRef\": {\n          const o = p(e.payload.ref), { commentId: i } = e.payload, c = s.get(i);\n          if (!c)\n            return;\n          const { row: m, column: d } = c;\n          this._deleteCommentFromMatrix(n, m, d, i), s.delete(i), o.row >= 0 && o.column >= 0 && (this._addCommentToMatrix(n, o.row, o.column, i), s.set(i, { row: o.row, column: o.column })), this._commentUpdate$.next({\n            ...e,\n            ...o\n          });\n          break;\n        }\n        case \"resolve\": {\n          const { unitId: o, subUnitId: i, payload: c } = e, { locationMap: m } = this._ensure(o, i), d = m.get(c.commentId);\n          d && this._commentUpdate$.next({\n            ...e,\n            ...d\n          });\n          break;\n        }\n      }\n    }));\n  }\n  getByLocation(e, r, t, n) {\n    var i;\n    return (i = this.getAllByLocation(e, r, t, n).filter((c) => !c.resolved)[0]) == null ? void 0 : i.id;\n  }\n  getAllByLocation(e, r, t, n) {\n    const o = this._ensureCommentMatrix(e, r).getValue(t, n);\n    return o ? Array.from(o).map((i) => this.getComment(e, r, i)).filter(Boolean) : [];\n  }\n  getComment(e, r, t) {\n    return this._threadCommentModel.getComment(e, r, t);\n  }\n  getCommentWithChildren(e, r, t, n) {\n    const s = this.getByLocation(e, r, t, n);\n    if (!s)\n      return;\n    const o = this.getComment(e, r, s);\n    if (o)\n      return this._threadCommentModel.getThread(e, r, o.threadId);\n  }\n  showCommentMarker(e, r, t, n) {\n    const s = this.getByLocation(e, r, t, n);\n    if (!s)\n      return !1;\n    const o = this.getComment(e, r, s);\n    return !!(o && !o.resolved);\n  }\n  getSubUnitAll(e, r) {\n    return this._threadCommentModel.getUnit(e).filter((t) => t.subUnitId === r).map((t) => t.root);\n  }\n};\nC = ee([\n  x(0, h(R)),\n  x(1, $)\n], C);\nvar te = Object.getOwnPropertyDescriptor, re = (a, e, r, t) => {\n  for (var n = t > 1 ? void 0 : t ? te(e, r) : e, s = a.length - 1, o; s >= 0; s--)\n    (o = a[s]) && (n = o(n) || n);\n  return n;\n}, u = (a, e) => (r, t) => e(r, t, a);\nlet M = class extends y {\n  constructor(e, r, t, n, s) {\n    super();\n    _(this, \"_disposableMap\", /* @__PURE__ */ new Map());\n    _(this, \"_watcherMap\", /* @__PURE__ */ new Map());\n    _(this, \"_handleRangeChange\", (e, r, t, n, s) => {\n      const o = t.id, i = {\n        startColumn: t.column,\n        endColumn: t.column,\n        startRow: t.row,\n        endRow: t.row\n      };\n      return n ? {\n        redos: [{\n          id: E.id,\n          params: {\n            unitId: e,\n            subUnitId: r,\n            payload: {\n              ref: T(n),\n              commentId: o\n            },\n            silent: s\n          }\n        }],\n        undos: [{\n          id: E.id,\n          params: {\n            unitId: e,\n            subUnitId: r,\n            payload: {\n              ref: T(i),\n              commentId: o\n            },\n            silent: s\n          }\n        }]\n      } : {\n        redos: [{\n          id: I.id,\n          params: {\n            unitId: e,\n            subUnitId: r,\n            commentId: o\n          }\n        }],\n        undos: [{\n          id: w.id,\n          params: {\n            unitId: e,\n            subUnitId: r,\n            comment: t,\n            sync: !0\n          }\n        }]\n      };\n    });\n    this._refRangeService = e, this._sheetsThreadCommentModel = r, this._threadCommentModel = t, this._selectionManagerService = n, this._commandService = s, this._initData(), this._initRefRange();\n  }\n  _getIdWithUnitId(e, r, t) {\n    return `${e}-${r}-${t}`;\n  }\n  _register(e, r, t) {\n    const n = t.id, s = {\n      startColumn: t.column,\n      endColumn: t.column,\n      startRow: t.row,\n      endRow: t.row\n    };\n    this._disposableMap.set(\n      this._getIdWithUnitId(e, r, n),\n      this._refRangeService.registerRefRange(s, (o) => {\n        const i = G(s, o, { selectionManagerService: this._selectionManagerService }), c = Array.isArray(i) ? i[0] : i;\n        return c && c.startColumn === s.startColumn && c.startRow === s.startRow ? {\n          undos: [],\n          redos: []\n        } : this._handleRangeChange(e, r, t, c, !1);\n      }, e, r)\n    );\n  }\n  _watch(e, r, t) {\n    const n = t.id, s = {\n      startColumn: t.column,\n      endColumn: t.column,\n      startRow: t.row,\n      endRow: t.row\n    };\n    this._watcherMap.set(\n      this._getIdWithUnitId(e, r, n),\n      this._refRangeService.watchRange(e, r, s, (o, i) => {\n        const { redos: c } = this._handleRangeChange(e, r, t, i, !0);\n        L(c, this._commandService, { onlyLocal: !0 });\n      }, !0)\n    );\n  }\n  _unwatch(e, r, t) {\n    var s;\n    const n = this._getIdWithUnitId(e, r, t);\n    (s = this._watcherMap.get(n)) == null || s.dispose(), this._watcherMap.delete(n);\n  }\n  _unregister(e, r, t) {\n    var s;\n    const n = this._getIdWithUnitId(e, r, t);\n    (s = this._disposableMap.get(n)) == null || s.dispose(), this._disposableMap.delete(n);\n  }\n  _initData() {\n    const e = this._threadCommentModel.getAll();\n    for (const r of e)\n      for (const t of r.threads) {\n        const { unitId: n, subUnitId: s, root: o } = t, i = p(o.ref), c = {\n          ...o,\n          ...i\n        };\n        this._register(n, s, c), this._watch(n, s, c);\n      }\n  }\n  _initRefRange() {\n    this.disposeWithMe(\n      this._sheetsThreadCommentModel.commentUpdate$.subscribe((e) => {\n        const { unitId: r, subUnitId: t } = e;\n        switch (e.type) {\n          case \"add\": {\n            if (e.payload.parentId)\n              return;\n            const n = {\n              ...e.payload,\n              row: e.row,\n              column: e.column\n            };\n            this._register(e.unitId, e.subUnitId, n), this._watch(e.unitId, e.subUnitId, n);\n            break;\n          }\n          case \"delete\": {\n            this._unregister(r, t, e.payload.commentId), this._unwatch(r, t, e.payload.commentId);\n            break;\n          }\n          case \"updateRef\": {\n            const n = this._sheetsThreadCommentModel.getComment(r, t, e.payload.commentId);\n            if (!n)\n              return;\n            this._unregister(r, t, e.payload.commentId);\n            const s = {\n              ...n,\n              row: e.row,\n              column: e.column\n            };\n            e.silent || (this._unwatch(r, t, e.payload.commentId), this._watch(r, t, s)), this._register(e.unitId, e.subUnitId, s);\n            break;\n          }\n        }\n      })\n    ), this.disposeWithMe(N(() => {\n      this._disposableMap.forEach((e) => {\n        e.dispose();\n      }), this._disposableMap.clear();\n    }));\n  }\n};\nM = re([\n  u(0, h(k)),\n  u(1, h(C)),\n  u(2, h(R)),\n  u(3, h(z)),\n  u(4, O)\n], M);\nconst ne = {};\nvar se = Object.getOwnPropertyDescriptor, oe = (a, e, r, t) => {\n  for (var n = t > 1 ? void 0 : t ? se(e, r) : e, s = a.length - 1, o; s >= 0; s--)\n    (o = a[s]) && (n = o(n) || n);\n  return n;\n}, f = (a, e) => (r, t) => e(r, t, a);\nlet v = class extends y {\n  constructor(a, e, r, t) {\n    super(), this._univerInstanceService = a, this._sheetInterceptorService = e, this._threadCommentModel = r, this._threadCommentDataSourceService = t, this._initSheetChange();\n  }\n  // eslint-disable-next-line max-lines-per-function\n  _initSheetChange() {\n    this.disposeWithMe(\n      this._sheetInterceptorService.interceptCommand({\n        // eslint-disable-next-line max-lines-per-function\n        getMutations: (a) => {\n          var e;\n          if (a.id === J.id) {\n            const r = a.params, t = r.unitId || this._univerInstanceService.getCurrentUnitOfType(g.UNIVER_SHEET).getUnitId(), n = r.subUnitId || ((e = this._univerInstanceService.getCurrentUnitOfType(g.UNIVER_SHEET).getActiveSheet()) == null ? void 0 : e.getSheetId());\n            if (!t || !n)\n              return { redos: [], undos: [] };\n            const s = this._threadCommentModel.ensureMap(t, n), o = Array.from(s.values()).filter((d) => !d.parentId), i = this._threadCommentDataSourceService.syncUpdateMutationToColla, c = [], m = [];\n            return o.forEach(({ children: d, ...l }) => {\n              c.push({\n                id: I.id,\n                params: {\n                  unitId: t,\n                  subUnitId: n,\n                  commentId: l.id\n                }\n              }), m.push({\n                id: w.id,\n                params: {\n                  unitId: t,\n                  subUnitId: n,\n                  comment: {\n                    ...l,\n                    children: i ? d : void 0\n                  },\n                  sync: !i\n                }\n              });\n            }), { redos: c, undos: m };\n          } else if (a.id === K.id) {\n            const r = a.params, { unitId: t, subUnitId: n, targetSubUnitId: s } = r;\n            if (!t || !n || !s)\n              return { redos: [], undos: [] };\n            const o = this._threadCommentModel.ensureMap(t, n), i = Array.from(o.values()).map((l) => ({\n              ...l,\n              subUnitId: s,\n              id: b(),\n              threadId: b()\n            })).filter((l) => !l.parentId), c = this._threadCommentDataSourceService.syncUpdateMutationToColla, m = [], d = [];\n            return i.forEach(({ children: l, ...U }) => {\n              m.push({\n                id: w.id,\n                params: {\n                  unitId: t,\n                  subUnitId: s,\n                  comment: {\n                    ...U,\n                    children: c ? l : void 0\n                  },\n                  sync: !c\n                }\n              }), d.push({\n                id: I.id,\n                params: {\n                  unitId: t,\n                  subUnitId: s,\n                  commentId: U.id\n                }\n              });\n            }), { redos: m, undos: d };\n          }\n          return { redos: [], undos: [] };\n        }\n      })\n    );\n  }\n};\nv = oe([\n  f(0, $),\n  f(1, h(q)),\n  f(2, h(R)),\n  f(3, Q)\n], v);\nconst ae = \"SHEET_THREAD_COMMENT_BASE_PLUGIN\";\nvar ie = Object.defineProperty, ce = Object.getOwnPropertyDescriptor, de = (a, e, r) => e in a ? ie(a, e, { enumerable: !0, configurable: !0, writable: !0, value: r }) : a[e] = r, me = (a, e, r, t) => {\n  for (var n = t > 1 ? void 0 : t ? ce(e, r) : e, s = a.length - 1, o; s >= 0; s--)\n    (o = a[s]) && (n = o(n) || n);\n  return n;\n}, D = (a, e) => (r, t) => e(r, t, a), P = (a, e, r) => de(a, typeof e != \"symbol\" ? e + \"\" : e, r);\nlet S = class extends H {\n  constructor(a = ne, e, r) {\n    super(), this._config = a, this._injector = e, this._commandService = r;\n  }\n  onStarting() {\n    [\n      [C],\n      [M],\n      [v]\n    ].forEach((a) => {\n      this._injector.add(a);\n    }), F(this._injector, [\n      [M],\n      [v]\n    ]);\n  }\n};\nP(S, \"pluginName\", ae);\nP(S, \"type\", g.UNIVER_SHEET);\nS = me([\n  V(X),\n  D(1, h(B)),\n  D(2, h(O))\n], S);\nexport {\n  C as SheetsThreadCommentModel,\n  M as SheetsThreadCommentRefRangeController,\n  S as UniverSheetsThreadCommentPlugin\n};\n", "var He = Object.defineProperty;\nvar Ve = (n, e, t) => e in n ? He(n, e, { enumerable: !0, configurable: !0, writable: !0, value: t }) : n[e] = t;\nvar W = (n, e, t) => Ve(n, typeof e != \"symbol\" ? e + \"\" : e, t);\nimport { Inject as ye, IUniverInstanceService as je, Disposable as Pe, UniverInstanceType as de, CommandType as we, DependentOn as Ae, Injector as Be, ICommandService as te, IConfigService as We, Plugin as Ze, merge as Fe, mergeOverrideWithDependencies as Ge, LocaleService as he, DOCS_NORMAL_EDITOR_UNIT_ID_KEY as Ke, BuildTextUtils as ue, Tools as ze, CustomRangeType as Ye, getBodySlice as qe, UserManagerService as fe, generateRandomId as Je } from \"@univerjs/core\";\nimport { ISidebarService as _e, useDependency as S, KeyCode as pe, useObservable as Z, useConfigValue as Qe, UI_PLUGIN_CONFIG_KEY as Xe } from \"@univerjs/ui\";\nimport { BehaviorSubject as Ce, filter as et, debounceTime as tt } from \"rxjs\";\nimport { UniverThreadCommentPlugin as nt, ThreadCommentModel as Se, getDT as rt, AddCommentCommand as it, ResolveCommentCommand as ot, DeleteCommentTreeCommand as Ne, UpdateCommentCommand as st, DeleteCommentCommand as lt } from \"@univerjs/thread-comment\";\nimport { jsxs as I, jsx as l } from \"react/jsx-runtime\";\nimport { Button as le, clsx as ve, Tooltip as at, scrollbarClassName as ct, borderClassName as dt, Dropdown as ut, Select as ge } from \"@univerjs/design\";\nimport { useRef as ee, createElement as G, forwardRef as K, useState as P, useEffect as ae, useMemo as X, useImperativeHandle as vt } from \"react\";\nimport { IEditorService as mt, BreakLineCommand as ht, RichTextEditor as ft } from \"@univerjs/docs-ui\";\nvar pt = Object.getOwnPropertyDescriptor, Ct = (n, e, t, r) => {\n  for (var i = r > 1 ? void 0 : r ? pt(e, t) : e, o = n.length - 1, c; o >= 0; o--)\n    (c = n[o]) && (i = c(i) || i);\n  return i;\n}, Ie = (n, e) => (t, r) => e(t, r, n);\nlet Y = class extends Pe {\n  constructor(e, t) {\n    super();\n    W(this, \"_panelVisible\", !1);\n    W(this, \"_panelVisible$\", new Ce(!1));\n    W(this, \"_activeCommentId\");\n    W(this, \"_activeCommentId$\", new Ce(void 0));\n    W(this, \"panelVisible$\", this._panelVisible$.asObservable());\n    W(this, \"activeCommentId$\", this._activeCommentId$.asObservable());\n    this._sidebarService = e, this._univerInstanceService = t, this._init(), this.disposeWithMe(() => {\n      this._activeCommentId$.complete(), this._panelVisible$.complete();\n    });\n  }\n  _init() {\n    this.disposeWithMe(\n      this._sidebarService.sidebarOptions$.subscribe((e) => {\n        e.visible || this.setPanelVisible(!1);\n      })\n    ), this.disposeWithMe(\n      this._univerInstanceService.getCurrentTypeOfUnit$(de.UNIVER_SHEET).pipe(et((e) => !e)).subscribe(() => {\n        this._sidebarService.close();\n      })\n    );\n  }\n  get panelVisible() {\n    return this._panelVisible;\n  }\n  get activeCommentId() {\n    return this._activeCommentId;\n  }\n  setPanelVisible(e) {\n    this._panelVisible = e, this._panelVisible$.next(e);\n  }\n  setActiveComment(e) {\n    this._activeCommentId = e, this._activeCommentId$.next(e);\n  }\n};\nY = Ct([\n  Ie(0, ye(_e)),\n  Ie(1, je)\n], Y);\nconst gt = \"thread-comment-panel\", It = \"UNIVER_THREAD_COMMENT_UI_PLUGIN\", xt = {\n  id: \"thread-comment-ui.operation.toggle-panel\",\n  type: we.OPERATION,\n  handler(n) {\n    const e = n.get(_e), t = n.get(Y);\n    return t.panelVisible ? (e.close(), t.setPanelVisible(!1)) : (e.open({\n      header: { title: \"threadCommentUI.panel.title\" },\n      children: { label: gt },\n      width: 330\n    }), t.setPanelVisible(!0)), !0;\n  }\n}, F = {\n  id: \"thread-comment-ui.operation.set-active-comment\",\n  type: we.OPERATION,\n  handler(n, e) {\n    return n.get(Y).setActiveComment(e), !0;\n  }\n}, bt = \"thread-comment-ui.config\", xe = {};\nvar yt = Object.defineProperty, wt = Object.getOwnPropertyDescriptor, _t = (n, e, t) => e in n ? yt(n, e, { enumerable: !0, configurable: !0, writable: !0, value: t }) : n[e] = t, St = (n, e, t, r) => {\n  for (var i = r > 1 ? void 0 : r ? wt(e, t) : e, o = n.length - 1, c; o >= 0; o--)\n    (c = n[o]) && (i = c(i) || i);\n  return i;\n}, me = (n, e) => (t, r) => e(t, r, n), $e = (n, e, t) => _t(n, typeof e != \"symbol\" ? e + \"\" : e, t);\nlet ce = class extends Ze {\n  constructor(n = xe, e, t, r) {\n    super(), this._config = n, this._injector = e, this._commandService = t, this._configService = r;\n    const { menu: i, ...o } = Fe(\n      {},\n      xe,\n      this._config\n    );\n    i && this._configService.setConfig(\"menu\", i, { merge: !0 }), this._configService.setConfig(bt, o);\n  }\n  onStarting() {\n    var n;\n    Ge([\n      [Y]\n    ], (n = this._config) == null ? void 0 : n.overrides).forEach((e) => {\n      this._injector.add(e);\n    }), [xt, F].forEach((e) => {\n      this._commandService.registerCommand(e);\n    });\n  }\n};\n$e(ce, \"pluginName\", It);\n$e(ce, \"type\", de.UNIVER_UNKNOWN);\nce = St([\n  Ae(nt),\n  me(1, ye(Be)),\n  me(2, te),\n  me(3, We)\n], ce);\nfunction z({ ref: n, ...e }) {\n  const { icon: t, id: r, className: i, extend: o, ...c } = e, x = `univerjs-icon univerjs-icon-${r} ${i || \"\"}`.trim(), h = ee(`_${kt()}`);\n  return ke(t, `${r}`, {\n    defIds: t.defIds,\n    idSuffix: h.current\n  }, {\n    ref: n,\n    className: x,\n    ...c\n  }, o);\n}\nfunction ke(n, e, t, r, i) {\n  return G(n.tag, {\n    key: e,\n    ...Nt(n, t, i),\n    ...r\n  }, ($t(n, t).children || []).map((o, c) => ke(o, `${e}-${n.tag}-${c}`, t, void 0, i)));\n}\nfunction Nt(n, e, t) {\n  const r = { ...n.attrs };\n  t != null && t.colorChannel1 && r.fill === \"colorChannel1\" && (r.fill = t.colorChannel1), n.tag === \"mask\" && r.id && (r.id = r.id + e.idSuffix), Object.entries(r).forEach(([o, c]) => {\n    o === \"mask\" && typeof c == \"string\" && (r[o] = c.replace(/url\\(#(.*)\\)/, `url(#$1${e.idSuffix})`));\n  });\n  const { defIds: i } = e;\n  return !i || i.length === 0 || (n.tag === \"use\" && r[\"xlink:href\"] && (r[\"xlink:href\"] = r[\"xlink:href\"] + e.idSuffix), Object.entries(r).forEach(([o, c]) => {\n    typeof c == \"string\" && (r[o] = c.replace(/url\\(#(.*)\\)/, `url(#$1${e.idSuffix})`));\n  })), r;\n}\nfunction $t(n, e) {\n  var r;\n  const { defIds: t } = e;\n  return !t || t.length === 0 ? n : n.tag === \"defs\" && ((r = n.children) != null && r.length) ? {\n    ...n,\n    children: n.children.map((i) => typeof i.attrs.id == \"string\" && t && t.includes(i.attrs.id) ? {\n      ...i,\n      attrs: {\n        ...i.attrs,\n        id: i.attrs.id + e.idSuffix\n      }\n    } : i)\n  } : n;\n}\nfunction kt() {\n  return Math.random().toString(36).substring(2, 8);\n}\nz.displayName = \"UniverIcon\";\nconst Ut = {\n  tag: \"svg\",\n  attrs: {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 16 16\",\n    width: \"1em\",\n    height: \"1em\"\n  },\n  children: [\n    {\n      tag: \"path\",\n      attrs: {\n        fill: \"currentColor\",\n        d: \"M5.3313 1.4667C5.3313 1.13533 5.59993 0.866699 5.9313 0.866699H10.069C10.4004 0.866699 10.669 1.13533 10.669 1.4667C10.669 1.79807 10.4004 2.0667 10.069 2.0667H5.9313C5.59993 2.0667 5.3313 1.79807 5.3313 1.4667Z\"\n      }\n    },\n    {\n      tag: \"path\",\n      attrs: {\n        fill: \"currentColor\",\n        d: \"M1.09985 3.64443C1.09985 3.31306 1.36848 3.04443 1.69985 3.04443H14.2999C14.6312 3.04443 14.8999 3.31306 14.8999 3.64443C14.8999 3.9758 14.6312 4.24443 14.2999 4.24443H1.69985C1.36848 4.24443 1.09985 3.9758 1.09985 3.64443Z\"\n      }\n    },\n    {\n      tag: \"path\",\n      attrs: {\n        fill: \"currentColor\",\n        d: \"M6.12398 8.30171C6.35829 8.0674 6.73819 8.0674 6.97251 8.30171L8.00007 9.32928L9.02764 8.30171C9.26195 8.0674 9.64185 8.0674 9.87617 8.30171C10.1105 8.53603 10.1105 8.91593 9.87617 9.15024L8.8486 10.1778L9.87617 11.2054C10.1105 11.4397 10.1105 11.8196 9.87617 12.0539C9.64185 12.2882 9.26195 12.2882 9.02764 12.0539L8.00007 11.0263L6.97251 12.0539C6.73819 12.2882 6.35829 12.2882 6.12398 12.0539C5.88966 11.8196 5.88966 11.4397 6.12398 11.2054L7.15154 10.1778L6.12398 9.15024C5.88966 8.91593 5.88966 8.53603 6.12398 8.30171Z\"\n      }\n    },\n    {\n      tag: \"path\",\n      attrs: {\n        fill: \"currentColor\",\n        d: \"M4.75332 5.22217C3.86966 5.22217 3.15332 5.93851 3.15332 6.82217V12.5331C3.15332 13.9691 4.31738 15.1332 5.75332 15.1332H10.2465C11.6825 15.1332 12.8465 13.9691 12.8465 12.5331V6.82217C12.8465 5.93851 12.1302 5.22217 11.2465 5.22217H4.75332ZM4.35332 6.82217C4.35332 6.60125 4.53241 6.42217 4.75332 6.42217H11.2465C11.4674 6.42217 11.6465 6.60125 11.6465 6.82217V12.5331C11.6465 13.3063 11.0197 13.9332 10.2465 13.9332H5.75332C4.98012 13.9332 4.35332 13.3063 4.35332 12.5331V6.82217Z\",\n        fillRule: \"evenodd\",\n        clipRule: \"evenodd\"\n      }\n    }\n  ]\n}, Ue = K(function(e, t) {\n  return G(z, Object.assign({}, e, {\n    id: \"delete-icon\",\n    ref: t,\n    icon: Ut\n  }));\n});\nUe.displayName = \"DeleteIcon\";\nconst Tt = {\n  tag: \"svg\",\n  attrs: {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 16 16\",\n    width: \"1em\",\n    height: \"1em\"\n  },\n  children: [{\n    tag: \"path\",\n    attrs: {\n      fill: \"currentColor\",\n      d: \"M8.6 1.99991C8.60001 1.66854 8.33138 1.39991 8.00001 1.3999C7.66864 1.3999 7.40001 1.66853 7.4 1.9999L7.39996 7.3999H1.9999C1.66853 7.3999 1.3999 7.66853 1.3999 7.9999C1.3999 8.33127 1.66853 8.5999 1.9999 8.5999H7.39995L7.3999 13.9999C7.3999 14.3313 7.66853 14.5999 7.9999 14.5999C8.33127 14.5999 8.5999 14.3313 8.5999 13.9999L8.59995 8.5999H13.9999C14.3313 8.5999 14.5999 8.33127 14.5999 7.9999C14.5999 7.66853 14.3313 7.3999 13.9999 7.3999H8.59996L8.6 1.99991Z\"\n    }\n  }]\n}, Te = K(function(e, t) {\n  return G(z, Object.assign({}, e, {\n    id: \"increase-icon\",\n    ref: t,\n    icon: Tt\n  }));\n});\nTe.displayName = \"IncreaseIcon\";\nconst Dt = {\n  tag: \"svg\",\n  attrs: {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 16 16\",\n    width: \"1em\",\n    height: \"1em\"\n  },\n  children: [\n    {\n      tag: \"path\",\n      attrs: {\n        fill: \"currentColor\",\n        d: \"M3 9C3.55228 9 4 8.55228 4 8C4 7.44772 3.55228 7 3 7C2.44772 7 2 7.44772 2 8C2 8.55228 2.44772 9 3 9Z\"\n      }\n    },\n    {\n      tag: \"path\",\n      attrs: {\n        fill: \"currentColor\",\n        d: \"M8 9C8.55228 9 9 8.55228 9 8C9 7.44772 8.55228 7 8 7C7.44772 7 7 7.44772 7 8C7 8.55228 7.44772 9 8 9Z\"\n      }\n    },\n    {\n      tag: \"path\",\n      attrs: {\n        fill: \"currentColor\",\n        d: \"M13 9C13.5523 9 14 8.55228 14 8C14 7.44772 13.5523 7 13 7C12.4477 7 12 7.44772 12 8C12 8.55228 12.4477 9 13 9Z\"\n      }\n    }\n  ]\n}, De = K(function(e, t) {\n  return G(z, Object.assign({}, e, {\n    id: \"more-horizontal-icon\",\n    ref: t,\n    icon: Dt\n  }));\n});\nDe.displayName = \"MoreHorizontalIcon\";\nconst Et = {\n  tag: \"svg\",\n  attrs: {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 16 16\",\n    width: \"1em\",\n    height: \"1em\"\n  },\n  children: [\n    {\n      tag: \"path\",\n      attrs: {\n        stroke: \"currentColor\",\n        d: \"M7.48389 10.3267V12.1905C7.48389 12.7428 7.9316 13.1905 8.48389 13.1905H11.2216L12.2955 14.2644L13.3695 13.1905H14.1593C14.7116 13.1905 15.1593 12.7428 15.1593 12.1905V8.46289C15.1593 7.91061 14.7116 7.46289 14.1593 7.46289H12.2955\",\n        strokeLinecap: \"round\",\n        strokeLinejoin: \"round\",\n        strokeWidth: 1.2\n      }\n    },\n    {\n      tag: \"path\",\n      attrs: {\n        stroke: \"currentColor\",\n        d: \"M0.840332 3.73535C0.840332 2.63078 1.73576 1.73535 2.84033 1.73535H10.2955C11.4001 1.73535 12.2955 2.63078 12.2955 3.73535V8.32676C12.2955 9.43132 11.4001 10.3268 10.2955 10.3268H5.6014L4.1695 11.7587L3.05978 10.3268H2.84033C1.73576 10.3268 0.840332 9.43133 0.840332 8.32676V3.73535Z\",\n        strokeLinecap: \"round\",\n        strokeLinejoin: \"round\",\n        strokeWidth: 1.2\n      }\n    },\n    {\n      tag: \"path\",\n      attrs: {\n        stroke: \"currentColor\",\n        d: \"M6.41016 6.1311H6.76813\",\n        strokeLinecap: \"round\",\n        strokeWidth: 1.2\n      }\n    },\n    {\n      tag: \"path\",\n      attrs: {\n        stroke: \"currentColor\",\n        d: \"M8.91626 6.1311H9.27424\",\n        strokeLinecap: \"round\",\n        strokeWidth: 1.2\n      }\n    },\n    {\n      tag: \"path\",\n      attrs: {\n        stroke: \"currentColor\",\n        d: \"M3.90454 6.1311H4.26252\",\n        strokeLinecap: \"round\",\n        strokeWidth: 1.2\n      }\n    }\n  ]\n}, Ee = K(function(e, t) {\n  return G(z, Object.assign({}, e, {\n    id: \"reply-to-comment-icon\",\n    ref: t,\n    icon: Et\n  }));\n});\nEe.displayName = \"ReplyToCommentIcon\";\nconst Mt = {\n  tag: \"svg\",\n  attrs: {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 17 17\",\n    width: \"1em\",\n    height: \"1em\"\n  },\n  children: [{\n    tag: \"path\",\n    attrs: {\n      fill: \"currentColor\",\n      d: \"M8.6106 15.4036C12.4766 15.4036 15.6106 12.2696 15.6106 8.40356C15.6106 4.53757 12.4766 1.40356 8.6106 1.40356C4.7446 1.40356 1.6106 4.53757 1.6106 8.40356C1.6106 12.2696 4.7446 15.4036 8.6106 15.4036ZM12.3351 6.82773C12.5694 6.59342 12.5694 6.21352 12.3351 5.9792C12.1007 5.74489 11.7208 5.74489 11.4865 5.9792L7.91079 9.55494L6.33506 7.9792C6.10074 7.74489 5.72084 7.74489 5.48653 7.9792C5.25221 8.21352 5.25221 8.59342 5.48653 8.82773L7.48653 10.8277C7.72084 11.062 8.10074 11.062 8.33506 10.8277L12.3351 6.82773Z\",\n      fillRule: \"evenodd\",\n      clipRule: \"evenodd\"\n    }\n  }]\n}, Me = K(function(e, t) {\n  return G(z, Object.assign({}, e, {\n    id: \"resolved-icon\",\n    ref: t,\n    icon: Mt\n  }));\n});\nMe.displayName = \"ResolvedIcon\";\nconst Rt = {\n  tag: \"svg\",\n  attrs: {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 17 17\",\n    width: \"1em\",\n    height: \"1em\"\n  },\n  children: [{\n    tag: \"circle\",\n    attrs: {\n      cx: 8.73,\n      cy: 8.4,\n      r: 6.4,\n      stroke: \"currentColor\",\n      strokeWidth: 1.2\n    }\n  }, {\n    tag: \"path\",\n    attrs: {\n      stroke: \"currentColor\",\n      d: \"M6.02637 8.40356L8.02637 10.4036L12.0264 6.40356\",\n      strokeLinecap: \"round\",\n      strokeLinejoin: \"round\",\n      strokeWidth: 1.2\n    }\n  }]\n}, Re = K(function(e, t) {\n  return G(z, Object.assign({}, e, {\n    id: \"solve-icon\",\n    ref: t,\n    icon: Rt\n  }));\n});\nRe.displayName = \"SolveIcon\";\nfunction be(n) {\n  return {\n    id: \"d\",\n    body: n,\n    documentStyle: {}\n  };\n}\nconst Oe = K((n, e) => {\n  var R;\n  const { comment: t, onSave: r, id: i, onCancel: o, autoFocus: c, unitId: x, type: h } = n, N = S(te), k = S(he), [V, U] = P(!1), b = S(mt), u = ee(null), v = h === de.UNIVER_DOC ? Ke : x, [T, y] = P(() => {\n    var d, m, f;\n    return ue.transform.getPlainText((f = (m = (d = u.current) == null ? void 0 : d.getDocumentData().body) == null ? void 0 : m.dataStream) != null ? f : \"\");\n  });\n  ae(() => {\n    var m, f, w, p;\n    y(ue.transform.getPlainText((w = (f = (m = u.current) == null ? void 0 : m.getDocumentData().body) == null ? void 0 : f.dataStream) != null ? w : \"\"));\n    const d = (p = u.current) == null ? void 0 : p.selectionChange$.subscribe(() => {\n      var s, _, A;\n      y(ue.transform.getPlainText((A = (_ = (s = u.current) == null ? void 0 : s.getDocumentData().body) == null ? void 0 : _.dataStream) != null ? A : \"\"));\n    });\n    return () => d == null ? void 0 : d.unsubscribe();\n  }, [(R = u.current) == null ? void 0 : R.selectionChange$]);\n  const j = X(() => ({\n    keyCodes: [{ keyCode: pe.ENTER }],\n    handler: (d) => {\n      d === pe.ENTER && N.executeCommand(\n        ht.id\n      );\n    }\n  }), [N]);\n  vt(e, () => ({\n    reply(d) {\n      var f, w;\n      if (!u.current)\n        return;\n      b.focus((f = u.current.getEditorId()) != null ? f : \"\");\n      const m = be(d);\n      (w = u.current) == null || w.setDocumentData(m, [{\n        startOffset: m.body.dataStream.length - 2,\n        endOffset: m.body.dataStream.length - 2,\n        collapsed: !0\n      }]);\n    }\n  }));\n  const C = () => {\n    if (u.current) {\n      const d = ze.deepClone(u.current.getDocumentData().body);\n      U(!1), r == null || r({\n        ...t,\n        text: d\n      }), u.current.replaceText(\"\"), setTimeout(() => {\n        var m, f;\n        (m = u.current) == null || m.setSelectionRanges([]), (f = u.current) == null || f.blur();\n      }, 10);\n    }\n  };\n  return /* @__PURE__ */ I(\"div\", { onClick: (d) => d.preventDefault(), children: [\n    /* @__PURE__ */ l(\n      ft,\n      {\n        className: \"univer-w-full\",\n        editorRef: u,\n        autoFocus: c,\n        keyboardEventConfig: j,\n        placeholder: k.t(\"threadCommentUI.editor.placeholder\"),\n        initialValue: (t == null ? void 0 : t.text) && be(t.text),\n        onFocusChange: (d) => d && U(d),\n        isSingle: !1,\n        maxHeight: 64,\n        onClickOutside: () => {\n          setTimeout(() => {\n            b.focus(v);\n          }, 30);\n        }\n      }\n    ),\n    V ? /* @__PURE__ */ I(\"div\", { className: \"univer-mt-3 univer-flex univer-flex-row univer-justify-end univer-gap-2\", children: [\n      /* @__PURE__ */ l(\n        le,\n        {\n          onClick: () => {\n            var d;\n            o == null || o(), U(!1), (d = u.current) == null || d.replaceText(\"\", !0), N.executeCommand(F.id);\n          },\n          children: k.t(\"threadCommentUI.editor.cancel\")\n        }\n      ),\n      /* @__PURE__ */ l(\n        le,\n        {\n          variant: \"primary\",\n          disabled: !T,\n          onClick: C,\n          children: k.t(i ? \"threadCommentUI.editor.save\" : \"threadCommentUI.editor.reply\")\n        }\n      )\n    ] }) : null\n  ] });\n}), Ot = (n) => {\n  const { dataStream: e, customRanges: t } = n, r = e.endsWith(`\\r\n`) ? e.length - 2 : e.length, i = [];\n  let o = 0;\n  return t == null || t.forEach((c) => {\n    o < c.startIndex && i.push({\n      type: \"text\",\n      content: e.slice(o, c.startIndex)\n    }), i.push({\n      type: \"mention\",\n      content: {\n        label: e.slice(c.startIndex, c.endIndex + 1),\n        id: c.rangeId\n      }\n    }), o = c.endIndex + 1;\n  }), i.push({\n    type: \"text\",\n    content: e.slice(o, r)\n  }), i;\n}, Lt = (n) => {\n  const { paragraphs: e = [] } = n;\n  let t = 0;\n  return e.map((r) => {\n    const i = qe(n, t, r.startIndex);\n    return t = r.startIndex + 1, Ot(i);\n  });\n}, Ht = (n) => {\n  let e = \"\";\n  const t = [];\n  return n.forEach((r) => {\n    switch (r.type) {\n      case \"text\":\n        e += r.content;\n        break;\n      case \"mention\": {\n        const i = e.length;\n        e += r.content.label;\n        const o = e.length - 1;\n        t.push({\n          rangeId: r.content.id,\n          rangeType: Ye.MENTION,\n          startIndex: i,\n          endIndex: o,\n          properties: {},\n          wholeEntity: !0\n        });\n        break;\n      }\n    }\n  }), e += `\\r\n`, {\n    textRuns: [],\n    paragraphs: [\n      {\n        startIndex: e.length - 2,\n        paragraphStyle: {}\n      }\n    ],\n    sectionBreaks: [\n      {\n        startIndex: e.length - 1\n      }\n    ],\n    dataStream: e,\n    customRanges: t\n  };\n}, Le = \"__mock__\", Vt = (n) => {\n  const { item: e, unitId: t, subUnitId: r, editing: i, onEditingChange: o, onReply: c, resolved: x, isRoot: h, onClose: N, onDeleteComment: k, type: V } = n, U = S(te), b = S(he), u = S(fe), v = u.getUser(e.personId), T = Z(u.currentUser$), y = (T == null ? void 0 : T.userID) === e.personId, j = e.id === Le, [C, R] = P(!1), d = Qe(Xe), m = d == null ? void 0 : d.avatarFallback, f = () => {\n    (k == null ? void 0 : k(e)) !== !1 && (U.executeCommand(\n      h ? Ne.id : lt.id,\n      {\n        unitId: t,\n        subUnitId: r,\n        commentId: e.id\n      }\n    ), h && (N == null || N()));\n  };\n  return /* @__PURE__ */ I(\"div\", { className: \"univer-relative univer-mb-3 univer-pl-[30px]\", onMouseLeave: () => R(!1), onMouseEnter: () => R(!0), children: [\n    /* @__PURE__ */ l(\n      \"div\",\n      {\n        className: \"univer-absolute univer-left-0 univer-top-0 univer-h-6 univer-w-6 univer-rounded-full univer-bg-cover univer-bg-center univer-bg-no-repeat\",\n        style: {\n          backgroundImage: `url(${(v == null ? void 0 : v.avatar) || m})`\n        }\n      }\n    ),\n    v ? /* @__PURE__ */ I(\"div\", { className: \"univer-mb-1 univer-flex univer-h-6 univer-items-center univer-justify-between\", children: [\n      /* @__PURE__ */ l(\"div\", { className: \"univer-text-sm univer-font-medium univer-leading-5\", children: (v == null ? void 0 : v.name) || \" \" }),\n      /* @__PURE__ */ I(\"div\", { children: [\n        j || x ? null : C && v ? /* @__PURE__ */ l(\n          \"div\",\n          {\n            className: \"univer-ml-1 univer-inline-flex univer-h-6 univer-w-6 univer-cursor-pointer univer-items-center univer-justify-center univer-rounded-sm univer-text-base hover:univer-bg-gray-50\",\n            onClick: () => c(v),\n            children: /* @__PURE__ */ l(Ee, {})\n          }\n        ) : null,\n        y && !j && !x ? /* @__PURE__ */ l(\n          ut,\n          {\n            overlay: /* @__PURE__ */ l(\"div\", { className: \"univer-rounded-lg\", children: /* @__PURE__ */ I(\n              \"ul\",\n              {\n                className: \"univer-m-0 univer-box-border univer-grid univer-list-none univer-p-1.5 univer-text-sm [&_a]:univer-block [&_a]:univer-cursor-pointer [&_a]:univer-rounded [&_a]:univer-px-2 [&_a]:univer-py-1.5 [&_a]:univer-transition-colors\",\n                children: [\n                  /* @__PURE__ */ l(\"li\", { children: /* @__PURE__ */ l(\n                    \"a\",\n                    {\n                      className: \"hover:univer-bg-gray-200\",\n                      onClick: () => o == null ? void 0 : o(!0),\n                      children: b.t(\"threadCommentUI.item.edit\")\n                    }\n                  ) }),\n                  /* @__PURE__ */ l(\"li\", { children: /* @__PURE__ */ l(\n                    \"a\",\n                    {\n                      className: \"hover:univer-bg-gray-200\",\n                      onClick: f,\n                      children: b.t(\"threadCommentUI.item.delete\")\n                    }\n                  ) })\n                ]\n              }\n            ) }),\n            children: /* @__PURE__ */ l(\n              \"div\",\n              {\n                className: \"univer-ml-1 univer-inline-flex univer-h-6 univer-w-6 univer-cursor-pointer univer-items-center univer-justify-center univer-rounded-sm univer-text-base hover:univer-bg-gray-50\",\n                children: /* @__PURE__ */ l(De, {})\n              }\n            )\n          }\n        ) : null\n      ] })\n    ] }) : null,\n    /* @__PURE__ */ l(\n      \"time\",\n      {\n        className: \"univer-mb-1 univer-text-xs/normal univer-text-gray-600 dark:!univer-text-gray-200\",\n        children: e.dT\n      }\n    ),\n    i ? /* @__PURE__ */ l(\n      Oe,\n      {\n        type: V,\n        id: e.id,\n        comment: e,\n        onCancel: () => o == null ? void 0 : o(!1),\n        autoFocus: !0,\n        unitId: t,\n        subUnitId: r,\n        onSave: ({ text: w, attachments: p }) => {\n          o == null || o(!1), U.executeCommand(\n            st.id,\n            {\n              unitId: t,\n              subUnitId: r,\n              payload: {\n                commentId: e.id,\n                text: w,\n                attachments: p\n              }\n            }\n          );\n        }\n      }\n    ) : /* @__PURE__ */ l(\n      \"div\",\n      {\n        className: \"univer-text-sm univer-text-gray-900 dark:!univer-text-white\",\n        children: Lt(e.text).map((w, p) => /* @__PURE__ */ l(\"div\", { className: \"univer-break-words\", children: w.map((s, _) => {\n          switch (s.type) {\n            case \"mention\":\n              return /* @__PURE__ */ I(\"a\", { className: \"univer-text-primary-600\", children: [\n                s.content.label,\n                \" \"\n              ] }, _);\n            default:\n              return s.content;\n          }\n        }) }, p))\n      }\n    )\n  ] });\n}, jt = (n) => {\n  var se, Q, a;\n  const {\n    id: e,\n    unitId: t,\n    subUnitId: r,\n    refStr: i,\n    showEdit: o = !0,\n    onClick: c,\n    showHighlight: x,\n    onClose: h,\n    getSubUnitName: N,\n    prefix: k,\n    autoFocus: V,\n    onMouseEnter: U,\n    onMouseLeave: b,\n    onAddComment: u,\n    onDeleteComment: v,\n    onResolve: T,\n    type: y,\n    style: j,\n    full: C\n  } = n, R = S(Se), [d, m] = P(!1), [f, w] = P(\"\"), p = X(() => R.commentUpdate$.pipe(tt(16)), [R]);\n  Z(p);\n  const s = e ? R.getCommentWithChildren(t, r, e) : null, _ = S(te), A = S(fe), D = s == null ? void 0 : s.root.resolved, E = Z(A.currentUser$), L = ee(null), q = [\n    ...s ? [s.root] : (\n      // mock empty comment\n      [{\n        id: Le,\n        text: {\n          dataStream: `\n\\r`\n        },\n        personId: (se = E == null ? void 0 : E.userID) != null ? se : \"\",\n        ref: i != null ? i : \"\",\n        dT: \"\",\n        unitId: t,\n        subUnitId: r,\n        threadId: \"\"\n      }]\n    ),\n    ...(Q = s == null ? void 0 : s.children) != null ? Q : []\n  ], O = ee(null), ne = (g) => {\n    g.stopPropagation(), D ? _.executeCommand(F.id, {\n      unitId: t,\n      subUnitId: r,\n      commentId: e\n    }) : _.executeCommand(F.id), _.executeCommand(ot.id, {\n      unitId: t,\n      subUnitId: r,\n      commentId: e,\n      resolved: !D\n    }), T == null || T(!D);\n  }, J = (g) => {\n    g.stopPropagation(), _.executeCommand(F.id), !(s != null && s.root && (v == null ? void 0 : v(s.root)) === !1) && (_.executeCommand(\n      Ne.id,\n      {\n        unitId: t,\n        subUnitId: r,\n        commentId: e\n      }\n    ), h == null || h());\n  };\n  ae(() => b == null ? void 0 : b(), []);\n  const re = N((a = s == null ? void 0 : s.root.subUnitId) != null ? a : r), ie = o && !f && !D, oe = `${i || (s == null ? void 0 : s.root.ref) || \"\"}${re ? \" Â· \" : \"\"}${re}`;\n  return /* @__PURE__ */ I(\n    \"div\",\n    {\n      id: `${k}-${t}-${r}-${e}`,\n      className: ve(\"univer-relative univer-box-border univer-rounded-md univer-bg-white univer-p-4 dark:!univer-bg-gray-900 dark:!univer-text-white\", dt, {\n        \"univer-w-[278px]\": !C,\n        \"univer-w-full\": C,\n        \"univer-shadow\": !D && (x || d || k === \"cell\")\n      }),\n      style: j,\n      onClick: c,\n      onMouseEnter: () => {\n        U == null || U(), m(!0);\n      },\n      onMouseLeave: () => {\n        b == null || b(), m(!1);\n      },\n      children: [\n        !D && x && /* @__PURE__ */ l(\n          \"div\",\n          {\n            className: \"univer-absolute univer-left-0 univer-right-0 univer-top-0 univer-h-1.5 univer-rounded-t-md univer-bg-yellow-400\"\n          }\n        ),\n        /* @__PURE__ */ I(\n          \"div\",\n          {\n            className: \"univer-mb-4 univer-flex univer-flex-row univer-items-center univer-justify-between univer-text-sm univer-leading-5\",\n            children: [\n              /* @__PURE__ */ I(\"div\", { className: \"univer-flex univer-flex-1 univer-flex-row univer-items-center univer-overflow-hidden\", children: [\n                /* @__PURE__ */ l(\n                  \"div\",\n                  {\n                    className: \"univer-mr-2 univer-h-3.5 univer-w-[3px] univer-flex-shrink-0 univer-flex-grow-0 univer-rounded-sm univer-bg-yellow-500\"\n                  }\n                ),\n                /* @__PURE__ */ l(at, { showIfEllipsis: !0, title: oe, children: /* @__PURE__ */ l(\n                  \"span\",\n                  {\n                    className: \"univer-flex-1 univer-truncate\",\n                    children: oe\n                  }\n                ) })\n              ] }),\n              !!s && /* @__PURE__ */ I(\"div\", { className: \"univer-flex univer-flex-shrink-0 univer-flex-grow-0 univer-flex-row\", children: [\n                /* @__PURE__ */ l(\n                  \"div\",\n                  {\n                    className: ve(\"univer-ml-1 univer-inline-flex univer-h-6 univer-w-6 univer-cursor-pointer univer-items-center univer-justify-center univer-rounded-[3px] univer-text-base hover:univer-bg-gray-50 dark:hover:!univer-bg-gray-800\", {\n                      \"univer-text-green-500\": D\n                    }),\n                    onClick: ne,\n                    children: D ? /* @__PURE__ */ l(Me, {}) : /* @__PURE__ */ l(Re, {})\n                  }\n                ),\n                (E == null ? void 0 : E.userID) === s.root.personId ? /* @__PURE__ */ l(\n                  \"div\",\n                  {\n                    className: \"univer-ml-1 univer-inline-flex univer-h-6 univer-w-6 univer-cursor-pointer univer-items-center univer-justify-center univer-rounded-[3px] univer-text-base hover:univer-bg-gray-50 dark:hover:!univer-bg-gray-800\",\n                    onClick: J,\n                    children: /* @__PURE__ */ l(Ue, {})\n                  }\n                ) : null\n              ] })\n            ]\n          }\n        ),\n        /* @__PURE__ */ l(\n          \"div\",\n          {\n            ref: O,\n            className: ve(\"univer-max-h-80 univer-overflow-y-auto univer-overflow-x-hidden\", ct),\n            children: q.map(\n              (g) => /* @__PURE__ */ l(\n                Vt,\n                {\n                  unitId: t,\n                  subUnitId: r,\n                  item: g,\n                  isRoot: g.id === (s == null ? void 0 : s.root.id),\n                  editing: f === g.id,\n                  resolved: s == null ? void 0 : s.root.resolved,\n                  type: y,\n                  onClose: h,\n                  onEditingChange: (M) => {\n                    w(M ? g.id : \"\");\n                  },\n                  onReply: (M) => {\n                    M && requestAnimationFrame(() => {\n                      var H;\n                      (H = L.current) == null || H.reply(Ht([\n                        {\n                          type: \"mention\",\n                          content: {\n                            id: M.userID,\n                            label: `@${M.name}`\n                          }\n                        },\n                        {\n                          type: \"text\",\n                          content: \" \"\n                        }\n                      ]));\n                    });\n                  },\n                  onAddComment: u,\n                  onDeleteComment: v\n                },\n                g.id\n              )\n            )\n          }\n        ),\n        ie && /* @__PURE__ */ l(\"div\", { children: /* @__PURE__ */ l(\n          Oe,\n          {\n            ref: L,\n            type: y,\n            unitId: t,\n            subUnitId: r,\n            onSave: async ({ text: g, attachments: M }) => {\n              const H = {\n                text: g,\n                attachments: M,\n                dT: rt(),\n                id: Je(),\n                ref: i,\n                personId: E == null ? void 0 : E.userID,\n                parentId: s == null ? void 0 : s.root.id,\n                unitId: t,\n                subUnitId: r,\n                threadId: s == null ? void 0 : s.root.threadId\n              };\n              (u == null ? void 0 : u(H)) !== !1 && (await _.executeCommand(\n                it.id,\n                {\n                  unitId: t,\n                  subUnitId: r,\n                  comment: H\n                }\n              ), O.current && (O.current.scrollTop = O.current.scrollHeight));\n            },\n            autoFocus: V || !s,\n            onCancel: () => {\n              s || h == null || h();\n            }\n          },\n          `${V}`\n        ) })\n      ]\n    }\n  );\n}, Yt = (n) => {\n  const {\n    unitId: e,\n    subUnitId$: t,\n    type: r,\n    onAdd: i,\n    getSubUnitName: o,\n    onResolve: c,\n    sortComments: x,\n    onItemLeave: h,\n    onItemEnter: N,\n    disableAdd: k,\n    tempComment: V,\n    onAddComment: U,\n    onDeleteComment: b,\n    showComments: u\n  } = n, [v, T] = P(\"all\"), [y, j] = P(\"all\"), C = S(he), R = S(fe), d = S(Se), [m, f] = P(() => d.getUnit(e)), w = S(Y), p = Z(w.activeCommentId$), s = Z(d.commentUpdate$), _ = S(te), A = Z(t), D = ee(!0), E = \"panel\", L = Z(R.currentUser$), q = X(() => {\n    var H;\n    const a = v === \"all\" ? m : (H = m.filter(($) => $.subUnitId === A)) != null ? H : [], g = x != null ? x : (($) => $), M = a.map(($) => {\n      var B;\n      return { ...$.root, children: (B = $.children) != null ? B : [], users: $.relativeUsers };\n    });\n    if (u) {\n      const $ = /* @__PURE__ */ new Map();\n      return M.forEach((B) => {\n        $.set(B.id, B);\n      }), [...u, \"\"].map((B) => $.get(B)).filter(Boolean);\n    } else\n      return g(M);\n  }, [u, v, m, x, A]), O = X(() => [\n    ...q.filter((a) => !a.resolved),\n    ...q.filter((a) => a.resolved)\n  ], [q]), ne = X(() => y === \"resolved\" ? O.filter((a) => a.resolved) : y === \"unsolved\" ? O.filter((a) => !a.resolved) : y === \"concern_me\" && L != null && L.userID ? O.filter((a) => a == null ? void 0 : a.users.has(L.userID)) : O, [O, L == null ? void 0 : L.userID, y]), J = V ? [V, ...ne] : ne, re = J.filter((a) => !a.resolved), ie = J.filter((a) => a.resolved), oe = y !== \"all\" || v !== \"all\", se = () => {\n    j(\"all\"), T(\"all\");\n  };\n  ae(() => {\n    e && f(\n      d.getUnit(e)\n    );\n  }, [e, d, s]), ae(() => {\n    var $;\n    if (!p)\n      return;\n    if (!D.current) {\n      D.current = !0;\n      return;\n    }\n    const { unitId: a, subUnitId: g, commentId: M } = p, H = `${E}-${a}-${g}-${M}`;\n    ($ = document.getElementById(H)) == null || $.scrollIntoView({ block: \"center\" });\n  }, [p]);\n  const Q = (a) => /* @__PURE__ */ l(\n    jt,\n    {\n      prefix: E,\n      getSubUnitName: o,\n      id: a.id,\n      unitId: a.unitId,\n      subUnitId: a.subUnitId,\n      refStr: a.ref,\n      type: r,\n      showEdit: (p == null ? void 0 : p.commentId) === a.id,\n      showHighlight: (p == null ? void 0 : p.commentId) === a.id,\n      onClick: () => {\n        D.current = !1, a.resolved ? _.executeCommand(F.id) : _.executeCommand(\n          F.id,\n          {\n            unitId: a.unitId,\n            subUnitId: a.subUnitId,\n            commentId: a.id,\n            temp: !1\n          }\n        );\n      },\n      onMouseEnter: () => N == null ? void 0 : N(a),\n      onMouseLeave: () => h == null ? void 0 : h(a),\n      onAddComment: U,\n      onDeleteComment: b,\n      onResolve: (g) => c == null ? void 0 : c(a.id, g)\n    },\n    a.id\n  );\n  return /* @__PURE__ */ I(\"div\", { className: \"univer-flex univer-min-h-full univer-flex-col univer-pb-3\", children: [\n    /* @__PURE__ */ I(\"div\", { className: \"univer-mt-3 univer-flex univer-flex-row univer-justify-between\", children: [\n      r === de.UNIVER_SHEET ? /* @__PURE__ */ l(\n        ge,\n        {\n          borderless: !0,\n          value: v,\n          options: [\n            {\n              value: \"current\",\n              label: C.t(\"threadCommentUI.filter.sheet.current\")\n            },\n            {\n              value: \"all\",\n              label: C.t(\"threadCommentUI.filter.sheet.all\")\n            }\n          ],\n          onChange: T\n        }\n      ) : null,\n      /* @__PURE__ */ l(\n        ge,\n        {\n          borderless: !0,\n          value: y,\n          options: [\n            {\n              value: \"all\",\n              label: C.t(\"threadCommentUI.filter.status.all\")\n            },\n            {\n              value: \"resolved\",\n              label: C.t(\"threadCommentUI.filter.status.resolved\")\n            },\n            {\n              value: \"unsolved\",\n              label: C.t(\"threadCommentUI.filter.status.unsolved\")\n            },\n            {\n              value: \"concern_me\",\n              label: C.t(\"threadCommentUI.filter.status.concernMe\")\n            }\n          ],\n          onChange: j\n        }\n      )\n    ] }),\n    J.length === 0 ? /* @__PURE__ */ I(\n      \"div\",\n      {\n        className: \"univer-flex univer-flex-1 univer-flex-col univer-items-center univer-justify-center univer-text-sm univer-text-gray-600 dark:!univer-text-gray-200\",\n        children: [\n          C.t(\"threadCommentUI.panel.empty\"),\n          oe ? /* @__PURE__ */ l(\"div\", { className: \"univer-mt-2 univer-flex univer-flex-row\", children: /* @__PURE__ */ l(le, { onClick: se, children: C.t(\"threadCommentUI.panel.reset\") }) }) : k ? null : /* @__PURE__ */ l(\"div\", { className: \"univer-mt-2 univer-flex univer-flex-row\", children: /* @__PURE__ */ I(le, { onClick: i, children: [\n            /* @__PURE__ */ l(Te, { className: \"univer-mr-1.5\" }),\n            C.t(\"threadCommentUI.panel.addComment\")\n          ] }) })\n        ]\n      }\n    ) : /* @__PURE__ */ I(\"div\", { className: \"univer-mt-3 univer-flex univer-flex-col univer-gap-3\", children: [\n      re.map(Q),\n      ie.length > 0 && /* @__PURE__ */ l(\"div\", { className: \"univer-text-xs\", children: C.t(\"threadCommentUI.panel.solved\") }),\n      ie.map(Q)\n    ] })\n  ] });\n};\nexport {\n  F as SetActiveCommentOperation,\n  gt as THREAD_COMMENT_PANEL,\n  Yt as ThreadCommentPanel,\n  Y as ThreadCommentPanelService,\n  jt as ThreadCommentTree,\n  xt as ToggleSheetCommentPanelOperation,\n  ce as UniverThreadCommentUIPlugin\n};\n", "var Re = Object.defineProperty;\nvar Ue = (t, e, r) => e in t ? Re(t, e, { enumerable: !0, configurable: !0, writable: !0, value: r }) : t[e] = r;\nvar y = (t, e, r) => Ue(t, typeof e != \"symbol\" ? e + \"\" : e, r);\nimport { Inject as p, Disposable as $, DisposableCollection as $e, CommandType as Oe, IUniverInstanceService as x, InterceptorEffectEnum as ke, UniverInstanceType as M, Range as Ne, ICommandService as ne, RANGE_TYPE as se, Rectangle as De, Tools as xe, DependentOn as Ae, Injector as Ve, IConfigService as Be, Plugin as He, merge as Le } from \"@univerjs/core\";\nimport { SheetsSelectionsService as de, getSheetCommandTarget as je, SheetInterceptorService as Fe, INTERCEPTOR_POINT as We, SheetPermissionCheckController as ue, RangeProtectionPermissionViewPoint as G, WorksheetViewPermission as z, WorkbookCommentPermission as K, SetWorksheetActiveOperation as Ze } from \"@univerjs/sheets\";\nimport { SheetsThreadCommentModel as O, UniverSheetsThreadCommentPlugin as Ge } from \"@univerjs/sheets-thread-comment\";\nimport { ThreadCommentPanelService as re, SetActiveCommentOperation as q, ThreadCommentTree as ze, ThreadCommentPanel as Ke, ToggleSheetCommentPanelOperation as le, THREAD_COMMENT_PANEL as Ye, UniverThreadCommentUIPlugin as qe } from \"@univerjs/thread-comment-ui\";\nimport { UniverThreadCommentUIPlugin as dn } from \"@univerjs/thread-comment-ui\";\nimport { SheetCanvasPopManagerService as Je, CellPopupManagerService as Qe, ISheetClipboardService as Xe, COPY_TYPE as et, HoverManagerService as tt, IMarkSelectionService as pe, IEditorBridgeService as nt, SheetSkeletonManagerService as rt, ScrollToRangeOperation as ot, whenSheetEditorFocused as it, getCurrentRangeDisable$ as Ce } from \"@univerjs/sheets-ui\";\nimport { IZenZoneService as st, useDependency as E, useObservable as N, KeyCode as at, MetaKeys as ae, getMenuHiddenObservable as _e, MenuItemType as ve, ContextMenuPosition as ct, ContextMenuGroup as ht, RibbonInsertGroup as mt, IMenuManagerService as dt, ComponentManager as ut, IShortcutService as lt } from \"@univerjs/ui\";\nimport { BehaviorSubject as pt, debounceTime as oe, map as Ct } from \"rxjs\";\nimport { IRenderManagerService as Se } from \"@univerjs/engine-render\";\nimport { singleReferenceToGrid as D, serializeRange as _t } from \"@univerjs/engine-formula\";\nimport { IThreadCommentDataSourceService as vt, DeleteCommentMutation as te, AddCommentMutation as ce } from \"@univerjs/thread-comment\";\nimport { AddCommentCommand as ln, DeleteCommentCommand as pn, DeleteCommentTreeCommand as Cn, IThreadCommentDataSourceService as _n, ResolveCommentCommand as vn, UpdateCommentCommand as Sn } from \"@univerjs/thread-comment\";\nimport { useRef as fe, createElement as ge, forwardRef as St, useMemo as ft, useCallback as he, useEffect as gt } from \"react\";\nimport { jsx as Ie } from \"react/jsx-runtime\";\nconst Pe = \"univer.sheet.thread-comment-modal\", Te = \"SHEET_THREAD_COMMENT\";\nvar It = Object.getOwnPropertyDescriptor, Pt = (t, e, r, n) => {\n  for (var o = n > 1 ? void 0 : n ? It(e, r) : e, i = t.length - 1, s; i >= 0; i--)\n    (s = t[i]) && (o = s(o) || o);\n  return o;\n}, J = (t, e) => (r, n) => e(r, n, t);\nlet R = class extends $ {\n  constructor(e, r, n) {\n    super();\n    y(this, \"_lastPopup\", null);\n    y(this, \"_activePopup\");\n    y(this, \"_activePopup$\", new pt(null));\n    y(this, \"activePopup$\", this._activePopup$.asObservable());\n    this._canvasPopupManagerService = e, this._zenZoneService = r, this._cellPopupManagerService = n, this._initZenVisible(), this.disposeWithMe(() => {\n      this._activePopup$.complete();\n    });\n  }\n  get activePopup() {\n    return this._activePopup;\n  }\n  _initZenVisible() {\n    this.disposeWithMe(this._zenZoneService.visible$.subscribe((e) => {\n      e && this.hidePopup();\n    }));\n  }\n  dispose() {\n    super.dispose(), this.hidePopup();\n  }\n  showPopup(e, r) {\n    var h;\n    const { row: n, col: o, unitId: i, subUnitId: s } = e;\n    if (this._activePopup && n === this._activePopup.row && o === this._activePopup.col && i === this._activePopup.unitId && s === ((h = this.activePopup) == null ? void 0 : h.subUnitId)) {\n      this._activePopup = e, this._activePopup$.next(e);\n      return;\n    }\n    if (this._lastPopup && this._lastPopup.dispose(), this._zenZoneService.visible)\n      return;\n    this._activePopup = e, this._activePopup$.next(e);\n    const a = this._cellPopupManagerService.showPopup(\n      {\n        row: n,\n        col: o,\n        unitId: i,\n        subUnitId: s\n      },\n      {\n        componentKey: Pe,\n        onClickOutside: () => {\n          this.hidePopup();\n        },\n        direction: \"horizontal\",\n        excludeOutside: [\n          ...Array.from(document.querySelectorAll(\".univer-thread-comment\")),\n          document.getElementById(\"thread-comment-add\")\n        ].filter(Boolean),\n        priority: 2\n      }\n    );\n    if (!a)\n      throw new Error(\"[SheetsThreadCommentPopupService]: cannot show popup!\");\n    const c = new $e();\n    c.add(a), c.add({\n      dispose: () => {\n        r == null || r();\n      }\n    }), this._lastPopup = c;\n  }\n  hidePopup() {\n    this._activePopup && (this._lastPopup && this._lastPopup.dispose(), this._lastPopup = null, this._activePopup = null, this._activePopup$.next(null));\n  }\n  persistPopup() {\n    !this._activePopup || !this._activePopup.temp || (this._activePopup = {\n      ...this._activePopup,\n      temp: !1\n    }, this._activePopup$.next(this._activePopup));\n  }\n};\nR = Pt([\n  J(0, p(Je)),\n  J(1, st),\n  J(2, p(Qe))\n], R);\nconst A = {\n  type: Oe.OPERATION,\n  id: \"sheets.operation.show-comment-modal\",\n  handler(t) {\n    var _;\n    const e = t.get(de), r = t.get(x), n = t.get(R), o = t.get(re), i = (_ = e.getCurrentLastSelection()) == null ? void 0 : _.primary, s = t.get(O);\n    if (!i)\n      return !1;\n    const a = je(r);\n    if (!a)\n      return !1;\n    const { workbook: c, worksheet: h, unitId: d, subUnitId: m } = a, C = {\n      workbook: c,\n      worksheet: h,\n      unitId: d,\n      subUnitId: m,\n      row: i.startRow,\n      col: i.startColumn\n    };\n    n.showPopup(C);\n    const l = s.getByLocation(d, m, i.startRow, i.startColumn);\n    return l && o.setActiveComment({\n      unitId: d,\n      subUnitId: m,\n      commentId: l,\n      trigger: \"context-menu\"\n    }), !0;\n  }\n}, Tt = \"sheets-thread-comment.config\", me = {};\nvar wt = Object.getOwnPropertyDescriptor, Mt = (t, e, r, n) => {\n  for (var o = n > 1 ? void 0 : n ? wt(e, r) : e, i = t.length - 1, s; i >= 0; i--)\n    (s = t[i]) && (o = s(o) || o);\n  return o;\n}, V = (t, e) => (r, n) => e(r, n, t);\nlet H = class extends $ {\n  constructor(t, e, r, n) {\n    super(), this._sheetInterceptorService = t, this._sheetsThreadCommentModel = e, this._univerInstanceService = r, this._renderManagerService = n, this._initViewModelIntercept(), this._initSkeletonChange();\n  }\n  _initViewModelIntercept() {\n    this.disposeWithMe(\n      this._sheetInterceptorService.intercept(\n        We.CELL_CONTENT,\n        {\n          effect: ke.Style,\n          handler: (t, e, r) => {\n            const { row: n, col: o, unitId: i, subUnitId: s } = e;\n            return this._sheetsThreadCommentModel.showCommentMarker(i, s, n, o) && ((!t || t === e.rawData) && (t = { ...e.rawData }), t.markers = {\n              ...t == null ? void 0 : t.markers,\n              tr: {\n                color: \"#FFBD37\",\n                size: 6\n              }\n            }), r(t);\n          },\n          priority: 100\n        }\n      )\n    );\n  }\n  _initSkeletonChange() {\n    const t = () => {\n      var o;\n      const e = this._univerInstanceService.getCurrentUnitForType(M.UNIVER_SHEET);\n      if (!e) return;\n      const r = e.getUnitId(), n = this._renderManagerService.getRenderById(r);\n      (o = n == null ? void 0 : n.mainComponent) == null || o.makeForceDirty();\n    };\n    this.disposeWithMe(this._sheetsThreadCommentModel.commentUpdate$.pipe(oe(16)).subscribe(() => {\n      t();\n    }));\n  }\n};\nH = Mt([\n  V(0, p(Fe)),\n  V(1, p(O)),\n  V(2, x),\n  V(3, Se)\n], H);\nvar bt = Object.getOwnPropertyDescriptor, yt = (t, e, r, n) => {\n  for (var o = n > 1 ? void 0 : n ? bt(e, r) : e, i = t.length - 1, s; i >= 0; i--)\n    (s = t[i]) && (o = s(o) || o);\n  return o;\n}, Q = (t, e) => (r, n) => e(r, n, t);\nconst Et = (t, e, r) => {\n  const n = D(t), o = r.row - e.row, i = r.column - e.column, s = {\n    startColumn: n.column + i,\n    startRow: n.row + o,\n    endColumn: n.column + i,\n    endRow: n.row + o\n  };\n  return _t(s);\n};\nlet L = class extends $ {\n  constructor(e, r, n) {\n    super();\n    y(this, \"_copyInfo\");\n    this._sheetClipboardService = e, this._sheetsThreadCommentModel = r, this._threadCommentDataSourceService = n, this._initClipboardHook();\n  }\n  // eslint-disable-next-line max-lines-per-function\n  _initClipboardHook() {\n    this.disposeWithMe(\n      this._sheetClipboardService.addClipboardHook({\n        id: Te,\n        onBeforeCopy: (e, r, n) => {\n          this._copyInfo = {\n            unitId: e,\n            subUnitId: r,\n            range: n\n          };\n        },\n        // eslint-disable-next-line max-lines-per-function\n        onPasteCells: (e, r, n, o) => {\n          const { unitId: i, subUnitId: s, range: a } = r, c = {\n            row: a.rows[0],\n            column: a.cols[0]\n          };\n          if (o.copyType === et.CUT && this._copyInfo) {\n            const { range: h, unitId: d, subUnitId: m } = this._copyInfo, C = {\n              row: h.startRow,\n              column: h.startColumn\n            };\n            if (!(i === d && s === m)) {\n              const l = [];\n              Ne.foreach(h, (g, u) => {\n                const I = this._sheetsThreadCommentModel.getAllByLocation(d, m, g, u);\n                this._threadCommentDataSourceService.syncUpdateMutationToColla ? I.forEach((v) => {\n                  l.push(v);\n                }) : I.forEach(({ children: v, ...T }) => {\n                  T.parentId || l.push(T);\n                });\n              });\n              const _ = [], f = [], U = [], k = [], Y = (g) => {\n                _.unshift({\n                  id: te.id,\n                  params: {\n                    unitId: d,\n                    subUnitId: m,\n                    commentId: g.id\n                  }\n                }), U.push({\n                  id: ce.id,\n                  params: {\n                    unitId: i,\n                    subUnitId: s,\n                    comment: {\n                      ...g,\n                      ref: Et(g.ref, C, c),\n                      unitId: i,\n                      subUnitId: s\n                    },\n                    sync: !0\n                  }\n                }), f.push({\n                  id: ce.id,\n                  params: {\n                    unitId: d,\n                    subUnitId: m,\n                    comment: g,\n                    sync: !0\n                  }\n                }), k.unshift({\n                  id: te.id,\n                  params: {\n                    unitId: i,\n                    subUnitId: s,\n                    commentId: g.id\n                  }\n                });\n              };\n              return l.forEach((g) => {\n                Y(g);\n              }), {\n                redos: [..._, ...U],\n                undos: [...k, ...f]\n              };\n            }\n          }\n          return {\n            redos: [],\n            undos: []\n          };\n        }\n      })\n    );\n  }\n};\nL = yt([\n  Q(0, p(Xe)),\n  Q(1, p(O)),\n  Q(2, vt)\n], L);\nvar Rt = Object.getOwnPropertyDescriptor, Ut = (t, e, r, n) => {\n  for (var o = n > 1 ? void 0 : n ? Rt(e, r) : e, i = t.length - 1, s; i >= 0; i--)\n    (s = t[i]) && (o = s(o) || o);\n  return o;\n}, B = (t, e) => (r, n) => e(r, n, t);\nlet j = class extends $ {\n  constructor(t, e, r, n) {\n    super(), this._hoverManagerService = t, this._sheetsThreadCommentPopupService = e, this._sheetsThreadCommentModel = r, this._sheetPermissionCheckController = n, this._initHoverEvent();\n  }\n  _initHoverEvent() {\n    this.disposeWithMe(\n      this._hoverManagerService.currentCell$.pipe(oe(100)).subscribe((t) => {\n        const e = this._sheetsThreadCommentPopupService.activePopup;\n        if (t && (e && e.temp || !e)) {\n          const { location: r } = t, { unitId: n, subUnitId: o, row: i, col: s } = r, a = this._sheetsThreadCommentModel.getByLocation(n, o, i, s);\n          if (a) {\n            if (!this._sheetPermissionCheckController.permissionCheckWithRanges({\n              workbookTypes: [K],\n              worksheetTypes: [z],\n              rangeTypes: [G]\n            }, [{ startRow: i, startColumn: s, endRow: i, endColumn: s }]))\n              return;\n            const h = this._sheetsThreadCommentModel.getComment(n, o, a);\n            h && !h.resolved && this._sheetsThreadCommentPopupService.showPopup({\n              unitId: n,\n              subUnitId: o,\n              row: i,\n              col: s,\n              commentId: a,\n              temp: !0\n            });\n          } else\n            e && this._sheetsThreadCommentPopupService.hidePopup();\n        }\n      })\n    );\n  }\n};\nj = Ut([\n  B(0, p(tt)),\n  B(1, p(R)),\n  B(2, p(O)),\n  B(3, p(ue))\n], j);\nvar $t = Object.getOwnPropertyDescriptor, Ot = (t, e, r, n) => {\n  for (var o = n > 1 ? void 0 : n ? $t(e, r) : e, i = t.length - 1, s; i >= 0; i--)\n    (s = t[i]) && (o = s(o) || o);\n  return o;\n}, w = (t, e) => (r, n) => e(r, n, t);\nlet F = class extends $ {\n  constructor(e, r, n, o, i, s, a, c, h, d) {\n    super();\n    y(this, \"_isSwitchToCommenting\", !1);\n    y(this, \"_selectionShapeInfo\", null);\n    this._commandService = e, this._sheetsThreadCommentPopupService = r, this._sheetsThreadCommentModel = n, this._threadCommentPanelService = o, this._univerInstanceService = i, this._sheetPermissionCheckController = s, this._markSelectionService = a, this._sheetSelectionService = c, this._editorBridgeService = h, this._renderManagerService = d, this._initCommandListener(), this._initPanelListener(), this._initMarkSelection(), this._initSelectionUpdateListener(), this._initEditorBridge();\n  }\n  _handleSelectionChange(e, r, n) {\n    var C, l, _;\n    const o = (C = e[0]) == null ? void 0 : C.range, i = this._renderManagerService.getRenderById(r), s = (l = i == null ? void 0 : i.with(rt).getSkeletonParam(n)) == null ? void 0 : l.skeleton;\n    if (!s || !o)\n      return;\n    const a = s.getCellWithCoordByIndex(o.startRow, o.startColumn);\n    if ((((_ = o.rangeType) != null ? _ : se.NORMAL) !== se.NORMAL || o.endColumn - o.startColumn > 0 || o.endRow - o.startRow > 0) && !((a.isMerged || a.isMergedMainCell) && De.equals(a.mergeInfo, o))) {\n      this._threadCommentPanelService.activeCommentId && this._commandService.executeCommand(q.id);\n      return;\n    }\n    const h = a.actualRow, d = a.actualColumn;\n    if (!this._sheetsThreadCommentModel.showCommentMarker(r, n, h, d)) {\n      this._threadCommentPanelService.activeCommentId && this._commandService.executeCommand(q.id);\n      return;\n    }\n    const m = this._sheetsThreadCommentModel.getByLocation(r, n, h, d);\n    m && this._commandService.executeCommand(q.id, {\n      unitId: r,\n      subUnitId: n,\n      commentId: m\n    });\n  }\n  _initSelectionUpdateListener() {\n    this.disposeWithMe(\n      this._sheetSelectionService.selectionMoveEnd$.subscribe((e) => {\n        if (this._isSwitchToCommenting)\n          return;\n        const r = this._sheetSelectionService.currentSelectionParam;\n        r && this._handleSelectionChange(e, r.unitId, r.sheetId);\n      })\n    );\n  }\n  _initEditorBridge() {\n    this.disposeWithMe(\n      this._editorBridgeService.visible$.subscribe((e) => {\n        e.visible && this._sheetsThreadCommentPopupService.hidePopup();\n      })\n    );\n  }\n  _initCommandListener() {\n    this._commandService.onCommandExecuted((e) => {\n      if (e.id === te.id) {\n        const r = e.params, n = this._sheetsThreadCommentPopupService.activePopup;\n        if (!n)\n          return;\n        const { unitId: o, subUnitId: i, commentId: s } = n;\n        r.unitId === o && r.subUnitId === i && r.commentId === s && this._sheetsThreadCommentPopupService.hidePopup();\n      }\n    });\n  }\n  _initPanelListener() {\n    this.disposeWithMe(this._threadCommentPanelService.activeCommentId$.subscribe(async (e) => {\n      var r;\n      if (e) {\n        const { unitId: n, subUnitId: o, commentId: i, trigger: s } = e, a = this._sheetsThreadCommentModel.getComment(n, o, i);\n        if (!a || a.resolved)\n          return;\n        const c = this._univerInstanceService.getCurrentUnitForType(M.UNIVER_SHEET);\n        if (!c || c.getUnitId() !== n)\n          return;\n        this._isSwitchToCommenting = !0, ((r = c.getActiveSheet()) == null ? void 0 : r.getSheetId()) !== o && await this._commandService.executeCommand(Ze.id, {\n          unitId: n,\n          subUnitId: o\n        }), this._isSwitchToCommenting = !1;\n        const m = D(a.ref), { row: C, column: l } = m;\n        if (!this._sheetPermissionCheckController.permissionCheckWithRanges({\n          workbookTypes: [K],\n          worksheetTypes: [z],\n          rangeTypes: [G]\n        }, [{ startRow: C, startColumn: l, endRow: C, endColumn: l }]))\n          return;\n        const f = 1;\n        if (await this._commandService.executeCommand(ot.id, {\n          range: {\n            startRow: Math.max(m.row - f, 0),\n            endRow: m.row + f,\n            startColumn: Math.max(m.column - f, 0),\n            endColumn: m.column + f\n          }\n        }), this._editorBridgeService.isVisible().visible)\n          return;\n        this._sheetsThreadCommentPopupService.showPopup({\n          unitId: n,\n          subUnitId: o,\n          row: m.row,\n          col: m.column,\n          commentId: a.id,\n          trigger: s\n        });\n      } else\n        this._sheetsThreadCommentPopupService.hidePopup();\n    }));\n  }\n  _initMarkSelection() {\n    this.disposeWithMe(this._threadCommentPanelService.activeCommentId$.pipe(oe(100)).subscribe((e) => {\n      var C, l;\n      if (!e) {\n        this._selectionShapeInfo && (this._markSelectionService.removeShape(this._selectionShapeInfo.shapeId), this._selectionShapeInfo = null);\n        return;\n      }\n      const { unitId: r, subUnitId: n, commentId: o } = e;\n      this._selectionShapeInfo && (this._markSelectionService.removeShape(this._selectionShapeInfo.shapeId), this._selectionShapeInfo = null);\n      const i = this._sheetsThreadCommentModel.getComment(r, n, o);\n      if (!i)\n        return;\n      const s = D(i.ref), { row: a, column: c } = s;\n      if (Number.isNaN(a) || Number.isNaN(c))\n        return null;\n      const h = (C = this._univerInstanceService.getCurrentUnitForType(M.UNIVER_SHEET)) == null ? void 0 : C.getSheetBySheetId(n), d = (l = h == null ? void 0 : h.getMergedCell(a, c)) != null ? l : {\n        startColumn: c,\n        endColumn: c,\n        startRow: a,\n        endRow: a\n      }, m = this._markSelectionService.addShape(\n        {\n          range: d,\n          style: {\n            // hasAutoFill: false,\n            fill: \"rgba(255, 189, 55, 0.35)\",\n            strokeWidth: 1,\n            stroke: \"#FFBD37\",\n            widgets: {}\n          },\n          primary: null\n        },\n        [],\n        -1\n      );\n      m && (this._selectionShapeInfo = {\n        ...e,\n        shapeId: m\n      });\n    }));\n  }\n};\nF = Ot([\n  w(0, ne),\n  w(1, p(R)),\n  w(2, p(O)),\n  w(3, p(re)),\n  w(4, x),\n  w(5, p(ue)),\n  w(6, pe),\n  w(7, p(de)),\n  w(8, nt),\n  w(9, Se)\n], F);\nfunction we({ ref: t, ...e }) {\n  const { icon: r, id: n, className: o, extend: i, ...s } = e, a = `univerjs-icon univerjs-icon-${n} ${o || \"\"}`.trim(), c = fe(`_${Dt()}`);\n  return Me(r, `${n}`, {\n    defIds: r.defIds,\n    idSuffix: c.current\n  }, {\n    ref: t,\n    className: a,\n    ...s\n  }, i);\n}\nfunction Me(t, e, r, n, o) {\n  return ge(t.tag, {\n    key: e,\n    ...kt(t, r, o),\n    ...n\n  }, (Nt(t, r).children || []).map((i, s) => Me(i, `${e}-${t.tag}-${s}`, r, void 0, o)));\n}\nfunction kt(t, e, r) {\n  const n = { ...t.attrs };\n  r != null && r.colorChannel1 && n.fill === \"colorChannel1\" && (n.fill = r.colorChannel1), t.tag === \"mask\" && n.id && (n.id = n.id + e.idSuffix), Object.entries(n).forEach(([i, s]) => {\n    i === \"mask\" && typeof s == \"string\" && (n[i] = s.replace(/url\\(#(.*)\\)/, `url(#$1${e.idSuffix})`));\n  });\n  const { defIds: o } = e;\n  return !o || o.length === 0 || (t.tag === \"use\" && n[\"xlink:href\"] && (n[\"xlink:href\"] = n[\"xlink:href\"] + e.idSuffix), Object.entries(n).forEach(([i, s]) => {\n    typeof s == \"string\" && (n[i] = s.replace(/url\\(#(.*)\\)/, `url(#$1${e.idSuffix})`));\n  })), n;\n}\nfunction Nt(t, e) {\n  var n;\n  const { defIds: r } = e;\n  return !r || r.length === 0 ? t : t.tag === \"defs\" && ((n = t.children) != null && n.length) ? {\n    ...t,\n    children: t.children.map((o) => typeof o.attrs.id == \"string\" && r && r.includes(o.attrs.id) ? {\n      ...o,\n      attrs: {\n        ...o.attrs,\n        id: o.attrs.id + e.idSuffix\n      }\n    } : o)\n  } : t;\n}\nfunction Dt() {\n  return Math.random().toString(36).substring(2, 8);\n}\nwe.displayName = \"UniverIcon\";\nconst xt = {\n  tag: \"svg\",\n  attrs: {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 17 17\",\n    width: \"1em\",\n    height: \"1em\"\n  },\n  children: [\n    {\n      tag: \"path\",\n      attrs: {\n        fill: \"currentColor\",\n        d: \"M5.83725 6.78345C6.22188 6.78345 6.53368 7.10742 6.53368 7.50706V8.41159C6.53368 8.81123 6.22188 9.13521 5.83725 9.13521C5.45263 9.13521 5.14082 8.81123 5.14082 8.41159V7.50706C5.14082 7.10742 5.45263 6.78345 5.83725 6.78345ZM8.73904 6.78345C9.12366 6.78345 9.43546 7.10742 9.43546 7.50706V8.41159C9.43546 8.81123 9.12366 9.13521 8.73904 9.13521C8.35441 9.13521 8.04261 8.81123 8.04261 8.41159V7.50706C8.04261 7.10742 8.35441 6.78345 8.73904 6.78345ZM11.6408 6.78345C12.0254 6.78345 12.3372 7.10742 12.3372 7.50706V8.41159C12.3372 8.81123 12.0254 9.13521 11.6408 9.13521C11.2562 9.13521 10.9444 8.81123 10.9444 8.41159V7.50706C10.9444 7.10742 11.2562 6.78345 11.6408 6.78345Z\",\n        fillRule: \"evenodd\",\n        clipRule: \"evenodd\"\n      }\n    },\n    {\n      tag: \"path\",\n      attrs: {\n        fill: \"currentColor\",\n        d: \"M5.83725 6.78345C6.22188 6.78345 6.53368 7.10742 6.53368 7.50706V8.41159C6.53368 8.81123 6.22188 9.13521 5.83725 9.13521C5.45263 9.13521 5.14082 8.81123 5.14082 8.41159V7.50706C5.14082 7.10742 5.45263 6.78345 5.83725 6.78345Z\"\n      }\n    },\n    {\n      tag: \"path\",\n      attrs: {\n        fill: \"currentColor\",\n        d: \"M8.73904 6.78345C9.12366 6.78345 9.43546 7.10742 9.43546 7.50706V8.41159C9.43546 8.81123 9.12366 9.13521 8.73904 9.13521C8.35441 9.13521 8.04261 8.81123 8.04261 8.41159V7.50706C8.04261 7.10742 8.35441 6.78345 8.73904 6.78345Z\"\n      }\n    },\n    {\n      tag: \"path\",\n      attrs: {\n        fill: \"currentColor\",\n        d: \"M11.6408 6.78345C12.0254 6.78345 12.3372 7.10742 12.3372 7.50706V8.41159C12.3372 8.81123 12.0254 9.13521 11.6408 9.13521C11.2562 9.13521 10.9444 8.81123 10.9444 8.41159V7.50706C10.9444 7.10742 11.2562 6.78345 11.6408 6.78345Z\"\n      }\n    },\n    {\n      tag: \"path\",\n      attrs: {\n        fill: \"currentColor\",\n        d: \"M1.84351 3.41861C1.84351 3.01861 2.15531 2.69434 2.53993 2.69434H14.9381C15.3228 2.69434 15.6346 3.01861 15.6346 3.41861V12.4611C15.6346 12.8612 15.3228 13.1854 14.9381 13.1854H8.82117L6.06643 14.6179C5.85054 14.7301 5.59416 14.7181 5.38884 14.5862C5.18352 14.4542 5.05855 14.2211 5.05855 13.9701V13.1854H2.53993C2.15531 13.1854 1.84351 12.8612 1.84351 12.4611L1.84351 3.41861ZM6.45141 12.7982L8.34531 12.0135C8.44201 11.9632 8.54864 11.9371 8.65676 11.9371H14.2417C14.3522 11.9371 14.4417 11.8475 14.4417 11.7371V4.14271C14.4417 4.03225 14.3522 3.94271 14.2417 3.94271H3.23636C3.12591 3.94271 3.03636 4.03225 3.03636 4.14271L3.03636 11.7371C3.03636 11.8475 3.12591 11.9371 3.23636 11.9371L5.75498 11.9371C6.1396 11.9371 6.45141 12.0611 6.45141 12.4611V12.7982Z\",\n        fillRule: \"evenodd\",\n        clipRule: \"evenodd\"\n      }\n    }\n  ]\n}, be = St(function(e, r) {\n  return ge(we, Object.assign({}, e, {\n    id: \"comment-icon\",\n    ref: r,\n    icon: xt\n  }));\n});\nbe.displayName = \"CommentIcon\";\nconst At = () => {\n  const t = E(x), e = E(R), r = N(e.activePopup$), n = E(O);\n  if (N(n.commentUpdate$), !r)\n    return null;\n  const { row: o, col: i, unitId: s, subUnitId: a, trigger: c } = r, h = n.getByLocation(s, a, o, i), d = `${xe.chatAtABC(i)}${o + 1}`, m = () => {\n    e.hidePopup();\n  }, C = (l) => {\n    var _, f, U;\n    return (U = (f = (_ = t.getCurrentUnitForType(M.UNIVER_SHEET)) == null ? void 0 : _.getSheetBySheetId(l)) == null ? void 0 : f.getName()) != null ? U : \"\";\n  };\n  return /* @__PURE__ */ Ie(\n    ze,\n    {\n      onClick: () => {\n        e.persistPopup();\n      },\n      prefix: \"cell\",\n      id: h,\n      unitId: s,\n      subUnitId: a,\n      type: M.UNIVER_SHEET,\n      refStr: d,\n      onClose: m,\n      getSubUnitName: C,\n      autoFocus: c === \"context-menu\"\n    }\n  );\n}, Vt = () => {\n  var g;\n  const t = E(pe), e = E(x), r = E(R), n = e.getCurrentUnitForType(M.UNIVER_SHEET), o = n.getUnitId(), i = E(ne), s = ft(() => n.activeSheet$.pipe(Ct((u) => u == null ? void 0 : u.getSheetId())), [n.activeSheet$]), a = N(s, (g = n.getActiveSheet()) == null ? void 0 : g.getSheetId()), c = fe(null), h = E(re), d = N(h.activeCommentId$), m = N(h.panelVisible$, h.panelVisible), C = he((u) => {\n    const I = n.getSheets(), v = {};\n    I.forEach((P, S) => {\n      v[P.getSheetId()] = S;\n    });\n    const T = (P) => P.map((S) => {\n      var ie;\n      const b = D(S.ref), Ee = [(ie = v[S.subUnitId]) != null ? ie : 0, b.row, b.column];\n      return { ...S, p: Ee };\n    }).sort((S, b) => S.p[0] === b.p[0] ? S.p[1] === b.p[1] ? S.p[2] - b.p[2] : S.p[1] - b.p[1] : S.p[0] - b.p[0]);\n    return [\n      ...T(u.filter((P) => !P.resolved)),\n      ...T(u.filter((P) => P.resolved))\n    ];\n  }, [n]), l = he((u) => {\n    var I;\n    if (u.unitId === o && u.subUnitId === a && !u.resolved) {\n      const { row: v, column: T } = D(u.ref), P = n.getSheetBySheetId(u.subUnitId), S = (I = P == null ? void 0 : P.getMergedCell(v, T)) != null ? I : {\n        startColumn: T,\n        endColumn: T,\n        startRow: v,\n        endRow: v\n      };\n      if (!Number.isNaN(v) && !Number.isNaN(T))\n        return t.addShape({\n          range: S,\n          style: {\n            // hasAutoFill: false,\n            fill: \"rgb(255, 189, 55, 0.35)\",\n            strokeWidth: 1,\n            stroke: \"#FFBD37\",\n            widgets: {}\n          },\n          primary: null\n        });\n    }\n    return null;\n  }, [t, a, o]), _ = (u) => {\n    var I, v;\n    return (v = (I = n.getSheetBySheetId(u)) == null ? void 0 : I.getName()) != null ? v : \"\";\n  }, f = () => {\n    i.executeCommand(A.id);\n  }, U = (u) => {\n    d && d.unitId === u.unitId && d.subUnitId === u.subUnitId && d.commentId === u.id || (c.current && (t.removeShape(c.current), c.current = null), c.current = l(u));\n  }, k = () => {\n    c.current && (t.removeShape(c.current), c.current = null);\n  }, Y = (u, I) => {\n    I && r.hidePopup();\n  };\n  return gt(() => {\n    !m && c.current && t.removeShape(c.current);\n  }, [t, m]), /* @__PURE__ */ Ie(\n    Ke,\n    {\n      unitId: o,\n      subUnitId$: s,\n      type: M.UNIVER_SHEET,\n      onAdd: f,\n      getSubUnitName: _,\n      onResolve: Y,\n      sortComments: C,\n      onItemEnter: U,\n      onItemLeave: k,\n      onDeleteComment: () => (k(), !0)\n    }\n  );\n}, Bt = (t) => ({\n  id: A.id,\n  type: ve.BUTTON,\n  icon: \"CommentIcon\",\n  title: \"sheetThreadComment.menu.addComment\",\n  hidden$: _e(t, M.UNIVER_SHEET),\n  disabled$: Ce(t, {\n    workbookTypes: [K],\n    worksheetTypes: [z],\n    rangeTypes: [G]\n  })\n}), Ht = (t) => ({\n  id: le.id,\n  type: ve.BUTTON,\n  icon: \"CommentIcon\",\n  tooltip: \"sheetThreadComment.menu.commentManagement\",\n  disabled$: Ce(t, {\n    workbookTypes: [K],\n    worksheetTypes: [z],\n    rangeTypes: [G]\n  }),\n  hidden$: _e(t, M.UNIVER_SHEET)\n}), Lt = {\n  id: A.id,\n  binding: at.M | ae.CTRL_COMMAND | ae.ALT,\n  preconditions: it\n}, jt = {\n  [mt.MEDIA]: {\n    [le.id]: {\n      order: 2,\n      menuItemFactory: Ht\n    }\n  },\n  [ct.MAIN_AREA]: {\n    [ht.OTHERS]: {\n      [A.id]: {\n        order: 0,\n        menuItemFactory: Bt\n      }\n    }\n  }\n};\nvar Ft = Object.getOwnPropertyDescriptor, Wt = (t, e, r, n) => {\n  for (var o = n > 1 ? void 0 : n ? Ft(e, r) : e, i = t.length - 1, s; i >= 0; i--)\n    (s = t[i]) && (o = s(o) || o);\n  return o;\n}, X = (t, e) => (r, n) => e(r, n, t);\nlet W = class extends $ {\n  constructor(t, e, r) {\n    super(), this._menuManagerService = t, this._componentManager = e, this._shortcutService = r, this._initMenu(), this._initShortcut(), this._initComponent();\n  }\n  _initShortcut() {\n    this._shortcutService.registerShortcut(Lt);\n  }\n  _initMenu() {\n    this._menuManagerService.mergeMenu(jt);\n  }\n  _initComponent() {\n    [\n      [Pe, At],\n      [Ye, Vt],\n      [\"CommentIcon\", be]\n    ].forEach(([t, e]) => {\n      this.disposeWithMe(\n        this._componentManager.register(t, e)\n      );\n    });\n  }\n};\nW = Wt([\n  X(0, dt),\n  X(1, p(ut)),\n  X(2, lt)\n], W);\nvar Zt = Object.defineProperty, Gt = Object.getOwnPropertyDescriptor, zt = (t, e, r) => e in t ? Zt(t, e, { enumerable: !0, configurable: !0, writable: !0, value: r }) : t[e] = r, Kt = (t, e, r, n) => {\n  for (var o = n > 1 ? void 0 : n ? Gt(e, r) : e, i = t.length - 1, s; i >= 0; i--)\n    (s = t[i]) && (o = s(o) || o);\n  return o;\n}, ee = (t, e) => (r, n) => e(r, n, t), ye = (t, e, r) => zt(t, typeof e != \"symbol\" ? e + \"\" : e, r);\nlet Z = class extends He {\n  constructor(t = me, e, r, n) {\n    super(), this._config = t, this._injector = e, this._commandService = r, this._configService = n;\n    const { menu: o, ...i } = Le(\n      {},\n      me,\n      this._config\n    );\n    o && this._configService.setConfig(\"menu\", o, { merge: !0 }), this._configService.setConfig(Tt, i);\n  }\n  onStarting() {\n    [\n      [W],\n      [H],\n      [L],\n      [j],\n      [F],\n      [R]\n    ].forEach((t) => {\n      this._injector.add(t);\n    }), [A].forEach((t) => {\n      this._commandService.registerCommand(t);\n    }), this._injector.get(W);\n  }\n  onReady() {\n    this._injector.get(H);\n  }\n  onRendered() {\n    this._injector.get(L), this._injector.get(j), this._injector.get(F);\n  }\n};\nye(Z, \"pluginName\", Te);\nye(Z, \"type\", M.UNIVER_SHEET);\nZ = Kt([\n  Ae(qe, Ge),\n  ee(1, p(Ve)),\n  ee(2, p(ne)),\n  ee(3, Be)\n], Z);\nexport {\n  ln as AddCommentCommand,\n  pn as DeleteCommentCommand,\n  Cn as DeleteCommentTreeCommand,\n  _n as IThreadCommentDataSourceService,\n  vn as ResolveCommentCommand,\n  Te as SHEETS_THREAD_COMMENT,\n  R as SheetsThreadCommentPopupService,\n  A as ShowAddSheetCommentModalOperation,\n  Z as UniverSheetsThreadCommentUIPlugin,\n  dn as UniverThreadCommentUIPlugin,\n  Sn as UpdateCommentCommand\n};\n", "var L = Object.defineProperty;\nvar N = (i, e, r) => e in i ? L(i, e, { enumerable: !0, configurable: !0, writable: !0, value: r }) : i[e] = r;\nvar M = (i, e, r) => N(i, typeof e != \"symbol\" ? e + \"\" : e, r);\nimport { Inject as T, Injector as V, ICommandService as p, IUniverInstanceService as q, UserManagerService as W, UniverInstanceType as G, RichTextValue as k, generateRandomId as R, RichTextBuilder as J, Tools as F, Range as K, toDisposable as S, CanceledError as E } from \"@univerjs/core\";\nimport { SheetsThreadCommentModel as b } from \"@univerjs/sheets-thread-comment\";\nimport { FRange as j, FWorkbook as H, FWorksheet as O } from \"@univerjs/sheets/facade\";\nimport { DeleteCommentTreeCommand as w, DeleteCommentCommand as y, getDT as B, UpdateCommentCommand as x, ResolveCommentCommand as D, AddCommentCommand as f, ThreadCommentModel as Q } from \"@univerjs/thread-comment\";\nimport { deserializeRangeWithSheet as X } from \"@univerjs/engine-formula\";\nimport { filter as Y } from \"rxjs\";\nimport { FEventName as z, FUniver as $ } from \"@univerjs/core/facade\";\nvar Z = Object.getOwnPropertyDescriptor, ee = (i, e, r, t) => {\n  for (var n = t > 1 ? void 0 : t ? Z(e, r) : e, o = i.length - 1, s; o >= 0; o--)\n    (s = i[o]) && (n = s(n) || n);\n  return n;\n}, _ = (i, e) => (r, t) => e(r, t, i);\nclass A {\n  constructor(e) {\n    M(this, \"_comment\", {\n      id: R(),\n      ref: \"\",\n      threadId: \"\",\n      dT: \"\",\n      personId: \"\",\n      text: J.newEmptyData().body,\n      attachments: [],\n      unitId: \"\",\n      subUnitId: \"\"\n    });\n    e && (this._comment = e);\n  }\n  /**\n   * Create a new FTheadCommentItem\n   * @param {IThreadComment|undefined} comment The comment\n   * @returns {FTheadCommentItem} A new instance of FTheadCommentItem\n   * @example\n   * ```ts\n   * const commentBuilder = univerAPI.newTheadComment();\n   * console.log(commentBuilder);\n   * ```\n   */\n  static create(e) {\n    return new A(e);\n  }\n  /**\n   * Get the person id of the comment\n   * @returns {string} The person id of the comment\n   * @example\n   * ```ts\n   * const commentBuilder = univerAPI.newTheadComment();\n   * console.log(commentBuilder.personId);\n   * ```\n   */\n  get personId() {\n    return this._comment.personId;\n  }\n  /**\n   * Get the date time of the comment\n   * @returns {string} The date time of the comment\n   * @example\n   * ```ts\n   * const commentBuilder = univerAPI.newTheadComment();\n   * console.log(commentBuilder.dateTime);\n   * ```\n   */\n  get dateTime() {\n    return this._comment.dT;\n  }\n  /**\n   * Get the content of the comment\n   * @returns {RichTextValue} The content of the comment\n   * @example\n   * ```ts\n   * const commentBuilder = univerAPI.newTheadComment();\n   * console.log(commentBuilder.content);\n   * ```\n   */\n  get content() {\n    return k.createByBody(this._comment.text);\n  }\n  /**\n   * Get the id of the comment\n   * @returns {string} The id of the comment\n   * @example\n   * ```ts\n   * const commentBuilder = univerAPI.newTheadComment();\n   * console.log(commentBuilder.id);\n   * ```\n   */\n  get id() {\n    return this._comment.id;\n  }\n  /**\n   * Get the thread id of the comment\n   * @returns {string} The thread id of the comment\n   * @example\n   * ```ts\n   * const commentBuilder = univerAPI.newTheadComment();\n   * console.log(commentBuilder.threadId);\n   * ```\n   */\n  get threadId() {\n    return this._comment.threadId;\n  }\n  /**\n   * Copy the comment\n   * @returns {FTheadCommentBuilder} The comment builder\n   * @example\n   * ```ts\n   * const commentBuilder = univerAPI.newTheadComment();\n   * const newCommentBuilder = commentBuilder.copy();\n   * console.log(newCommentBuilder);\n   * ```\n   */\n  copy() {\n    return U.create(F.deepClone(this._comment));\n  }\n}\nclass U extends A {\n  static create(e) {\n    return new U(e);\n  }\n  /**\n   * Set the content of the comment\n   * @param {IDocumentBody | RichTextValue} content The content of the comment\n   * @returns {FTheadCommentBuilder} The comment builder for chaining\n   * @example\n   * ```ts\n   * // Create a new comment\n   * const richText = univerAPI.newRichText().insertText('hello univer');\n   * const commentBuilder = univerAPI.newTheadComment()\n   *   .setContent(richText);\n   * console.log(commentBuilder.content);\n   *\n   * // Add the comment to the cell A1\n   * const fWorkbook = univerAPI.getActiveWorkbook();\n   * const fWorksheet = fWorkbook.getActiveSheet();\n   * const cell = fWorksheet.getRange('A1');\n   * const result = await cell.addCommentAsync(commentBuilder);\n   * console.log(result);\n   * ```\n   */\n  setContent(e) {\n    return e instanceof k ? this._comment.text = e.getData().body : this._comment.text = e, this;\n  }\n  /**\n   * Set the person id of the comment\n   * @param {string} userId The person id of the comment\n   * @returns {FTheadCommentBuilder} The comment builder for chaining\n   * @example\n   * ```ts\n   * // Create a new comment\n   * const richText = univerAPI.newRichText().insertText('hello univer');\n   * const commentBuilder = univerAPI.newTheadComment()\n   *   .setContent(richText)\n   *   .setPersonId('mock-user-id');\n   * console.log(commentBuilder.personId);\n   *\n   * // Add the comment to the cell A1\n   * const fWorkbook = univerAPI.getActiveWorkbook();\n   * const fWorksheet = fWorkbook.getActiveSheet();\n   * const cell = fWorksheet.getRange('A1');\n   * const result = await cell.addCommentAsync(commentBuilder);\n   * console.log(result);\n   * ```\n   */\n  setPersonId(e) {\n    return this._comment.personId = e, this;\n  }\n  /**\n   * Set the date time of the comment\n   * @param {Date} date The date time of the comment\n   * @returns {FTheadCommentBuilder} The comment builder for chaining\n   * @example\n   * ```ts\n   * // Create a new comment\n   * const richText = univerAPI.newRichText().insertText('hello univer');\n   * const commentBuilder = univerAPI.newTheadComment()\n   *   .setContent(richText)\n   *   .setDateTime(new Date('2025-02-21 14:22:22'));\n   * console.log(commentBuilder.dateTime);\n   *\n   * // Add the comment to the cell A1\n   * const fWorkbook = univerAPI.getActiveWorkbook();\n   * const fWorksheet = fWorkbook.getActiveSheet();\n   * const cell = fWorksheet.getRange('A1');\n   * const result = await cell.addCommentAsync(commentBuilder);\n   * console.log(result);\n   * ```\n   */\n  setDateTime(e) {\n    return this._comment.dT = B(e), this;\n  }\n  /**\n   * Set the id of the comment\n   * @param {string} id The id of the comment\n   * @returns {FTheadCommentBuilder} The comment builder for chaining\n   * @example\n   * ```ts\n   * // Create a new comment\n   * const richText = univerAPI.newRichText().insertText('hello univer');\n   * const commentBuilder = univerAPI.newTheadComment()\n   *   .setContent(richText)\n   *   .setId('mock-comment-id');\n   * console.log(commentBuilder.id);\n   *\n   * // Add the comment to the cell A1\n   * const fWorkbook = univerAPI.getActiveWorkbook();\n   * const fWorksheet = fWorkbook.getActiveSheet();\n   * const cell = fWorksheet.getRange('A1');\n   * const result = await cell.addCommentAsync(commentBuilder);\n   * console.log(result);\n   * ```\n   */\n  setId(e) {\n    return this._comment.id = e, this;\n  }\n  /**\n   * Set the thread id of the comment\n   * @param {string} threadId The thread id of the comment\n   * @returns {FTheadCommentBuilder} The comment builder\n   * @example\n   * ```ts\n   * // Create a new comment\n   * const richText = univerAPI.newRichText().insertText('hello univer');\n   * const commentBuilder = univerAPI.newTheadComment()\n   *   .setContent(richText)\n   *   .setThreadId('mock-thread-id');\n   * console.log(commentBuilder.threadId);\n   *\n   * // Add the comment to the cell A1\n   * const fWorkbook = univerAPI.getActiveWorkbook();\n   * const fWorksheet = fWorkbook.getActiveSheet();\n   * const cell = fWorksheet.getRange('A1');\n   * const result = await cell.addCommentAsync(commentBuilder);\n   * console.log(result);\n   * ```\n   */\n  setThreadId(e) {\n    return this._comment.threadId = e, this;\n  }\n  /**\n   * Build the comment\n   * @returns {IThreadComment} The comment\n   * @example\n   * ```ts\n   * const richText = univerAPI.newRichText().insertText('hello univer');\n   * const comment = univerAPI.newTheadComment()\n   *   .setContent(richText)\n   *   .setPersonId('mock-user-id')\n   *   .setDateTime(new Date('2025-02-21 14:22:22'))\n   *   .setId('mock-comment-id')\n   *   .setThreadId('mock-thread-id')\n   *   .build();\n   * console.log(comment);\n   * ```\n   */\n  build() {\n    return this._comment;\n  }\n}\nlet I = class {\n  /**\n   * @ignore\n   */\n  constructor(i, e, r, t, n, o, s) {\n    this._thread = i, this._parent = e, this._injector = r, this._commandService = t, this._univerInstanceService = n, this._threadCommentModel = o, this._userManagerService = s;\n  }\n  _getRef() {\n    var r;\n    const i = ((r = this._parent) == null ? void 0 : r.ref) || this._thread.ref;\n    return X(i).range;\n  }\n  /**\n   * Whether the comment is a root comment\n   * @returns {boolean} Whether the comment is a root comment\n   * @example\n   * ```ts\n   * const fWorkbook = univerAPI.getActiveWorkbook();\n   * const fWorksheet = fWorkbook.getActiveSheet();\n   * const comments = fWorksheet.getComments();\n   * comments.forEach((comment) => {\n   *   console.log(comment.getIsRoot());\n   * });\n   * ```\n   */\n  getIsRoot() {\n    return !this._parent;\n  }\n  /**\n   * Get the comment data\n   * @returns {IBaseComment} The comment data\n   * @example\n   * ```ts\n   * const fWorkbook = univerAPI.getActiveWorkbook();\n   * const fWorksheet = fWorkbook.getActiveSheet();\n   * const comments = fWorksheet.getComments();\n   * comments.forEach((comment) => {\n   *   console.log(comment.getCommentData());\n   * });\n   * ```\n   */\n  getCommentData() {\n    const { children: i, ...e } = this._thread;\n    return e;\n  }\n  /**\n   * Get the replies of the comment\n   * @returns {FThreadComment[]} the replies of the comment\n   * @example\n   * ```ts\n   * const fWorkbook = univerAPI.getActiveWorkbook();\n   * const fWorksheet = fWorkbook.getActiveSheet();\n   * const comments = fWorksheet.getComments();\n   * comments.forEach((comment) => {\n   *   if (comment.getIsRoot()) {\n   *     const replies = comment.getReplies();\n   *     replies.forEach((reply) => {\n   *       console.log(reply.getCommentData());\n   *     });\n   *   }\n   * });\n   * ```\n   */\n  getReplies() {\n    var r;\n    const i = this._getRef(), e = this._threadCommentModel.getCommentWithChildren(this._thread.unitId, this._thread.subUnitId, i.startRow, i.startColumn);\n    return (r = e == null ? void 0 : e.children) == null ? void 0 : r.map((t) => this._injector.createInstance(I, t));\n  }\n  /**\n   * Get the range of the comment\n   * @returns {FRange | null} The range of the comment\n   * @example\n   * ```ts\n   * const fWorkbook = univerAPI.getActiveWorkbook();\n   * const fWorksheet = fWorkbook.getActiveSheet();\n   * const comments = fWorksheet.getComments();\n   * comments.forEach((comment) => {\n   *   console.log(comment.getRange().getA1Notation());\n   * });\n   * ```\n   */\n  getRange() {\n    const i = this._univerInstanceService.getUnit(this._thread.unitId, G.UNIVER_SHEET);\n    if (!i)\n      return null;\n    const e = i.getSheetBySheetId(this._thread.subUnitId);\n    if (!e)\n      return null;\n    const r = this._getRef();\n    return this._injector.createInstance(j, i, e, r);\n  }\n  // eslint-disable-next-line\n  /**\n   * @deprecated use `getRichText` as instead\n   */\n  getContent() {\n    return this._thread.text;\n  }\n  /**\n   * Get the rich text of the comment\n   * @returns {RichTextValue} The rich text of the comment\n   * @example\n   * ```ts\n   * const fWorkbook = univerAPI.getActiveWorkbook();\n   * const fWorksheet = fWorkbook.getActiveSheet();\n   * const comments = fWorksheet.getComments();\n   * comments.forEach((comment) => {\n   *   console.log(comment.getRichText());\n   * });\n   * ```\n   */\n  getRichText() {\n    const i = this._thread.text;\n    return k.create({ body: i, documentStyle: {}, id: \"d\" });\n  }\n  /**\n   * Delete the comment and it's replies\n   * @returns {Promise<boolean>} Whether the comment is deleted successfully\n   * @example\n   * ```ts\n   * const fWorkbook = univerAPI.getActiveWorkbook();\n   * const fWorksheet = fWorkbook.getActiveSheet();\n   * const comments = fWorksheet.getComments();\n   *\n   * // Delete the first comment\n   * const result = await comments[0]?.deleteAsync();\n   * console.log(result);\n   * ```\n   */\n  deleteAsync() {\n    return this._commandService.executeCommand(\n      this.getIsRoot() ? w.id : y.id,\n      {\n        commentId: this._thread.id,\n        unitId: this._thread.unitId,\n        subUnitId: this._thread.subUnitId\n      }\n    );\n  }\n  // eslint-disable-next-line\n  /**\n   * @deprecated use `deleteAsync` as instead.\n   */\n  delete() {\n    return this.deleteAsync();\n  }\n  // eslint-disable-next-line\n  /**\n   * @deprecated use `updateAsync` as instead\n   */\n  async update(i) {\n    return this.updateAsync(i);\n  }\n  /**\n   * Update the comment content\n   * @param {IDocumentBody | RichTextValue} content The new content of the comment\n   * @returns {Promise<boolean>} Whether the comment is updated successfully\n   * @example\n   * ```ts\n   * const fWorkbook = univerAPI.getActiveWorkbook();\n   * const fWorksheet = fWorkbook.getActiveSheet();\n   *\n   * // Create a new comment\n   * const richText = univerAPI.newRichText().insertText('hello univer');\n   * const commentBuilder = univerAPI.newTheadComment()\n   *   .setContent(richText)\n   *   .setId('mock-comment-id');\n   * const cell = fWorksheet.getRange('A1');\n   * await cell.addCommentAsync(commentBuilder);\n   *\n   * // Update the comment after 3 seconds\n   * setTimeout(async () => {\n   *   const comment = fWorksheet.getCommentById('mock-comment-id');\n   *   const newRichText = univerAPI.newRichText().insertText('Hello Univer AI');\n   *   const result = await comment.updateAsync(newRichText);\n   *   console.log(result);\n   * }, 3000);\n   * ```\n   */\n  async updateAsync(i) {\n    const e = i instanceof k ? i.getData().body : i, r = B();\n    return await this._commandService.executeCommand(\n      x.id,\n      {\n        unitId: this._thread.unitId,\n        subUnitId: this._thread.subUnitId,\n        payload: {\n          commentId: this._thread.id,\n          text: e,\n          updated: !0,\n          updateT: r\n        }\n      }\n    );\n  }\n  // eslint-disable-next-line\n  /**\n   * @deprecated use `resolveAsync` as instead\n   */\n  resolve(i) {\n    return this.resolveAsync(i);\n  }\n  /**\n   * Resolve the comment\n   * @param {boolean} resolved Whether the comment is resolved\n   * @returns {Promise<boolean>} Set the comment to resolved or not operation result\n   * @example\n   * ```ts\n   * const fWorkbook = univerAPI.getActiveWorkbook();\n   * const fWorksheet = fWorkbook.getActiveSheet();\n   *\n   * // Create a new comment\n   * const richText = univerAPI.newRichText().insertText('hello univer');\n   * const commentBuilder = univerAPI.newTheadComment()\n   *   .setContent(richText)\n   *   .setId('mock-comment-id');\n   * const cell = fWorksheet.getRange('A1');\n   * await cell.addCommentAsync(commentBuilder);\n   *\n   * // Resolve the comment after 3 seconds\n   * setTimeout(async () => {\n   *   const comment = fWorksheet.getCommentById('mock-comment-id');\n   *   const result = await comment.resolveAsync(true);\n   *   console.log(result);\n   * }, 3000);\n   * ```\n   */\n  resolveAsync(i) {\n    return this._commandService.executeCommand(\n      D.id,\n      {\n        unitId: this._thread.unitId,\n        subUnitId: this._thread.subUnitId,\n        commentId: this._thread.id,\n        resolved: i != null ? i : !this._thread.resolved\n      }\n    );\n  }\n  /**\n   * Reply to the comment\n   * @param {FTheadCommentBuilder} comment The comment to reply to\n   * @returns {Promise<boolean>} Whether the comment is replied successfully\n   * @example\n   * ```ts\n   * const fWorkbook = univerAPI.getActiveWorkbook();\n   * const fWorksheet = fWorkbook.getActiveSheet();\n   *\n   * // Create a new comment\n   * const richText = univerAPI.newRichText().insertText('hello univer');\n   * const commentBuilder = univerAPI.newTheadComment()\n   *   .setContent(richText)\n   *   .setId('mock-comment-id');\n   * const cell = fWorksheet.getRange('A1');\n   * await cell.addCommentAsync(commentBuilder);\n   *\n   * // Reply to the comment\n   * const replyText = univerAPI.newRichText().insertText('Hello Univer AI');\n   * const reply = univerAPI.newTheadComment().setContent(replyText);\n   * const comment = fWorksheet.getCommentById('mock-comment-id');\n   * const result = await comment.replyAsync(reply);\n   * console.log(result);\n   * ```\n   */\n  replyAsync(i) {\n    var r;\n    const e = i.build();\n    return this._commandService.executeCommand(\n      f.id,\n      {\n        unitId: this._thread.unitId,\n        subUnitId: this._thread.subUnitId,\n        comment: {\n          id: R(),\n          parentId: this._thread.id,\n          threadId: this._thread.threadId,\n          ref: ((r = this._parent) == null ? void 0 : r.ref) || this._thread.ref,\n          unitId: this._thread.unitId,\n          subUnitId: this._thread.subUnitId,\n          text: e.text,\n          attachments: e.attachments,\n          dT: e.dT || B(),\n          personId: e.personId || this._userManagerService.getCurrentUser().userID\n        }\n      }\n    );\n  }\n};\nI = ee([\n  _(2, T(V)),\n  _(3, p),\n  _(4, q),\n  _(5, T(b)),\n  _(6, T(W))\n], I);\nclass te extends j {\n  getComment() {\n    const r = this._injector.get(b), t = this._workbook.getUnitId(), n = this._worksheet.getSheetId(), o = r.getByLocation(t, n, this._range.startRow, this._range.startColumn);\n    if (!o)\n      return null;\n    const s = r.getComment(t, n, o);\n    return s ? this._injector.createInstance(I, s) : null;\n  }\n  getComments() {\n    const r = this._injector.get(b), t = this._workbook.getUnitId(), n = this._worksheet.getSheetId(), o = [];\n    return K.foreach(this._range, (s, h) => {\n      const c = r.getByLocation(t, n, s, h);\n      if (c) {\n        const m = r.getComment(t, n, c);\n        m && o.push(this._injector.createInstance(I, m));\n      }\n    }), o;\n  }\n  addComment(e) {\n    var a;\n    const r = this._injector, t = (a = this.getComment()) == null ? void 0 : a.getCommentData(), n = r.get(p), o = r.get(W), s = this._workbook.getUnitId(), h = this._worksheet.getSheetId(), c = `${F.chatAtABC(this._range.startColumn)}${this._range.startRow + 1}`, m = o.getCurrentUser(), d = e instanceof U ? e.build() : { text: e };\n    return n.executeCommand(f.id, {\n      unitId: s,\n      subUnitId: h,\n      comment: {\n        text: d.text,\n        dT: d.dT || B(),\n        attachments: [],\n        id: d.id || R(),\n        ref: c,\n        personId: d.personId || m.userID,\n        parentId: t == null ? void 0 : t.id,\n        unitId: s,\n        subUnitId: h,\n        threadId: (t == null ? void 0 : t.threadId) || R()\n      }\n    });\n  }\n  clearComment() {\n    var s;\n    const e = this._injector, r = (s = this.getComment()) == null ? void 0 : s.getCommentData(), t = e.get(p), n = this._workbook.getUnitId(), o = this._worksheet.getSheetId();\n    return r ? t.executeCommand(w.id, {\n      unitId: n,\n      subUnitId: o,\n      threadId: r.threadId,\n      commentId: r.id\n    }) : Promise.resolve(!0);\n  }\n  clearComments() {\n    const r = this.getComments().map((t) => t.deleteAsync());\n    return Promise.all(r).then(() => !0);\n  }\n  addCommentAsync(e) {\n    return this.addComment(e);\n  }\n  clearCommentAsync() {\n    return this.clearComment();\n  }\n  clearCommentsAsync() {\n    return this.clearComments();\n  }\n}\nj.extend(te);\nclass ne extends H {\n  /**\n   * @ignore\n   */\n  _initialize() {\n    Object.defineProperty(this, \"_threadCommentModel\", {\n      get() {\n        return this._injector.get(Q);\n      }\n    });\n  }\n  getComments() {\n    return this._threadCommentModel.getUnit(this._workbook.getUnitId()).map((e) => this._injector.createInstance(I, e.root));\n  }\n  clearComments() {\n    const r = this.getComments().map((t) => t.deleteAsync());\n    return Promise.all(r).then(() => !0);\n  }\n  /**\n   * @param callback\n   * @deprecated\n   */\n  onThreadCommentChange(e) {\n    return S(this._threadCommentModel.commentUpdate$.pipe(Y((r) => r.unitId === this._workbook.getUnitId())).subscribe(e));\n  }\n  /**\n   * @param callback\n   * @deprecated\n   */\n  onBeforeAddThreadComment(e) {\n    return S(this._commandService.beforeCommandExecuted((r, t) => {\n      const n = r.params;\n      if (r.id === f.id) {\n        if (n.unitId !== this._workbook.getUnitId())\n          return;\n        if (e(n, t) === !1)\n          throw new Error(\"Command is stopped by the hook onBeforeAddThreadComment\");\n      }\n    }));\n  }\n  /**\n   * @param callback\n   * @deprecated\n   */\n  onBeforeUpdateThreadComment(e) {\n    return S(this._commandService.beforeCommandExecuted((r, t) => {\n      const n = r.params;\n      if (r.id === x.id) {\n        if (n.unitId !== this._workbook.getUnitId())\n          return;\n        if (e(n, t) === !1)\n          throw new Error(\"Command is stopped by the hook onBeforeUpdateThreadComment\");\n      }\n    }));\n  }\n  /**\n   * @param callback\n   * @deprecated\n   */\n  onBeforeDeleteThreadComment(e) {\n    return S(this._commandService.beforeCommandExecuted((r, t) => {\n      const n = r.params;\n      if (r.id === y.id || r.id === w.id) {\n        if (n.unitId !== this._workbook.getUnitId())\n          return;\n        if (e(n, t) === !1)\n          throw new Error(\"Command is stopped by the hook onBeforeDeleteThreadComment\");\n      }\n    }));\n  }\n}\nH.extend(ne);\nclass re extends O {\n  getComments() {\n    return this._injector.get(b).getSubUnitAll(this._workbook.getUnitId(), this._worksheet.getSheetId()).map((t) => this._injector.createInstance(I, t));\n  }\n  clearComments() {\n    const r = this.getComments().map((t) => t.deleteAsync());\n    return Promise.all(r).then(() => !0);\n  }\n  /**\n   * Subscribe to comment events.\n   * @param callback Callback function, param contains comment info and target cell.\n   */\n  onCommented(e) {\n    return this._injector.get(p).onCommandExecuted((t) => {\n      if (t.id === f.id) {\n        const n = t.params;\n        e(n);\n      }\n    });\n  }\n  getCommentById(e) {\n    const t = this._injector.get(b).getComment(this._workbook.getUnitId(), this._worksheet.getSheetId(), e);\n    if (t)\n      return this._injector.createInstance(I, t);\n  }\n}\nO.extend(re);\nconst l = {\n  CommentAdded: \"CommentAdded\",\n  BeforeCommentAdd: \"BeforeCommentAdd\",\n  CommentUpdated: \"CommentUpdated\",\n  BeforeCommentUpdate: \"BeforeCommentUpdate\",\n  CommentDeleted: \"CommentDeleted\",\n  BeforeCommentDelete: \"BeforeCommentDelete\",\n  CommentResolved: \"CommentResolved\",\n  BeforeCommentResolve: \"BeforeCommentResolve\"\n};\nclass oe extends z {\n  get CommentAdded() {\n    return l.CommentAdded;\n  }\n  get BeforeCommentAdd() {\n    return l.BeforeCommentAdd;\n  }\n  get CommentUpdated() {\n    return l.CommentUpdated;\n  }\n  get BeforeCommentUpdate() {\n    return l.BeforeCommentUpdate;\n  }\n  get CommentDeleted() {\n    return l.CommentDeleted;\n  }\n  get BeforeCommentDelete() {\n    return l.BeforeCommentDelete;\n  }\n  get CommentResolved() {\n    return l.CommentResolved;\n  }\n  get BeforeCommentResolve() {\n    return l.BeforeCommentResolve;\n  }\n}\nz.extend(oe);\nclass se extends $ {\n  // eslint-disable-next-line max-lines-per-function\n  _initialize(e) {\n    const r = e.get(p);\n    this.registerEventHandler(\n      this.Event.CommentAdded,\n      () => r.onCommandExecuted((t) => {\n        var d, a, u, g, C;\n        if (t.id !== f.id) return;\n        const n = t.params;\n        if (!n) return;\n        const o = n.unitId ? this.getUniverSheet(n.unitId) : (d = this.getActiveWorkbook) == null ? void 0 : d.call(this);\n        if (!o) return;\n        const s = o.getSheetBySheetId(n.subUnitId || n.sheetId) || o.getActiveSheet();\n        if (!s) return;\n        const h = t.params, { comment: c } = h, m = s.getRange(c.ref).getComment();\n        m && this.fireEvent(this.Event.CommentAdded, {\n          workbook: o,\n          worksheet: s,\n          row: (u = (a = m.getRange()) == null ? void 0 : a.getRow()) != null ? u : 0,\n          col: (C = (g = m.getRange()) == null ? void 0 : g.getColumn()) != null ? C : 0,\n          comment: m\n        });\n      })\n    ), this.registerEventHandler(\n      this.Event.CommentUpdated,\n      () => r.onCommandExecuted((t) => {\n        var d, a, u, g, C;\n        if (t.id !== x.id) return;\n        const n = t.params;\n        if (!n) return;\n        const o = n.unitId ? this.getUniverSheet(n.unitId) : (d = this.getActiveWorkbook) == null ? void 0 : d.call(this);\n        if (!o) return;\n        const s = o.getSheetBySheetId(n.subUnitId || n.sheetId) || o.getActiveSheet();\n        if (!s) return;\n        const h = t.params, { commentId: c } = h.payload, m = s.getCommentById(c);\n        m && this.fireEvent(this.Event.CommentUpdated, {\n          workbook: o,\n          worksheet: s,\n          row: (u = (a = m.getRange()) == null ? void 0 : a.getRow()) != null ? u : 0,\n          col: (C = (g = m.getRange()) == null ? void 0 : g.getColumn()) != null ? C : 0,\n          comment: m\n        });\n      })\n    ), this.registerEventHandler(\n      this.Event.CommentDeleted,\n      () => r.onCommandExecuted((t) => {\n        var m;\n        if (t.id !== y.id && t.id !== w.id) return;\n        const n = t.params;\n        if (!n) return;\n        const o = n.unitId ? this.getUniverSheet(n.unitId) : (m = this.getActiveWorkbook) == null ? void 0 : m.call(this);\n        if (!o) return;\n        const s = o.getSheetBySheetId(n.subUnitId || n.sheetId) || o.getActiveSheet();\n        if (!s) return;\n        const h = t.params, { commentId: c } = h;\n        this.fireEvent(this.Event.CommentDeleted, {\n          workbook: o,\n          worksheet: s,\n          commentId: c\n        });\n      })\n    ), this.registerEventHandler(\n      this.Event.CommentResolved,\n      () => r.onCommandExecuted((t) => {\n        var a, u, g;\n        if (t.id !== D.id) return;\n        const n = t.params;\n        if (!n) return;\n        const o = n.unitId ? this.getUniverSheet(n.unitId) : (a = this.getActiveWorkbook) == null ? void 0 : a.call(this);\n        if (!o) return;\n        const s = o.getSheetBySheetId(n.subUnitId || n.sheetId) || o.getActiveSheet();\n        if (!s) return;\n        const h = t.params, { commentId: c, resolved: m } = h, d = s.getComments().find((C) => C.getCommentData().id === c);\n        d && this.fireEvent(this.Event.CommentResolved, {\n          workbook: o,\n          worksheet: s,\n          row: (u = d.getRange().getRow()) != null ? u : 0,\n          col: (g = d.getRange().getColumn()) != null ? g : 0,\n          comment: d,\n          resolved: m\n        });\n      })\n    ), this.registerEventHandler(\n      this.Event.BeforeCommentAdd,\n      () => r.beforeCommandExecuted((t) => {\n        var a, u, g;\n        if (t.id !== f.id) return;\n        const n = t.params;\n        if (!n) return;\n        const o = n.unitId ? this.getUniverSheet(n.unitId) : (a = this.getActiveWorkbook) == null ? void 0 : a.call(this);\n        if (!o) return;\n        const s = o.getSheetBySheetId(n.subUnitId || n.sheetId) || o.getActiveSheet();\n        if (!s) return;\n        const h = t.params, { comment: c } = h, m = s.getActiveRange();\n        if (!m) return;\n        const d = {\n          workbook: o,\n          worksheet: s,\n          row: (u = m.getRow()) != null ? u : 0,\n          col: (g = m.getColumn()) != null ? g : 0,\n          comment: A.create(c)\n        };\n        if (this.fireEvent(this.Event.BeforeCommentAdd, d), d.cancel)\n          throw new E();\n      })\n    ), this.registerEventHandler(\n      this.Event.BeforeCommentUpdate,\n      () => r.beforeCommandExecuted((t) => {\n        var a, u, g, C, v;\n        if (t.id !== x.id) return;\n        const n = t.params;\n        if (!n) return;\n        const o = n.unitId ? this.getUniverSheet(n.unitId) : (a = this.getActiveWorkbook) == null ? void 0 : a.call(this);\n        if (!o) return;\n        const s = o.getSheetBySheetId(n.subUnitId || n.sheetId) || o.getActiveSheet();\n        if (!s) return;\n        const h = t.params, { commentId: c, text: m } = h.payload, d = s.getCommentById(c);\n        if (d) {\n          const P = {\n            workbook: o,\n            worksheet: s,\n            row: (g = (u = d.getRange()) == null ? void 0 : u.getRow()) != null ? g : 0,\n            col: (v = (C = d.getRange()) == null ? void 0 : C.getColumn()) != null ? v : 0,\n            comment: d,\n            newContent: k.createByBody(m)\n          };\n          if (this.fireEvent(this.Event.BeforeCommentUpdate, P), P.cancel)\n            throw new E();\n        }\n      })\n    ), this.registerEventHandler(\n      this.Event.BeforeCommentDelete,\n      () => r.beforeCommandExecuted((t) => {\n        var d, a, u, g, C;\n        if (t.id !== y.id && t.id !== w.id) return;\n        const n = t.params;\n        if (!n) return;\n        const o = n.unitId ? this.getUniverSheet(n.unitId) : (d = this.getActiveWorkbook) == null ? void 0 : d.call(this);\n        if (!o) return;\n        const s = o.getSheetBySheetId(n.subUnitId || n.sheetId) || o.getActiveSheet();\n        if (!s) return;\n        const h = t.params, { commentId: c } = h, m = s.getCommentById(c);\n        if (m) {\n          const v = {\n            workbook: o,\n            worksheet: s,\n            row: (u = (a = m.getRange()) == null ? void 0 : a.getRow()) != null ? u : 0,\n            col: (C = (g = m.getRange()) == null ? void 0 : g.getColumn()) != null ? C : 0,\n            comment: m\n          };\n          if (this.fireEvent(this.Event.BeforeCommentDelete, v), v.cancel)\n            throw new E();\n        }\n      })\n    ), this.registerEventHandler(\n      this.Event.BeforeCommentResolve,\n      () => r.beforeCommandExecuted((t) => {\n        var a, u, g;\n        if (t.id !== D.id) return;\n        const n = t.params;\n        if (!n) return;\n        const o = n.unitId ? this.getUniverSheet(n.unitId) : (a = this.getActiveWorkbook) == null ? void 0 : a.call(this);\n        if (!o) return;\n        const s = o.getSheetBySheetId(n.subUnitId || n.sheetId) || o.getActiveSheet();\n        if (!s) return;\n        const h = t.params, { commentId: c, resolved: m } = h, d = s.getComments().find((C) => C.getCommentData().id === c);\n        if (d) {\n          const C = {\n            workbook: o,\n            worksheet: s,\n            row: (u = d.getRange().getRow()) != null ? u : 0,\n            col: (g = d.getRange().getColumn()) != null ? g : 0,\n            comment: d,\n            resolved: m\n          };\n          if (this.fireEvent(this.Event.BeforeCommentResolve, C), C.cancel)\n            throw new E();\n        }\n      })\n    );\n  }\n  /**\n   * @ignore\n   */\n  newTheadComment(e) {\n    return new U(e);\n  }\n}\n$.extend(se);\nexport {\n  I as FThreadComment\n};\n", "import { UniverSheetsThreadCommentPlugin as e } from \"@univerjs/sheets-thread-comment\";\nexport * from \"@univerjs/sheets-thread-comment\";\nimport { UniverSheetsThreadCommentUIPlugin as r } from \"@univerjs/sheets-thread-comment-ui\";\nexport * from \"@univerjs/sheets-thread-comment-ui\";\nimport { UniverThreadCommentUIPlugin as o } from \"@univerjs/thread-comment-ui\";\nexport * from \"@univerjs/thread-comment-ui\";\nimport \"@univerjs/sheets-thread-comment/lib/facade\";\nfunction h(t = {}) {\n  return { plugins: [\n    o,\n    e,\n    r\n  ] };\n}\nexport {\n  h as UniverSheetsThreadCommentPreset\n};\n"],
  "mappings": "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",
  "names": ["Z", "ee", "C", "i", "te", "e", "r", "t", "n", "s", "z", "l", "U", "ie", "P", "S", "Ve", "W", "pt", "i", "we", "xt", "me", "ce", "z", "x", "h", "ee", "kt", "G", "K", "De", "R", "N", "k", "V", "U", "P", "u", "v", "y", "f", "ae", "w", "p", "_", "A", "j", "X", "vt", "C", "I", "l", "vr", "se", "Q", "D", "E", "L", "ne", "J", "re", "ie", "oe", "M", "H", "B", "import_react", "import_jsx_runtime", "Re", "Ue", "Te", "It", "i", "J", "R", "h", "A", "_", "z", "C", "l", "Tt", "me", "wt", "Mt", "bt", "yt", "Q", "Et", "u", "I", "v", "f", "U", "k", "Y", "Rt", "Ut", "j", "$t", "Ot", "F", "pn", "we", "fe", "Dt", "Me", "ge", "kt", "Nt", "xt", "be", "St", "Ie", "Vt", "ft", "he", "P", "S", "ie", "Ee", "gt", "Ht", "Lt", "Ve", "jt", "Ft", "X", "W", "ee", "ye", "Z", "ce", "L", "i", "M", "Z", "ee", "_", "A", "I", "C", "te", "h", "ne", "re", "l", "oe", "se", "u", "v", "P", "ce", "S", "Z"]
}
