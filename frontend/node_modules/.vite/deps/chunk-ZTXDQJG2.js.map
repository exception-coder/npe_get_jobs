{
  "version": 3,
  "sources": ["../../@univerjs/docs-drawing/lib/es/index.js", "../../@univerjs/drawing-ui/lib/es/index.js", "../../@univerjs/sheets-drawing-ui/lib/es/index.js"],
  "sourcesContent": ["var f = Object.defineProperty;\nvar p = (r, t, e) => t in r ? f(r, t, { enumerable: !0, configurable: !0, writable: !0, value: e }) : r[t] = e;\nvar _ = (r, t, e) => p(r, typeof t != \"symbol\" ? t + \"\" : t, e);\nimport { createIdentifier as U, Disposable as I, UniverInstanceType as g, IResourceManagerService as O, IUniverInstanceService as C, Plugin as N, merge as P, touchDependencies as M, Inject as m, Injector as R, IConfigService as b } from \"@univerjs/core\";\nimport { UnitDrawingService as j, IDrawingManagerService as y } from \"@univerjs/drawing\";\nclass d extends j {\n}\nconst l = U(\"univer.doc.plugin.doc-drawing.service\");\nvar E = Object.getOwnPropertyDescriptor, G = (r, t, e, n) => {\n  for (var i = n > 1 ? void 0 : n ? E(t, e) : t, a = r.length - 1, s; a >= 0; a--)\n    (s = r[a]) && (i = s(i) || i);\n  return i;\n}, o = (r, t) => (e, n) => t(e, n, r);\nconst w = \"DOC_DRAWING_PLUGIN\";\nlet D = class extends I {\n  constructor(r, t, e, n) {\n    super(), this._docDrawingService = r, this._drawingManagerService = t, this._resourceManagerService = e, this._univerInstanceService = n, this._init();\n  }\n  _init() {\n    this._initSnapshot();\n  }\n  _initSnapshot() {\n    const r = (e) => {\n      const n = this._univerInstanceService.getUnit(e, g.UNIVER_DOC);\n      if (n) {\n        const i = n.getSnapshot().drawings, a = n.getSnapshot().drawingsOrder, s = {\n          data: i != null ? i : {},\n          order: a != null ? a : []\n        };\n        return JSON.stringify(s);\n      }\n      return \"\";\n    }, t = (e) => {\n      if (!e)\n        return { data: {}, order: [] };\n      try {\n        return JSON.parse(e);\n      } catch {\n        return { data: {}, order: [] };\n      }\n    };\n    this.disposeWithMe(\n      this._resourceManagerService.registerPluginResource({\n        pluginName: w,\n        businesses: [g.UNIVER_DOC],\n        toJson: (e) => r(e),\n        parseJson: (e) => t(e),\n        onUnLoad: (e) => {\n          this._setDrawingDataForUnit(e, { data: {}, order: [] });\n        },\n        onLoad: (e, n) => {\n          var i, a;\n          this._setDrawingDataForUnit(e, { data: (i = n.data) != null ? i : {}, order: (a = n.order) != null ? a : [] });\n        }\n      })\n    );\n  }\n  _setDrawingDataForUnit(r, t) {\n    const e = this._univerInstanceService.getUnit(r);\n    e != null && (e.resetDrawing(t.data, t.order), this.loadDrawingDataForUnit(r));\n  }\n  loadDrawingDataForUnit(r) {\n    const t = this._univerInstanceService.getUnit(r, g.UNIVER_DOC);\n    if (!t)\n      return !1;\n    const e = r, n = t.getDrawings(), i = t.getDrawingsOrder();\n    if (!n || !i)\n      return !1;\n    Object.keys(n).forEach((s) => {\n      const S = n[s];\n      n[s] = { ...S };\n    });\n    const a = {\n      [e]: {\n        unitId: r,\n        subUnitId: e,\n        data: n,\n        order: i\n      }\n    };\n    return this._docDrawingService.registerDrawingData(r, a), this._drawingManagerService.registerDrawingData(r, a), !0;\n  }\n};\nD = G([\n  o(0, l),\n  o(1, y),\n  o(2, O),\n  o(3, C)\n], D);\nconst F = \"docs-drawing.config\", v = {};\nvar J = Object.getOwnPropertyDescriptor, L = (r, t, e, n) => {\n  for (var i = n > 1 ? void 0 : n ? J(t, e) : t, a = r.length - 1, s; a >= 0; a--)\n    (s = r[a]) && (i = s(i) || i);\n  return i;\n}, u = (r, t) => (e, n) => t(e, n, r), c;\nlet h = (c = class extends N {\n  constructor(r = v, t, e) {\n    super(), this._config = r, this._injector = t, this._configService = e;\n    const { ...n } = P(\n      {},\n      v,\n      this._config\n    );\n    this._configService.setConfig(F, n);\n  }\n  onStarting() {\n    [\n      [D],\n      [d],\n      [l, { useClass: d }]\n    ].forEach((r) => this._injector.add(r)), M(this._injector, [\n      [D]\n    ]);\n  }\n}, _(c, \"pluginName\", w), _(c, \"type\", g.UNIVER_DOC), c);\nh = L([\n  u(1, m(R)),\n  u(2, b)\n], h);\nexport {\n  w as DOCS_DRAWING_PLUGIN,\n  D as DocDrawingController,\n  d as DocDrawingService,\n  l as IDocDrawingService,\n  h as UniverDocsDrawingPlugin\n};\n", "var Ot = Object.defineProperty;\nvar Dt = (i, r, e) => r in i ? Ot(i, r, { enumerable: !0, configurable: !0, writable: !0, value: e }) : i[r] = e;\nvar J = (i, r, e) => Dt(i, typeof r != \"symbol\" ? r + \"\" : r, e);\nimport { CommandType as me, ICommandService as ce, LocaleService as te, Inject as Ae, Disposable as He, DrawingTypeEnum as q, UniverInstanceType as Oe, checkIfMove as at, toDisposable as fe, IUniverInstanceService as Fe, ImageSourceType as Ye, Injector as Tt, IConfigService as Et, Plugin as Pt, merge as Nt, ArrangeTypeEnum as _e, generateRandomId as Bt, debounce as Ce } from \"@univerjs/core\";\nimport { useDependency as A, ComponentManager as xt, IMessageService as Ut, IGalleryService as jt, IDialogService as At } from \"@univerjs/ui\";\nimport { jsx as v, jsxs as P, Fragment as Ht } from \"react/jsx-runtime\";\nimport { DropdownMenu as Lt, clsx as Q, borderClassName as kt, MessageType as Xe, Select as st, Button as se, InputNumber as he, Checkbox as $t } from \"@univerjs/design\";\nimport { useRef as ot, createElement as F, forwardRef as ee, useState as j, useEffect as we } from \"react\";\nimport { getDrawingShapeKeyByDrawingSearch as L, SetDrawingSelectedOperation as De, IDrawingManagerService as re, ImageSourceType as Vt, IImageIoService as ct } from \"@univerjs/drawing\";\nimport { Group as pe, DRAWING_OBJECT_LAYER_INDEX as Te, RENDER_CLASS_TYPE as Je, IRenderManagerService as ue, Shape as Gt, Rect as lt, Canvas as Wt, Image as We, precisionTo as Se, CURSOR_TYPE as Ee, Vector2 as $e, degToRad as qe, getGroupState as Zt, transformObjectOutOfGroup as Ft } from \"@univerjs/engine-render\";\nimport { switchMap as zt, of as Kt } from \"rxjs\";\nvar D = /* @__PURE__ */ ((i) => (i.default = \"0\", i.left = \"1\", i.center = \"2\", i.right = \"3\", i.top = \"4\", i.middle = \"5\", i.bottom = \"6\", i.horizon = \"7\", i.vertical = \"8\", i))(D || {});\nconst ze = {\n  id: \"sheet.operation.set-image-align\",\n  type: me.OPERATION,\n  handler: (i, r) => !0\n}, Ze = {\n  id: \"sheet.operation.open-image-crop\",\n  type: me.OPERATION,\n  handler: (i, r) => !0\n}, oe = {\n  id: \"sheet.operation.close-image-crop\",\n  type: me.OPERATION,\n  handler: (i, r) => !0\n};\nvar x = /* @__PURE__ */ ((i) => (i.FREE = \"0\", i.R1_1 = \"1\", i.R16_9 = \"2\", i.R9_16 = \"3\", i.R5_4 = \"4\", i.R4_5 = \"5\", i.R4_3 = \"6\", i.R3_4 = \"7\", i.R3_2 = \"8\", i.R2_3 = \"9\", i))(x || {});\nconst Pe = {\n  id: \"sheet.operation.Auto-image-crop\",\n  type: me.OPERATION,\n  handler: (i, r) => !0\n}, ut = {\n  id: \"sheet.operation.image-reset-size\",\n  type: me.OPERATION,\n  handler: (i, r) => !0\n}, Yt = \"drawing-ui.config\", Qe = {}, Xt = \"COMPONENT_IMAGE_POPUP_MENU\";\nfunction z({ ref: i, ...r }) {\n  const { icon: e, id: t, className: n, extend: s, ...a } = r, o = `univerjs-icon univerjs-icon-${t} ${n || \"\"}`.trim(), c = ot(`_${Qt()}`);\n  return gt(e, `${t}`, {\n    defIds: e.defIds,\n    idSuffix: c.current\n  }, {\n    ref: i,\n    className: o,\n    ...a\n  }, s);\n}\nfunction gt(i, r, e, t, n) {\n  return F(i.tag, {\n    key: r,\n    ...Jt(i, e, n),\n    ...t\n  }, (qt(i, e).children || []).map((s, a) => gt(s, `${r}-${i.tag}-${a}`, e, void 0, n)));\n}\nfunction Jt(i, r, e) {\n  const t = { ...i.attrs };\n  e != null && e.colorChannel1 && t.fill === \"colorChannel1\" && (t.fill = e.colorChannel1), i.tag === \"mask\" && t.id && (t.id = t.id + r.idSuffix), Object.entries(t).forEach(([s, a]) => {\n    s === \"mask\" && typeof a == \"string\" && (t[s] = a.replace(/url\\(#(.*)\\)/, `url(#$1${r.idSuffix})`));\n  });\n  const { defIds: n } = r;\n  return !n || n.length === 0 || (i.tag === \"use\" && t[\"xlink:href\"] && (t[\"xlink:href\"] = t[\"xlink:href\"] + r.idSuffix), Object.entries(t).forEach(([s, a]) => {\n    typeof a == \"string\" && (t[s] = a.replace(/url\\(#(.*)\\)/, `url(#$1${r.idSuffix})`));\n  })), t;\n}\nfunction qt(i, r) {\n  var t;\n  const { defIds: e } = r;\n  return !e || e.length === 0 ? i : i.tag === \"defs\" && ((t = i.children) != null && t.length) ? {\n    ...i,\n    children: i.children.map((n) => typeof n.attrs.id == \"string\" && e && e.includes(n.attrs.id) ? {\n      ...n,\n      attrs: {\n        ...n.attrs,\n        id: n.attrs.id + r.idSuffix\n      }\n    } : n)\n  } : i;\n}\nfunction Qt() {\n  return Math.random().toString(36).substring(2, 8);\n}\nz.displayName = \"UniverIcon\";\nconst er = {\n  tag: \"svg\",\n  attrs: {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 17 16\",\n    width: \"1em\",\n    height: \"1em\"\n  },\n  children: [\n    {\n      tag: \"path\",\n      attrs: {\n        fill: \"currentColor\",\n        d: \"M14.0045 4.4334C14.8881 4.4334 15.6045 3.71705 15.6045 2.8334C15.6045 1.94974 14.8881 1.2334 14.0045 1.2334H3.70449C2.82084 1.2334 2.10449 1.94974 2.10449 2.8334C2.10449 3.71705 2.82084 4.4334 3.70449 4.4334H14.0045ZM14.4045 2.8334C14.4045 3.05431 14.2254 3.2334 14.0045 3.2334H3.70449C3.48358 3.2334 3.30449 3.05431 3.30449 2.8334C3.30449 2.61248 3.48358 2.4334 3.70449 2.4334H14.0045C14.2254 2.4334 14.4045 2.61249 14.4045 2.8334Z\",\n        fillRule: \"evenodd\",\n        clipRule: \"evenodd\"\n      }\n    },\n    {\n      tag: \"path\",\n      attrs: {\n        fill: \"currentColor\",\n        d: \"M14.1544 8.5999C15.038 8.5999 15.7544 7.88356 15.7544 6.9999C15.7544 6.11625 15.038 5.3999 14.1544 5.3999H3.85439C2.97074 5.3999 2.25439 6.11625 2.25439 6.9999C2.25439 7.88356 2.97074 8.5999 3.85439 8.5999H14.1544ZM14.5544 6.9999C14.5544 7.22082 14.3753 7.3999 14.1544 7.3999H3.85439C3.63348 7.3999 3.45439 7.22082 3.45439 6.9999C3.45439 6.77899 3.63348 6.5999 3.85439 6.5999H14.1544C14.3753 6.5999 14.5544 6.77899 14.5544 6.9999Z\",\n        fillRule: \"evenodd\",\n        clipRule: \"evenodd\"\n      }\n    },\n    {\n      tag: \"path\",\n      attrs: {\n        fill: \"currentColor\",\n        d: \"M8.57975 14.5902L6.58023 12.5907C6.34591 12.3564 6.34591 11.9765 6.58023 11.7421C6.81454 11.5078 7.19444 11.5078 7.42876 11.7421L8.40449 12.7179V10.1664C8.40449 9.83504 8.67312 9.56641 9.00449 9.56641C9.33586 9.56641 9.60449 9.83504 9.60449 10.1664V12.7179L10.5802 11.7421C10.8145 11.5078 11.1944 11.5078 11.4288 11.7421C11.6631 11.9765 11.6631 12.3564 11.4288 12.5907L9.42923 14.5902\"\n      }\n    },\n    {\n      tag: \"path\",\n      attrs: {\n        fill: \"currentColor\",\n        d: \"M8.57975 14.5902C8.58121 14.5917 8.58268 14.5931 8.58416 14.5946C8.64077 14.6502 8.70566 14.6923 8.77482 14.7209C8.84557 14.7502 8.92314 14.7664 9.00449 14.7664C9.08585 14.7664 9.16342 14.7502 9.23416 14.7209C9.30332 14.6923 9.36821 14.6502 9.42482 14.5946\"\n      }\n    }\n  ]\n}, dt = ee(function(r, e) {\n  return F(z, Object.assign({}, r, {\n    id: \"bottom-icon\",\n    ref: e,\n    icon: er\n  }));\n});\ndt.displayName = \"BottomIcon\";\nconst tr = {\n  tag: \"svg\",\n  attrs: {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 16 16\",\n    width: \"1em\",\n    height: \"1em\"\n  },\n  children: [\n    {\n      tag: \"path\",\n      attrs: {\n        fill: \"currentColor\",\n        d: \"M5.97705 7.51296C5.97705 7.18159 6.24568 6.91296 6.57705 6.91296H8.48632C8.81769 6.91296 9.08632 7.18159 9.08632 7.51296C9.08632 7.84433 8.81769 8.11296 8.48632 8.11296H6.57705C6.24568 8.11296 5.97705 7.84433 5.97705 7.51296Z\"\n      }\n    },\n    {\n      tag: \"path\",\n      attrs: {\n        fill: \"currentColor\",\n        d: \"M6.57705 9.41028C6.24568 9.41028 5.97705 9.67891 5.97705 10.0103C5.97705 10.3416 6.24568 10.6103 6.57705 10.6103H10.8199C11.1512 10.6103 11.4199 10.3416 11.4199 10.0103C11.4199 9.67891 11.1512 9.41028 10.8199 9.41028H6.57705Z\"\n      }\n    },\n    {\n      tag: \"path\",\n      attrs: {\n        fill: \"currentColor\",\n        d: \"M3.51074 2.37063C3.51074 1.48697 4.22709 0.77063 5.11074 0.77063H9.80318L9.81294 0.770708C9.97168 0.768161 10.1311 0.82824 10.2511 0.95055L14.4317 5.21408C14.5165 5.30049 14.5697 5.406 14.5917 5.51645C14.6041 5.5644 14.6106 5.61467 14.6106 5.66648V11.6406C14.6106 12.5243 13.8943 13.2406 13.0106 13.2406H5.11074C4.22709 13.2406 3.51074 12.5243 3.51074 11.6406V2.37063ZM10.4032 4.66648V2.81964L12.6063 5.06648H10.8032C10.5823 5.06648 10.4032 4.88739 10.4032 4.66648ZM5.11074 1.97063C4.88983 1.97063 4.71074 2.14972 4.71074 2.37063V11.6406C4.71074 11.8615 4.88983 12.0406 5.11074 12.0406H13.0106C13.2316 12.0406 13.4106 11.8615 13.4106 11.6406V6.26648H10.8032C9.91953 6.26648 9.20318 5.55013 9.20318 4.66648V1.97063H5.11074Z\",\n        fillRule: \"evenodd\",\n        clipRule: \"evenodd\"\n      }\n    },\n    {\n      tag: \"path\",\n      attrs: {\n        fill: \"currentColor\",\n        d: \"M2.58916 6.6741C2.58916 6.34273 2.32053 6.0741 1.98916 6.0741C1.65779 6.0741 1.38916 6.34273 1.38916 6.6741V12.6294C1.38916 14.0653 2.55322 15.2294 3.98916 15.2294H9.41408C9.74545 15.2294 10.0141 14.9607 10.0141 14.6294C10.0141 14.298 9.74545 14.0294 9.41408 14.0294H3.98916C3.21596 14.0294 2.58916 13.4026 2.58916 12.6294V6.6741Z\"\n      }\n    }\n  ]\n}, ht = ee(function(r, e) {\n  return F(z, Object.assign({}, r, {\n    id: \"create-copy-icon\",\n    ref: e,\n    icon: tr\n  }));\n});\nht.displayName = \"CreateCopyIcon\";\nconst rr = {\n  tag: \"svg\",\n  attrs: {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 17 16\",\n    width: \"1em\",\n    height: \"1em\"\n  },\n  children: [{\n    tag: \"path\",\n    attrs: {\n      fill: \"currentColor\",\n      d: \"M7.38125 1.16211C6.49759 1.16211 5.78125 1.87845 5.78125 2.76211V5.6377H2.87783C1.99418 5.6377 1.27783 6.35404 1.27783 7.2377V13.2377C1.27783 14.1214 1.99418 14.8377 2.87783 14.8377H8.87783C9.76149 14.8377 10.4778 14.1214 10.4778 13.2377V10.3621H13.3813C14.2649 10.3621 14.9813 9.64577 14.9813 8.76211V2.76211C14.9813 1.87845 14.2649 1.16211 13.3813 1.16211H7.38125ZM10.4778 9.16211H13.3813C13.6022 9.16211 13.7812 8.98302 13.7812 8.76211V2.76211C13.7812 2.5412 13.6022 2.36211 13.3813 2.36211H7.38125C7.16034 2.36211 6.98125 2.5412 6.98125 2.76211V5.6377H8.87783C9.76149 5.6377 10.4778 6.35404 10.4778 7.2377V9.16211ZM6.98125 6.8377H8.87783C9.09875 6.8377 9.27783 7.01678 9.27783 7.2377V9.16211H7.38125C7.16034 9.16211 6.98125 8.98302 6.98125 8.76211V6.8377ZM5.78125 6.8377V8.76211C5.78125 9.64577 6.49759 10.3621 7.38125 10.3621H9.27783V13.2377C9.27783 13.4586 9.09875 13.6377 8.87783 13.6377H2.87783C2.65692 13.6377 2.47783 13.4586 2.47783 13.2377V7.2377C2.47783 7.01678 2.65692 6.8377 2.87783 6.8377H5.78125Z\",\n      fillRule: \"evenodd\",\n      clipRule: \"evenodd\"\n    }\n  }]\n}, ft = ee(function(r, e) {\n  return F(z, Object.assign({}, r, {\n    id: \"group-icon\",\n    ref: e,\n    icon: rr\n  }));\n});\nft.displayName = \"GroupIcon\";\nconst nr = {\n  tag: \"svg\",\n  attrs: {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 16 16\",\n    width: \"1em\",\n    height: \"1em\"\n  },\n  children: [{\n    tag: \"path\",\n    attrs: {\n      fill: \"currentColor\",\n      d: \"M11.3536 6.14645C11.5488 6.34171 11.5488 6.65829 11.3536 6.85355L8.35355 9.85355C8.15829 10.0488 7.84171 10.0488 7.64645 9.85355L4.64645 6.85355C4.45118 6.65829 4.45118 6.34171 4.64645 6.14645C4.84171 5.95118 5.15829 5.95118 5.35355 6.14645L8 8.79289L10.6464 6.14645C10.8417 5.95118 11.1583 5.95118 11.3536 6.14645Z\",\n      fillRule: \"evenodd\",\n      clipRule: \"evenodd\"\n    }\n  }]\n}, pt = ee(function(r, e) {\n  return F(z, Object.assign({}, r, {\n    id: \"more-down-icon\",\n    ref: e,\n    icon: nr\n  }));\n});\npt.displayName = \"MoreDownIcon\";\nconst ir = {\n  tag: \"svg\",\n  attrs: {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 16 16\",\n    width: \"1em\",\n    height: \"1em\"\n  },\n  children: [{\n    tag: \"path\",\n    attrs: {\n      fill: \"currentColor\",\n      d: \"M1.25 2.96401C1.25 3.84767 1.96634 4.56401 2.85 4.56401H13.15C14.0337 4.56401 14.75 3.84767 14.75 2.96401C14.75 2.08036 14.0337 1.36401 13.15 1.36401H2.85C1.96635 1.36401 1.25 2.08036 1.25 2.96401ZM2.85 3.36401C2.62909 3.36401 2.45 3.18493 2.45 2.96401C2.45 2.7431 2.62909 2.56401 2.85 2.56401H13.15C13.3709 2.56401 13.55 2.7431 13.55 2.96401C13.55 3.18493 13.3709 3.36401 13.15 3.36401H2.85Z\",\n      fillRule: \"evenodd\",\n      clipRule: \"evenodd\"\n    }\n  }, {\n    tag: \"path\",\n    attrs: {\n      fill: \"currentColor\",\n      d: \"M5.57564 11.6118C5.80995 11.3774 6.18985 11.3774 6.42417 11.6118L7.3999 12.5875V6.36951C7.3999 6.03814 7.66853 5.76951 7.9999 5.76951C8.33127 5.76951 8.5999 6.03814 8.5999 6.36951V12.5875L9.57564 11.6118C9.80995 11.3774 10.1899 11.3774 10.4242 11.6118C10.6585 11.8461 10.6585 12.226 10.4242 12.4603L8.4324 14.452C8.32324 14.5655 8.16982 14.6362 7.9999 14.6362C7.82998 14.6362 7.67655 14.5655 7.56739 14.452L5.57564 12.4603C5.34132 12.226 5.34132 11.8461 5.57564 11.6118Z\"\n    }\n  }]\n}, mt = ee(function(r, e) {\n  return F(z, Object.assign({}, r, {\n    id: \"move-down-icon\",\n    ref: e,\n    icon: ir\n  }));\n});\nmt.displayName = \"MoveDownIcon\";\nconst ar = {\n  tag: \"svg\",\n  attrs: {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 16 16\",\n    width: \"1em\",\n    height: \"1em\"\n  },\n  children: [{\n    tag: \"path\",\n    attrs: {\n      fill: \"currentColor\",\n      d: \"M1.25 13.036C1.25 12.1523 1.96634 11.436 2.85 11.436H13.15C14.0337 11.436 14.75 12.1523 14.75 13.036C14.75 13.9196 14.0337 14.636 13.15 14.636H2.85C1.96635 14.636 1.25 13.9196 1.25 13.036ZM2.85 12.636C2.62909 12.636 2.45 12.8151 2.45 13.036C2.45 13.2569 2.62909 13.436 2.85 13.436H13.15C13.3709 13.436 13.55 13.2569 13.55 13.036C13.55 12.8151 13.3709 12.636 13.15 12.636H2.85Z\",\n      fillRule: \"evenodd\",\n      clipRule: \"evenodd\"\n    }\n  }, {\n    tag: \"path\",\n    attrs: {\n      fill: \"currentColor\",\n      d: \"M5.57564 4.38825C5.80995 4.62256 6.18985 4.62256 6.42417 4.38825L7.3999 3.41251V9.63049C7.3999 9.96186 7.66853 10.2305 7.9999 10.2305C8.33127 10.2305 8.5999 9.96186 8.5999 9.63049V3.41251L9.57564 4.38825C9.80995 4.62256 10.1899 4.62256 10.4242 4.38825C10.6585 4.15393 10.6585 3.77403 10.4242 3.53972L8.4324 1.54796C8.32324 1.43445 8.16982 1.36382 7.9999 1.36382C7.82998 1.36382 7.67655 1.43446 7.56739 1.54797L5.57564 3.53972C5.34132 3.77403 5.34132 4.15393 5.57564 4.38825Z\"\n    }\n  }]\n}, wt = ee(function(r, e) {\n  return F(z, Object.assign({}, r, {\n    id: \"move-up-icon\",\n    ref: e,\n    icon: ar\n  }));\n});\nwt.displayName = \"MoveUpIcon\";\nconst sr = {\n  tag: \"svg\",\n  attrs: {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 17 16\",\n    width: \"1em\",\n    height: \"1em\"\n  },\n  children: [\n    {\n      tag: \"path\",\n      attrs: {\n        fill: \"currentColor\",\n        d: \"M7.82994 1.40913C7.88746 1.35161 7.95376 1.30821 8.02453 1.27893C8.09527 1.24959 8.17285 1.2334 8.2542 1.2334C8.33555 1.2334 8.41313 1.24959 8.48387 1.27893C8.55464 1.30821 8.62094 1.35161 8.67846 1.40913L10.6785 3.40913C10.9128 3.64345 10.9128 4.02335 10.6785 4.25766C10.4441 4.49198 10.0642 4.49198 9.82994 4.25766L8.8542 3.28193V5.8334C8.8542 6.16477 8.58557 6.4334 8.2542 6.4334C7.92283 6.4334 7.6542 6.16477 7.6542 5.8334V3.28193L6.67846 4.25766C6.44415 4.49198 6.06425 4.49198 5.82994 4.25766C5.59562 4.02335 5.59562 3.64345 5.82994 3.40913L7.82994 1.40913Z\"\n      }\n    },\n    {\n      tag: \"path\",\n      attrs: {\n        fill: \"currentColor\",\n        d: \"M1.50439 9C1.50439 8.11634 2.22074 7.4 3.10439 7.4H13.4044C14.288 7.4 15.0044 8.11634 15.0044 9C15.0044 9.88366 14.2881 10.6 13.4044 10.6H3.1044C2.22074 10.6 1.50439 9.88366 1.50439 9ZM3.10439 8.6C2.88348 8.6 2.70439 8.77909 2.70439 9C2.70439 9.22091 2.88348 9.4 3.1044 9.4H13.4044C13.6253 9.4 13.8044 9.22091 13.8044 9C13.8044 8.77909 13.6253 8.6 13.4044 8.6H3.10439Z\",\n        fillRule: \"evenodd\",\n        clipRule: \"evenodd\"\n      }\n    },\n    {\n      tag: \"path\",\n      attrs: {\n        fill: \"currentColor\",\n        d: \"M1.6543 13.1665C1.6543 12.2828 2.37064 11.5665 3.2543 11.5665H13.5543C14.438 11.5665 15.1543 12.2828 15.1543 13.1665C15.1543 14.0502 14.438 14.7665 13.5543 14.7665H3.2543C2.37064 14.7665 1.6543 14.0502 1.6543 13.1665ZM3.2543 12.7665C3.03338 12.7665 2.8543 12.9456 2.8543 13.1665C2.8543 13.3874 3.03338 13.5665 3.2543 13.5665H13.5543C13.7752 13.5665 13.9543 13.3874 13.9543 13.1665C13.9543 12.9456 13.7752 12.7665 13.5543 12.7665H3.2543Z\",\n        fillRule: \"evenodd\",\n        clipRule: \"evenodd\"\n      }\n    }\n  ]\n}, vt = ee(function(r, e) {\n  return F(z, Object.assign({}, r, {\n    id: \"topmost-icon\",\n    ref: e,\n    icon: sr\n  }));\n});\nvt.displayName = \"TopmostIcon\";\nconst or = {\n  tag: \"svg\",\n  attrs: {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 17 16\",\n    width: \"1em\",\n    height: \"1em\"\n  },\n  children: [{\n    tag: \"path\",\n    attrs: {\n      fill: \"currentColor\",\n      d: \"M7.46855 2.83731C7.46855 2.61639 7.64764 2.4373 7.86855 2.4373H13.8603C14.0812 2.4373 14.2603 2.61639 14.2603 2.8373V9.5049C14.2603 9.72581 14.0812 9.90489 13.8603 9.90489H12.866C12.5346 9.90489 12.266 10.1735 12.266 10.5049C12.266 10.8363 12.5346 11.1049 12.866 11.1049H13.8603C14.7439 11.1049 15.4603 10.3886 15.4603 9.5049V2.8373C15.4603 1.95365 14.7439 1.2373 13.8603 1.2373H7.86855C6.9849 1.2373 6.26855 1.95365 6.26855 2.83731V3.48688C6.26855 3.81825 6.53718 4.08688 6.86855 4.08688C7.19993 4.08688 7.46855 3.81825 7.46855 3.48688V2.83731Z\"\n    }\n  }, {\n    tag: \"path\",\n    attrs: {\n      fill: \"currentColor\",\n      d: \"M3.19888 5.56299C2.31522 5.56299 1.59888 6.27933 1.59888 7.16299V13.163C1.59888 14.0466 2.31522 14.763 3.19888 14.763H9.19888C10.0825 14.763 10.7989 14.0466 10.7989 13.163V7.16299C10.7989 6.27933 10.0825 5.56299 9.19888 5.56299H3.19888ZM2.79888 7.16299C2.79888 6.94207 2.97796 6.76299 3.19888 6.76299H9.19888C9.41979 6.76299 9.59888 6.94207 9.59888 7.16299V13.163C9.59888 13.3839 9.41979 13.563 9.19888 13.563H3.19888C2.97796 13.563 2.79888 13.3839 2.79888 13.163V7.16299Z\",\n      fillRule: \"evenodd\",\n      clipRule: \"evenodd\"\n    }\n  }]\n}, _t = ee(function(r, e) {\n  return F(z, Object.assign({}, r, {\n    id: \"ungroup-icon\",\n    ref: e,\n    icon: or\n  }));\n});\n_t.displayName = \"UngroupIcon\";\nconst cr = {\n  tag: \"svg\",\n  attrs: {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 16 16\",\n    width: \"1em\",\n    height: \"1em\"\n  },\n  children: [\n    {\n      tag: \"path\",\n      attrs: {\n        fill: \"colorChannel1\",\n        d: \"M11.0363 12.2367V14.0367C11.0363 14.3681 11.3049 14.6367 11.6363 14.6367C11.9676 14.6367 12.2363 14.3681 12.2363 14.0367V12.2367H14.0364C14.3677 12.2367 14.6364 11.9681 14.6364 11.6367C14.6364 11.3054 14.3677 11.0367 14.0364 11.0367H12.2363V9.23672C12.2363 8.90535 11.9676 8.63672 11.6363 8.63672C11.3049 8.63672 11.0363 8.90535 11.0363 9.23672V11.0367H9.23635C8.90498 11.0367 8.63635 11.3054 8.63635 11.6367C8.63635 11.9681 8.90498 12.2367 9.23635 12.2367H11.0363Z\"\n      }\n    },\n    {\n      tag: \"path\",\n      attrs: {\n        fill: \"currentColor\",\n        d: \"M2.56365 1.36377C1.90091 1.36377 1.36365 1.90103 1.36365 2.56377V6.16377C1.36365 6.82651 1.90091 7.36377 2.56365 7.36377H6.16365C6.82639 7.36377 7.36365 6.82651 7.36365 6.16377V2.56377C7.36365 1.90103 6.82639 1.36377 6.16365 1.36377H2.56365ZM6.16365 2.56377H2.56365L2.56365 6.16377H6.16365V2.56377Z\",\n        fillRule: \"evenodd\",\n        clipRule: \"evenodd\"\n      }\n    },\n    {\n      tag: \"path\",\n      attrs: {\n        fill: \"currentColor\",\n        d: \"M2.56365 8.63647C1.90091 8.63647 1.36365 9.17373 1.36365 9.83647V13.4365C1.36365 14.0992 1.90091 14.6365 2.56365 14.6365H6.16365C6.82639 14.6365 7.36365 14.0992 7.36365 13.4365V9.83647C7.36365 9.17373 6.82639 8.63647 6.16365 8.63647H2.56365ZM6.16365 9.83647H2.56365L2.56365 13.4365H6.16365V9.83647Z\",\n        fillRule: \"evenodd\",\n        clipRule: \"evenodd\"\n      }\n    },\n    {\n      tag: \"path\",\n      attrs: {\n        fill: \"currentColor\",\n        d: \"M9.83635 7.36377C9.17361 7.36377 8.63635 6.82651 8.63635 6.16377V2.56377C8.63635 1.90103 9.17361 1.36377 9.83635 1.36377H13.4364C14.0991 1.36377 14.6364 1.90103 14.6364 2.56377V6.16377C14.6364 6.82651 14.0991 7.36377 13.4364 7.36377H9.83635ZM9.83635 6.16377V2.56377L13.4364 2.56377V6.16377H9.83635Z\",\n        fillRule: \"evenodd\",\n        clipRule: \"evenodd\"\n      }\n    }\n  ]\n}, Ct = ee(function(r, e) {\n  return F(z, Object.assign({}, r, {\n    id: \"autofill-double-icon\",\n    ref: e,\n    icon: cr\n  }));\n});\nCt.displayName = \"AutofillDoubleIcon\";\nfunction lr(i) {\n  var h;\n  const { popup: r } = i, e = (h = r == null ? void 0 : r.extraProps) == null ? void 0 : h.menuItems;\n  if (!e) return null;\n  const t = A(ce), n = A(te), [s, a] = j(!1), [o, c] = j(!1), u = () => {\n    c(!0);\n  }, l = () => {\n    c(!1);\n  }, g = (p) => {\n    a(p);\n  }, d = (p) => {\n    t.executeCommand(p.commandId, p.commandParams), a(!1);\n  }, f = s || o, w = e.filter((p) => !p.disable);\n  return /* @__PURE__ */ v(\n    \"div\",\n    {\n      onMouseEnter: u,\n      onMouseLeave: l,\n      children: /* @__PURE__ */ v(\n        Lt,\n        {\n          align: \"start\",\n          items: w.map((p) => ({\n            type: \"item\",\n            children: n.t(p.label),\n            onSelect: () => d(p)\n          })),\n          open: s,\n          onOpenChange: g,\n          children: /* @__PURE__ */ P(\n            \"div\",\n            {\n              className: Q(\"univer-flex univer-items-center univer-gap-2 univer-rounded univer-p-1 hover:univer-bg-gray-100 dark:hover:!univer-bg-gray-800\", kt, {\n                \"univer-bg-gray-100 dark:!univer-bg-gray-800\": s,\n                \"univer-bg-white dark:!univer-bg-gray-900\": !s\n              }),\n              children: [\n                /* @__PURE__ */ v(\n                  Ct,\n                  {\n                    className: \"univer-fill-primary-600 univer-text-gray-900 dark:!univer-text-white\"\n                  }\n                ),\n                f && /* @__PURE__ */ v(pt, { className: \"dark:!univer-text-white\" })\n              ]\n            }\n          )\n        }\n      )\n    }\n  );\n}\nvar ur = Object.getOwnPropertyDescriptor, gr = (i, r, e, t) => {\n  for (var n = t > 1 ? void 0 : t ? ur(r, e) : r, s = i.length - 1, a; s >= 0; s--)\n    (a = i[s]) && (n = a(n) || n);\n  return n;\n}, et = (i, r) => (e, t) => r(e, t, i);\nlet Ne = class extends He {\n  constructor(i, r) {\n    super(), this._componentManager = i, this._commandService = r, this._init();\n  }\n  _initCustomComponents() {\n    const i = this._componentManager;\n    this.disposeWithMe(i.register(Xt, lr));\n  }\n  _initCommands() {\n    [\n      Ze,\n      oe,\n      ut,\n      ze,\n      Pe\n    ].forEach((i) => this.disposeWithMe(this._commandService.registerCommand(i)));\n  }\n  _init() {\n    this._initCommands(), this._initCustomComponents();\n  }\n};\nNe = gr([\n  et(0, Ae(xt)),\n  et(1, ce)\n], Ne);\nfunction Le(i, r) {\n  const e = [];\n  return i.forEach((t) => {\n    const { oKey: n, left: s, top: a, height: o, width: c, angle: u } = t, l = r.getDrawingOKey(n);\n    if (l == null)\n      return e.push(null), !0;\n    const { unitId: g, subUnitId: d, drawingId: f, drawingType: w } = l, h = {\n      unitId: g,\n      subUnitId: d,\n      drawingId: f,\n      drawingType: w,\n      transform: {\n        left: s,\n        top: a,\n        height: o,\n        width: c,\n        angle: u\n      }\n    };\n    w === q.DRAWING_IMAGE && (h.srcRect = t.srcRect), e.push(h);\n  }), e;\n}\nfunction tt(i, r, e, t) {\n  const n = t.getDrawingByParam(i);\n  if (n == null)\n    return;\n  const s = L(i), a = e.getObject(s);\n  if (a && !(a instanceof pe))\n    return;\n  if (a != null) {\n    a.addObject(r);\n    return;\n  }\n  const o = new pe(s);\n  e.addObject(o, Te).attachTransformerTo(o), o.addObject(r);\n  const { transform: c } = n;\n  c && o.transformByState(\n    {\n      left: c.left,\n      top: c.top,\n      angle: c.angle\n    }\n  );\n}\nfunction St(i, r) {\n  var s;\n  const e = r ? i.getUnit(r) : i.getFocusedUnit();\n  if (e == null)\n    return;\n  const t = e.getUnitId();\n  let n;\n  return e.type === Oe.UNIVER_SHEET ? n = (s = e.getActiveSheet()) == null ? void 0 : s.getSheetId() : (e.type === Oe.UNIVER_DOC || e.type === Oe.UNIVER_SLIDE) && (n = t), { unitId: t, subUnitId: n, current: e };\n}\nvar dr = Object.getOwnPropertyDescriptor, hr = (i, r, e, t) => {\n  for (var n = t > 1 ? void 0 : t ? dr(r, e) : r, s = i.length - 1, a; s >= 0; s--)\n    (a = i[s]) && (n = a(n) || n);\n  return n;\n}, be = (i, r) => (e, t) => r(e, t, i);\nlet Be = class extends He {\n  constructor(r, e, t, n) {\n    super();\n    J(this, \"_sceneListenerOnDrawingMap\", /* @__PURE__ */ new WeakSet());\n    this._currentUniverService = r, this._commandService = e, this._renderManagerService = t, this._drawingManagerService = n, this._initialize();\n  }\n  dispose() {\n    super.dispose();\n  }\n  _initialize() {\n    this._recoveryImages(), this._drawingAddListener(), this._drawingRemoveListener(), this._drawingUpdateListener(), this._commandExecutedListener(), this._drawingArrangeListener(), this._drawingGroupListener(), this._drawingRefreshListener(), this._drawingVisibleListener();\n  }\n  _recoveryImages() {\n    const r = this._drawingManagerService.drawingManagerData, e = St(this._currentUniverService);\n    if (e == null)\n      return;\n    const { unitId: t, subUnitId: n } = e;\n    Object.keys(r).forEach((s) => {\n      Object.keys(r[s]).forEach((a) => {\n        const o = r[s][a].data;\n        o == null || s !== t || a !== n || Object.keys(o).forEach((c) => {\n          o[c] && this._insertDrawing([{ unitId: s, subUnitId: a, drawingId: c }]);\n        });\n      });\n    });\n  }\n  _commandExecutedListener() {\n    this.disposeWithMe(\n      this._commandService.onCommandExecuted((r) => {\n        if (r.id === ze.id) {\n          const e = r.params;\n          if (e == null)\n            return;\n          this._drawingAlign(e);\n        }\n      })\n    );\n  }\n  _drawingGroupListener() {\n    this.disposeWithMe(\n      this._drawingManagerService.group$.subscribe((r) => {\n        this._groupDrawings(r);\n      })\n    ), this.disposeWithMe(\n      this._drawingManagerService.ungroup$.subscribe((r) => {\n        this._ungroupDrawings(r);\n      })\n    );\n  }\n  // private _drawingGroup(params: ISetImageGroupOperationParams) {\n  //     const { groupType } = params;\n  //     const drawings = this._drawingManagerService.getFocusDrawings();\n  //     if (drawings.length === 0) {\n  //         return;\n  //     }\n  //     switch (groupType) {\n  //         case GroupType.group:\n  //             this._groupDrawings(drawings);\n  //             break;\n  //         case GroupType.regroup:\n  //             this._regroupDrawings(drawings);\n  //             break;\n  //         case GroupType.ungroup:\n  //             this._ungroupDrawings(drawings);\n  //             break;\n  //         default:\n  //             break;\n  //     }\n  // }\n  _getSceneAndTransformerByDrawingSearch(r) {\n    if (r == null)\n      return;\n    const e = this._renderManagerService.getRenderById(r), t = e == null ? void 0 : e.scene;\n    if (t == null)\n      return null;\n    const n = t.getTransformerByCreate();\n    return { scene: t, transformer: n };\n  }\n  _groupDrawings(r) {\n    r.forEach((e) => {\n      this._groupDrawing(e);\n    });\n  }\n  _groupDrawing(r) {\n    const { parent: e, children: t } = r, { unitId: n, subUnitId: s, drawingId: a } = e, o = this._getSceneAndTransformerByDrawingSearch(e.unitId);\n    if (o == null)\n      return;\n    const { scene: c, transformer: u } = o;\n    this._commandService.syncExecuteCommand(oe.id);\n    const l = [];\n    if (t.forEach((f) => {\n      const w = L(f), h = c.getObjectIncludeInGroup(w);\n      if (h == null || l.includes(h))\n        return;\n      l.push(h);\n      const { transform: p } = f;\n      p != null && (h.classType === Je.GROUP ? h.transformByState({ left: p.left, top: p.top }) : h.transformByState(p));\n    }), l.length === 0)\n      return;\n    const g = L({ unitId: n, subUnitId: s, drawingId: a }), d = new pe(g);\n    c.addObject(d, Te).attachTransformerTo(d), d.addObjects(...l), e.transform && d.transformByState({ left: e.transform.left, top: e.transform.top }), u.clearSelectedObjects(), u.setSelectedControl(d);\n  }\n  // private _regroupDrawings(drawings: IDrawingSearch[]) {\n  //     const renderObject = this._getSceneAndTransformerByDrawingSearch(drawings[0].unitId);\n  //     if (renderObject == null) {\n  //         return;\n  //     }\n  //     const { scene, transformer } = renderObject;\n  //     const objects: BaseObject[] = [];\n  //     let firstGroup: Nullable<Group> = null;\n  //     drawings.forEach((drawing) => {\n  //         const imageShapeKey = getDrawingShapeKeyByDrawingSearch(drawing);\n  //         const o = scene.getObject(imageShapeKey);\n  //         if (o == null) {\n  //             return true;\n  //         }\n  //         const group = o.ancestorGroup as Nullable<Group>;\n  //         if (group != null && firstGroup == null) {\n  //             firstGroup = group;\n  //         } else if (group != null && !objects.includes(group)) {\n  //             objects.push(group);\n  //         } else if (!objects.includes(o)) {\n  //             objects.push(o);\n  //         }\n  //     });\n  //     if (firstGroup == null) {\n  //         return;\n  //     }\n  //     if (objects.length === 0) {\n  //         return;\n  //     }\n  //     (firstGroup as Group).addObjects(...objects);\n  //     (firstGroup as Group).reCalculateObjects();\n  //     transformer.clearSelectedObjects();\n  //     transformer.setSelectedControl(firstGroup);\n  // }\n  _ungroupDrawings(r) {\n    r.forEach((e) => {\n      this._ungroupDrawing(e);\n    });\n  }\n  _ungroupDrawing(r) {\n    const { parent: e, children: t } = r, n = this._getSceneAndTransformerByDrawingSearch(e.unitId);\n    if (n == null)\n      return;\n    const { scene: s, transformer: a } = n;\n    t.forEach((g) => {\n      const d = L(g), f = s.getObjectIncludeInGroup(d);\n      if (f == null)\n        return !0;\n      if (f == null)\n        return;\n      const { transform: w } = g;\n      w != null && (f.classType === Je.GROUP ? f.transformByState({ left: w.left, top: w.top }) : f.transformByState(w));\n    });\n    const o = L(e), c = s.getObject(o), { width: u, height: l } = c;\n    c.getObjects().forEach((g) => {\n      c.removeSelfObjectAndTransform(g.oKey, u, l);\n    }), c.dispose(), a.clearSelectedObjects();\n  }\n  _drawingAlign(r) {\n    const { alignType: e } = r, t = this._drawingManagerService.getFocusDrawings();\n    if (e === D.default)\n      return;\n    const n = [];\n    let s = Number.POSITIVE_INFINITY, a = Number.POSITIVE_INFINITY, o = Number.NEGATIVE_INFINITY, c = Number.NEGATIVE_INFINITY, u = 0;\n    t.forEach((l) => {\n      const { unitId: g, subUnitId: d, drawingId: f, drawingType: w } = l, h = this._drawingManagerService.getDrawingByParam({ unitId: g, subUnitId: d, drawingId: f });\n      if (h == null || h.transform == null)\n        return;\n      n.push({\n        unitId: g,\n        subUnitId: d,\n        drawingId: f,\n        drawingType: w,\n        transform: h.transform\n      });\n      const { left: p = 0, top: C = 0, width: _ = 0, height: b = 0 } = h.transform;\n      s = Math.min(s, p), a = Math.min(a, C), o = Math.max(o, p + _), c = Math.max(c, C + b), u++;\n    }), u !== 0 && (this._sortDrawingTransform(n, e), this._applyAlignType(n, e, s, a, o, c, u));\n  }\n  _applyAlignType(r, e, t, n, s, a, o) {\n    const c = Math.round((s - t) / o * 10) / 10, u = Math.round((a - n) / o * 10) / 10, l = [], g = this._getSceneAndTransformerByDrawingSearch(r[0].unitId);\n    if (g == null)\n      return;\n    const { scene: d, transformer: f } = g;\n    r.forEach((w, h) => {\n      const { unitId: p, subUnitId: C, drawingId: _, transform: b, drawingType: R } = w, { left: T = 0, top: S = 0, width: I = 0, height: y = 0 } = b;\n      let O = T, M = S;\n      switch (e) {\n        case D.left:\n          O = t;\n          break;\n        case D.center:\n          O = t + (s - t) / 2 - I / 2;\n          break;\n        case D.right:\n          O = s - I;\n          break;\n        case D.top:\n          M = n;\n          break;\n        case D.middle:\n          M = n + (a - n) / 2 - y / 2;\n          break;\n        case D.bottom:\n          M = a - y;\n          break;\n        case D.horizon:\n          O = t + c * h;\n          break;\n        case D.vertical:\n          M = n + u * h;\n          break;\n      }\n      (O !== T || M !== S) && l.push({\n        unitId: p,\n        subUnitId: C,\n        drawingId: _,\n        drawingType: R,\n        transform: {\n          left: O,\n          top: M\n        }\n      });\n    }), this._drawingManagerService.featurePluginUpdateNotification(l), f.refreshControls().changeNotification();\n  }\n  _sortDrawingTransform(r, e) {\n    r.sort((t, n) => {\n      const s = t.transform, a = n.transform, {\n        left: o = 0,\n        top: c = 0,\n        width: u = 0,\n        height: l = 0\n      } = s, {\n        left: g = 0,\n        top: d = 0,\n        width: f = 0,\n        height: w = 0\n      } = a;\n      switch (e) {\n        case D.left:\n          return o - g;\n        case D.center:\n          return o + u / 2 - (g + f / 2);\n        case D.right:\n          return o + u - (g + f);\n        case D.top:\n          return c - d;\n        case D.middle:\n          return c + l / 2 - (d + w / 2);\n        case D.bottom:\n          return c + l - (d + w);\n        case D.horizon:\n          return o + u / 2 - (g + f / 2);\n        case D.vertical:\n          return c + l / 2 - (d + w / 2);\n        default:\n          return 0;\n      }\n    });\n  }\n  _drawingArrangeListener() {\n    this.disposeWithMe(\n      this._drawingManagerService.order$.subscribe((r) => {\n        this._drawingArrange(r);\n      })\n    );\n  }\n  _drawingArrange(r) {\n    const { unitId: e, subUnitId: t, drawingIds: n } = r, s = this._getSceneAndTransformerByDrawingSearch(e);\n    if (s == null)\n      return;\n    const { scene: a } = s;\n    n.forEach((o) => {\n      const c = L({ unitId: e, subUnitId: t, drawingId: o }), u = a.fuzzyMathObjects(c, !0);\n      if (u == null || u.length === 0)\n        return;\n      const l = this._drawingManagerService.getDrawingOrder(e, t).indexOf(o);\n      for (const g of u)\n        g.setProps({ zIndex: l }), g.makeDirty();\n    });\n  }\n  _drawingAddListener() {\n    this.disposeWithMe(\n      this._drawingManagerService.add$.subscribe((r) => {\n        this._insertDrawing(r);\n      })\n    );\n  }\n  _insertDrawing(r) {\n    const e = [];\n    r.forEach((t) => {\n      const { unitId: n } = t;\n      if (this._drawingManagerService.getDrawingByParam(t) == null)\n        return;\n      const a = this._getSceneAndTransformerByDrawingSearch(n);\n      if (a == null)\n        return;\n      const { scene: o } = a;\n      e.includes(o) || e.push(o);\n    }), e.forEach((t) => {\n      this._sceneListenerOnDrawingMap.has(t) || (this._addListenerOnDrawing(t), this._sceneListenerOnDrawingMap.add(t));\n    });\n  }\n  _drawingRemoveListener() {\n    this.disposeWithMe(\n      this._drawingManagerService.remove$.subscribe((r) => {\n        r.forEach((e) => {\n          var l;\n          const { unitId: t, subUnitId: n, drawingId: s } = e, a = this._getSceneAndTransformerByDrawingSearch(t);\n          if (a == null)\n            return;\n          const { scene: o } = a, c = L({ unitId: t, subUnitId: n, drawingId: s }), u = o.fuzzyMathObjects(c, !0);\n          if (u.length > 0) {\n            for (const g of u)\n              g.dispose();\n            (l = o.getTransformer()) == null || l.clearSelectedObjects();\n          }\n        });\n      })\n    );\n  }\n  _drawingUpdateListener() {\n    this.disposeWithMe(\n      this._drawingManagerService.update$.subscribe((r) => {\n        r.forEach((e) => {\n          var I;\n          const { unitId: t, subUnitId: n, drawingId: s } = e, a = this._drawingManagerService.getDrawingByParam(e);\n          if (a == null)\n            return;\n          const { transform: o, drawingType: c } = a, u = this._getSceneAndTransformerByDrawingSearch(t);\n          if (u == null)\n            return;\n          const { scene: l, transformer: g } = u;\n          if (o == null)\n            return !0;\n          const { left: d = 0, top: f = 0, width: w = 0, height: h = 0, angle: p = 0, flipX: C = !1, flipY: _ = !1, skewX: b = 0, skewY: R = 0 } = o, T = L({ unitId: t, subUnitId: n, drawingId: s }), S = l.getObject(T);\n          if (S == null)\n            return !0;\n          S.transformByState({ left: d, top: f, width: w, height: h, angle: p, flipX: C, flipY: _, skewX: b, skewY: R }), (I = l.getTransformer()) == null || I.debounceRefreshControls();\n        });\n      })\n    );\n  }\n  _drawingRefreshListener() {\n    this.disposeWithMe(\n      this._drawingManagerService.refreshTransform$.subscribe((r) => {\n        r.forEach((e) => {\n          const { unitId: t, subUnitId: n, drawingId: s } = e, a = this._getSceneAndTransformerByDrawingSearch(t);\n          if (a == null)\n            return;\n          const o = this._drawingManagerService.getDrawingByParam(e);\n          if (o == null)\n            return;\n          const { transform: c } = o, { scene: u } = a, l = L({ unitId: t, subUnitId: n, drawingId: s }), g = u.getObject(l);\n          if (g == null || c == null)\n            return !0;\n          const {\n            left: d = 0,\n            top: f = 0,\n            width: w = 0,\n            height: h = 0,\n            angle: p = 0,\n            flipX: C = !1,\n            flipY: _ = !1,\n            skewX: b = 0,\n            skewY: R = 0\n          } = c;\n          g.transformByState({ left: d, top: f, width: w, height: h, angle: p, flipX: C, flipY: _, skewX: b, skewY: R });\n        });\n      })\n    );\n  }\n  _drawingVisibleListener() {\n    this.disposeWithMe(\n      this._drawingManagerService.visible$.subscribe((r) => {\n        r.forEach((e) => {\n          const { unitId: t, subUnitId: n, drawingId: s, visible: a } = e, o = this._getSceneAndTransformerByDrawingSearch(t);\n          if (o == null)\n            return;\n          const { scene: c } = o, u = L({ unitId: t, subUnitId: n, drawingId: s }), l = c.getObject(u);\n          if (l == null)\n            return !0;\n          a ? l.show() : l.hide();\n        });\n      })\n    );\n  }\n  _filterUpdateParams(r, e) {\n    return r.filter((t, n) => {\n      if (t == null)\n        return !1;\n      const { transform: s } = t;\n      return at(s, e == null ? void 0 : e[n]);\n    });\n  }\n  // group?.getObjects().forEach((o) => {\n  //     const drawing = this._drawingManagerService.getDrawingOKey(o.oKey);\n  //     if (drawing != null) {\n  //         const { unitId, subUnitId, drawingId } = drawing;\n  //         drawings.push({ unitId, subUnitId, drawingId });\n  //     }\n  // });\n  _addListenerOnDrawing(r) {\n    const e = r.getTransformerByCreate();\n    let t = null;\n    this.disposeWithMe(\n      fe(\n        e.changeStart$.subscribe((n) => {\n          const { objects: s } = n, a = Array.from(s.values()), o = [];\n          t = a.map((c) => {\n            const { left: u, top: l, height: g, width: d, angle: f, oKey: w, isInGroup: h } = c, p = this._drawingManagerService.getDrawingOKey(w);\n            if (h || c instanceof pe) {\n              let C = c.ancestorGroup;\n              if (C == null && c instanceof pe && (C = c), C == null)\n                return null;\n              const _ = this._drawingManagerService.getDrawingOKey(C.oKey);\n              if (_) {\n                const { unitId: b, subUnitId: R, drawingId: T } = _;\n                o.push({ unitId: b, subUnitId: R, drawingId: T });\n                const { left: S, top: I, height: y, width: O, angle: M } = C;\n                return { left: S, top: I, height: y, width: O, angle: M };\n              }\n            } else if (p != null) {\n              const { unitId: C, subUnitId: _, drawingId: b } = p;\n              return o.push({ unitId: C, subUnitId: _, drawingId: b }), { left: u, top: l, height: g, width: d, angle: f };\n            }\n            return null;\n          }).filter((c) => c != null), o.length > 0 ? this._commandService.syncExecuteCommand(De.id, o) : this._commandService.syncExecuteCommand(De.id, []);\n        })\n      )\n    ), this.disposeWithMe(\n      fe(\n        e.changeEnd$.subscribe((n) => {\n          const { objects: s } = n, a = this._filterUpdateParams(Le(s, this._drawingManagerService), t);\n          a.length > 0 && this._drawingManagerService.featurePluginUpdateNotification(a);\n        })\n      )\n    );\n  }\n};\nBe = hr([\n  be(0, Fe),\n  be(1, ce),\n  be(2, ue),\n  be(3, re)\n], Be);\nclass Ie extends Gt {\n  constructor(e, t) {\n    t == null && (t = {}), t.transformerConfig = {\n      keepRatio: !1,\n      isCropper: !0,\n      anchorFill: \"rgb(0, 0, 0)\",\n      anchorStroke: \"rgb(255, 255, 255)\",\n      anchorSize: 24\n    };\n    super(e, t);\n    J(this, \"_srcRect\");\n    J(this, \"_prstGeom\");\n    J(this, \"_applyTransform\");\n    J(this, \"_dragPadding\", 8);\n    J(this, \"_cacheCanvas\");\n    t != null && t.srcRect && (this._srcRect = t.srcRect), t != null && t.prstGeom && (this._prstGeom = t.prstGeom), t != null && t.applyTransform && (this._applyTransform = t.applyTransform), t != null && t.dragPadding && (this._dragPadding = t.dragPadding), this._applyProps();\n  }\n  refreshSrcRect(e, t) {\n    this._srcRect = e, this._applyTransform = t, this._applyProps();\n  }\n  get srcRect() {\n    return this._srcRect;\n  }\n  dispose() {\n    var e;\n    super.dispose(), (e = this._cacheCanvas) == null || e.dispose(), this._srcRect = null;\n  }\n  isHit(e) {\n    const t = this.getInverseCoord(e);\n    return t.x >= -this.strokeWidth / 2 && t.x <= this.width + this.strokeWidth / 2 && t.y >= -this.strokeWidth / 2 && t.y <= this.height + this.strokeWidth / 2 && !this._inSurround(t);\n  }\n  _inSurround(e) {\n    const t = this._dragPadding;\n    return e.x >= t - this.strokeWidth / 2 && e.x <= this.width + this.strokeWidth / 2 - t && e.y >= t - this.strokeWidth / 2 && e.y <= this.height + this.strokeWidth / 2 - t;\n  }\n  render(e, t) {\n    return this.visible ? (e.save(), this._draw(e), e.restore(), this.makeDirty(!1), this) : (this.makeDirty(!1), this);\n  }\n  _draw(e) {\n    var c, u;\n    const n = this.getScene().getEngine(), { width: s, height: a } = n;\n    this._initialCacheCanvas(), (c = this._cacheCanvas) == null || c.clear();\n    const o = (u = this._cacheCanvas) == null ? void 0 : u.getContext();\n    o != null && (o.save(), lt.drawWith(o, {\n      left: 0,\n      top: 0,\n      width: s,\n      height: a,\n      fill: \"rgba(0, 0, 0, 0.5)\"\n    }), o.setTransform(e.getTransform()), this._clipForApplyObject(o), this._applyCache(e), o.restore());\n  }\n  _clipForApplyObject(e) {\n    let t = 0;\n    if (this._prstGeom != null && (t = 1), e.globalCompositeOperation = \"destination-out\", e.beginPath(), t === 0) {\n      const n = this.transform.getMatrix();\n      e.transform(n[0], n[1], n[2], n[3], n[4], n[5]), e.rect(0, 0, this.width, this.height), e.fill();\n    }\n  }\n  _applyProps() {\n    if (this._applyTransform == null)\n      return;\n    let e = 0, t = 0, n = 0, s = 0;\n    const { left: a = 0, top: o = 0, width: c = 0, height: u = 0, angle: l } = this._applyTransform;\n    if (this._srcRect != null) {\n      const { left: f = 0, top: w = 0, right: h = 0, bottom: p = 0 } = this._srcRect;\n      e = f, t = w, n = h, s = p;\n    }\n    const g = a + e, d = o + t;\n    this.transformByState({\n      left: g,\n      top: d,\n      width: a + c - n - g,\n      height: o + u - s - d,\n      angle: l\n    });\n  }\n  _applyCache(e) {\n    if (!e || this._cacheCanvas == null)\n      return;\n    const t = this._cacheCanvas.getContext();\n    t.save(), e.save(), e.setTransform(1, 0, 0, 1, 0, 0), t.setTransform(1, 0, 0, 1, 0, 0), e.drawImage(this._cacheCanvas.getCanvasEle(), 0, 0), e.restore(), t.restore();\n  }\n  _initialCacheCanvas() {\n    if (this._cacheCanvas != null)\n      return;\n    const e = this.getScene();\n    if (e == null) return;\n    this._cacheCanvas = new Wt();\n    const t = e.getEngine();\n    this._cacheCanvas.setSize(t.width, t.height), t.onTransformChange$.subscribeEvent(() => {\n      var n;\n      (n = this._cacheCanvas) == null || n.setSize(t.width, t.height), this.makeDirty(!0);\n    });\n  }\n}\nvar fr = Object.getOwnPropertyDescriptor, pr = (i, r, e, t) => {\n  for (var n = t > 1 ? void 0 : t ? fr(r, e) : r, s = i.length - 1, a; s >= 0; s--)\n    (a = i[s]) && (n = a(n) || n);\n  return n;\n}, le = (i, r) => (e, t) => r(e, t, i);\nlet xe = class extends He {\n  constructor(r, e, t, n, s, a) {\n    super();\n    J(this, \"_sceneListenerOnImageMap\", /* @__PURE__ */ new WeakSet());\n    this._commandService = r, this._drawingManagerService = e, this._renderManagerService = t, this._univerInstanceService = n, this._messageService = s, this._localeService = a, this._init();\n  }\n  _init() {\n    this._initOpenCrop(), this._initCloseCrop(), this._initAutoCrop();\n  }\n  _initAutoCrop() {\n    this.disposeWithMe(\n      this._commandService.onCommandExecuted((r) => {\n        if (r.id !== Pe.id)\n          return;\n        const e = r.params;\n        if (e == null)\n          return;\n        const { cropType: t } = e, n = this._drawingManagerService.getFocusDrawings();\n        if (n.length !== 1)\n          return;\n        const s = n[0], { unitId: a, subUnitId: o, drawingId: c } = s, u = this._renderManagerService.getRenderById(a), l = u == null ? void 0 : u.scene;\n        if (l == null)\n          return !0;\n        this._searchCropObject(l) != null && this._commandService.syncExecuteCommand(oe.id, { isAuto: !0 });\n        const d = L({ unitId: a, subUnitId: o, drawingId: c }), f = l.getObject(d);\n        if (!(f instanceof We)) {\n          this._messageService.show({\n            type: Xe.Error,\n            content: this._localeService.t(\"image-cropper.error\")\n          });\n          return;\n        }\n        f != null && (this._updateCropperObject(t, f), this._commandService.executeCommand(Ze.id, { unitId: a, subUnitId: o, drawingId: c }));\n      })\n    );\n  }\n  _calculateSrcRectByRatio(r, e, t, n, s, a) {\n    const o = t / n, c = s / a;\n    let u = t, l = n;\n    o > c ? u = n * c : l = t / c;\n    const g = (t - u) / 2, d = (n - l) / 2;\n    return {\n      left: Se(g, 1),\n      top: Se(d, 1),\n      right: Se(t - (g + u), 1),\n      bottom: Se(n - (d + l), 1)\n    };\n  }\n  _updateCropperObject(r, e) {\n    const { left: t, top: n, width: s, height: a } = e.calculateTransformWithSrcRect();\n    let o;\n    switch (r) {\n      case x.R1_1:\n        o = this._calculateSrcRectByRatio(t, n, s, a, 1, 1);\n        break;\n      case x.R16_9:\n        o = this._calculateSrcRectByRatio(t, n, s, a, 16, 9);\n        break;\n      case x.R9_16:\n        o = this._calculateSrcRectByRatio(t, n, s, a, 9, 16);\n        break;\n      case x.R5_4:\n        o = this._calculateSrcRectByRatio(t, n, s, a, 5, 4);\n        break;\n      case x.R4_5:\n        o = this._calculateSrcRectByRatio(t, n, s, a, 4, 5);\n        break;\n      case x.R4_3:\n        o = this._calculateSrcRectByRatio(t, n, s, a, 4, 3);\n        break;\n      case x.R3_4:\n        o = this._calculateSrcRectByRatio(t, n, s, a, 3, 4);\n        break;\n      case x.R3_2:\n        o = this._calculateSrcRectByRatio(t, n, s, a, 3, 2);\n        break;\n      case x.R2_3:\n        o = this._calculateSrcRectByRatio(t, n, s, a, 2, 3);\n        break;\n      case x.FREE:\n    }\n    if (o == null)\n      return;\n    e.setSrcRect(o);\n    const { left: c = 0, top: u = 0, bottom: l = 0, right: g = 0 } = o;\n    e.transformByStateCloseCropper({\n      left: t + c,\n      top: n + u,\n      width: s - g - c,\n      height: a - l - u\n    });\n  }\n  _initOpenCrop() {\n    this.disposeWithMe(\n      this._commandService.onCommandExecuted((r) => {\n        if (r.id !== Ze.id)\n          return;\n        const e = r.params;\n        if (e == null)\n          return;\n        const { unitId: t, subUnitId: n, drawingId: s } = e, a = this._renderManagerService.getRenderById(t), o = a == null ? void 0 : a.scene;\n        if (o == null)\n          return !0;\n        if (this._sceneListenerOnImageMap.has(o) || (this._addListenerOnImage(o), this._sceneListenerOnImageMap.add(o)), this._drawingManagerService.getDrawingByParam({ unitId: t, subUnitId: n, drawingId: s }) == null)\n          return;\n        const u = L({ unitId: t, subUnitId: n, drawingId: s }), l = o.getObject(u);\n        if (l == null)\n          return;\n        if (!(l instanceof We)) {\n          this._messageService.show({\n            type: Xe.Error,\n            content: this._localeService.t(\"image-cropper.error\")\n          });\n          return;\n        }\n        const g = o.getTransformer();\n        g == null || g.clearControls();\n        const d = new Ie(`${u}-crop`, {\n          srcRect: l.srcRect,\n          prstGeom: l.prstGeom,\n          applyTransform: l.calculateTransformWithSrcRect()\n        });\n        o.addObject(d, l.getLayerIndex() + 1).attachTransformerTo(d), g == null || g.createControlForCopper(d), this._addHoverForImageCopper(d), l.openRenderByCropper(), g == null || g.refreshControls(), d.makeDirty(!0), this._commandService.syncExecuteCommand(De.id, [{ unitId: t, subUnitId: n, drawingId: s }]);\n      })\n    );\n  }\n  _searchCropObject(r) {\n    const e = r.getAllObjectsByOrder();\n    for (const t of e)\n      if (t instanceof Ie)\n        return t;\n  }\n  _initCloseCrop() {\n    this.disposeWithMe(\n      this._commandService.onCommandExecuted((e) => {\n        if (e.id !== oe.id)\n          return;\n        const t = this._univerInstanceService.getFocusedUnit();\n        if (t == null)\n          return;\n        const n = t.getUnitId(), s = this._renderManagerService.getRenderById(n), a = s == null ? void 0 : s.scene;\n        if (a == null)\n          return !0;\n        const o = this._searchCropObject(a);\n        if (o == null)\n          return;\n        const c = this._getApplyObjectByCropObject(o);\n        if (c == null)\n          return;\n        const u = a.getTransformerByCreate();\n        u.detachFrom(o), u.clearCopperControl();\n        const l = this._getSrcRectByTransformState(c, o), g = this._drawingManagerService.getDrawingOKey(c.oKey);\n        if (g != null) {\n          const { left: d, top: f, height: w, width: h } = o;\n          this._drawingManagerService.featurePluginUpdateNotification([{\n            ...g,\n            transform: {\n              ...g.transform,\n              left: d,\n              top: f,\n              height: w,\n              width: h\n            },\n            srcRect: l.srcRectAngle\n          }]);\n        }\n        c.setSrcRect({ ...l.srcRectAngle }), c.closeRenderByCropper(), c.makeDirty(!0), o == null || o.dispose();\n      })\n    );\n    const r = this._univerInstanceService.getCurrentTypeOfUnit$(Oe.UNIVER_SHEET).pipe(\n      zt((e) => e ? e.activeSheet$ : Kt(null))\n    );\n    this.disposeWithMe(r.subscribe(() => {\n      this._commandService.syncExecuteCommand(oe.id);\n    }));\n  }\n  _getApplyObjectByCropObject(r) {\n    const e = r.oKey, t = e.slice(0, e.length - 5), n = r.getScene();\n    if (!n) return null;\n    const s = n.getObject(t);\n    return s == null ? null : s;\n  }\n  _addListenerOnImage(r) {\n    const e = r.getTransformerByCreate();\n    let t = null;\n    this.disposeWithMe(\n      e.changeStart$.subscribe((n) => {\n        const { objects: s } = n, a = s.values().next().value;\n        if (a == null || !(a instanceof Ie))\n          return;\n        const { left: o, top: c, height: u, width: l, angle: g } = a;\n        t = { left: o, top: c, height: u, width: l, angle: g }, e.clearCopperControl();\n      })\n    ), this.disposeWithMe(\n      e.changeEnd$.subscribe((n) => {\n        const { objects: s } = n, a = s.values().next().value;\n        if (a == null || !(a instanceof Ie))\n          return;\n        const { left: o, top: c, height: u, width: l, angle: g } = a;\n        if (!at({ left: o, top: c, height: u, width: l, angle: g }, t))\n          return;\n        const d = this._getApplyObjectByCropObject(a);\n        if (d == null)\n          return;\n        const f = this._getSrcRectByTransformState(d, a);\n        a.refreshSrcRect(f.srcRect, d.getState()), e.createControlForCopper(a);\n      })\n    ), this._endCropListener(r);\n  }\n  _addHoverForImageCopper(r) {\n    this.disposeWithMe(\n      r.onPointerEnter$.subscribeEvent(() => {\n        r.cursor = Ee.MOVE;\n      })\n    ), this.disposeWithMe(\n      r.onPointerLeave$.subscribeEvent(() => {\n        r.cursor = Ee.DEFAULT;\n      })\n    );\n  }\n  _endCropListener(r) {\n    const e = r.getTransformerByCreate();\n    this.disposeWithMe(\n      e.clearControl$.subscribe((t) => {\n        t === !0 && this._commandService.syncExecuteCommand(oe.id);\n      })\n    );\n  }\n  _getSrcRectByTransformState(r, e) {\n    const { left: t, top: n, height: s, width: a, strokeWidth: o, angle: c } = e, { left: u, top: l, width: g, height: d, angle: f, strokeWidth: w } = r, h = t - u, p = n - l, C = {\n      left: h,\n      top: p,\n      right: g - h - a,\n      bottom: d - p - s\n    }, _ = { ...C };\n    if (f !== 0) {\n      const b = t + a / 2, R = n + s / 2, T = new $e(b, R), S = g / 2 + u, I = d / 2 + l, y = new $e(S, I), O = new $e(u, l);\n      O.rotateByPoint(qe(f), y);\n      const M = O.clone();\n      M.rotateByPoint(qe(-f), T);\n      const N = t - M.x, B = n - M.y;\n      _.left = N, _.top = B, _.right = g - N - a, _.bottom = d - B - s;\n    }\n    return {\n      srcRect: C,\n      srcRectAngle: _\n    };\n  }\n};\nxe = pr([\n  le(0, ce),\n  le(1, re),\n  le(2, ue),\n  le(3, Fe),\n  le(4, Ut),\n  le(5, Ae(te))\n], xe);\nvar mr = Object.getOwnPropertyDescriptor, wr = (i, r, e, t) => {\n  for (var n = t > 1 ? void 0 : t ? mr(r, e) : r, s = i.length - 1, a; s >= 0; s--)\n    (a = i[s]) && (n = a(n) || n);\n  return n;\n}, Ve = (i, r) => (e, t) => r(e, t, i);\nlet Ue = class {\n  constructor(i, r, e) {\n    this._drawingManagerService = i, this._imageIoService = r, this._galleryService = e;\n  }\n  // eslint-disable-next-line max-lines-per-function\n  async renderImages(i, r) {\n    const {\n      transform: e,\n      drawingType: t,\n      source: n,\n      imageSourceType: s,\n      srcRect: a,\n      prstGeom: o,\n      groupId: c,\n      unitId: u,\n      subUnitId: l,\n      drawingId: g,\n      isMultiTransform: d,\n      transforms: f\n    } = i;\n    if (t !== q.DRAWING_IMAGE || !this._drawingManagerService.getDrawingVisible() || e == null)\n      return;\n    const w = d && f ? f : [e], h = [];\n    for (const p of w) {\n      const { left: C, top: _, width: b, height: R, angle: T, flipX: S, flipY: I, skewX: y, skewY: O } = p, M = w.indexOf(p), N = L({ unitId: u, subUnitId: l, drawingId: g }, d ? M : void 0), B = r.getObject(N);\n      if (B != null) {\n        B.transformByState({ left: C, top: _, width: b, height: R, angle: T, flipX: S, flipY: I, skewX: y, skewY: O });\n        continue;\n      }\n      const W = this._drawingManagerService.getDrawingOrder(u, l), K = W.indexOf(g), Y = { ...p, zIndex: K === -1 ? W.length - 1 : K }, ve = this._imageIoService.getImageSourceCache(n, s);\n      let ne = !1;\n      if (ve != null)\n        Y.image = ve;\n      else {\n        if (s === Vt.UUID)\n          try {\n            Y.url = await this._imageIoService.getImage(n);\n          } catch (ke) {\n            console.error(ke);\n            continue;\n          }\n        else\n          Y.url = n;\n        ne = !0;\n      }\n      if (r.getObject(N))\n        continue;\n      Y.printable = !0;\n      const $ = new We(N, Y);\n      ne && this._imageIoService.addImageSourceCache(n, s, $.getNative()), this._drawingManagerService.getDrawingVisible() && (r.addObject($, Te), this._drawingManagerService.getDrawingEditable() && r.attachTransformerTo($), c && tt({ drawingId: c, unitId: u, subUnitId: l }, $, r, this._drawingManagerService), o != null && $.setPrstGeom(o), a != null && $.setSrcRect(a), h.push($));\n    }\n    return h;\n  }\n  renderFloatDom(i, r) {\n    const {\n      transform: e,\n      drawingType: t,\n      groupId: n,\n      unitId: s,\n      subUnitId: a,\n      drawingId: o,\n      isMultiTransform: c,\n      transforms: u\n    } = i;\n    if (t !== q.DRAWING_DOM || !this._drawingManagerService.getDrawingVisible() || e == null)\n      return;\n    const l = c && u ? u : [e], g = [];\n    for (const d of l) {\n      const { left: f, top: w, width: h, height: p, angle: C, flipX: _, flipY: b, skewX: R, skewY: T } = d, S = l.indexOf(d), I = L({ unitId: s, subUnitId: a, drawingId: o }, c ? S : void 0), y = r.getObject(I);\n      if (y != null) {\n        y.transformByState({ left: f, top: w, width: h, height: p, angle: C, flipX: _, flipY: b, skewX: R, skewY: T });\n        continue;\n      }\n      const O = this._drawingManagerService.getDrawingOrder(s, a), M = O.indexOf(o), N = { ...d, zIndex: M === -1 ? O.length - 1 : M };\n      if (r.getObject(I))\n        continue;\n      N.printable = !1;\n      const B = new lt(I, N);\n      this._drawingManagerService.getDrawingVisible() && (r.addObject(B, Te), this._drawingManagerService.getDrawingEditable() && i.allowTransform !== !1 && r.attachTransformerTo(B), n && tt({ drawingId: n, unitId: s, subUnitId: a }, B, r, this._drawingManagerService), g.push(B));\n    }\n    return g;\n  }\n  renderDrawing(i, r) {\n    const e = this._drawingManagerService.getDrawingByParam(i);\n    if (e != null)\n      switch (e.drawingType) {\n        case q.DRAWING_IMAGE:\n          return this.renderImages(e, r);\n      }\n  }\n  previewImage(i, r, e, t) {\n    this._galleryService.open({\n      images: [r],\n      onOpenChange: (n) => {\n        n || this._galleryService.close();\n      }\n    });\n  }\n  _adjustImageSize(i, r, e, t) {\n    if (i <= e && r <= t)\n      return {\n        width: i,\n        height: r\n      };\n    const n = e / i, s = t / r, a = Math.min(n, s);\n    return {\n      width: Math.floor(i * a),\n      height: Math.floor(r * a)\n    };\n  }\n};\nUe = wr([\n  Ve(0, re),\n  Ve(1, ct),\n  Ve(2, jt)\n], Ue);\nvar vr = Object.getOwnPropertyDescriptor, _r = (i, r, e, t) => {\n  for (var n = t > 1 ? void 0 : t ? vr(r, e) : r, s = i.length - 1, a; s >= 0; s--)\n    (a = i[s]) && (n = a(n) || n);\n  return n;\n}, ae = (i, r) => (e, t) => r(e, t, i);\nlet je = class extends He {\n  constructor(i, r, e, t, n, s, a) {\n    super(), this._commandService = i, this._renderManagerService = r, this._drawingManagerService = e, this._dialogService = t, this._imageIoService = n, this._currentUniverService = s, this._drawingRenderService = a, this._initialize();\n  }\n  dispose() {\n    super.dispose();\n  }\n  _initialize() {\n    this._drawingAddListener(), this._commandExecutedListener(), this._imageUpdateListener();\n  }\n  _commandExecutedListener() {\n    this.disposeWithMe(\n      this._commandService.onCommandExecuted((i) => {\n        if (i.id === ut.id) {\n          const r = i.params;\n          if (r == null)\n            return;\n          this._resetImageSize(r);\n        }\n      })\n    );\n  }\n  _getSceneAndTransformerByDrawingSearch(i) {\n    if (i == null)\n      return;\n    const r = this._renderManagerService.getRenderById(i), e = r == null ? void 0 : r.scene;\n    if (e == null)\n      return null;\n    const t = e.getTransformerByCreate();\n    return { scene: e, transformer: t };\n  }\n  _resetImageSize(i) {\n    const r = [], e = [];\n    i.forEach((t) => {\n      const { unitId: n, subUnitId: s, drawingId: a } = t, o = this._getSceneAndTransformerByDrawingSearch(n);\n      if (o == null)\n        return;\n      const { scene: c } = o, u = L({ unitId: n, subUnitId: s, drawingId: a }), l = c.getObject(u);\n      if (l == null)\n        return !0;\n      const g = this._drawingManagerService.getDrawingByParam(t);\n      if (g == null)\n        return !0;\n      if (g.drawingType !== q.DRAWING_IMAGE)\n        return;\n      l.resetSize();\n      const { width: d, height: f } = l.getNativeSize();\n      e.includes(c) === !1 && e.push(c), r.push({\n        ...g,\n        transform: {\n          ...g.transform,\n          height: f,\n          width: d,\n          angle: 0\n        },\n        srcRect: null,\n        prstGeom: null\n      });\n    }), this._drawingManagerService.featurePluginUpdateNotification(r), e.forEach((t) => {\n      t.getTransformerByCreate().refreshControls().changeNotification();\n    }), this._commandService.syncExecuteCommand(De.id, i);\n  }\n  _drawingAddListener() {\n    this.disposeWithMe(\n      this._drawingManagerService.add$.subscribe((i) => {\n        this._insertImages(i);\n      })\n    );\n  }\n  _insertImages(i) {\n    i.forEach(async (r) => {\n      var c;\n      const { unitId: e, subUnitId: t } = r, n = this._getSceneAndTransformerByDrawingSearch(e), s = (c = St(this._currentUniverService, e)) == null ? void 0 : c.subUnitId;\n      if (n == null || s !== t)\n        return;\n      const a = this._drawingManagerService.getDrawingByParam(r);\n      if (a == null)\n        return;\n      const o = await this._drawingRenderService.renderImages(a, n.scene);\n      if (this._drawingManagerService.refreshTransform([a]), !(o == null || o.length === 0))\n        for (const u of o)\n          this._addHoverForImage(u), this._addDialogForImage(u);\n    });\n  }\n  _imageUpdateListener() {\n    this.disposeWithMe(\n      this._drawingManagerService.update$.subscribe((i) => {\n        i.forEach((r) => {\n          const { unitId: e, subUnitId: t, drawingId: n } = r, s = this._drawingManagerService.getDrawingByParam(r);\n          if (s == null)\n            return;\n          const { transform: a, drawingType: o, srcRect: c, prstGeom: u, source: l, imageSourceType: g } = s;\n          if (o !== q.DRAWING_IMAGE)\n            return;\n          const d = this._getSceneAndTransformerByDrawingSearch(e);\n          if (d == null)\n            return;\n          const { scene: f, transformer: w } = d;\n          if (a == null)\n            return !0;\n          const h = L({ unitId: e, subUnitId: t, drawingId: n }), p = f.getObject(h);\n          if (p == null)\n            return !0;\n          p.setSrcRect(c), p.setPrstGeom(u), l != null && l.length > 0 && (g === Ye.BASE64 || g === Ye.URL) && p.changeSource(l);\n        });\n      })\n    );\n  }\n  _addHoverForImage(i) {\n    this.disposeWithMe(\n      fe(\n        i.onPointerEnter$.subscribeEvent(() => {\n          i.cursor = Ee.GRAB;\n        })\n      )\n    ), this.disposeWithMe(\n      fe(\n        i.onPointerLeave$.subscribeEvent(() => {\n          i.cursor = Ee.DEFAULT;\n        })\n      )\n    );\n  }\n  _addDialogForImage(i) {\n    this.disposeWithMe(\n      fe(\n        i.onDblclick$.subscribeEvent(() => {\n          const r = `${i.oKey}-viewer-dialog`;\n          this._drawingRenderService.previewImage(r, i.getNative().src, i.getNativeSize().width, i.getNativeSize().height);\n        })\n      )\n    );\n  }\n};\nje = _r([\n  ae(0, ce),\n  ae(1, ue),\n  ae(2, re),\n  ae(3, At),\n  ae(4, ct),\n  ae(5, Fe),\n  ae(6, Ae(Ue))\n], je);\nvar Cr = Object.getOwnPropertyDescriptor, Sr = (i, r, e, t) => {\n  for (var n = t > 1 ? void 0 : t ? Cr(r, e) : r, s = i.length - 1, a; s >= 0; s--)\n    (a = i[s]) && (n = a(n) || n);\n  return n;\n}, rt = (i, r) => (e, t) => r(e, t, i);\nconst br = \"UNIVER_DRAWING_UI_PLUGIN\";\nvar Ge;\nlet nt = (Ge = class extends Pt {\n  constructor(i = Qe, r, e) {\n    super(), this._config = i, this._injector = r, this._configService = e;\n    const { menu: t, ...n } = Nt(\n      {},\n      Qe,\n      this._config\n    );\n    t && this._configService.setConfig(\"menu\", t, { merge: !0 }), this._configService.setConfig(Yt, n);\n  }\n  onStarting() {\n    this._initDependencies();\n  }\n  onRendered() {\n    this._injector.get(Be), this._injector.get(Ne), this._injector.get(xe), this._injector.get(je);\n  }\n  _initDependencies() {\n    [\n      [Ue],\n      [Be],\n      [Ne],\n      [xe],\n      [je]\n    ].forEach((r) => this._injector.add(r));\n  }\n}, J(Ge, \"pluginName\", br), Ge);\nnt = Sr([\n  rt(1, Ae(Tt)),\n  rt(2, Et)\n], nt);\nconst Ir = (i) => {\n  const r = A(ce), e = A(te), { alignShow: t } = i, [n, s] = j(D.default), a = [\n    {\n      label: e.t(\"image-panel.align.default\"),\n      value: D.default\n    },\n    {\n      options: [\n        {\n          label: e.t(\"image-panel.align.left\"),\n          value: D.left\n        },\n        {\n          label: e.t(\"image-panel.align.center\"),\n          value: D.center\n        },\n        {\n          label: e.t(\"image-panel.align.right\"),\n          value: D.right\n        }\n      ]\n    },\n    {\n      options: [\n        {\n          label: e.t(\"image-panel.align.top\"),\n          value: D.top\n        },\n        {\n          label: e.t(\"image-panel.align.middle\"),\n          value: D.middle\n        },\n        {\n          label: e.t(\"image-panel.align.bottom\"),\n          value: D.bottom\n        }\n      ]\n    },\n    {\n      options: [\n        {\n          label: e.t(\"image-panel.align.horizon\"),\n          value: D.horizon\n        },\n        {\n          label: e.t(\"image-panel.align.vertical\"),\n          value: D.vertical\n        }\n      ]\n    }\n  ];\n  function o(c) {\n    s(c), r.executeCommand(ze.id, {\n      alignType: c\n    });\n  }\n  return /* @__PURE__ */ P(\n    \"div\",\n    {\n      className: Q(\"univer-relative univer-w-full\", {\n        \"univer-hidden\": !t\n      }),\n      children: [\n        /* @__PURE__ */ v(\n          \"header\",\n          {\n            className: \"univer-text-gray-600 dark:!univer-text-gray-200\",\n            children: /* @__PURE__ */ v(\"div\", { children: e.t(\"image-panel.align.title\") })\n          }\n        ),\n        /* @__PURE__ */ v(\"div\", { className: \"univer-relative univer-mt-2.5 univer-flex univer-h-full\", children: /* @__PURE__ */ v(\n          \"div\",\n          {\n            className: \"univer-w-full univer-text-gray-900 dark:!univer-text-white\",\n            children: /* @__PURE__ */ v(st, { value: n, options: a, onChange: o })\n          }\n        ) })\n      ]\n    }\n  );\n}, yr = (i) => {\n  const { arrangeShow: r, drawings: e } = i, t = A(te), n = A(re), [s, a] = j(e);\n  we(() => {\n    const c = n.focus$.subscribe((u) => {\n      a(u);\n    });\n    return () => {\n      c.unsubscribe();\n    };\n  }, []);\n  const o = (c) => {\n    const u = s[0].unitId, l = s[0].subUnitId, g = s.map((d) => d.drawingId);\n    n.featurePluginOrderUpdateNotification({ unitId: u, subUnitId: l, drawingIds: g, arrangeType: c });\n  };\n  return /* @__PURE__ */ P(\n    \"div\",\n    {\n      className: Q(\"univer-grid univer-gap-2 univer-py-2 univer-text-gray-400\", {\n        \"univer-hidden\": !r\n      }),\n      children: [\n        /* @__PURE__ */ v(\n          \"header\",\n          {\n            className: \"univer-text-gray-600 dark:!univer-text-gray-200\",\n            children: /* @__PURE__ */ v(\"div\", { children: t.t(\"image-panel.arrange.title\") })\n          }\n        ),\n        /* @__PURE__ */ P(\"div\", { className: \"univer-grid univer-grid-cols-2 univer-gap-2\", children: [\n          /* @__PURE__ */ P(se, { onClick: () => {\n            o(_e.forward);\n          }, children: [\n            /* @__PURE__ */ v(wt, {}),\n            t.t(\"image-panel.arrange.forward\")\n          ] }),\n          /* @__PURE__ */ P(se, { onClick: () => {\n            o(_e.backward);\n          }, children: [\n            /* @__PURE__ */ v(mt, {}),\n            t.t(\"image-panel.arrange.backward\")\n          ] }),\n          /* @__PURE__ */ P(se, { onClick: () => {\n            o(_e.front);\n          }, children: [\n            /* @__PURE__ */ v(vt, {}),\n            t.t(\"image-panel.arrange.front\")\n          ] }),\n          /* @__PURE__ */ P(se, { onClick: () => {\n            o(_e.back);\n          }, children: [\n            /* @__PURE__ */ v(dt, {}),\n            t.t(\"image-panel.arrange.back\")\n          ] })\n        ] })\n      ]\n    }\n  );\n}, Mr = (i) => {\n  const r = A(te), e = A(ue), t = A(re), { hasGroup: n, drawings: s } = i, [a, o] = j(!1), [c, u] = j(!0), [l, g] = j(!0), d = () => {\n    const h = t.getFocusDrawings(), { unitId: p, subUnitId: C } = h[0], _ = Bt(10), b = Zt(0, 0, h.map((S) => S.transform || {})), R = {\n      unitId: p,\n      subUnitId: C,\n      drawingId: _,\n      drawingType: q.DRAWING_GROUP,\n      transform: b\n    }, T = h.map((S) => {\n      const I = S.transform || { left: 0, top: 0 }, { unitId: y, subUnitId: O, drawingId: M } = S;\n      return {\n        unitId: y,\n        subUnitId: O,\n        drawingId: M,\n        transform: {\n          ...I,\n          left: I.left - b.left,\n          top: I.top - b.top\n        },\n        groupId: _\n      };\n    });\n    t.featurePluginGroupUpdateNotification([{\n      parent: R,\n      children: T\n    }]);\n  }, f = (h) => {\n    if (h.drawingType !== q.DRAWING_GROUP)\n      return;\n    const { unitId: p, subUnitId: C, drawingId: _, transform: b = { width: 0, height: 0 } } = h;\n    if (b == null)\n      return;\n    const R = t.getDrawingsByGroup({ unitId: p, subUnitId: C, drawingId: _ });\n    if (R.length === 0)\n      return;\n    const T = R.map((S) => {\n      const { transform: I } = S, { unitId: y, subUnitId: O, drawingId: M } = S, N = Ft(I || {}, b, b.width || 0, b.height || 0);\n      return {\n        unitId: y,\n        subUnitId: O,\n        drawingId: M,\n        transform: {\n          ...I,\n          ...N\n        },\n        groupId: void 0\n      };\n    });\n    return {\n      parent: h,\n      children: T\n    };\n  }, w = () => {\n    const p = t.getFocusDrawings().map(\n      (C) => f(C)\n    ).filter((C) => C != null);\n    p.length !== 0 && t.featurePluginUngroupUpdateNotification(p);\n  };\n  return we(() => {\n    const h = s[0];\n    if (h == null)\n      return;\n    const { unitId: p } = h, C = e.getRenderById(p), _ = C == null ? void 0 : C.scene;\n    if (_ == null)\n      return;\n    const b = _.getTransformerByCreate(), R = b.clearControl$.subscribe((S) => {\n      S === !0 && o(!1);\n    }), T = b.changeStart$.subscribe((S) => {\n      const { objects: I } = S, y = Le(I, t), O = y.filter((W) => (W == null ? void 0 : W.drawingType) === q.DRAWING_GROUP);\n      let M = !1, N = !1;\n      y.length > 1 && (M = !0), O.length > 0 && (N = !0), o(M || N), u(M), g(N);\n    });\n    return () => {\n      T.unsubscribe(), R.unsubscribe();\n    };\n  }, []), /* @__PURE__ */ P(\n    \"div\",\n    {\n      className: Q(\"univer-grid univer-gap-2 univer-py-2 univer-text-gray-400\", {\n        \"univer-hidden\": n === !0 && a === !1 || n === !1\n      }),\n      children: [\n        /* @__PURE__ */ v(\n          \"header\",\n          {\n            className: \"univer-text-gray-600 dark:!univer-text-gray-200\",\n            children: /* @__PURE__ */ v(\"div\", { children: r.t(\"image-panel.group.title\") })\n          }\n        ),\n        /* @__PURE__ */ P(\"div\", { className: \"univer-flex univer-items-center univer-justify-center univer-gap-2\", children: [\n          /* @__PURE__ */ P(\n            se,\n            {\n              className: Q({\n                \"univer-hidden\": !c\n              }),\n              onClick: d,\n              children: [\n                /* @__PURE__ */ v(ft, {}),\n                r.t(\"image-panel.group.group\")\n              ]\n            }\n          ),\n          /* @__PURE__ */ P(\n            se,\n            {\n              className: Q({\n                \"univer-hidden\": !l\n              }),\n              onClick: w,\n              children: [\n                /* @__PURE__ */ v(_t, {}),\n                r.t(\"image-panel.group.unGroup\")\n              ]\n            }\n          )\n        ] })\n      ]\n    }\n  );\n}, ye = 20, Me = 20, it = [-360, 360], Re = 300, Rr = (i) => {\n  var Ke;\n  const r = A(te), e = A(re), t = A(ue), { drawings: n, transformShow: s } = i, a = n[0];\n  if (a == null)\n    return;\n  const o = a.transform;\n  if (o == null)\n    return;\n  const { unitId: c, subUnitId: u, drawingId: l, drawingType: g } = a, d = t.getRenderById(c), f = d == null ? void 0 : d.scene;\n  if (f == null)\n    return;\n  const w = (Ke = f.getEngine()) == null ? void 0 : Ke.activeScene;\n  if (w == null)\n    return;\n  const h = f.getTransformerByCreate(), {\n    width: p = 0,\n    height: C = 0,\n    left: _ = 0,\n    top: b = 0,\n    angle: R = 0\n  } = o, [T, S] = j(p), [I, y] = j(C), [O, M] = j(_), [N, B] = j(b), [W, K] = j(R), [Y, ve] = j(h.keepRatio), ne = (m, E, H, k) => {\n    const { width: U, height: X } = w, { ancestorLeft: V, ancestorTop: G } = f;\n    let Z = m, ie = E, ge = H, de = k;\n    return m + V < 0 && (Z = -V), E + G < 0 && (ie = -G), ge = U - Z - V, ge < ye && (ge = ye), de = X - ie - G, de < Me && (de = Me), m + ge + V > U && (Z = U - H - V), E + de + G > X && (ie = X - k - G), {\n      limitLeft: Z,\n      limitTop: ie,\n      limitWidth: ge,\n      limitHeight: de\n    };\n  }, $ = (m) => {\n    const { objects: E } = m, H = Le(E, e);\n    if (H.length !== 1)\n      return;\n    const k = H[0];\n    if (k == null)\n      return;\n    const { transform: U } = k;\n    if (U == null)\n      return;\n    const {\n      width: X,\n      height: V,\n      left: G,\n      top: Z,\n      angle: ie\n    } = U;\n    X != null && S(X), V != null && y(V), G != null && M(G), Z != null && B(Z), ie != null && K(ie);\n  };\n  we(() => {\n    const m = [\n      h.changeStart$.subscribe((E) => {\n        $(E);\n      }),\n      h.changing$.subscribe((E) => {\n        $(E);\n      }),\n      h.changeEnd$.subscribe((E) => {\n        $(E);\n      }),\n      e.focus$.subscribe((E) => {\n        if (E.length !== 1)\n          return;\n        const H = e.getDrawingByParam(E[0]);\n        if (H == null)\n          return;\n        const k = H.transform;\n        if (k == null)\n          return;\n        const {\n          width: U,\n          height: X,\n          left: V,\n          top: G,\n          angle: Z\n        } = k;\n        U != null && S(U), X != null && y(X), V != null && M(V), G != null && B(G), Z != null && K(Z);\n      })\n    ];\n    return () => {\n      m.forEach((E) => E.unsubscribe());\n    };\n  }, []);\n  const ke = Ce((m) => {\n    if (m == null)\n      return;\n    const { limitWidth: E, limitHeight: H } = ne(O, N, m, I);\n    m = Math.min(m, E);\n    const k = { unitId: c, subUnitId: u, drawingId: l, drawingType: g, transform: { width: m } };\n    if (Y) {\n      let U = m / T * I;\n      if (U = Math.max(U, Me), U > H)\n        return;\n      y(U), k.transform.height = U;\n    }\n    S(m), e.featurePluginUpdateNotification([k]), h.refreshControls().changeNotification();\n  }, Re), bt = Ce((m) => {\n    if (m == null)\n      return;\n    const { limitHeight: E, limitWidth: H } = ne(O, N, T, m);\n    m = Math.min(m, E);\n    const k = { unitId: c, subUnitId: u, drawingId: l, drawingType: g, transform: { height: m } };\n    if (Y) {\n      let U = m / I * T;\n      if (U = Math.max(U, ye), U > H)\n        return;\n      S(U), k.transform.width = U;\n    }\n    y(m), e.featurePluginUpdateNotification([k]), h.refreshControls().changeNotification();\n  }, Re), It = Ce((m) => {\n    if (m == null)\n      return;\n    const { limitLeft: E } = ne(m, N, T, I);\n    m = E;\n    const H = { unitId: c, subUnitId: u, drawingId: l, drawingType: g, transform: { left: m } };\n    M(m), e.featurePluginUpdateNotification([H]), h.refreshControls().changeNotification();\n  }, Re), yt = Ce((m) => {\n    if (m == null)\n      return;\n    const { limitTop: E } = ne(O, m, T, I);\n    m = E;\n    const H = { unitId: c, subUnitId: u, drawingId: l, drawingType: g, transform: { top: m } };\n    B(m), e.featurePluginUpdateNotification([H]), h.refreshControls().changeNotification();\n  }, Re), Mt = (m) => {\n    if (m == null)\n      return;\n    const E = { unitId: c, subUnitId: u, drawingId: l, drawingType: g, transform: { angle: m } };\n    K(m), e.featurePluginUpdateNotification([E]), h.refreshControls().changeNotification();\n  }, Rt = (m) => {\n    ve(m), h.keepRatio = m;\n  };\n  return /* @__PURE__ */ P(\n    \"div\",\n    {\n      className: Q(\"univer-grid univer-gap-2 univer-py-2 univer-text-gray-400\", {\n        \"univer-hidden\": !s\n      }),\n      children: [\n        /* @__PURE__ */ v(\n          \"header\",\n          {\n            className: \"univer-text-gray-600 dark:!univer-text-gray-200\",\n            children: /* @__PURE__ */ v(\"div\", { children: r.t(\"image-panel.transform.title\") })\n          }\n        ),\n        /* @__PURE__ */ P(\n          \"div\",\n          {\n            className: \"univer-grid univer-grid-cols-3 univer-gap-2 [&>div]:univer-grid [&>div]:univer-gap-2\",\n            children: [\n              /* @__PURE__ */ P(\"div\", { children: [\n                /* @__PURE__ */ v(\"span\", { children: r.t(\"image-panel.transform.width\") }),\n                /* @__PURE__ */ v(\n                  he,\n                  {\n                    precision: 1,\n                    value: T,\n                    min: ye,\n                    onChange: (m) => {\n                      ke(m);\n                    }\n                  }\n                )\n              ] }),\n              /* @__PURE__ */ P(\"div\", { children: [\n                /* @__PURE__ */ v(\"span\", { children: r.t(\"image-panel.transform.height\") }),\n                /* @__PURE__ */ v(\n                  he,\n                  {\n                    precision: 1,\n                    value: I,\n                    min: Me,\n                    onChange: (m) => {\n                      bt(m);\n                    }\n                  }\n                )\n              ] }),\n              /* @__PURE__ */ P(\"div\", { children: [\n                /* @__PURE__ */ v(\"span\", { children: r.t(\"image-panel.transform.lock\") }),\n                /* @__PURE__ */ v(\"div\", { className: \"univer-text-center\", children: /* @__PURE__ */ v($t, { checked: Y, onChange: Rt }) })\n              ] })\n            ]\n          }\n        ),\n        /* @__PURE__ */ P(\n          \"div\",\n          {\n            className: \"univer-grid univer-grid-cols-3 univer-gap-2 [&>div]:univer-grid [&>div]:univer-gap-2\",\n            children: [\n              /* @__PURE__ */ P(\"div\", { children: [\n                /* @__PURE__ */ v(\"span\", { children: r.t(\"image-panel.transform.x\") }),\n                /* @__PURE__ */ v(he, { precision: 1, value: O, onChange: (m) => {\n                  It(m);\n                } })\n              ] }),\n              /* @__PURE__ */ P(\"div\", { children: [\n                /* @__PURE__ */ v(\"span\", { children: r.t(\"image-panel.transform.y\") }),\n                /* @__PURE__ */ v(he, { precision: 1, value: N, onChange: (m) => {\n                  yt(m);\n                } })\n              ] }),\n              /* @__PURE__ */ P(\"div\", { children: [\n                /* @__PURE__ */ v(\"span\", { children: r.t(\"image-panel.transform.rotate\") }),\n                /* @__PURE__ */ v(\n                  he,\n                  {\n                    precision: 1,\n                    value: W,\n                    min: it[0],\n                    max: it[1],\n                    onChange: Mt\n                  }\n                )\n              ] })\n            ]\n          }\n        )\n      ]\n    }\n  );\n}, Or = (i) => {\n  const r = A(ce), e = A(te), { drawings: t, cropperShow: n } = i;\n  if (t[0] == null)\n    return;\n  const [a, o] = j(x.FREE), c = ot(!1), u = [\n    {\n      label: e.t(\"image-panel.crop.mode\"),\n      value: x.FREE\n    },\n    {\n      label: \"1:1\",\n      value: x.R1_1\n    },\n    {\n      label: \"16:9\",\n      value: x.R16_9\n    },\n    {\n      label: \"9:16\",\n      value: x.R9_16\n    },\n    {\n      label: \"5:4\",\n      value: x.R5_4\n    },\n    {\n      label: \"4:5\",\n      value: x.R4_5\n    },\n    {\n      label: \"4:3\",\n      value: x.R4_3\n    },\n    {\n      label: \"3:4\",\n      value: x.R3_4\n    },\n    {\n      label: \"3:2\",\n      value: x.R3_2\n    },\n    {\n      label: \"2:3\",\n      value: x.R2_3\n    }\n  ];\n  we(() => {\n    const d = r.onCommandExecuted((f) => {\n      if (f.id === oe.id) {\n        const w = f.params;\n        w != null && w.isAuto || (c.current = !1);\n      }\n    });\n    return () => {\n      d == null || d.dispose();\n    };\n  }, []);\n  function l(d) {\n    o(d), c.current && r.executeCommand(Pe.id, {\n      cropType: d\n    });\n  }\n  const g = (d) => {\n    r.executeCommand(Pe.id, {\n      cropType: d\n    }), c.current = !0;\n  };\n  return /* @__PURE__ */ P(\n    \"div\",\n    {\n      className: Q(\"univer-grid univer-gap-2 univer-py-2 univer-text-gray-400\", {\n        \"univer-hidden\": !n\n      }),\n      children: [\n        /* @__PURE__ */ v(\n          \"header\",\n          {\n            className: \"univer-text-gray-600 dark:!univer-text-gray-200\",\n            children: /* @__PURE__ */ v(\"div\", { children: e.t(\"image-panel.crop.title\") })\n          }\n        ),\n        /* @__PURE__ */ P(\"div\", { className: \"univer-flex univer-items-center univer-justify-center univer-gap-2\", children: [\n          /* @__PURE__ */ P(se, { onClick: () => {\n            g(a);\n          }, children: [\n            /* @__PURE__ */ v(ht, {}),\n            e.t(\"image-panel.crop.start\")\n          ] }),\n          /* @__PURE__ */ v(st, { value: a, options: u, onChange: l })\n        ] })\n      ]\n    }\n  );\n}, Ar = (i) => {\n  const r = A(re), e = A(ue), t = A(te), { drawings: n, hasArrange: s = !0, hasTransform: a = !0, hasAlign: o = !0, hasCropper: c = !0, hasGroup: u = !0 } = i, l = n[0];\n  if (l == null)\n    return;\n  const { unitId: g } = l, d = e.getRenderById(g), f = d == null ? void 0 : d.scene;\n  if (f == null)\n    return;\n  const w = f.getTransformerByCreate(), [h, p] = j(!0), [C, _] = j(!0), [b, R] = j(!1), [T, S] = j(!0), [I, y] = j(!1);\n  return we(() => {\n    const O = w.clearControl$.subscribe((B) => {\n      B === !0 && (p(!1), _(!1), R(!1), S(!1), y(!0));\n    }), M = w.changeStart$.subscribe((B) => {\n      const { objects: W } = B, K = Le(W, r);\n      K.length === 0 ? (p(!1), _(!1), R(!1), S(!1), y(!0)) : K.length === 1 ? (p(!0), _(!0), R(!1), S(!0), y(!1)) : (p(!0), _(!1), R(!0), S(!1), y(!1));\n    }), N = r.focus$.subscribe((B) => {\n      B.length === 0 ? (p(!1), _(!1), R(!1), S(!1), y(!0)) : B.length === 1 ? (p(!0), _(!0), R(!1), S(!0), y(!1)) : (p(!0), _(!1), R(!0), S(!1), y(!1));\n    });\n    return () => {\n      M.unsubscribe(), O.unsubscribe(), N.unsubscribe();\n    };\n  }, []), /* @__PURE__ */ P(Ht, { children: [\n    /* @__PURE__ */ v(\n      \"div\",\n      {\n        className: Q(\"univer-h-full\", {\n          \"univer-hidden\": !I\n        }),\n        children: /* @__PURE__ */ v(\"div\", { className: \"univer-flex univer-h-full univer-items-center univer-justify-center\", children: /* @__PURE__ */ v(\"span\", { children: t.t(\"image-panel.null\") }) })\n      }\n    ),\n    /* @__PURE__ */ v(yr, { arrangeShow: s === !0 ? h : !1, drawings: n }),\n    /* @__PURE__ */ v(Rr, { transformShow: a === !0 ? C : !1, drawings: n }),\n    /* @__PURE__ */ v(Ir, { alignShow: o === !0 ? b : !1, drawings: n }),\n    /* @__PURE__ */ v(Or, { cropperShow: c === !0 ? T : !1, drawings: n }),\n    /* @__PURE__ */ v(Mr, { hasGroup: u, drawings: n })\n  ] });\n};\nexport {\n  Pe as AutoImageCropOperation,\n  Xt as COMPONENT_IMAGE_POPUP_MENU,\n  oe as CloseImageCropOperation,\n  Ar as DrawingCommonPanel,\n  Ue as DrawingRenderService,\n  Ie as ImageCropperObject,\n  lr as ImagePopupMenu,\n  ut as ImageResetSizeOperation,\n  Ze as OpenImageCropOperation,\n  ze as SetDrawingAlignOperation,\n  nt as UniverDrawingUIPlugin,\n  Le as getUpdateParams\n};\n", "var yr = Object.defineProperty;\nvar Tr = (i, t, e) => t in i ? yr(i, t, { enumerable: !0, configurable: !0, writable: !0, value: e }) : i[t] = e;\nvar ee = (i, t, e) => Tr(i, typeof t != \"symbol\" ? t + \"\" : t, e);\nimport { precisionTo as pt, IRenderManagerService as J, transformObjectOutOfGroup as Er, getGroupState as Or, getCurrentTypeOfRenderer as sn, CURSOR_TYPE as Ur, RENDER_CLASS_TYPE as Oe, Rect as Ue, ObjectType as mn, DRAWING_OBJECT_LAYER_INDEX as Ft, SHEET_VIEWPORT_KEY as xn } from \"@univerjs/engine-render\";\nimport { convertPositionSheetOverGridToAbsolute as Pr, SheetSkeletonManagerService as V, ISheetSelectionRenderService as xe, attachRangeWithCoord as Yn, SheetCanvasPopManagerService as Ar, HoverManagerService as Nr, IEditorBridgeService as kr, IAutoFillService as Wr, EditingRenderController as Br, SetCellEditVisibleOperation as pn, PREDEFINED_HOOK_NAME as We, COPY_TYPE as ve, discreteRangeToRange as wn, virtualizeDiscreteRanges as jr, ISheetClipboardService as $r, SetZoomRatioOperation as _n, SetScrollOperation as Fr, SheetPrintInterceptorService as xr, getCurrentRangeDisable$ as Yr } from \"@univerjs/sheets-ui\";\nimport { CommandType as Z, ICommandService as X, IUndoRedoService as Ye, sequenceExecute as Gn, DrawingTypeEnum as B, ArrangeTypeEnum as wt, Inject as A, IContextService as Xn, LocaleService as nt, Injector as Ge, Disposable as ne, createDocumentModelWithStyle as Vt, ObjectRelativeFromV as Sn, ObjectRelativeFromH as vn, WrapTextType as In, PositionedObjectLayoutType as Cn, BooleanNumber as Dn, BuildTextUtils as Ht, ImageSourceType as Rn, generateRandomId as Qe, FOCUSING_COMMON_DRAWINGS as $e, IUniverInstanceService as Se, UniverInstanceType as F, Direction as _e, IImageIoService as Gr, RxDisposable as Xr, DOCS_NORMAL_EDITOR_UNIT_ID_KEY as Ze, DOCS_ZEN_EDITOR_UNIT_ID_KEY as Be, InterceptorEffectEnum as Lr, ObjectMatrix as Vr, DOCS_FORMULA_BAR_EDITOR_UNIT_ID_KEY as Hr, IPermissionService as zr, UserManagerService as Kr, LifecycleService as Jr, LifecycleStages as Zr, DisposableCollection as _t, fromEventSubject as qr, Tools as je, PRINT_CHART_COMPONENT_KEY as Qr, Rectangle as ei, FOCUSING_FX_BAR_EDITOR as ti, EDITOR_ACTIVATED as ni, FOCUSING_PANEL_EDITOR as ri, DependentOn as ii, IConfigService as si, Plugin as oi, merge as ai, registerDependencies as ci, touchDependencies as xt } from \"@univerjs/core\";\nimport { ISheetDrawingService as re, DrawingApplyType as U, SetDrawingApplyMutation as P, SheetDrawingAnchorType as O, UniverSheetsDrawingPlugin as di } from \"@univerjs/sheets-drawing\";\nimport { SheetInterceptorService as At, SheetsSelectionsService as on, SetRangeValuesCommand as bn, getSheetCommandTarget as se, INTERCEPTOR_POINT as li, InterceptCellContentPriority as ui, WorkbookViewPermission as Mn, WorksheetViewPermission as yn, WorkbookEditablePermission as zt, WorksheetEditPermission as Kt, SetFrozenMutation as hi, SetWorksheetRowAutoHeightMutation as gi, COMMAND_LISTENER_SKELETON_CHANGE as fi, InsertRowCommand as Ln, InsertColCommand as Vn, RemoveRowCommand as Hn, RemoveColCommand as zn, DeleteRangeMoveLeftCommand as Kn, DeleteRangeMoveUpCommand as Jn, InsertRangeMoveDownCommand as Zn, InsertRangeMoveRightCommand as qn, DeltaRowHeightCommand as Jt, SetRowHeightCommand as Zt, DeltaColumnWidthCommand as Qn, SetColWidthCommand as er, SetRowHiddenCommand as tr, SetSpecificRowsVisibleCommand as nr, SetSpecificColsVisibleCommand as rr, SetColHiddenCommand as ir, MoveColsCommand as sr, MoveRowsCommand as or, MoveRangeCommand as ar, SetRowVisibleMutation as mi, SetRowHiddenMutation as pi, SetColVisibleMutation as wi, SetColHiddenMutation as _i, SetWorksheetRowHeightMutation as Si, SetWorksheetColWidthMutation as vi, SetWorksheetActiveOperation as Ii, RangeProtectionPermissionEditPoint as Ci } from \"@univerjs/sheets\";\nimport { MessageType as pe, render as Di, unmount as Ri, clsx as bi, RadioGroup as Mi, Radio as Yt } from \"@univerjs/design\";\nimport { docDrawingPositionToTransform as Tn, ReplaceSnapshotCommand as yi, InnerPasteCommand as Ti } from \"@univerjs/docs-ui\";\nimport { IImageIoService as Ei, IDrawingManagerService as ie, DRAWING_IMAGE_ALLOW_IMAGE_LIST as En, DRAWING_IMAGE_COUNT_LIMIT as On, ImageUploadStatusType as Pe, DRAWING_IMAGE_ALLOW_SIZE as Un, getImageSize as Gt, SetDrawingSelectedOperation as Nt, DRAWING_IMAGE_WIDTH_LIMIT as Pn, DRAWING_IMAGE_HEIGHT_LIMIT as An, ImageSourceType as Oi, getDrawingShapeKeyByDrawingSearch as Ie, UniverDrawingPlugin as Ui } from \"@univerjs/drawing\";\nimport { ILocalFileService as Pi, IMessageService as cr, ISidebarService as Ai, IDialogService as Ni, IClipboardInterfaceService as ki, CanvasFloatDomService as Wi, PrintFloatDomSingle as Bi, ComponentManager as dr, connectInjector as ji, useDependency as qe, getMenuHiddenObservable as an, MenuItemType as cn, RibbonInsertGroup as $i, KeyCode as Fe, IMenuManagerService as Fi, IShortcutService as xi } from \"@univerjs/ui\";\nimport { DocDrawingController as Yi, UniverDocsDrawingPlugin as Gi } from \"@univerjs/docs-drawing\";\nimport { ImageCropperObject as Xi, COMPONENT_IMAGE_POPUP_MENU as Li, OpenImageCropOperation as Vi, ImageResetSizeOperation as Hi, DrawingRenderService as lr, DrawingCommonPanel as zi, UniverDrawingUIPlugin as Ki } from \"@univerjs/drawing-ui\";\nimport { takeUntil as Nn, throttleTime as Ji, combineLatest as St, switchMap as we, EMPTY as fe, tap as kn, map as Re, distinctUntilChanged as Wn, Subject as Xt, filter as Zi, take as qi, BehaviorSubject as ke, of as Bn } from \"rxjs\";\nimport { jsx as oe, jsxs as qt } from \"react/jsx-runtime\";\nimport { useMemo as Qi, useState as Qt, useEffect as ur } from \"react\";\nfunction z(i, t, e) {\n  const { from: n, to: r, flipY: s = !1, flipX: o = !1, angle: a = 0, skewX: d = 0, skewY: u = 0 } = i, c = e.getCurrent();\n  if (c == null)\n    return;\n  const l = Pr(\n    c.unitId,\n    c.sheetId,\n    { from: n, to: r },\n    e\n  );\n  let { left: g, top: h, width: f, height: p } = l;\n  const m = e.getCurrentSkeleton(), _ = m.rowHeaderWidth + m.columnTotalWidth, v = m.columnHeaderHeight + m.rowTotalHeight;\n  return g + f > _ && (g = _ - f), h + p > v && (h = v - p), {\n    flipY: s,\n    flipX: o,\n    angle: a,\n    skewX: d,\n    skewY: u,\n    left: g,\n    top: h,\n    width: f,\n    height: p\n  };\n}\nfunction $(i, t) {\n  const { left: e = 0, top: n = 0, width: r = 0, height: s = 0, flipY: o = !1, flipX: a = !1, angle: d = 0, skewX: u = 0, skewY: c = 0 } = i, l = t.getCellWithCoordByOffset(e, n);\n  if (l == null)\n    return;\n  const g = {\n    column: l.actualColumn,\n    columnOffset: pt(e - l.startX, 1),\n    row: l.actualRow,\n    rowOffset: pt(n - l.startY, 1)\n  }, h = t.getCellWithCoordByOffset(e + r, n + s);\n  if (h == null)\n    return;\n  const f = {\n    column: h.actualColumn,\n    columnOffset: pt(e + r - h.startX, 1),\n    row: h.actualRow,\n    rowOffset: pt(n + s - h.startY, 1)\n  };\n  return {\n    flipY: o,\n    flipX: a,\n    angle: d,\n    skewX: u,\n    skewY: c,\n    from: g,\n    to: f\n  };\n}\nconst Y = {\n  id: \"sheet.operation.clear-drawing-transformer\",\n  type: Z.MUTATION,\n  handler: (i, t) => {\n    const e = i.get(J);\n    return t.forEach((n) => {\n      var r, s;\n      (s = (r = e.getRenderById(n)) == null ? void 0 : r.scene.getTransformer()) == null || s.debounceRefreshControls();\n    }), !0;\n  }\n}, rt = {\n  id: \"sheet.command.remove-sheet-image\",\n  type: Z.COMMAND,\n  handler: (i, t) => {\n    var v, I, R;\n    const e = i.get(X), n = i.get(Ye), r = i.get(At), s = i.get(re);\n    if (!t) return !1;\n    const { drawings: o } = t, a = [];\n    o.forEach((S) => {\n      const { unitId: C } = S;\n      a.push(C);\n    });\n    const d = s.getBatchRemoveOp(o), { unitId: u, subUnitId: c, undo: l, redo: g, objects: h } = d, f = r.onCommandExecute({ id: rt.id, params: t }), p = { id: P.id, params: { unitId: u, subUnitId: c, op: g, objects: h, type: U.REMOVE } }, m = { id: P.id, params: { unitId: u, subUnitId: c, op: l, objects: h, type: U.INSERT } };\n    return Gn([...(v = f.preRedos) != null ? v : [], p, ...f.redos], e) ? (n.pushUndoRedo({\n      unitID: u,\n      undoMutations: [\n        ...(I = f.preUndos) != null ? I : [],\n        m,\n        ...f.undos,\n        { id: Y.id, params: a }\n      ],\n      redoMutations: [\n        ...(R = f.preRedos) != null ? R : [],\n        p,\n        ...f.redos,\n        { id: Y.id, params: a }\n      ]\n    }), !0) : !1;\n  }\n}, hr = {\n  id: \"sheet.command.delete-drawing\",\n  type: Z.COMMAND,\n  handler: (i) => {\n    const t = i.get(X), n = i.get(re).getFocusDrawings();\n    if (n.length === 0)\n      return !1;\n    const r = n[0].unitId, s = n.map((o) => {\n      const { unitId: a, subUnitId: d, drawingId: u, drawingType: c } = o;\n      return {\n        unitId: a,\n        subUnitId: d,\n        drawingId: u,\n        drawingType: c\n      };\n    });\n    return t.executeCommand(rt.id, {\n      unitId: r,\n      drawings: s\n    });\n  }\n};\nfunction es(i) {\n  const t = [];\n  return i.forEach((e) => {\n    const { parent: n, children: r } = e, { unitId: s, subUnitId: o, drawingId: a } = n, d = Or(0, 0, r.map((l) => l.transform || {})), u = r.map((l) => {\n      const g = l.transform || { left: 0, top: 0 }, { unitId: h, subUnitId: f, drawingId: p } = l;\n      return {\n        unitId: h,\n        subUnitId: f,\n        drawingId: p,\n        transform: {\n          ...g,\n          left: g.left - d.left,\n          top: g.top - d.top\n        },\n        groupId: a\n      };\n    }), c = {\n      unitId: s,\n      subUnitId: o,\n      drawingId: a,\n      drawingType: B.DRAWING_GROUP,\n      transform: d\n    };\n    t.push({\n      parent: c,\n      children: u\n    });\n  }), t;\n}\nfunction ts(i) {\n  const t = [];\n  return i.forEach((e) => {\n    const { parent: n, children: r } = e, { unitId: s, subUnitId: o, drawingId: a, transform: d = { width: 0, height: 0 } } = n;\n    if (d == null)\n      return;\n    const u = r.map((l) => {\n      const { transform: g } = l, { unitId: h, subUnitId: f, drawingId: p } = l, m = Er(g || {}, d, d.width || 0, d.height || 0);\n      return {\n        unitId: h,\n        subUnitId: f,\n        drawingId: p,\n        transform: m,\n        groupId: void 0\n      };\n    }), c = {\n      unitId: s,\n      subUnitId: o,\n      drawingId: a,\n      drawingType: B.DRAWING_GROUP,\n      transform: {\n        left: 0,\n        top: 0\n      }\n    };\n    t.push({\n      parent: c,\n      children: u\n    });\n  }), t;\n}\nconst gr = {\n  id: \"sheet.command.group-sheet-image\",\n  type: Z.COMMAND,\n  handler: (i, t) => {\n    const e = i.get(X), n = i.get(Ye), r = i.get(re);\n    if (!t) return !1;\n    const s = [];\n    t.forEach(({ parent: h, children: f }) => {\n      s.push(h.unitId), f.forEach((p) => {\n        s.push(p.unitId);\n      });\n    });\n    const o = r.getGroupDrawingOp(t), { unitId: a, subUnitId: d, undo: u, redo: c, objects: l } = o;\n    return e.syncExecuteCommand(P.id, { op: c, unitId: a, subUnitId: d, objects: l, type: U.GROUP }) ? (n.pushUndoRedo({\n      unitID: a,\n      undoMutations: [\n        { id: P.id, params: { op: u, unitId: a, subUnitId: d, objects: ts(l), type: U.UNGROUP } },\n        { id: Y.id, params: s }\n      ],\n      redoMutations: [\n        { id: P.id, params: { op: c, unitId: a, subUnitId: d, objects: l, type: U.GROUP } },\n        { id: Y.id, params: s }\n      ]\n    }), !0) : !1;\n  }\n}, kt = {\n  id: \"sheet.command.insert-sheet-image\",\n  type: Z.COMMAND,\n  handler: (i, t) => {\n    var v, I, R;\n    const e = i.get(X), n = i.get(Ye), r = i.get(re), s = i.get(At);\n    if (!t) return !1;\n    const o = t.drawings, a = o.map((S) => S.unitId), d = r.getBatchAddOp(o), { unitId: u, subUnitId: c, undo: l, redo: g, objects: h } = d, f = s.onCommandExecute({ id: kt.id, params: t }), p = { id: P.id, params: { op: g, unitId: u, subUnitId: c, objects: h, type: U.INSERT } }, m = { id: P.id, params: { op: l, unitId: u, subUnitId: c, objects: h, type: U.REMOVE } };\n    return Gn([...(v = f.preRedos) != null ? v : [], p, ...f.redos], e) ? (n.pushUndoRedo({\n      unitID: u,\n      undoMutations: [\n        ...(I = f.preUndos) != null ? I : [],\n        m,\n        ...f.undos,\n        { id: Y.id, params: a }\n      ],\n      redoMutations: [\n        ...(R = f.preRedos) != null ? R : [],\n        p,\n        ...f.redos,\n        { id: Y.id, params: a }\n      ]\n    }), !0) : !1;\n  }\n}, fr = {\n  id: \"sheet.command.set-drawing-arrange\",\n  type: Z.COMMAND,\n  handler: (i, t) => {\n    const e = i.get(X), n = i.get(Ye);\n    if (!t) return !1;\n    const r = i.get(re), { unitId: s, subUnitId: o, drawingIds: a, arrangeType: d } = t, u = { unitId: s, subUnitId: o, drawingIds: a };\n    let c;\n    if (d === wt.forward ? c = r.getForwardDrawingsOp(u) : d === wt.backward ? c = r.getBackwardDrawingOp(u) : d === wt.front ? c = r.getFrontDrawingsOp(u) : d === wt.back && (c = r.getBackDrawingsOp(u)), c == null)\n      return !1;\n    const { objects: l, redo: g, undo: h } = c;\n    return e.syncExecuteCommand(P.id, { op: g, unitId: s, subUnitId: o, objects: l, type: U.ARRANGE }) ? (n.pushUndoRedo({\n      unitID: s,\n      undoMutations: [\n        { id: P.id, params: { op: h, unitId: s, subUnitId: o, objects: l, type: U.ARRANGE } }\n      ],\n      redoMutations: [\n        { id: P.id, params: { op: g, unitId: s, subUnitId: o, objects: l, type: U.ARRANGE } }\n      ]\n    }), !0) : !1;\n  }\n}, Wt = {\n  id: \"sheet.command.set-sheet-image\",\n  type: Z.COMMAND,\n  handler: (i, t) => {\n    const e = i.get(X), n = i.get(Ye), r = i.get(re);\n    if (!t) return !1;\n    const { drawings: s } = t, o = r.getBatchUpdateOp(s), { unitId: a, subUnitId: d, undo: u, redo: c, objects: l } = o;\n    return e.syncExecuteCommand(P.id, { unitId: a, subUnitId: d, op: c, objects: l, type: U.UPDATE }) ? (n.pushUndoRedo({\n      unitID: a,\n      undoMutations: [\n        { id: P.id, params: { unitId: a, subUnitId: d, op: u, objects: l, type: U.UPDATE } },\n        { id: Y.id, params: [a] }\n      ],\n      redoMutations: [\n        { id: P.id, params: { unitId: a, subUnitId: d, op: c, objects: l, type: U.UPDATE } },\n        { id: Y.id, params: [a] }\n      ]\n    }), !0) : !1;\n  }\n}, mr = {\n  id: \"sheet.command.ungroup-sheet-image\",\n  type: Z.COMMAND,\n  handler: (i, t) => {\n    const e = i.get(X), n = i.get(Ye), r = i.get(re);\n    if (!t) return !1;\n    const s = [];\n    t.forEach(({ parent: h, children: f }) => {\n      s.push(h.unitId), f.forEach((p) => {\n        s.push(p.unitId);\n      });\n    });\n    const o = r.getUngroupDrawingOp(t), { unitId: a, subUnitId: d, undo: u, redo: c, objects: l } = o;\n    return e.syncExecuteCommand(P.id, { op: c, unitId: a, subUnitId: d, objects: l, type: U.UNGROUP }) ? (n.pushUndoRedo({\n      unitID: a,\n      undoMutations: [\n        { id: P.id, params: { op: u, unitId: a, subUnitId: d, objects: es(l), type: U.GROUP } },\n        { id: Y.id, params: s }\n      ],\n      redoMutations: [\n        { id: P.id, params: { op: c, unitId: a, subUnitId: d, objects: l, type: U.UNGROUP } },\n        { id: Y.id, params: s }\n      ]\n    }), !0) : !1;\n  }\n};\nvar ns = Object.getOwnPropertyDescriptor, rs = (i, t, e, n) => {\n  for (var r = n > 1 ? void 0 : n ? ns(t, e) : t, s = i.length - 1, o; s >= 0; s--)\n    (o = i[s]) && (r = o(r) || r);\n  return r;\n}, te = (i, t) => (e, n) => t(e, n, i);\nfunction is(i, t, e) {\n  const n = e * Math.PI / 180, r = Math.abs(i * Math.cos(n)) + Math.abs(t * Math.sin(n)), s = Math.abs(i * Math.sin(n)) + Math.abs(t * Math.cos(n));\n  return { rotatedWidth: r, rotatedHeight: s };\n}\nfunction en(i, t, e, n, r) {\n  var v;\n  const { rotatedHeight: s, rotatedWidth: o } = is(e, n, r), d = i.get(J).getRenderById(t.unitId);\n  if (!d)\n    return !1;\n  const c = (v = d.with(V).getSkeletonParam(t.subUnitId)) == null ? void 0 : v.skeleton;\n  if (c == null)\n    return !1;\n  const l = c.getCellByIndex(t.row, t.col), g = l.mergeInfo.endX - l.mergeInfo.startX - 2, h = l.mergeInfo.endY - l.mergeInfo.startY - 2, f = o / s, m = Math.ceil(Math.min(g, h * f)) / o, _ = !m || Number.isNaN(m) ? 1e-3 : m;\n  return {\n    width: e * _,\n    height: n * _\n  };\n}\nlet et = class extends ne {\n  constructor(t, e, n, r, s, o, a, d, u, c, l, g, h) {\n    super();\n    ee(this, \"_workbookSelections\");\n    this._context = t, this._skeletonManagerService = e, this._commandService = n, this._selectionRenderService = r, this._imageIoService = s, this._fileOpenerService = o, this._sheetDrawingService = a, this._drawingManagerService = d, this._contextService = u, this._messageService = c, this._localeService = l, this._injector = h, this._workbookSelections = g.getWorkbookSelections(this._context.unitId), this._updateImageListener(), this._updateOrderListener(), this._groupDrawingListener(), this._focusDrawingListener();\n  }\n  async insertFloatImage() {\n    const t = await this._fileOpenerService.openFile({\n      multiple: !0,\n      accept: En.map((n) => `.${n.replace(\"image/\", \"\")}`).join(\",\")\n    }), e = t.length;\n    return e > On ? (this._messageService.show({\n      type: pe.Error,\n      content: this._localeService.t(\"update-status.exceedMaxCount\", String(On))\n    }), !1) : e === 0 ? !1 : (t.forEach(async (n) => await this.insertFloatImageByFile(n)), !0);\n  }\n  async insertCellImage() {\n    const e = (await this._fileOpenerService.openFile({\n      multiple: !1,\n      accept: En.map((n) => `.${n.replace(\"image/\", \"\")}`).join(\",\")\n    }))[0];\n    return e ? (await this._insertCellImage(e), !0) : !1;\n  }\n  insertCellImageByFile(t, e) {\n    return this._insertCellImage(t, e);\n  }\n  async insertFloatImageByFile(t) {\n    let e;\n    try {\n      e = await this._imageIoService.saveImage(t);\n    } catch (v) {\n      const I = v.message;\n      I === Pe.ERROR_EXCEED_SIZE ? this._messageService.show({\n        type: pe.Error,\n        content: this._localeService.t(\"update-status.exceedMaxSize\", String(Un / (1024 * 1024)))\n      }) : I === Pe.ERROR_IMAGE_TYPE ? this._messageService.show({\n        type: pe.Error,\n        content: this._localeService.t(\"update-status.invalidImageType\")\n      }) : I === Pe.ERROR_IMAGE && this._messageService.show({\n        type: pe.Error,\n        content: this._localeService.t(\"update-status.invalidImage\")\n      });\n    }\n    if (e == null)\n      return;\n    const n = this._getUnitInfo(), { unitId: r, subUnitId: s } = n, { imageId: o, imageSourceType: a, source: d, base64Cache: u } = e, { width: c, height: l, image: g } = await Gt(u || \"\"), { width: h, height: f } = this._context.scene;\n    this._imageIoService.addImageSourceCache(d, a, g);\n    let p = 1;\n    if (c > Pn || l > An) {\n      const v = Pn / c, I = An / l;\n      p = Math.max(v, I);\n    }\n    const m = this._getImagePosition(c * p, l * p, h, f);\n    if (m == null)\n      return;\n    const _ = {\n      unitId: r,\n      subUnitId: s,\n      drawingId: o,\n      drawingType: B.DRAWING_IMAGE,\n      imageSourceType: a,\n      source: d,\n      transform: z(m, this._selectionRenderService, this._skeletonManagerService),\n      sheetTransform: m\n    };\n    return this._commandService.executeCommand(kt.id, {\n      unitId: r,\n      drawings: [_]\n    });\n  }\n  // eslint-disable-next-line max-lines-per-function\n  async _insertCellImage(t, e) {\n    var I, R;\n    let n;\n    try {\n      n = await this._imageIoService.saveImage(t);\n    } catch (S) {\n      const C = S.message;\n      C === Pe.ERROR_EXCEED_SIZE ? this._messageService.show({\n        type: pe.Error,\n        content: this._localeService.t(\"update-status.exceedMaxSize\", String(Un / (1024 * 1024)))\n      }) : C === Pe.ERROR_IMAGE_TYPE ? this._messageService.show({\n        type: pe.Error,\n        content: this._localeService.t(\"update-status.invalidImageType\")\n      }) : C === Pe.ERROR_IMAGE && this._messageService.show({\n        type: pe.Error,\n        content: this._localeService.t(\"update-status.invalidImage\")\n      });\n    }\n    if (n == null)\n      return !1;\n    const { imageId: r, imageSourceType: s, source: o, base64Cache: a } = n, { width: d, height: u, image: c } = await Gt(a || \"\");\n    this._imageIoService.addImageSourceCache(o, s, c);\n    const l = this._workbookSelections.getCurrentLastSelection();\n    if (!l)\n      return !1;\n    let g = l.primary.actualRow, h = l.primary.actualColumn;\n    l.primary.isMerged && (g = l.primary.startRow, h = l.primary.startColumn);\n    const f = Vt(\"\", {}), p = en(\n      this._injector,\n      {\n        unitId: this._context.unitId,\n        subUnitId: this._context.unit.getActiveSheet().getSheetId(),\n        row: g,\n        col: h\n      },\n      d,\n      u,\n      0\n    );\n    if (!p)\n      return !1;\n    const m = {\n      size: {\n        width: p.width,\n        height: p.height\n      },\n      positionH: {\n        relativeFrom: vn.PAGE,\n        posOffset: 0\n      },\n      positionV: {\n        relativeFrom: Sn.PARAGRAPH,\n        posOffset: 0\n      },\n      angle: 0\n    }, _ = {\n      unitId: f.getUnitId(),\n      subUnitId: f.getUnitId(),\n      drawingId: r,\n      drawingType: B.DRAWING_IMAGE,\n      imageSourceType: s,\n      source: o,\n      transform: Tn(m),\n      docTransform: m,\n      behindDoc: Dn.FALSE,\n      title: \"\",\n      description: \"\",\n      layoutType: Cn.INLINE,\n      // Insert inline drawing by default.\n      wrapText: In.BOTH_SIDES,\n      distB: 0,\n      distL: 0,\n      distR: 0,\n      distT: 0\n    }, v = Ht.drawing.add({\n      documentDataModel: f,\n      drawings: [_],\n      selection: {\n        collapsed: !0,\n        startOffset: 0,\n        endOffset: 0\n      }\n    });\n    return v ? (f.apply(v), this._commandService.syncExecuteCommand(bn.id, {\n      value: {\n        [(I = e == null ? void 0 : e.row) != null ? I : g]: {\n          [(R = e == null ? void 0 : e.col) != null ? R : h]: {\n            p: f.getSnapshot(),\n            t: 1\n          }\n        }\n      },\n      unitId: e == null ? void 0 : e.unitId,\n      subUnitId: e == null ? void 0 : e.subUnitId\n    })) : !1;\n  }\n  // eslint-disable-next-line max-lines-per-function\n  async insertCellImageByUrl(t, e) {\n    var g, h;\n    const { width: n, height: r, image: s } = await Gt(t || \"\");\n    this._imageIoService.addImageSourceCache(t, Rn.URL, s);\n    const o = this._workbookSelections.getCurrentLastSelection();\n    if (!o)\n      return !1;\n    const a = Vt(\"\", {}), d = en(\n      this._injector,\n      {\n        unitId: this._context.unitId,\n        subUnitId: this._context.unit.getActiveSheet().getSheetId(),\n        row: o.primary.actualRow,\n        col: o.primary.actualColumn\n      },\n      n,\n      r,\n      0\n    );\n    if (!d)\n      return !1;\n    const u = {\n      size: {\n        width: d.width,\n        height: d.height\n      },\n      positionH: {\n        relativeFrom: vn.PAGE,\n        posOffset: 0\n      },\n      positionV: {\n        relativeFrom: Sn.PARAGRAPH,\n        posOffset: 0\n      },\n      angle: 0\n    }, c = {\n      unitId: a.getUnitId(),\n      subUnitId: a.getUnitId(),\n      drawingId: Qe(),\n      drawingType: B.DRAWING_IMAGE,\n      imageSourceType: Rn.URL,\n      source: t,\n      transform: Tn(u),\n      docTransform: u,\n      behindDoc: Dn.FALSE,\n      title: \"\",\n      description: \"\",\n      layoutType: Cn.INLINE,\n      // Insert inline drawing by default.\n      wrapText: In.BOTH_SIDES,\n      distB: 0,\n      distL: 0,\n      distR: 0,\n      distT: 0\n    }, l = Ht.drawing.add({\n      documentDataModel: a,\n      drawings: [c],\n      selection: {\n        collapsed: !0,\n        startOffset: 0,\n        endOffset: 0\n      }\n    });\n    return l ? (a.apply(l), this._commandService.syncExecuteCommand(bn.id, {\n      value: {\n        [(g = e == null ? void 0 : e.row) != null ? g : o.primary.actualRow]: {\n          [(h = e == null ? void 0 : e.col) != null ? h : o.primary.actualColumn]: {\n            p: a.getSnapshot(),\n            t: 1\n          }\n        }\n      },\n      unitId: e == null ? void 0 : e.unitId,\n      subUnitId: e == null ? void 0 : e.subUnitId\n    })) : !1;\n  }\n  _getUnitInfo() {\n    const t = this._context.unit, e = t.getActiveSheet(), n = t.getUnitId(), r = e.getSheetId();\n    return {\n      unitId: n,\n      subUnitId: r\n    };\n  }\n  _getImagePosition(t, e, n, r) {\n    const s = this._workbookSelections.getCurrentSelections();\n    let o = {\n      startRow: 0,\n      endRow: 0,\n      startColumn: 0,\n      endColumn: 0\n    };\n    s && s.length > 0 && (o = s[s.length - 1].range);\n    const a = Yn(this._skeletonManagerService.getCurrent().skeleton, o);\n    if (a == null)\n      return;\n    let { startColumn: d, startRow: u, startX: c, startY: l } = a, g = !1;\n    if (c + t > n && (c = n - t, c < 0 && (c = 0, t = n), g = !0), l + e > r && (l = r - e, l < 0 && (l = 0, e = r), g = !0), g) {\n      const m = this._selectionRenderService.getCellWithCoordByOffset(c, l);\n      if (m == null)\n        return;\n      c = m.startX, l = m.startY, d = m.actualColumn, u = m.actualRow;\n    }\n    const h = {\n      column: d,\n      columnOffset: 0,\n      row: u,\n      rowOffset: 0\n    }, f = this._selectionRenderService.getCellWithCoordByOffset(c + t, l + e);\n    if (f == null)\n      return;\n    const p = {\n      column: f.actualColumn,\n      columnOffset: c + t - f.startX,\n      row: f.actualRow,\n      rowOffset: l + e - f.startY\n    };\n    return {\n      from: h,\n      to: p\n    };\n  }\n  _updateOrderListener() {\n    this.disposeWithMe(this._drawingManagerService.featurePluginOrderUpdate$.subscribe((t) => {\n      const { unitId: e, subUnitId: n, drawingIds: r, arrangeType: s } = t;\n      this._commandService.executeCommand(fr.id, {\n        unitId: e,\n        subUnitId: n,\n        drawingIds: r,\n        arrangeType: s\n      });\n    }));\n  }\n  _updateImageListener() {\n    this.disposeWithMe(this._drawingManagerService.featurePluginUpdate$.subscribe((t) => {\n      const e = [];\n      t.length !== 0 && (t.forEach((n) => {\n        const { unitId: r, subUnitId: s, drawingId: o, drawingType: a, transform: d } = n;\n        if (d == null)\n          return;\n        const u = this._sheetDrawingService.getDrawingByParam({ unitId: r, subUnitId: s, drawingId: o });\n        if (u == null || u.unitId !== this._context.unitId)\n          return;\n        const c = $({ ...u.transform, ...d }, this._selectionRenderService);\n        if (c == null)\n          return;\n        const l = {\n          ...n,\n          transform: { ...u.transform, ...d, ...z(c, this._selectionRenderService, this._skeletonManagerService) },\n          sheetTransform: { ...c }\n        };\n        e.push(l);\n      }), e.length > 0 && this._commandService.executeCommand(Wt.id, {\n        unitId: t[0].unitId,\n        drawings: e\n      }));\n    }));\n  }\n  _groupDrawingListener() {\n    this.disposeWithMe(this._drawingManagerService.featurePluginGroupUpdate$.subscribe((t) => {\n      this._commandService.executeCommand(gr.id, t);\n      const { unitId: e, subUnitId: n, drawingId: r } = t[0].parent;\n      this._commandService.syncExecuteCommand(Nt.id, [{ unitId: e, subUnitId: n, drawingId: r }]);\n    })), this.disposeWithMe(this._drawingManagerService.featurePluginUngroupUpdate$.subscribe((t) => {\n      this._commandService.executeCommand(mr.id, t);\n    }));\n  }\n  _focusDrawingListener() {\n    this.disposeWithMe(\n      this._drawingManagerService.focus$.subscribe((t) => {\n        t == null || t.length === 0 ? (this._contextService.setContextValue($e, !1), this._sheetDrawingService.focusDrawing([])) : (this._contextService.setContextValue($e, !0), this._sheetDrawingService.focusDrawing(t));\n      })\n    );\n  }\n};\net = rs([\n  te(1, A(V)),\n  te(2, X),\n  te(3, xe),\n  te(4, Ei),\n  te(5, Pi),\n  te(6, re),\n  te(7, ie),\n  te(8, Xn),\n  te(9, cr),\n  te(10, A(nt)),\n  te(11, A(on)),\n  te(12, A(Ge))\n], et);\nconst Bt = {\n  id: \"sheet.command.insert-float-image\",\n  type: Z.COMMAND,\n  handler: async (i, t) => {\n    var o, a;\n    const e = i.get(Se), n = i.get(J), r = (o = sn(\n      F.UNIVER_SHEET,\n      e,\n      n\n    )) == null ? void 0 : o.with(et);\n    if (!r)\n      return !1;\n    const s = t == null ? void 0 : t.files;\n    if (s) {\n      const d = s.map((u) => r.insertFloatImageByFile(u));\n      return (await Promise.all(d)).every((u) => u);\n    } else\n      return (a = r.insertFloatImage()) != null ? a : !1;\n  }\n}, dn = {\n  id: \"sheet.command.insert-cell-image\",\n  type: Z.COMMAND,\n  handler: (i) => {\n    var n, r;\n    const t = i.get(Se), e = i.get(J);\n    return (r = (n = sn(\n      F.UNIVER_SHEET,\n      t,\n      e\n    )) == null ? void 0 : n.with(et).insertCellImage()) != null ? r : !1;\n  }\n}, it = {\n  id: \"sheet.command.move-drawing\",\n  type: Z.COMMAND,\n  handler: (i, t) => {\n    const e = i.get(X), n = i.get(re), r = i.get(xe), { direction: s } = t, o = n.getFocusDrawings();\n    if (o.length === 0)\n      return !1;\n    const a = o[0].unitId, d = o.map((c) => {\n      const { transform: l } = c;\n      if (l == null)\n        return null;\n      const g = { ...l }, { left: h = 0, top: f = 0 } = l;\n      return s === _e.UP ? g.top = f - 1 : s === _e.DOWN ? g.top = f + 1 : s === _e.LEFT ? g.left = h - 1 : s === _e.RIGHT && (g.left = h + 1), {\n        ...c,\n        transform: g,\n        sheetTransform: $(g, r)\n      };\n    }).filter((c) => c != null);\n    return e.syncExecuteCommand(Wt.id, {\n      unitId: a,\n      drawings: d\n    }) ? (e.syncExecuteCommand(Y.id, [a]), !0) : !1;\n  }\n}, pr = \"COMPONENT_SHEET_DRAWING_PANEL\", wr = {\n  id: \"sidebar.operation.sheet-image\",\n  type: Z.COMMAND,\n  handler: async (i, t) => {\n    const e = i.get(Ai), n = i.get(nt), r = i.get(Se), s = i.get(X);\n    if (!se(r)) return !1;\n    switch (t.value) {\n      case \"open\":\n        e.open({\n          header: { title: n.t(\"sheetImage.panel.title\") },\n          children: { label: pr },\n          onClose: () => {\n            s.syncExecuteCommand(Nt.id, []);\n          },\n          width: 360\n        });\n        break;\n      case \"close\":\n      default:\n        e.close();\n        break;\n    }\n    return !0;\n  }\n}, _r = {\n  id: \"sheet.operation.edit-sheet-image\",\n  type: Z.OPERATION,\n  handler: (i, t) => {\n    const e = i.get(X);\n    return t == null ? !1 : (e.syncExecuteCommand(Nt.id, [t]), e.executeCommand(wr.id, { value: \"open\" }), !0);\n  }\n}, ss = \"sheets-drawing-ui.config\", jn = {};\nvar os = Object.getOwnPropertyDescriptor, as = (i, t, e, n) => {\n  for (var r = n > 1 ? void 0 : n ? os(t, e) : t, s = i.length - 1, o; s >= 0; s--)\n    (o = i[s]) && (r = o(r) || r);\n  return r;\n}, ce = (i, t) => (e, n) => t(e, n, i);\nlet Rt = class extends Xr {\n  constructor(t, e, n, r, s, o, a, d, u, c) {\n    super();\n    ee(this, \"_initImagePopupMenu\", /* @__PURE__ */ new Set());\n    this._injector = t, this._localeService = e, this._drawingManagerService = n, this._canvasPopManagerService = r, this._renderManagerService = s, this._univerInstanceService = o, this._messageService = a, this._contextService = d, this._ioService = u, this._commandService = c, this._init();\n  }\n  _init() {\n    this._univerInstanceService.getCurrentTypeOfUnit$(F.UNIVER_SHEET).pipe(Nn(this.dispose$)).subscribe((t) => this._create(t)), this._univerInstanceService.getTypeOfUnitDisposed$(F.UNIVER_SHEET).pipe(Nn(this.dispose$)).subscribe((t) => this._dispose(t)), this._univerInstanceService.getAllUnitsForType(F.UNIVER_SHEET).forEach((t) => this._create(t)), this._setupLoadingStatus();\n  }\n  _setupLoadingStatus() {\n    const t = \"image-upload-loading\";\n    let e;\n    this.disposeWithMe(this._ioService.change$.subscribe((n) => {\n      n > 0 && !e ? e = this._messageService.show({\n        id: t,\n        type: pe.Loading,\n        content: `${this._localeService.t(\"uploadLoading.loading\")}: ${n}`,\n        duration: 0\n      }) : n === 0 && (e == null || e.dispose(), e = void 0);\n    }));\n  }\n  _dispose(t) {\n    super.dispose();\n    const e = t.getUnitId();\n    this._renderManagerService.removeRender(e);\n  }\n  _create(t) {\n    if (!t)\n      return;\n    const e = t.getUnitId();\n    this._renderManagerService.has(e) && !this._initImagePopupMenu.has(e) && (this._popupMenuListener(e), this._initImagePopupMenu.add(e));\n  }\n  _hasCropObject(t) {\n    const e = t.getAllObjectsByOrder();\n    for (const n of e)\n      if (n instanceof Xi)\n        return !0;\n    return !1;\n  }\n  _popupMenuListener(t) {\n    var s;\n    const e = (s = this._renderManagerService.getRenderById(t)) == null ? void 0 : s.scene;\n    if (!e)\n      return;\n    const n = e.getTransformerByCreate();\n    if (!n)\n      return;\n    let r;\n    this.disposeWithMe(\n      n.createControl$.subscribe(() => {\n        if (this._contextService.setContextValue($e, !0), this._hasCropObject(e))\n          return;\n        const o = n.getSelectedObjectMap();\n        if (o.size > 1) {\n          r == null || r.dispose();\n          return;\n        }\n        const a = o.values().next().value;\n        if (!a)\n          return;\n        const d = a.oKey, u = this._drawingManagerService.getDrawingOKey(d);\n        if (!u)\n          return;\n        const { unitId: c, subUnitId: l, drawingId: g, drawingType: h } = u, f = u.data;\n        if (f && f.disablePopup)\n          return;\n        r == null || r.dispose();\n        const p = this._canvasPopManagerService.getFeatureMenu(c, l, g, h);\n        r = this.disposeWithMe(this._canvasPopManagerService.attachPopupToObject(a, {\n          componentKey: Li,\n          direction: \"horizontal\",\n          offset: [2, 0],\n          extraProps: {\n            menuItems: p || this._getImageMenuItems(c, l, g, h)\n          }\n        }));\n      })\n    ), this.disposeWithMe(\n      n.clearControl$.subscribe(() => {\n        r == null || r.dispose(), this._contextService.setContextValue($e, !1), this._commandService.syncExecuteCommand(Nt.id, []);\n      })\n    ), this.disposeWithMe(\n      this._contextService.contextChanged$.subscribe((o) => {\n        o[$e] === !1 && (r == null || r.dispose());\n      })\n    ), this.disposeWithMe(\n      n.changing$.subscribe(() => {\n        r == null || r.dispose();\n      })\n    );\n  }\n  _getImageMenuItems(t, e, n, r) {\n    return [\n      {\n        label: \"image-popup.edit\",\n        index: 0,\n        commandId: _r.id,\n        commandParams: { unitId: t, subUnitId: e, drawingId: n },\n        disable: r === B.DRAWING_DOM\n      },\n      {\n        label: \"image-popup.delete\",\n        index: 1,\n        commandId: rt.id,\n        commandParams: { unitId: t, drawings: [{ unitId: t, subUnitId: e, drawingId: n }] },\n        disable: !1\n      },\n      {\n        label: \"image-popup.crop\",\n        index: 2,\n        commandId: Vi.id,\n        commandParams: { unitId: t, subUnitId: e, drawingId: n },\n        disable: r === B.DRAWING_DOM\n      },\n      {\n        label: \"image-popup.reset\",\n        index: 3,\n        commandId: Hi.id,\n        commandParams: [{ unitId: t, subUnitId: e, drawingId: n }],\n        disable: r === B.DRAWING_DOM\n      }\n    ];\n  }\n};\nRt = as([\n  ce(0, A(Ge)),\n  ce(1, A(nt)),\n  ce(2, ie),\n  ce(3, A(Ar)),\n  ce(4, J),\n  ce(5, Se),\n  ce(6, cr),\n  ce(7, Xn),\n  ce(8, Gr),\n  ce(9, X)\n], Rt);\nvar cs = Object.getOwnPropertyDescriptor, ds = (i, t, e, n) => {\n  for (var r = n > 1 ? void 0 : n ? cs(t, e) : t, s = i.length - 1, o; s >= 0; s--)\n    (o = i[s]) && (r = o(r) || r);\n  return r;\n}, vt = (i, t) => (e, n) => t(e, n, i);\nlet tn = class extends ne {\n  constructor(t, e, n, r, s) {\n    super();\n    ee(this, \"_isSetCursor\", !1);\n    this._context = t, this._hoverManagerService = e, this._selectionsService = n, this._drawingRenderService = r, this._sheetSkeletonManagerService = s, this._initHover(), this._initImageClick();\n  }\n  _initHover() {\n    this.disposeWithMe(this._hoverManagerService.currentRichTextNoDistinct$.pipe(Ji(33)).subscribe((t) => {\n      var n, r;\n      let e = [];\n      t !== null && (e = this._selectionsService.getWorkbookSelections(this._context.unitId).getCurrentSelections()), e.length > 0 && (t == null ? void 0 : t.unitId) === this._context.unitId && (t != null && t.drawing) && e.length === 1 && ((n = e[0].primary) == null ? void 0 : n.actualRow) === t.row && ((r = e[0].primary) == null ? void 0 : r.actualColumn) === t.col ? (this._isSetCursor = !0, this._context.scene.setCursor(Ur.ZOOM_IN)) : this._isSetCursor && (this._isSetCursor = !1, this._context.scene.resetCursor());\n    }));\n  }\n  _initImageClick() {\n    this.disposeWithMe(this._hoverManagerService.currentClickedCell$.subscribe((t) => {\n      var e;\n      if (t != null && t.drawing && this._isSetCursor) {\n        const n = t.drawing.drawing.drawingOrigin, r = (e = this._sheetSkeletonManagerService.getCurrentSkeleton()) == null ? void 0 : e.imageCacheMap.getImage(n.imageSourceType, n.source);\n        if (!r) return;\n        this._drawingRenderService.previewImage(\"preview-cell-image\", r.src, r.width, r.height), this._context.scene.resetCursor(), this._isSetCursor = !1;\n      }\n    }));\n  }\n};\ntn = ds([\n  vt(1, A(Nr)),\n  vt(2, A(on)),\n  vt(3, A(lr)),\n  vt(4, A(V))\n], tn);\nvar ls = Object.getOwnPropertyDescriptor, us = (i, t, e, n) => {\n  for (var r = n > 1 ? void 0 : n ? ls(t, e) : t, s = i.length - 1, o; s >= 0; s--)\n    (o = i[s]) && (r = o(r) || r);\n  return r;\n}, It = (i, t) => (e, n) => t(e, n, i);\nlet nn = class extends ne {\n  constructor(i, t, e, n, r) {\n    super(), this._context = i, this._sheetDrawingService = t, this._drawingManagerService = e, this._sheetSelectionRenderService = n, this._sheetSkeletonManagerService = r, this._init();\n  }\n  _init() {\n    this._drawingInitializeListener();\n  }\n  _drawingInitializeListener() {\n    this._sheetDrawingService.initializeNotification(this._context.unitId);\n    const i = this._sheetDrawingService.getDrawingDataForUnit(this._context.unitId);\n    for (const t in i) {\n      const e = i[t];\n      for (const n in e.data) {\n        const r = e.data[n];\n        r.sheetTransform && (r.transform = z(r.sheetTransform, this._sheetSelectionRenderService, this._sheetSkeletonManagerService));\n      }\n    }\n    this._drawingManagerService.registerDrawingData(this._context.unitId, this._sheetDrawingService.getDrawingDataForUnit(this._context.unitId)), this._drawingManagerService.initializeNotification(this._context.unitId);\n  }\n};\nnn = us([\n  It(1, re),\n  It(2, ie),\n  It(3, A(xe)),\n  It(4, A(V))\n], nn);\nvar hs = Object.getOwnPropertyDescriptor, gs = (i, t, e, n) => {\n  for (var r = n > 1 ? void 0 : n ? hs(t, e) : t, s = i.length - 1, o; s >= 0; s--)\n    (o = i[s]) && (r = o(r) || r);\n  return r;\n}, Ae = (i, t) => (e, n) => t(e, n, i);\nfunction Sr(i, t, e) {\n  var n, r, s, o;\n  if (((r = (n = e == null ? void 0 : e.p) == null ? void 0 : n.body) == null ? void 0 : r.dataStream.length) === 3 && ((o = (s = e.p) == null ? void 0 : s.drawingsOrder) == null ? void 0 : o.length) === 1) {\n    const a = e.p.drawings[e.p.drawingsOrder[0]], d = en(\n      i,\n      {\n        unitId: t.unitId,\n        subUnitId: t.subUnitId,\n        row: t.row,\n        col: t.col\n      },\n      a.docTransform.size.width,\n      a.docTransform.size.height,\n      a.docTransform.angle\n    );\n    if (d)\n      return a.transform.width = d.width, a.transform.height = d.height, a.docTransform.size.width = d.width, a.docTransform.size.height = d.height, a.transform.left = 0, a.transform.top = 0, a.docTransform.positionH.posOffset = 0, a.docTransform.positionV.posOffset = 0, e.p.documentStyle.pageSize.width = 1 / 0, e.p.documentStyle.pageSize.height = 1 / 0, !0;\n  }\n  return !1;\n}\nlet bt = class extends ne {\n  constructor(i, t, e, n, r, s) {\n    super(), this._commandService = i, this._sheetInterceptorService = t, this._injector = e, this._drawingManagerService = n, this._docDrawingController = r, this._editorBridgeService = s, this._handleInitEditor(), this._initCellContentInterceptor();\n  }\n  _handleInitEditor() {\n    this.disposeWithMe(this._editorBridgeService.visible$.subscribe((i) => {\n      i.visible ? i.visible && (this._drawingManagerService.removeDrawingDataForUnit(Ze), this._docDrawingController.loadDrawingDataForUnit(Ze), this._drawingManagerService.initializeNotification(Ze)) : this._drawingManagerService.removeDrawingDataForUnit(Ze);\n    })), this.disposeWithMe(this._commandService.onCommandExecuted((i) => {\n      i.id === yi.id && i.params.unitId === Be && (this._drawingManagerService.removeDrawingDataForUnit(Be), this._docDrawingController.loadDrawingDataForUnit(Be), this._drawingManagerService.initializeNotification(Be));\n    }));\n  }\n  _initCellContentInterceptor() {\n    this.disposeWithMe(\n      this._sheetInterceptorService.intercept(\n        li.CELL_CONTENT,\n        {\n          effect: Lr.Style,\n          priority: ui.CELL_IMAGE,\n          handler: (i, t, e) => {\n            var n;\n            return i != null && i.p && ((n = i.p.drawingsOrder) != null && n.length) && (i === t.rawData && (i = { ...t.rawData }), i.interceptorStyle || (i.interceptorStyle = {}), i.interceptorStyle.tr = { a: 0 }, Sr(this._injector, { unitId: t.unitId, subUnitId: t.subUnitId, row: t.row, col: t.col }, i)), e(i);\n          }\n        }\n      )\n    );\n  }\n};\nbt = gs([\n  Ae(0, X),\n  Ae(1, A(At)),\n  Ae(2, A(Ge)),\n  Ae(3, ie),\n  Ae(4, A(Yi)),\n  Ae(5, A(kr))\n], bt);\nvar fs = Object.getOwnPropertyDescriptor, ms = (i, t, e, n) => {\n  for (var r = n > 1 ? void 0 : n ? fs(t, e) : t, s = i.length - 1, o; s >= 0; s--)\n    (o = i[s]) && (r = o(r) || r);\n  return r;\n}, $n = (i, t) => (e, n) => t(e, n, i);\nlet Mt = class extends ne {\n  constructor(i, t) {\n    super(), this._autoFillService = i, this._injector = t, this._initAutoFillHooks();\n  }\n  _initAutoFillHooks() {\n    this.disposeWithMe(\n      this._autoFillService.addHook({\n        id: \"sheet-cell-image-autofill\",\n        onBeforeSubmit: (i, t, e, n) => {\n          new Vr(n).forValue((r, s, o) => {\n            Sr(this._injector, { unitId: i.unitId, subUnitId: i.subUnitId, row: r, col: s }, o);\n          });\n        }\n      })\n    );\n  }\n};\nMt = ms([\n  $n(0, A(Wr)),\n  $n(1, A(Ge))\n], Mt);\nvar ps = Object.getOwnPropertyDescriptor, ws = (i, t, e, n) => {\n  for (var r = n > 1 ? void 0 : n ? ps(t, e) : t, s = i.length - 1, o; s >= 0; s--)\n    (o = i[s]) && (r = o(r) || r);\n  return r;\n}, He = (i, t) => (e, n) => t(e, n, i);\nconst _s = [\n  Ze,\n  Hr,\n  Be\n];\nlet yt = class extends ne {\n  constructor(i, t, e, n, r) {\n    super(), this._commandService = i, this._univerInstanceService = t, this._dialogService = e, this._renderManagerService = n, this._localeService = r, this._initDocImageCopyPasteHooks();\n  }\n  _setCellImage(i) {\n    var r;\n    const t = Vt(\"\", {}), e = (r = sn(F.UNIVER_SHEET, this._univerInstanceService, this._renderManagerService)) == null ? void 0 : r.with(Br), n = Ht.drawing.add({\n      documentDataModel: t,\n      drawings: [i],\n      selection: {\n        collapsed: !0,\n        startOffset: 0,\n        endOffset: 0\n      }\n    });\n    n && (t.apply(n), e && e.submitCellData(t));\n  }\n  _initDocImageCopyPasteHooks() {\n    this.disposeWithMe(\n      this._commandService.beforeCommandExecuted((i) => {\n        var t, e;\n        if (i.id === Ti.id) {\n          const n = i.params, { doc: r } = n, s = this._univerInstanceService.getCurrentUnitOfType(F.UNIVER_DOC);\n          if (s == null || !Object.keys((t = r.drawings) != null ? t : {}).length)\n            return;\n          const o = s.getUnitId();\n          if (_s.includes(o)) {\n            if (o !== Be) {\n              const a = () => {\n                this._dialogService.close(\"sheet-cell-image-copy-paste\"), this._commandService.syncExecuteCommand(pn.id, {\n                  visible: !1\n                });\n              };\n              ((e = s.getBody()) == null ? void 0 : e.dataStream) === `\\r\n` ? (this._commandService.syncExecuteCommand(pn.id, {\n                visible: !1\n              }), this._setCellImage(Object.values(r.drawings)[0])) : this._dialogService.open({\n                id: \"sheet-cell-image-copy-paste\",\n                title: {\n                  label: this._localeService.t(\"cell-image.pasteTitle\")\n                },\n                children: {\n                  label: this._localeService.t(\"cell-image.pasteContent\")\n                },\n                width: 320,\n                destroyOnClose: !0,\n                onClose: a,\n                showOk: !0,\n                showCancel: !0,\n                onOk: () => {\n                  a(), this._setCellImage(Object.values(r.drawings)[0]);\n                },\n                onCancel: a\n              });\n            }\n            throw new Error(\"Sheet cell image copy paste is not supported in this unit\");\n          }\n        }\n      })\n    );\n  }\n};\nyt = ws([\n  He(0, X),\n  He(1, Se),\n  He(2, Ni),\n  He(3, J),\n  He(4, A(nt))\n], yt);\nvar Ss = Object.getOwnPropertyDescriptor, vs = (i, t, e, n) => {\n  for (var r = n > 1 ? void 0 : n ? Ss(t, e) : t, s = i.length - 1, o; s >= 0; s--)\n    (o = i[s]) && (r = o(r) || r);\n  return r;\n}, ze = (i, t) => (e, n) => t(e, n, i);\nconst vr = \"image/png\";\nfunction Is(i) {\n  const t = i.split(\",\"), e = atob(t[1]), n = e.length, r = new Uint8Array(n);\n  for (let s = 0; s < n; s++)\n    r[s] = e.charCodeAt(s);\n  return new Blob([r], { type: vr });\n}\nfunction Cs(i) {\n  const t = new ClipboardItem({ [vr]: Is(i) });\n  navigator.clipboard.write([t]).catch((e) => {\n    console.error(\"Could not copy image using clipboard API: \", e);\n  });\n}\nfunction Ds() {\n  function i() {\n    const n = document.createElement(\"input\");\n    return n.style.position = \"absolute\", n.style.height = \"1px\", n.style.width = \"1px\", n.style.opacity = \"0\", n;\n  }\n  const t = document.activeElement, e = i();\n  return document.body.appendChild(e), e.focus(), () => {\n    e.blur(), document.body.removeChild(e), t instanceof HTMLElement && t.focus();\n  };\n}\nconst Fn = [\n  We.SPECIAL_PASTE_COL_WIDTH,\n  We.SPECIAL_PASTE_VALUE,\n  We.SPECIAL_PASTE_FORMAT,\n  We.SPECIAL_PASTE_FORMULA\n];\nlet Tt = class extends ne {\n  constructor(t, e, n, r, s) {\n    super();\n    ee(this, \"_copyInfo\");\n    this._sheetClipboardService = t, this._renderManagerService = e, this._drawingService = n, this._clipboardInterfaceService = r, this._commandService = s, this._initCopyPaste();\n  }\n  get _focusedDrawings() {\n    return this._drawingService.getFocusDrawings();\n  }\n  // eslint-disable-next-line max-lines-per-function\n  _initCopyPaste() {\n    this._sheetClipboardService.addClipboardHook({\n      id: \"SHEET_IMAGE_UI_PLUGIN\",\n      onBeforeCopy: (t, e, n, r) => {\n        const s = this._focusedDrawings;\n        if (s.length > 0) {\n          const [o] = s;\n          if (r === ve.CUT) {\n            const d = {\n              unitId: t,\n              drawings: [o]\n            };\n            this._commandService.executeCommand(rt.id, d);\n          }\n          setTimeout(() => {\n            const d = Ds();\n            o.drawingType === B.DRAWING_IMAGE && o.imageSourceType === Oi.BASE64 ? Cs(o.source) : this._clipboardInterfaceService.writeText(\"\"), d();\n          }, 200);\n          const a = {\n            unitId: o.unitId,\n            subUnitId: o.subUnitId,\n            drawings: [o]\n          };\n          this._copyInfo = a;\n        } else {\n          const o = this._createDrawingsCopyInfoByRange(t, e, n);\n          this._copyInfo = o;\n        }\n      },\n      onPasteCells: (t, e, n, r) => {\n        if (!this._copyInfo)\n          return { redos: [], undos: [] };\n        const { copyType: s = ve.COPY, pasteType: o } = r, { range: a } = t || {}, { range: d, unitId: u, subUnitId: c } = e;\n        return this._copyInfo.copyRange ? this._generateRangeDrawingsPasteMutations({ pasteType: o, unitId: u, subUnitId: c, pasteRange: d }, { copyRange: a, copyType: s }) : this._generateSingleDrawingPasteMutations({ pasteTo: e, pasteType: o }, ve.COPY);\n      },\n      onPastePlainText: (t, e) => ({ undos: [], redos: [] }),\n      onPasteUnrecognized: (t) => this._copyInfo ? this._generateSingleDrawingPasteMutations({ pasteTo: t, pasteType: We.DEFAULT_PASTE }, ve.COPY) : { undos: [], redos: [] },\n      onPasteFiles: (t, e) => {\n        if (this._copyInfo)\n          return this._generateSingleDrawingPasteMutations({ pasteTo: t, pasteType: We.DEFAULT_PASTE }, ve.COPY);\n        {\n          const n = e.filter((r) => r.type.includes(\"image\"));\n          if (n.length)\n            return {\n              undos: [],\n              redos: [\n                {\n                  id: Bt.id,\n                  params: { files: n }\n                }\n              ]\n            };\n        }\n        return { undos: [], redos: [] };\n      }\n    });\n  }\n  _createDrawingsCopyInfoByRange(t, e, n) {\n    var g;\n    const r = (g = this._renderManagerService.getRenderById(t)) == null ? void 0 : g.with(V);\n    if (!r) return;\n    const s = r.attachRangeWithCoord(n);\n    if (!s)\n      return;\n    const { startX: o, endX: a, startY: d, endY: u } = s, c = this._drawingService.getDrawingData(t, e), l = this._focusedDrawings.slice();\n    if (Object.keys(c).forEach((h) => {\n      const f = c[h], { transform: p } = f;\n      if (f.anchorType !== O.Both || !p)\n        return;\n      const { left: m = 0, top: _ = 0, width: v = 0, height: I = 0 } = p, { drawingStartX: R, drawingEndX: S, drawingStartY: C, drawingEndY: w } = {\n        drawingStartX: m,\n        drawingEndX: m + v,\n        drawingStartY: _,\n        drawingEndY: _ + I\n      };\n      o <= R && S <= a && d <= C && w <= u && l.push(f);\n    }), l.length)\n      return {\n        copyRange: n,\n        drawings: l,\n        unitId: t,\n        subUnitId: e\n      };\n  }\n  _generateSingleDrawingPasteMutations(t, e) {\n    const { pasteType: n, pasteTo: r } = t;\n    if (Fn.includes(n))\n      return { redos: [], undos: [] };\n    const { unitId: s, subUnitId: o, range: a } = r, d = this._renderManagerService.getRenderById(s), u = d == null ? void 0 : d.with(V), c = d == null ? void 0 : d.with(xe), l = this._copyInfo;\n    if (!u || !c)\n      return { redos: [], undos: [] };\n    const { drawings: g } = l, h = wn(a);\n    return this._generateMutations(g, {\n      unitId: s,\n      subUnitId: o,\n      isCut: e === ve.CUT,\n      getTransform: (f, p) => {\n        var v;\n        const m = u.attachRangeWithCoord({\n          startRow: h.startRow,\n          endRow: h.endRow,\n          startColumn: h.startColumn,\n          endColumn: h.endColumn\n        }), _ = {\n          ...f,\n          left: m == null ? void 0 : m.startX,\n          top: m == null ? void 0 : m.startY\n        };\n        return {\n          transform: _,\n          sheetTransform: (v = $(_, c)) != null ? v : p\n        };\n      }\n    });\n  }\n  _generateMutations(t, e) {\n    const {\n      unitId: n,\n      subUnitId: r,\n      getTransform: s,\n      isCut: o\n    } = e, a = [], d = [], { _drawingService: u } = this;\n    return t.forEach((c) => {\n      const { transform: l, sheetTransform: g } = c;\n      if (!l)\n        return;\n      const h = s(l, g), f = {\n        ...c,\n        unitId: n,\n        subUnitId: r,\n        drawingId: o ? c.drawingId : Qe(),\n        transform: h.transform,\n        sheetTransform: h.sheetTransform\n      };\n      if (o) {\n        const { undo: p, redo: m, objects: _ } = u.getBatchUpdateOp([f]);\n        a.push({\n          id: P.id,\n          params: {\n            unitId: n,\n            subUnitId: r,\n            type: U.UPDATE,\n            op: m,\n            objects: _\n          }\n        }), d.push({\n          id: P.id,\n          params: {\n            unitId: n,\n            subUnitId: r,\n            type: U.UPDATE,\n            op: p,\n            objects: _\n          }\n        });\n      } else {\n        const { undo: p, redo: m, objects: _ } = u.getBatchAddOp([f]);\n        a.push({ id: P.id, params: { op: m, unitId: n, subUnitId: r, objects: _, type: U.INSERT } }), d.push({ id: P.id, params: { op: p, unitId: n, subUnitId: r, objects: _, type: U.REMOVE } });\n      }\n    }), { redos: a, undos: d };\n  }\n  // eslint-disable-next-line max-lines-per-function\n  _generateRangeDrawingsPasteMutations(t, e) {\n    var y;\n    const {\n      unitId: n,\n      subUnitId: r,\n      pasteType: s,\n      pasteRange: o\n    } = t, {\n      copyRange: a,\n      copyType: d\n    } = e;\n    if (Fn.includes(s))\n      return { redos: [], undos: [] };\n    const u = (y = this._renderManagerService.getRenderById(n)) == null ? void 0 : y.with(V);\n    if (!u || !this._copyInfo)\n      return { redos: [], undos: [] };\n    const { drawings: c } = this._copyInfo;\n    if (!a)\n      return this._generateSingleDrawingPasteMutations({\n        pasteTo: { unitId: n, subUnitId: r, range: wn(o) },\n        pasteType: s\n      }, d);\n    const { ranges: [l, g], mapFunc: h } = jr([a, o]), { row: f, col: p } = h(l.startRow, l.startColumn), { row: m, col: _ } = h(g.startRow, g.startColumn), v = u.attachRangeWithCoord({\n      startRow: f,\n      endRow: f,\n      startColumn: p,\n      endColumn: p\n    }), I = u.attachRangeWithCoord({\n      startRow: m,\n      endRow: m,\n      startColumn: _,\n      endColumn: _\n    });\n    if (!v || !I || !this._copyInfo)\n      return { redos: [], undos: [] };\n    const R = I.startX - v.startX, S = I.startY - v.startY, C = m - f, w = _ - p;\n    return this._generateMutations(c, {\n      unitId: n,\n      subUnitId: r,\n      getTransform: (D, T) => {\n        var E, M;\n        return {\n          transform: {\n            ...D,\n            left: ((E = D == null ? void 0 : D.left) != null ? E : 0) + R,\n            top: ((M = D == null ? void 0 : D.top) != null ? M : 0) + S\n          },\n          sheetTransform: {\n            ...T,\n            to: {\n              ...T.to,\n              row: T.to.row + C,\n              column: T.to.column + w\n            },\n            from: {\n              ...T.from,\n              row: T.from.row + C,\n              column: T.from.column + w\n            }\n          }\n        };\n      },\n      isCut: d === ve.CUT\n    });\n  }\n};\nTt = vs([\n  ze(0, $r),\n  ze(1, J),\n  ze(2, ie),\n  ze(3, ki),\n  ze(4, X)\n], Tt);\nvar Rs = Object.getOwnPropertyDescriptor, bs = (i, t, e, n) => {\n  for (var r = n > 1 ? void 0 : n ? Rs(t, e) : t, s = i.length - 1, o; s >= 0; s--)\n    (o = i[s]) && (r = o(r) || r);\n  return r;\n}, Ke = (i, t) => (e, n) => t(e, n, i);\nlet Et = class extends ne {\n  constructor(i, t, e, n, r) {\n    super(), this._drawingManagerService = i, this._renderManagerService = t, this._permissionService = e, this._univerInstanceService = n, this._userManagerService = r, this._initDrawingVisible(), this._initDrawingEditable(), this._initViewPermissionChange(), this._initEditPermissionChange();\n  }\n  _initDrawingVisible() {\n    const i = this._univerInstanceService.getCurrentTypeOfUnit$(F.UNIVER_SHEET), t = this._userManagerService.currentUser$, e = St([i, t]);\n    this.disposeWithMe(\n      e.pipe(\n        we(([n, r]) => n ? n.activeSheet$.pipe(\n          kn((s) => {\n            if (!s) {\n              this._drawingManagerService.setDrawingVisible(!1);\n              return;\n            }\n            const o = n.getUnitId(), a = s.getSheetId();\n            this._permissionService.composePermission([\n              new Mn(o).id,\n              new yn(o, a).id\n            ]).every((u) => u.value) ? this._drawingManagerService.setDrawingVisible(!0) : this._handleDrawingVisibilityFalse(n, s);\n          })\n        ) : (this._drawingManagerService.setDrawingVisible(!1), fe))\n      ).subscribe()\n    );\n  }\n  _handleDrawingVisibilityFalse(i, t) {\n    this._drawingManagerService.setDrawingVisible(!1);\n    const e = i.getUnitId(), n = t.getSheetId(), r = this._drawingManagerService.getDrawingData(e, n), s = Object.values(r), o = this._renderManagerService.getRenderById(e), a = o == null ? void 0 : o.scene;\n    if (!a)\n      return;\n    a.getAllObjectsByOrder().forEach((u) => {\n      u.classType === Oe.IMAGE && s.some((c) => u.oKey.includes(c.drawingId)) && a.removeObject(u);\n    });\n  }\n  _initDrawingEditable() {\n    const i = this._univerInstanceService.getCurrentTypeOfUnit$(F.UNIVER_SHEET), t = this._userManagerService.currentUser$, e = St([i, t]);\n    this.disposeWithMe(\n      e.pipe(\n        we(([n, r]) => n ? n.activeSheet$.pipe(\n          kn((s) => {\n            if (!s) {\n              this._drawingManagerService.setDrawingEditable(!1);\n              return;\n            }\n            const o = n.getUnitId(), a = s.getSheetId();\n            this._permissionService.composePermission([\n              new zt(o).id,\n              new Kt(o, a).id\n            ]).every((u) => u.value) ? this._drawingManagerService.setDrawingEditable(!0) : this._handleDrawingEditableFalse(n, s);\n          })\n        ) : (this._drawingManagerService.setDrawingEditable(!1), fe))\n      ).subscribe()\n    );\n  }\n  _handleDrawingEditableFalse(i, t) {\n    this._drawingManagerService.setDrawingEditable(!1);\n    const e = i.getUnitId(), n = t.getSheetId(), r = this._drawingManagerService.getDrawingData(e, n), s = Object.values(r), o = this._renderManagerService.getRenderById(e), a = o == null ? void 0 : o.scene;\n    if (!a)\n      return;\n    a.getAllObjectsByOrder().forEach((u) => {\n      u.classType === Oe.IMAGE && s.some((c) => u.oKey.includes(c.drawingId)) && a.detachTransformerFrom(u);\n    });\n  }\n  _initViewPermissionChange() {\n    const i = this._univerInstanceService.getCurrentTypeOfUnit$(F.UNIVER_SHEET), t = this._userManagerService.currentUser$;\n    this.disposeWithMe(\n      St([i, t]).pipe(\n        we(([e, n]) => e ? e.activeSheet$.pipe(\n          we((r) => {\n            if (!r)\n              return fe;\n            const s = e.getUnitId(), o = r.getSheetId(), a = this._renderManagerService.getRenderById(s), d = a == null ? void 0 : a.scene;\n            if (!d)\n              return fe;\n            const u = d.getTransformerByCreate();\n            return this._permissionService.composePermission$([\n              new Mn(s).id,\n              new yn(s, o).id\n            ]).pipe(\n              Re((l) => l.every((g) => g.value)),\n              Wn()\n            ).pipe(\n              Re((l) => ({\n                permission: l,\n                scene: d,\n                transformer: u,\n                unitId: s,\n                subUnitId: o\n              }))\n            );\n          })\n        ) : fe)\n      ).subscribe({\n        next: ({ permission: e, scene: n, transformer: r, unitId: s, subUnitId: o }) => {\n          this._drawingManagerService.setDrawingVisible(e);\n          const a = n.getAllObjectsByOrder(), d = this._drawingManagerService.getDrawingData(s, o), u = Object.values(d);\n          e ? this._drawingManagerService.addNotification(u) : (a.forEach((c) => {\n            c.classType === Oe.IMAGE && u.some((l) => c.oKey.includes(l.drawingId)) && n.removeObject(c);\n          }), r.clearSelectedObjects());\n        },\n        complete: () => {\n          this._drawingManagerService.setDrawingVisible(!0);\n          const e = this._univerInstanceService.getCurrentUnitForType(F.UNIVER_SHEET), n = e == null ? void 0 : e.getActiveSheet(), r = e == null ? void 0 : e.getUnitId(), s = n == null ? void 0 : n.getSheetId();\n          if (!r || !s)\n            return;\n          const o = this._drawingManagerService.getDrawingData(r, s), a = Object.values(o);\n          this._drawingManagerService.addNotification(a);\n        }\n      })\n    );\n  }\n  _initEditPermissionChange() {\n    const i = this._univerInstanceService.getCurrentTypeOfUnit$(F.UNIVER_SHEET), t = this._userManagerService.currentUser$;\n    this.disposeWithMe(\n      St([i, t]).pipe(\n        we(([e, n]) => e ? e.activeSheet$.pipe(\n          we((r) => {\n            if (!r)\n              return fe;\n            const s = e.getUnitId(), o = r.getSheetId(), a = this._renderManagerService.getRenderById(s), d = a == null ? void 0 : a.scene;\n            if (!d)\n              return fe;\n            const u = d.getTransformerByCreate();\n            return this._permissionService.composePermission$([\n              new zt(s).id,\n              new Kt(s, o).id\n            ]).pipe(\n              Re((l) => l.every((g) => g.value)),\n              Wn()\n            ).pipe(\n              Re((l) => ({\n                permission: l,\n                scene: d,\n                transformer: u,\n                unitId: s,\n                subUnitId: o\n              }))\n            );\n          })\n        ) : fe)\n      ).subscribe({\n        next: ({ permission: e, scene: n, transformer: r, unitId: s, subUnitId: o }) => {\n          this._drawingManagerService.setDrawingEditable(e);\n          const a = n.getAllObjectsByOrder(), d = this._drawingManagerService.getDrawingData(s, o), u = Object.values(d);\n          e ? (a.forEach((c) => {\n            c.classType === Oe.IMAGE && u.some((l) => c.oKey.includes(l.drawingId)) && n.attachTransformerTo(c);\n          }), this._drawingManagerService.addNotification(u)) : (a.forEach((c) => {\n            c.classType === Oe.IMAGE && u.some((l) => c.oKey.includes(l.drawingId)) && n.detachTransformerFrom(c);\n          }), r.clearSelectedObjects());\n        },\n        complete: () => {\n          const e = this._univerInstanceService.getCurrentUnitForType(F.UNIVER_SHEET);\n          if (!e)\n            return;\n          const n = e.getUnitId(), r = e.getActiveSheet();\n          if (!r)\n            return;\n          const s = r.getSheetId(), o = this._renderManagerService.getRenderById(n), a = o == null ? void 0 : o.scene;\n          if (!a)\n            return;\n          const d = this._drawingManagerService.getDrawingData(n, s), u = Object.values(d);\n          this._drawingManagerService.setDrawingEditable(!0), a.getAllObjectsByOrder().forEach((l) => {\n            l.classType === Oe.IMAGE && u.some((g) => l.oKey.includes(g.drawingId)) && a.detachTransformerFrom(l);\n          });\n        }\n      })\n    );\n  }\n};\nEt = bs([\n  Ke(0, ie),\n  Ke(1, J),\n  Ke(2, zr),\n  Ke(3, Se),\n  Ke(4, A(Kr))\n], Et);\nvar Ms = Object.getOwnPropertyDescriptor, ys = (i, t, e, n) => {\n  for (var r = n > 1 ? void 0 : n ? Ms(t, e) : t, s = i.length - 1, o; s >= 0; s--)\n    (o = i[s]) && (r = o(r) || r);\n  return r;\n}, Ce = (i, t) => (e, n) => t(e, n, i);\nfunction Ir(i, t, e, n, r, s = !1) {\n  const { scaleX: o, scaleY: a } = t.getAncestorScale(), d = t.getViewport(xn.VIEW_MAIN), u = n.getFreeze(), { startColumn: c, startRow: l, xSplit: g, ySplit: h } = u, f = {\n    left: !0,\n    // left means the left of pic is in a viewMainLeft\n    top: !0\n  };\n  if (!d)\n    return {\n      ...i,\n      absolute: f\n    };\n  const { left: p, right: m, top: _, bottom: v } = i;\n  let { top: I, left: R, viewportScrollX: S, viewportScrollY: C } = d;\n  const { boundsOfViewArea: w, scrollDirectionResponse: y } = r || {}, { rowHeaderWidth: D, columnHeaderHeight: T } = e, E = {\n    top: s ? 0 : T,\n    left: s ? 0 : D\n  };\n  w && (je.isDefine(E.top) && (E.top = w.top), je.isDefine(E.left) && (E.left = w.left)), y === \"HORIZONTAL\" && (C = 0), y === \"VERTICAL\" && (S = 0);\n  let M = 0, b = 0;\n  const N = e.rowStartY(l - h) + T, x = e.colStartX(c - g) + D, q = e.rowStartY(l) + T, H = e.colStartX(c) + D;\n  if (g === 0)\n    f.left = !1, M = (p - S) * o, b = (m - S) * o;\n  else {\n    const k = p - (x - D), ae = m - (x - D);\n    m < H ? (M = k * o, b = ae * o) : p <= H && m >= H ? (M = k * o, b = Math.max(R, (m - S) * o)) : p > H && (f.left = !1, M = Math.max((p - S) * o, R), b = Math.max((m - S) * o, R));\n  }\n  let L = 0, G = 0;\n  if (h === 0)\n    f.top = !1, L = (_ - C) * a, G = (v - C) * a;\n  else {\n    const k = _ - (N - T), ae = v - (N - T);\n    v < q ? (L = k * a, G = ae * a) : _ <= q && v >= q ? (L = k * a, G = Math.max(I, (v - C) * a)) : _ > q && (f.top = !1, L = Math.max((_ - C) * a, I), G = Math.max((v - C) * a, I));\n  }\n  return M = Math.max(M, E.left), L = Math.max(L, E.top), b = Math.max(b, E.left), G = Math.max(G, E.top), {\n    left: M,\n    right: b,\n    top: L,\n    bottom: G,\n    absolute: f\n  };\n}\nconst ge = (i, t, e, n, r) => {\n  const { left: s, top: o, width: a, height: d, angle: u } = i, c = {\n    left: s,\n    right: s + a,\n    top: o,\n    bottom: o + d\n  }, l = Ir(c, t, e, n, r), { scaleX: g, scaleY: h } = t.getAncestorScale();\n  return {\n    startX: l.left,\n    endX: l.right,\n    startY: l.top,\n    endY: l.bottom,\n    rotate: u,\n    width: a * g,\n    height: d * h,\n    absolute: l.absolute\n  };\n};\nlet tt = class extends ne {\n  constructor(t, e, n, r, s, o, a) {\n    super();\n    /**\n     * for update dom container position when scrolling and zoom\n     */\n    ee(this, \"_domLayerInfoMap\", /* @__PURE__ */ new Map());\n    ee(this, \"_transformChange$\", new Xt());\n    ee(this, \"transformChange$\", this._transformChange$.asObservable());\n    ee(this, \"_add$\", new Xt());\n    ee(this, \"add$\", this._add$.asObservable());\n    ee(this, \"_remove$\", new Xt());\n    ee(this, \"remove$\", this._remove$.asObservable());\n    this._renderManagerService = t, this._univerInstanceService = e, this._commandService = n, this._drawingManagerService = r, this._canvasFloatDomService = s, this._sheetDrawingService = o, this._lifecycleService = a, this._drawingAddListener(), this._featureUpdateListener(), this._deleteListener(), this._bindScrollEvent();\n  }\n  _bindScrollEvent() {\n    this._lifecycleService.lifecycle$.pipe(Zi((t) => t === Zr.Rendered), qi(1)).subscribe(() => {\n      this._scrollUpdateListener();\n    });\n  }\n  getFloatDomInfo(t) {\n    return this._domLayerInfoMap.get(t);\n  }\n  getFloatDomsBySubUnitId(t, e) {\n    return Array.from(this._domLayerInfoMap.values()).filter((n) => n.subUnitId === e && n.unitId === t);\n  }\n  _getSceneAndTransformerByDrawingSearch(t) {\n    if (t == null)\n      return;\n    const e = this._renderManagerService.getRenderById(t), n = e == null ? void 0 : e.scene;\n    if (e == null || n == null)\n      return null;\n    const r = n.getTransformerByCreate(), s = e.engine.getCanvasElement();\n    return { scene: n, transformer: r, renderUnit: e, canvas: s };\n  }\n  // eslint-disable-next-line max-lines-per-function\n  _drawingAddListener() {\n    this.disposeWithMe(\n      // eslint-disable-next-line max-lines-per-function\n      this._drawingManagerService.add$.subscribe((t) => {\n        t.forEach((e) => {\n          var K;\n          const { unitId: n, subUnitId: r, drawingId: s } = e, o = se(this._univerInstanceService, { unitId: n, subUnitId: r }), a = this._drawingManagerService.getDrawingByParam(e), d = this._univerInstanceService.getUnit(n, F.UNIVER_SHEET);\n          if (!d)\n            return;\n          const u = d.getActiveSheet().getSheetId();\n          if (!a || !o)\n            return;\n          const c = (K = this._renderManagerService.getRenderById(n)) == null ? void 0 : K.with(V).getSkeletonParam(r);\n          if (!c)\n            return;\n          const { transform: l, drawingType: g, data: h } = a;\n          if (g !== B.DRAWING_DOM && g !== B.DRAWING_CHART)\n            return;\n          const f = this._getSceneAndTransformerByDrawingSearch(n);\n          if (f == null)\n            return;\n          const { scene: p, canvas: m } = f;\n          if (l == null)\n            return !0;\n          if (u !== r)\n            return;\n          const { left: _, top: v, width: I, height: R, angle: S, flipX: C, flipY: w, skewX: y, skewY: D } = l, T = Ie({ unitId: n, subUnitId: r, drawingId: s }), E = p.getObject(T);\n          if (E != null) {\n            E.transformByState({ left: _, top: v, width: I, height: R, angle: S, flipX: C, flipY: w, skewX: y, skewY: D });\n            return;\n          }\n          const M = {\n            left: _,\n            top: v,\n            width: I,\n            height: R,\n            zIndex: this._drawingManagerService.getDrawingOrder(n, r).length - 1\n          }, b = g === B.DRAWING_CHART;\n          if (M.rotateEnabled = !1, b) {\n            const k = h ? h.backgroundColor : \"white\";\n            M.fill = k, h && h.border && (M.stroke = h.border), M.paintFirst = \"stroke\", M.strokeWidth = 1, M.borderEnabled = !1, M.radius = 8;\n          }\n          const N = new Ue(T, M);\n          b && N.setObjectType(mn.CHART), p.addObject(N, Ft), a.allowTransform !== !1 && p.attachTransformerTo(N);\n          const x = new _t(), q = ge(N, f.renderUnit.scene, c.skeleton, o.worksheet), H = new ke(q), L = {\n            dispose: x,\n            rect: N,\n            position$: H,\n            unitId: n,\n            subUnitId: r,\n            id: s\n          };\n          this._canvasFloatDomService.addFloatDom({\n            position$: H,\n            id: s,\n            componentKey: a.componentKey,\n            onPointerDown: (k) => {\n              m.dispatchEvent(new PointerEvent(k.type, k));\n            },\n            onPointerMove: (k) => {\n              m.dispatchEvent(new PointerEvent(k.type, k));\n            },\n            onPointerUp: (k) => {\n              m.dispatchEvent(new PointerEvent(k.type, k));\n            },\n            onWheel: (k) => {\n              m.dispatchEvent(new WheelEvent(k.type, k));\n            },\n            data: h,\n            unitId: n\n          });\n          const G = N.onTransformChange$.subscribeEvent(() => {\n            const k = ge(N, f.renderUnit.scene, c.skeleton, o.worksheet);\n            H.next(\n              k\n            );\n          });\n          x.add(() => {\n            this._canvasFloatDomService.removeFloatDom(s);\n          }), G && x.add(G), this._domLayerInfoMap.set(s, L);\n        });\n      })\n    ), this.disposeWithMe(\n      this._drawingManagerService.remove$.subscribe((t) => {\n        t.forEach((e) => {\n          var l;\n          const { unitId: n, subUnitId: r, drawingId: s } = e, o = Ie({ unitId: n, subUnitId: r, drawingId: s }), a = this._getSceneAndTransformerByDrawingSearch(n);\n          if (a == null)\n            return;\n          const { transformer: d, scene: u } = a, c = u.getObject(o);\n          c != null && c.oKey && (d.clearControlByIds([c == null ? void 0 : c.oKey]), (l = u.getTransformer()) == null || l.clearSelectedObjects());\n        });\n      })\n    );\n  }\n  _scrollUpdateListener() {\n    const t = (e, n) => {\n      var d;\n      const r = this._getSceneAndTransformerByDrawingSearch(e), s = Array.from(this._domLayerInfoMap.keys()).map((u) => ({ id: u, ...this._domLayerInfoMap.get(u) })).filter((u) => u.subUnitId === n && u.unitId === e).map((u) => u.id), o = se(this._univerInstanceService, { unitId: e, subUnitId: n }), a = (d = this._renderManagerService.getRenderById(e)) == null ? void 0 : d.with(V).getSkeletonParam(n);\n      !r || !o || !a || s.forEach((u) => {\n        const c = this._domLayerInfoMap.get(u);\n        if (c) {\n          const l = ge(c.rect, r.renderUnit.scene, a.skeleton, o.worksheet, c);\n          c.position$.next(l);\n        }\n      });\n    };\n    this.disposeWithMe(\n      this._univerInstanceService.getCurrentTypeOfUnit$(F.UNIVER_SHEET).pipe(\n        we((e) => e ? e.activeSheet$ : Bn(null)),\n        Re((e) => {\n          if (!e) return null;\n          const n = e.getUnitId(), r = this._renderManagerService.getRenderById(n);\n          return r ? { render: r, unitId: n, subUnitId: e.getSheetId() } : null;\n        }),\n        we(\n          (e) => e ? qr(e.render.scene.getViewport(xn.VIEW_MAIN).onScrollAfter$).pipe(Re(() => ({ unitId: e.unitId, subUnitId: e.subUnitId }))) : Bn(null)\n        )\n      ).subscribe((e) => {\n        if (!e) return;\n        const { unitId: n, subUnitId: r } = e;\n        t(n, r);\n      })\n    ), this.disposeWithMe(this._commandService.onCommandExecuted((e) => {\n      if (e.id === _n.id) {\n        const n = e.params, { unitId: r } = n;\n        Array.from(this._domLayerInfoMap.values()).filter((o) => o.unitId === r).map((o) => o.subUnitId).forEach((o) => {\n          t(r, o);\n        });\n      } else if (e.id === hi.id) {\n        const { unitId: n, subUnitId: r } = e.params;\n        t(n, r);\n      }\n    }));\n  }\n  updateFloatDomProps(t, e, n, r) {\n    const s = this._domLayerInfoMap.get(n), o = this._getSceneAndTransformerByDrawingSearch(t);\n    if (s && o) {\n      const { scene: a } = o, d = Ie({ unitId: t, subUnitId: e, drawingId: n }), u = a.getObject(d);\n      u && u instanceof Ue && u.setProps(r);\n    }\n  }\n  _getPosition(t, e) {\n    var g;\n    const { startX: n, endX: r, startY: s, endY: o } = t, a = (g = this._renderManagerService.getRenderById(e)) == null ? void 0 : g.with(xe);\n    if (a == null)\n      return;\n    const d = a.getCellWithCoordByOffset(n, s);\n    if (d == null)\n      return;\n    const u = {\n      column: d.actualColumn,\n      columnOffset: n - d.startX,\n      row: d.actualRow,\n      rowOffset: s - d.startY\n    }, c = a.getCellWithCoordByOffset(r, o);\n    if (c == null)\n      return;\n    const l = {\n      column: c.actualColumn,\n      columnOffset: r - c.startX,\n      row: c.actualRow,\n      rowOffset: o - c.startY\n    };\n    return {\n      from: u,\n      to: l\n    };\n  }\n  _featureUpdateListener() {\n    this.disposeWithMe(\n      this._drawingManagerService.update$.subscribe((t) => {\n        t.forEach((e) => {\n          const n = this._drawingManagerService.getDrawingByParam(e);\n          if (!n || n.drawingType !== B.DRAWING_DOM && n.drawingType !== B.DRAWING_CHART)\n            return;\n          const r = {\n            ...n.transform\n          };\n          this._transformChange$.next({ id: e.drawingId, value: r }), this._canvasFloatDomService.updateFloatDom(e.drawingId, {\n            ...n\n          });\n          const s = this._getSceneAndTransformerByDrawingSearch(e.unitId);\n          if (s && n.drawingType !== B.DRAWING_CHART) {\n            const { scene: o } = s, a = this._domLayerInfoMap.get(e.drawingId);\n            a != null && a.rect && (n.allowTransform === !1 ? o.detachTransformerFrom(a.rect) : o.attachTransformerTo(a.rect));\n          }\n        });\n      })\n    );\n  }\n  _deleteListener() {\n    this.disposeWithMe(\n      this._drawingManagerService.remove$.subscribe((t) => {\n        t.forEach((e) => {\n          this._removeDom(e.drawingId);\n        });\n      })\n    );\n  }\n  // CreateFloatDomCommand --> floatDomService.addFloatDomToPosition\n  addFloatDomToPosition(t, e) {\n    const n = se(this._univerInstanceService, {\n      unitId: t.unitId,\n      subUnitId: t.subUnitId\n    });\n    if (!n)\n      throw new Error(\"cannot find current target!\");\n    const { unitId: r, subUnitId: s } = n, { initPosition: o, componentKey: a, data: d, allowTransform: u = !0 } = t, c = e != null ? e : Qe(), l = this._getPosition(o, r);\n    if (l == null)\n      return;\n    const g = {\n      unitId: r,\n      subUnitId: s,\n      drawingId: c,\n      drawingType: t.type || B.DRAWING_DOM,\n      componentKey: a,\n      sheetTransform: l,\n      transform: {\n        left: o.startX,\n        top: o.startY,\n        width: o.endX - o.startX,\n        height: o.endY - o.startY\n      },\n      data: d,\n      allowTransform: u\n    };\n    return this._commandService.executeCommand(kt.id, {\n      unitId: r,\n      drawings: [g]\n    }), this._add$.next({ unitId: r, subUnitId: s, id: c }), {\n      id: c,\n      dispose: () => {\n        this._removeDom(c, !0);\n      }\n    };\n  }\n  _removeDom(t, e = !1) {\n    const n = this._domLayerInfoMap.get(t);\n    if (!n)\n      return;\n    const { unitId: r, subUnitId: s } = n;\n    this._domLayerInfoMap.delete(t), n.dispose.dispose();\n    const o = this._getSceneAndTransformerByDrawingSearch(r);\n    if (o && o.scene.removeObject(n.rect), e) {\n      const a = this._drawingManagerService.getDrawingByParam({ unitId: r, subUnitId: s, drawingId: t });\n      if (!a)\n        return;\n      const d = this._sheetDrawingService.getBatchRemoveOp([a]), { redo: u, objects: c } = d;\n      this._commandService.syncExecuteCommand(P.id, { unitId: r, subUnitId: s, op: u, objects: c, type: U.REMOVE });\n    }\n  }\n  // eslint-disable-next-line max-lines-per-function, complexity\n  addFloatDomToRange(t, e, n, r) {\n    var C, w, y;\n    const s = se(this._univerInstanceService, {\n      unitId: e.unitId,\n      subUnitId: e.subUnitId\n    });\n    if (!s)\n      throw new Error(\"cannot find current target!\");\n    const { unitId: o, subUnitId: a } = s, d = this._getSceneAndTransformerByDrawingSearch(o);\n    if (!d) return;\n    const u = this._renderManagerService.getRenderById(o);\n    if (!u) return;\n    const c = (C = this._renderManagerService.getRenderById(o)) == null ? void 0 : C.with(V).getWorksheetSkeleton(a);\n    if (!c) return;\n    const { componentKey: l, data: g, allowTransform: h = !0 } = e, f = r != null ? r : Qe(), { position: p, position$: m } = this._createRangePositionObserver(t, u, c.skeleton);\n    if (this._getPosition(p, o) == null)\n      return;\n    const v = d.scene, { scaleX: I } = v.getAncestorScale(), R = Ct(p, n, I), S = {\n      unitId: o,\n      subUnitId: a,\n      drawingId: f,\n      drawingType: e.type || B.DRAWING_DOM,\n      componentKey: l,\n      transform: {\n        left: R.startX,\n        top: R.startY,\n        width: R.width,\n        height: R.height\n      },\n      data: g,\n      allowTransform: h\n    };\n    {\n      const { unitId: D, subUnitId: T, drawingId: E } = S, M = se(this._univerInstanceService, { unitId: D, subUnitId: T }), b = S, N = this._univerInstanceService.getUnit(D, F.UNIVER_SHEET);\n      if (!N)\n        return;\n      const x = N.getActiveSheet().getSheetId();\n      if (!b || !M)\n        return;\n      const q = (w = this._renderManagerService.getRenderById(D)) == null ? void 0 : w.with(V);\n      if (!q)\n        return;\n      const H = q.getWorksheetSkeleton(T);\n      if (!H)\n        return;\n      const { transform: L, drawingType: G, data: K } = b;\n      if (G !== B.DRAWING_DOM && G !== B.DRAWING_CHART)\n        return;\n      const k = this._getSceneAndTransformerByDrawingSearch(D);\n      if (k == null)\n        return;\n      const { scene: ae, canvas: be } = k;\n      if (L == null || x !== T)\n        return;\n      const { left: ot, top: at, width: ct, height: dt, angle: jt, flipX: $t, flipY: lt, skewX: ut, skewY: Me } = L, ht = Ie({ unitId: D, subUnitId: T, drawingId: E }), de = ae.getObject(ht);\n      if (de != null) {\n        de.transformByState({ left: ot, top: at, width: ct, height: dt, angle: jt, flipX: $t, flipY: lt, skewX: ut, skewY: Me });\n        return;\n      }\n      const Q = {\n        left: ot,\n        // from floatDomParam.transform\n        top: at,\n        width: ct,\n        height: dt,\n        zIndex: this._drawingManagerService.getDrawingOrder(D, T).length - 1\n      }, ye = G === B.DRAWING_CHART;\n      if (ye) {\n        const W = K ? K.backgroundColor : \"white\";\n        Q.fill = W, Q.rotateEnabled = !1, K && K.border && (Q.stroke = K.border), Q.paintFirst = \"stroke\", Q.strokeWidth = 1, Q.borderEnabled = !1, Q.radius = 8;\n      }\n      const le = new Ue(ht, Q);\n      ye && le.setObjectType(mn.CHART), ae.addObject(le, Ft), b.allowTransform !== !1 && ae.attachTransformerTo(le);\n      const ue = new _t(), gt = ae.getMainViewport(), { rowHeaderWidth: Te, columnHeaderHeight: Xe } = H.skeleton, ft = {\n        top: Xe,\n        left: Te,\n        bottom: gt.bottom,\n        right: gt.right\n      }, he = {\n        dispose: ue,\n        rect: le,\n        boundsOfViewArea: ft,\n        domAnchor: n,\n        unitId: D,\n        subUnitId: T\n      }, j = ge(le, k.renderUnit.scene, H.skeleton, M.worksheet, he), Ee = new ke(j);\n      he.position$ = Ee;\n      let Le = {\n        position$: Ee,\n        id: E,\n        componentKey: b.componentKey,\n        onPointerDown: () => {\n        },\n        onPointerMove: () => {\n        },\n        onPointerUp: () => {\n        },\n        onWheel: (W) => {\n          be.dispatchEvent(new WheelEvent(W.type, W));\n        },\n        data: K,\n        unitId: D\n      };\n      e.eventPassThrough && (Le = {\n        ...Le,\n        onPointerDown: (W) => {\n          be.dispatchEvent(new PointerEvent(W.type, W));\n        },\n        onPointerMove: (W) => {\n          be.dispatchEvent(new PointerEvent(W.type, W));\n        },\n        onPointerUp: (W) => {\n          be.dispatchEvent(new PointerEvent(W.type, W));\n        }\n      }), this._canvasFloatDomService.addFloatDom(Le), this.disposeWithMe(m.subscribe((W) => {\n        var un, hn, gn, fn;\n        const ln = Ct({\n          startX: W.startX,\n          startY: W.startY,\n          endX: W.endX,\n          endY: W.endY,\n          width: (un = n.width) != null ? un : W.width,\n          height: (hn = n.height) != null ? hn : W.height,\n          absolute: {\n            left: p.absolute.left,\n            top: p.absolute.top\n          }\n        }, n), Rr = Ie({ unitId: D, subUnitId: T, drawingId: E }), br = new Ue(Rr, {\n          left: ln.startX,\n          top: ln.startY,\n          width: (gn = n.width) != null ? gn : W.width,\n          height: (fn = n.height) != null ? fn : W.height,\n          zIndex: this._drawingManagerService.getDrawingOrder(D, T).length - 1\n        }), Mr = ge(br, k.renderUnit.scene, H.skeleton, M.worksheet, he);\n        Ee.next(Mr);\n      }));\n      const Ve = (y = this._renderManagerService.getRenderById(D)) == null ? void 0 : y.with(V);\n      Ve == null || Ve.currentSkeleton$.subscribe((W) => {\n        W && H.sheetId !== W.sheetId && this._removeDom(f, !0);\n      });\n      const mt = le.onTransformChange$.subscribeEvent(() => {\n        const W = ge(le, k.renderUnit.scene, H.skeleton, M.worksheet, he);\n        Ee.next(\n          W\n        );\n      });\n      ue.add(() => {\n        this._canvasFloatDomService.removeFloatDom(E);\n      }), mt && ue.add(mt), this._domLayerInfoMap.set(E, he);\n    }\n    return {\n      id: f,\n      dispose: () => {\n        this._removeDom(f, !0);\n      }\n    };\n  }\n  // eslint-disable-next-line max-lines-per-function, complexity\n  addFloatDomToColumnHeader(t, e, n, r) {\n    var R, S, C;\n    const s = se(this._univerInstanceService, {\n      unitId: e.unitId,\n      subUnitId: e.subUnitId\n    });\n    if (!s)\n      throw new Error(\"cannot find current target!\");\n    const { unitId: o, subUnitId: a } = s;\n    if (!this._getSceneAndTransformerByDrawingSearch(o)) return;\n    const u = this._renderManagerService.getRenderById(o);\n    if (!u) return;\n    const c = (R = this._renderManagerService.getRenderById(o)) == null ? void 0 : R.with(V).getWorksheetSkeleton(a);\n    if (!c) return;\n    const { componentKey: l, data: g, allowTransform: h = !0 } = e, f = r != null ? r : Qe(), { position: p, position$: m } = this._createRangePositionObserver({\n      startRow: 0,\n      endRow: 0,\n      startColumn: t,\n      endColumn: t\n    }, u, c.skeleton), _ = p;\n    if (_.startY = 0, this._getPosition(p, o) == null)\n      return;\n    const I = {\n      unitId: o,\n      subUnitId: a,\n      drawingId: f,\n      drawingType: e.type || B.DRAWING_DOM,\n      componentKey: l,\n      transform: {\n        left: _.startX,\n        top: _.startY,\n        width: _.width,\n        height: _.height\n      },\n      data: g,\n      allowTransform: h\n    };\n    {\n      const { unitId: w, subUnitId: y, drawingId: D } = I, T = se(this._univerInstanceService, { unitId: w, subUnitId: y }), E = I, M = this._univerInstanceService.getUnit(w, F.UNIVER_SHEET);\n      if (!M)\n        return;\n      const b = M.getActiveSheet().getSheetId();\n      if (!E || !T)\n        return;\n      const N = (S = this._renderManagerService.getRenderById(w)) == null ? void 0 : S.with(V);\n      if (!N)\n        return;\n      const x = N.getWorksheetSkeleton(y);\n      if (!x)\n        return;\n      const { transform: q, data: H } = E, L = this._getSceneAndTransformerByDrawingSearch(w);\n      if (L == null)\n        return;\n      const { scene: G, canvas: K } = L;\n      if (q == null || b !== y)\n        return;\n      const { left: k, top: ae, width: be, height: ot, angle: at, flipX: ct, flipY: dt, skewX: jt, skewY: $t } = q, lt = Ie({ unitId: w, subUnitId: y, drawingId: D }), ut = G.getObject(lt);\n      if (ut != null) {\n        ut.transformByState({ left: k, top: ae, width: be, height: ot, angle: at, flipX: ct, flipY: dt, skewX: jt, skewY: $t });\n        return;\n      }\n      const Me = Ct({\n        startX: _.startX,\n        startY: 0,\n        endX: p.endX,\n        endY: p.endY,\n        width: n.width,\n        height: n.height,\n        absolute: {\n          left: p.absolute.left,\n          top: p.absolute.top\n        }\n      }, n), ht = {\n        left: Me.startX,\n        top: Me.startY,\n        width: Me.width,\n        height: Me.height,\n        zIndex: this._drawingManagerService.getDrawingOrder(w, y).length - 1\n      }, de = new Ue(lt, ht);\n      G.addObject(de, Ft), E.allowTransform !== !1 && G.attachTransformerTo(de);\n      const Q = new _t(), ye = G.getMainViewport(), le = {\n        top: 0,\n        //viewMain.top,\n        left: ye.left,\n        bottom: ye.bottom,\n        right: ye.right\n      }, ue = {\n        dispose: Q,\n        rect: de,\n        // position$,\n        unitId: w,\n        subUnitId: y,\n        boundsOfViewArea: le,\n        domAnchor: n,\n        scrollDirectionResponse: \"HORIZONTAL\"\n        /* HORIZONTAL */\n      }, gt = ge(de, L.renderUnit.scene, x.skeleton, T.worksheet, ue), Te = new ke(gt);\n      ue.position$ = Te;\n      let Xe = {\n        position$: Te,\n        id: D,\n        componentKey: E.componentKey,\n        onPointerDown: () => {\n        },\n        onPointerMove: () => {\n        },\n        onPointerUp: () => {\n        },\n        onWheel: (j) => {\n          K.dispatchEvent(new WheelEvent(j.type, j));\n        },\n        data: H,\n        unitId: w\n      };\n      e.eventPassThrough && (Xe = {\n        ...Xe,\n        onPointerDown: (j) => {\n          K.dispatchEvent(new PointerEvent(j.type, j));\n        },\n        onPointerMove: (j) => {\n          K.dispatchEvent(new PointerEvent(j.type, j));\n        },\n        onPointerUp: (j) => {\n          K.dispatchEvent(new PointerEvent(j.type, j));\n        }\n      }), this._canvasFloatDomService.addFloatDom(Xe);\n      const ft = de.onTransformChange$.subscribeEvent(() => {\n        const j = ge(de, L.renderUnit.scene, x.skeleton, T.worksheet, ue);\n        Te.next(\n          j\n        );\n      });\n      this.disposeWithMe(m.subscribe((j) => {\n        const Ee = Ct({\n          startX: j.startX,\n          startY: 0,\n          endX: j.endX,\n          endY: j.endY,\n          width: n.width,\n          height: n.height,\n          absolute: {\n            left: p.absolute.left,\n            top: p.absolute.top\n          }\n        }, n), Le = Ie({ unitId: w, subUnitId: y, drawingId: D }), Ve = new Ue(Le, {\n          left: Ee.startX,\n          top: 0,\n          width: n.width,\n          height: n.height,\n          zIndex: this._drawingManagerService.getDrawingOrder(w, y).length - 1\n        }), mt = ge(Ve, L.renderUnit.scene, x.skeleton, T.worksheet, ue);\n        Te.next(mt);\n      }));\n      const he = (C = this._renderManagerService.getRenderById(w)) == null ? void 0 : C.with(V);\n      he == null || he.currentSkeleton$.subscribe((j) => {\n        j && c.sheetId !== j.sheetId && this._removeDom(f, !0);\n      }), Q.add(() => {\n        this._canvasFloatDomService.removeFloatDom(D);\n      }), ft && Q.add(ft), this._domLayerInfoMap.set(D, ue);\n    }\n    return {\n      id: f,\n      dispose: () => {\n        this._removeDom(f, !0);\n      }\n    };\n  }\n  /**\n   * Unlike _createCellPositionObserver, this accept a range not a single cell.\n   *\n   * @param initialRow\n   * @param initialCol\n   * @param currentRender\n   * @param skeleton\n   * @param activeViewport\n   * @returns position of cell to canvas.\n   */\n  // eslint-disable-next-line max-lines-per-function\n  _createRangePositionObserver(t, e, n) {\n    let { startRow: r, startColumn: s } = t;\n    const o = Je(r, s, n), a = new ke(o), d = Je(t.endRow, t.endColumn, n), u = new ke(d), c = () => {\n      const m = Je(r, s, n), _ = Je(t.endRow, t.endColumn, n);\n      a.next(m), u.next(_);\n    }, l = new _t();\n    l.add(e.engine.clientRect$.subscribe(() => c())), l.add(this._commandService.onCommandExecuted((m) => {\n      if (m.id === gi.id && m.params.rowsAutoHeightInfo.findIndex((v) => v.row === r) > -1) {\n        c();\n        return;\n      }\n      (fi.indexOf(m.id) > -1 || m.id === Fr.id || m.id === _n.id) && c();\n    }));\n    const g = (m, _) => {\n      r = m, s = _, c();\n    }, h = () => ({\n      rotate: 0,\n      width: d.right - o.left,\n      height: d.bottom - o.top,\n      absolute: {\n        left: !0,\n        top: !0\n      },\n      startX: o.left,\n      startY: o.top,\n      endX: d.right,\n      endY: d.bottom\n    }), f = a.pipe(\n      Re((m) => {\n        const _ = Je(t.endRow, t.endColumn, n);\n        return {\n          rotate: 0,\n          width: _.right - m.left,\n          height: _.bottom - m.top,\n          absolute: {\n            left: !0,\n            top: !0\n          },\n          startX: m.left,\n          startY: m.top,\n          endX: _.right,\n          endY: _.bottom\n        };\n      })\n    ), p = h();\n    return {\n      position$: f,\n      position: p,\n      updateRowCol: g,\n      topLeftPos$: a,\n      rightBottomPos$: u,\n      disposable: l\n    };\n  }\n};\ntt = ys([\n  Ce(0, A(J)),\n  Ce(1, Se),\n  Ce(2, A(X)),\n  Ce(3, ie),\n  Ce(4, A(Wi)),\n  Ce(5, re),\n  Ce(6, A(Jr))\n], tt);\nfunction Je(i, t, e) {\n  const n = e.getCellWithCoordByIndex(i, t), r = n.isMergedMainCell ? n.mergeInfo : n;\n  return {\n    left: r.startX,\n    right: r.endX,\n    top: r.startY,\n    bottom: r.endY\n  };\n}\nfunction Ct(i, t, e) {\n  var u, c;\n  e = e != null ? e : 1;\n  const n = i.endX - i.startX, r = i.endY - i.startY, s = (u = t == null ? void 0 : t.width) != null ? u : n, o = (c = t == null ? void 0 : t.height) != null ? c : r;\n  let a = 0, d = 0;\n  if (t) {\n    if (t.horizonOffsetAlign === \"right\") {\n      const l = Dt(t.marginX, n * e);\n      a = i.endX - l - s;\n    } else\n      a = i.startX + Dt(t.marginX, n);\n    if (t.verticalOffsetAlign === \"bottom\") {\n      const l = Dt(t.marginY, r * e);\n      d = i.endY - l - o;\n    } else\n      d = i.startY + Dt(t.marginY, r);\n  }\n  return {\n    rotate: 0,\n    startX: a,\n    startY: d,\n    endX: i.endX,\n    endY: i.endY,\n    width: s,\n    height: o,\n    absolute: {\n      left: i.absolute.left,\n      top: i.absolute.top\n    }\n  };\n}\nfunction Dt(i, t) {\n  if (i === void 0) return 0;\n  if (typeof i == \"number\") return i;\n  const e = Number.parseFloat(i);\n  return t * e / 100;\n}\nconst Ts = (i) => {\n  const { floatDomInfos: t, scene: e, skeleton: n, worksheet: r } = i, s = Qi(() => t.map((o) => {\n    const { width: a, height: d, angle: u, left: c, top: l } = o.transform, g = Ir(\n      {\n        left: c != null ? c : 0,\n        right: (c != null ? c : 0) + (a != null ? a : 0),\n        top: l != null ? l : 0,\n        bottom: (l != null ? l : 0) + (d != null ? d : 0)\n      },\n      e,\n      n,\n      r,\n      void 0,\n      !0\n    ), { scaleX: h, scaleY: f } = e.getAncestorScale(), p = {\n      startX: g.left,\n      endX: g.right,\n      startY: g.top,\n      endY: g.bottom,\n      rotate: u,\n      width: a * h,\n      height: d * f,\n      absolute: g.absolute\n    }, m = {\n      position$: new ke(p),\n      position: p,\n      id: o.drawingId,\n      componentKey: o.componentKey,\n      onPointerMove: () => {\n      },\n      onPointerDown: () => {\n      },\n      onPointerUp: () => {\n      },\n      onWheel: () => {\n      },\n      unitId: o.unitId,\n      data: o.data\n    };\n    return [o.drawingId, m];\n  }), [t, e, n, r]);\n  return /* @__PURE__ */ oe(\"div\", { style: { position: \"absolute\", top: 0, left: 0 }, children: s.map(([o, a]) => /* @__PURE__ */ oe(Bi, { layer: a, id: o, position: a.position }, o)) });\n};\nvar Es = Object.getOwnPropertyDescriptor, Os = (i, t, e, n) => {\n  for (var r = n > 1 ? void 0 : n ? Es(t, e) : t, s = i.length - 1, o; s >= 0; s--)\n    (o = i[s]) && (r = o(r) || r);\n  return r;\n}, De = (i, t) => (e, n) => t(e, n, i);\nlet Ot = class extends ne {\n  constructor(i, t, e, n, r, s, o) {\n    super(), this._sheetPrintInterceptorService = i, this._drawingRenderService = t, this._drawingManagerService = e, this._renderManagerService = n, this._canvasFloatDomManagerService = r, this._componetManager = s, this._injector = o, this._initPrinting(), this._initPrintingDom();\n  }\n  _initPrinting() {\n    this.disposeWithMe(\n      this._sheetPrintInterceptorService.interceptor.intercept(\n        this._sheetPrintInterceptorService.interceptor.getInterceptPoints().PRINTING_COMPONENT_COLLECT,\n        {\n          handler: (i, t, e) => {\n            const { unitId: n, scene: r, subUnitId: s } = t, o = this._drawingManagerService.getDrawingDataForUnit(n), a = o == null ? void 0 : o[s];\n            return a && a.order.forEach((d) => {\n              const u = a.data[d];\n              u.drawingType !== B.DRAWING_CHART && u.drawingType !== B.DRAWING_DOM && this._drawingRenderService.renderDrawing(u, r);\n            }), e();\n          }\n        }\n      )\n    ), this.disposeWithMe(\n      this._sheetPrintInterceptorService.interceptor.intercept(\n        this._sheetPrintInterceptorService.interceptor.getInterceptPoints().PRINTING_RANGE,\n        {\n          handler: (i, t, e) => {\n            const { unitId: n, subUnitId: r } = t, s = this._renderManagerService.getRenderById(n);\n            if (!s)\n              return e(i);\n            const o = s.with(V).getSkeletonParam(r);\n            if (!o)\n              return e(i);\n            const a = this._drawingManagerService.getDrawingDataForUnit(n), d = a == null ? void 0 : a[t.subUnitId];\n            if (!d)\n              return e(i);\n            const { scaleX: u, scaleY: c } = s.scene, l = i ? { ...i } : { startColumn: 0, endColumn: 0, endRow: 0, startRow: 0 }, g = d.order.map((h) => d.data[h]);\n            return g.length ? (g.forEach((h) => {\n              if (!h.groupId && h.transform && je.isDefine(h.transform.left) && je.isDefine(h.transform.top) && je.isDefine(h.transform.width) && je.isDefine(h.transform.height)) {\n                const f = o.skeleton.getCellIndexByOffset(h.transform.left, h.transform.top, u, c, { x: 0, y: 0 }), p = o.skeleton.getCellIndexByOffset(h.transform.left + h.transform.width, h.transform.top + h.transform.height, u, c, { x: 0, y: 0 });\n                f.column < l.startColumn && (l.startColumn = f.column), f.row < l.startRow && (l.startRow = f.row), l.endRow < p.row && (l.endRow = p.row), l.endColumn < p.column && (l.endColumn = p.column);\n              }\n            }), e(l)) : e(i);\n          }\n        }\n      )\n    );\n  }\n  _initPrintingDom() {\n    this.disposeWithMe(\n      this._sheetPrintInterceptorService.interceptor.intercept(\n        this._sheetPrintInterceptorService.interceptor.getInterceptPoints().PRINTING_DOM_COLLECT,\n        {\n          handler: (i, t, e) => {\n            const { unitId: n, subUnitId: r } = t, s = this._drawingManagerService.getDrawingDataForUnit(n), o = s == null ? void 0 : s[r];\n            if (o) {\n              const a = o.order.map((u) => {\n                const c = o.data[u];\n                if (c.drawingType === B.DRAWING_CHART)\n                  return {\n                    ...c,\n                    componentKey: this._componetManager.get(Qr)\n                  };\n                if (c.drawingType === B.DRAWING_DOM) {\n                  const l = this._sheetPrintInterceptorService.getPrintComponent(c.componentKey);\n                  return {\n                    ...c,\n                    componentKey: this._componetManager.get(l || c.componentKey)\n                  };\n                }\n                return null;\n              }).filter(Boolean), d = ji(Ts, this._injector);\n              return Di(\n                /* @__PURE__ */ oe(d, { floatDomInfos: a, scene: t.scene, skeleton: t.skeleton, worksheet: t.worksheet }),\n                t.root\n              ), i == null || i.add(() => {\n                Ri(t.root);\n              }), e(i);\n            }\n          }\n        }\n      )\n    );\n  }\n};\nOt = Os([\n  De(0, A(xr)),\n  De(1, A(lr)),\n  De(2, ie),\n  De(3, J),\n  De(4, A(tt)),\n  De(5, A(dr)),\n  De(6, A(Ge))\n], Ot);\nvar Us = Object.getOwnPropertyDescriptor, Ps = (i, t, e, n) => {\n  for (var r = n > 1 ? void 0 : n ? Us(t, e) : t, s = i.length - 1, o; s >= 0; s--)\n    (o = i[s]) && (r = o(r) || r);\n  return r;\n}, me = (i, t) => (e, n) => t(e, n, i);\nconst As = [\n  Ln.id,\n  Vn.id,\n  Hn.id,\n  zn.id,\n  Kn.id,\n  Jn.id,\n  Zn.id,\n  qn.id,\n  Jt.id,\n  Zt.id,\n  Qn.id,\n  er.id,\n  tr.id,\n  nr.id,\n  rr.id,\n  ir.id,\n  sr.id,\n  or.id,\n  ar.id\n], Ns = [\n  mi.id,\n  pi.id,\n  wi.id,\n  _i.id,\n  Si.id,\n  vi.id\n];\nlet rn = class extends ne {\n  constructor(i, t, e, n, r, s, o, a, d) {\n    super(), this._context = i, this._renderManagerService = t, this._commandService = e, this._selectionRenderService = n, this._skeletonManagerService = r, this._sheetInterceptorService = s, this._sheetDrawingService = o, this._drawingManagerService = a, this._univerInstanceService = d, this._sheetInterceptorListener(), this._commandListener(), this._sheetRefreshListener();\n  }\n  _sheetInterceptorListener() {\n    this.disposeWithMe(\n      this._sheetInterceptorService.interceptAfterCommand({\n        /* eslint-disable-next-line complexity */\n        getMutations: (i) => {\n          if (!As.includes(i.id))\n            return { redos: [], undos: [] };\n          if (i.params == null)\n            return { redos: [], undos: [] };\n          const t = i.id;\n          if (t === Ln.id)\n            return this._moveRowInterceptor(i.params, \"insert\");\n          if ([sr.id, or.id, ar.id].includes(t))\n            return this._moveRangeInterceptor(i.params);\n          if (t === Vn.id)\n            return this._moveColInterceptor(i.params, \"insert\");\n          if (t === Hn.id)\n            return this._moveRowInterceptor(i.params, \"remove\");\n          if (t === zn.id)\n            return this._moveColInterceptor(i.params, \"remove\");\n          if (t === Kn.id) {\n            const { range: e } = i.params;\n            return this._getRangeMoveUndo(\n              e,\n              0\n              /* deleteLeft */\n            );\n          } else if (t === Jn.id) {\n            const { range: e } = i.params;\n            return this._getRangeMoveUndo(\n              e,\n              1\n              /* deleteUp */\n            );\n          } else if (t === Zn.id) {\n            const { range: e } = i.params;\n            return this._getRangeMoveUndo(\n              e,\n              2\n              /* insertDown */\n            );\n          } else if (t === qn.id) {\n            const { range: e } = i.params;\n            return this._getRangeMoveUndo(\n              e,\n              3\n              /* insertRight */\n            );\n          } else if (t === tr.id || t === nr.id) {\n            const e = i.params, { unitId: n, subUnitId: r, ranges: s } = e;\n            return this._getDrawingUndoForRowVisible(n, r, s);\n          } else if (t === rr.id || t === ir.id) {\n            const e = i.params, { unitId: n, subUnitId: r, ranges: s } = e;\n            return this._getDrawingUndoForColVisible(n, r, s);\n          } else if (t === Jt.id || t === Zt.id || t === Qn.id || t === er.id) {\n            const e = i.params, { unitId: n, subUnitId: r, ranges: s } = e, o = t === Jt.id || t === Zt.id;\n            return this._getDrawingUndoForRowAndColSize(n, r, s, o);\n          }\n          return { redos: [], undos: [] };\n        }\n      })\n    );\n  }\n  _getRangeMoveUndo(i, t) {\n    const e = se(this._univerInstanceService);\n    if (e == null)\n      return { redos: [], undos: [] };\n    const n = e.unitId, r = e.subUnitId, s = [], o = [], a = this._sheetDrawingService.getDrawingData(n, r), d = [], u = [];\n    if (Object.keys(a).forEach((c) => {\n      const l = a[c], { updateDrawings: g, deleteDrawings: h } = this._getUpdateOrDeleteDrawings(i, t, l);\n      d.push(...g), u.push(...h);\n    }), d.length === 0 && u.length === 0)\n      return { redos: [], undos: [] };\n    if (d.length > 0) {\n      const c = this._sheetDrawingService.getBatchUpdateOp(d), { undo: l, redo: g, objects: h } = c;\n      s.push({ id: P.id, params: { unitId: n, subUnitId: r, op: g, objects: h, type: U.UPDATE } }), o.push({ id: P.id, params: { unitId: n, subUnitId: r, op: l, objects: h, type: U.UPDATE } });\n    }\n    if (u.length > 0) {\n      const c = this._sheetDrawingService.getBatchRemoveOp(u), l = c.undo, g = c.redo, h = c.objects;\n      s.push({ id: P.id, params: { unitId: n, subUnitId: r, op: g, objects: h, type: U.REMOVE } }), o.push({ id: P.id, params: { unitId: n, subUnitId: r, op: l, objects: h, type: U.INSERT } });\n    }\n    return s.push({ id: Y.id, params: [n] }), o.push({ id: Y.id, params: [n] }), {\n      redos: s,\n      undos: o\n    };\n  }\n  _getUpdateOrDeleteDrawings(i, t, e) {\n    const n = [], r = [], { sheetTransform: s, anchorType: o = O.Position, transform: a, unitId: d, subUnitId: u, drawingId: c } = e, { from: l, to: g } = s, { row: h, column: f } = l, { row: p, column: m } = g;\n    if (s == null || a == null)\n      return {\n        updateDrawings: n,\n        deleteDrawings: r\n      };\n    const { startRow: _, endRow: v, startColumn: I, endColumn: R } = i;\n    let S = null, C = null;\n    if (t === 0 && h >= _ && p <= v)\n      if (f >= I && m <= R)\n        r.push({ unitId: d, subUnitId: u, drawingId: c });\n      else {\n        const w = this._shrinkCol(s, a, I, R, o);\n        S = w == null ? void 0 : w.newSheetTransform, C = w == null ? void 0 : w.newTransform;\n      }\n    else if (t === 1 && f >= I && m <= R)\n      if (h >= _ && p <= v)\n        r.push({ unitId: d, subUnitId: u, drawingId: c });\n      else {\n        const w = this._shrinkRow(s, a, _, v, o);\n        S = w == null ? void 0 : w.newSheetTransform, C = w == null ? void 0 : w.newTransform;\n      }\n    else if (t === 2) {\n      const w = this._expandRow(s, a, _, v, o);\n      S = w == null ? void 0 : w.newSheetTransform, C = w == null ? void 0 : w.newTransform;\n    } else if (t === 3) {\n      const w = this._expandCol(s, a, I, R, o);\n      S = w == null ? void 0 : w.newSheetTransform, C = w == null ? void 0 : w.newTransform;\n    }\n    if (S != null && C != null) {\n      const w = z(S, this._selectionRenderService, this._skeletonManagerService);\n      n.push({ ...e, sheetTransform: S, transform: w });\n    }\n    return { updateDrawings: n, deleteDrawings: r };\n  }\n  _remainDrawingSize(i, t, e) {\n    const n = $({ ...i }, this._selectionRenderService);\n    n != null && t.push({\n      ...e,\n      sheetTransform: n\n    });\n  }\n  // eslint-disable-next-line max-lines-per-function\n  _getDrawingUndoForColVisible(i, t, e) {\n    const n = this._drawingManagerService.getDrawingData(i, t), r = [], s = [];\n    if (Object.keys(n).forEach((c) => {\n      const l = n[c], { sheetTransform: g, transform: h, anchorType: f = O.Position } = l;\n      if (f === O.None)\n        this._remainDrawingSize(h, r, l);\n      else {\n        const { from: p, to: m } = g, { row: _, column: v } = p, { row: I, column: R } = m;\n        for (let S = 0; S < e.length; S++) {\n          const C = e[S], { startRow: w, endRow: y, startColumn: D, endColumn: T } = C;\n          if (R < D)\n            continue;\n          if (f === O.Position) {\n            let b = null, N = null;\n            if (v >= D && v <= T) {\n              const x = this._skeletonManagerService.attachRangeWithCoord({ startColumn: v, endColumn: T, startRow: p.row, endRow: m.row });\n              if (x == null)\n                return;\n              N = { ...h, left: x.startX };\n            }\n            if (N != null && (b = $(N, this._selectionRenderService), b != null && N != null)) {\n              r.push({ ...l, sheetTransform: b, transform: N });\n              break;\n            }\n            this._remainDrawingSize(h, r, l);\n            continue;\n          }\n          if (v >= D && R <= T)\n            continue;\n          let E = null, M = null;\n          if (v >= D && v <= T) {\n            const b = this._skeletonManagerService.attachRangeWithCoord({ startColumn: v, endColumn: T, startRow: p.row, endRow: m.row });\n            if (b == null)\n              return;\n            M = {\n              ...h,\n              left: (b == null ? void 0 : b.startX) || 0,\n              width: ((h == null ? void 0 : h.width) || 0) - b.endX + b.startX\n            };\n          } else if (R >= D && R <= T) {\n            const b = this._skeletonManagerService.attachRangeWithCoord({ startColumn: D, endColumn: R, startRow: p.row, endRow: m.row });\n            if (b == null)\n              return;\n            M = {\n              ...h,\n              left: b.startX - ((h == null ? void 0 : h.width) || 0)\n            };\n          } else {\n            const b = this._skeletonManagerService.attachRangeWithCoord({ startColumn: D, endColumn: T, startRow: p.row, endRow: m.row });\n            if (b == null)\n              return;\n            if (M = {\n              ...h,\n              width: ((h == null ? void 0 : h.width) || 0) - b.endX + b.startX\n            }, E = $(M, this._selectionRenderService), E != null && M != null) {\n              s.push({ ...l, sheetTransform: E, transform: M });\n              break;\n            }\n          }\n          if (M != null && (E = $(M, this._selectionRenderService)), M != null && E != null) {\n            r.push({ ...l, sheetTransform: E, transform: M });\n            break;\n          } else\n            this._remainDrawingSize(h, r, l);\n        }\n      }\n    }), r.length === 0 && s.length === 0)\n      return { redos: [], undos: [] };\n    const { redos: o, undos: a } = this._createUndoAndRedoMutation(i, t, r), d = [], u = [];\n    if (s.length > 0) {\n      const { redos: c, undos: l } = this._createUndoAndRedoMutation(i, t, s);\n      d.push(...c), u.push(...l);\n    }\n    return {\n      redos: o,\n      undos: a,\n      preRedos: d,\n      preUndos: u\n    };\n  }\n  _createUndoAndRedoMutation(i, t, e) {\n    const n = this._sheetDrawingService.getBatchUpdateOp(e), { undo: r, redo: s, objects: o } = n, a = [\n      { id: P.id, params: { unitId: i, subUnitId: t, op: s, objects: o, type: U.UPDATE } },\n      { id: Y.id, params: [i] }\n    ], d = [\n      { id: P.id, params: { unitId: i, subUnitId: t, op: r, objects: o, type: U.UPDATE } },\n      { id: Y.id, params: [i] }\n    ];\n    return {\n      redos: a,\n      undos: d\n    };\n  }\n  // eslint-disable-next-line max-lines-per-function\n  _getDrawingUndoForRowVisible(i, t, e) {\n    const n = this._drawingManagerService.getDrawingData(i, t), r = [], s = [];\n    if (Object.keys(n).forEach((c) => {\n      const l = n[c], { sheetTransform: g, transform: h, anchorType: f = O.Position } = l;\n      if (f === O.None)\n        this._remainDrawingSize(h, r, l);\n      else {\n        const { from: p, to: m } = g, { row: _, column: v } = p, { row: I, column: R } = m;\n        for (let S = 0; S < e.length; S++) {\n          const C = e[S], { startRow: w, endRow: y, startColumn: D, endColumn: T } = C;\n          if (I < w)\n            continue;\n          if (f === O.Position) {\n            let b = null, N = null;\n            if (_ >= w && _ <= y) {\n              const x = this._skeletonManagerService.attachRangeWithCoord({ startColumn: p.column, endColumn: m.column, startRow: _, endRow: y });\n              if (x == null)\n                return;\n              N = { ...h, top: x.startY };\n            }\n            if (N != null && (b = $(N, this._selectionRenderService), b != null && N != null)) {\n              r.push({ ...l, sheetTransform: b, transform: N });\n              break;\n            }\n            this._remainDrawingSize(h, r, l);\n            continue;\n          }\n          if (_ >= w && I <= y)\n            continue;\n          let E = null, M = null;\n          if (_ >= w && _ <= y) {\n            const b = this._skeletonManagerService.attachRangeWithCoord({ startColumn: p.column, endColumn: m.column, startRow: _, endRow: y });\n            if (b == null)\n              return;\n            M = {\n              ...h,\n              top: (b == null ? void 0 : b.startY) || 0,\n              height: ((h == null ? void 0 : h.height) || 0) - b.endY + b.startY\n            };\n          } else if (I >= w && I <= y) {\n            const b = this._skeletonManagerService.attachRangeWithCoord({ startColumn: p.column, endColumn: m.column, startRow: w, endRow: I });\n            if (b == null)\n              return;\n            M = {\n              ...h,\n              top: b.startY - ((h == null ? void 0 : h.height) || 0)\n            };\n          } else {\n            const b = this._skeletonManagerService.attachRangeWithCoord({ startColumn: p.column, endColumn: m.column, startRow: w, endRow: y });\n            if (b == null)\n              return;\n            if (M = {\n              ...h,\n              height: ((h == null ? void 0 : h.height) || 0) - b.endY + b.startY\n            }, E = $(M, this._selectionRenderService), E != null && M != null) {\n              s.push({ ...l, sheetTransform: E, transform: M });\n              break;\n            }\n          }\n          if (M != null && (E = $(M, this._selectionRenderService)), M != null && E != null) {\n            r.push({ ...l, sheetTransform: E, transform: M });\n            break;\n          } else\n            this._remainDrawingSize(h, r, l);\n        }\n      }\n    }), r.length === 0 && s.length === 0)\n      return { redos: [], undos: [] };\n    const { redos: o, undos: a } = this._createUndoAndRedoMutation(i, t, r), d = [], u = [];\n    if (s.length > 0) {\n      const { redos: c, undos: l } = this._createUndoAndRedoMutation(i, t, s);\n      d.push(...c), u.push(...l);\n    }\n    return {\n      redos: o,\n      undos: a,\n      preRedos: d,\n      preUndos: u\n    };\n  }\n  _getDrawingUndoForRowAndColSize(i, t, e, n) {\n    const r = this._drawingManagerService.getDrawingData(i, t), s = [];\n    return Object.keys(r).forEach((o) => {\n      const a = r[o], { sheetTransform: d, transform: u, anchorType: c = O.Position } = a;\n      if (c === O.None)\n        this._remainDrawingSize(u, s, a);\n      else {\n        const { from: l, to: g } = d, { row: h, column: f } = l, { row: p, column: m } = g;\n        for (let _ = 0; _ < e.length; _++) {\n          const v = e[_], { startRow: I, endRow: R, startColumn: S, endColumn: C } = v;\n          if (p < I || m < S)\n            continue;\n          if (c === O.Position && (h <= I && p >= R || f <= S && m >= C)) {\n            this._remainDrawingSize(u, s, a);\n            continue;\n          }\n          const w = z({ ...d }, this._selectionRenderService, this._skeletonManagerService);\n          if (w != null) {\n            s.push({\n              ...a,\n              transform: w\n            });\n            break;\n          }\n        }\n      }\n    }), s.length === 0 ? { redos: [], undos: [] } : this._createUndoAndRedoMutation(i, t, s);\n  }\n  _getUnitIdAndSubUnitId(i, t) {\n    let e, n;\n    if (t === \"insert\")\n      e = i.unitId, n = i.subUnitId;\n    else {\n      const r = se(this._univerInstanceService);\n      if (r == null)\n        return;\n      e = r.unitId, n = r.subUnitId;\n    }\n    return { unitId: e, subUnitId: n };\n  }\n  _moveRangeInterceptor(i) {\n    var I, R;\n    const { toRange: t, fromRange: e } = i, n = se(this._univerInstanceService);\n    if (!n)\n      return { redos: [], undos: [] };\n    const { unitId: r, subUnitId: s } = n, o = (R = (I = this._renderManagerService.getRenderById(r)) == null ? void 0 : I.with(V)) == null ? void 0 : R.getCurrentSkeleton();\n    if (!o)\n      return { redos: [], undos: [] };\n    const a = Yn(o, e);\n    if (!a)\n      return { redos: [], undos: [] };\n    const { startX: d, endX: u, startY: c, endY: l } = a, g = this._sheetDrawingService.getDrawingData(r, s), h = [];\n    Object.keys(g).forEach((S) => {\n      const C = g[S];\n      if (C.anchorType !== O.Both)\n        return;\n      const { transform: w } = C;\n      if (!w)\n        return;\n      const { left: y = 0, top: D = 0, width: T = 0, height: E = 0 } = w, { drawingStartX: M, drawingEndX: b, drawingStartY: N, drawingEndY: x } = {\n        drawingStartX: y,\n        drawingEndX: y + T,\n        drawingStartY: D,\n        drawingEndY: D + E\n      };\n      d <= M && b <= u && c <= N && x <= l && h.push(C);\n    });\n    const f = [], p = [], m = t.startRow - e.startRow, _ = t.startColumn - e.startColumn, v = h.map((S) => {\n      const C = S.sheetTransform, w = {\n        to: { ...C.to, row: C.to.row + m, column: C.to.column + _ },\n        from: { ...C.from, row: C.from.row + m, column: C.from.column + _ }\n      }, y = z(w, this._selectionRenderService, this._skeletonManagerService);\n      return {\n        unitId: r,\n        subUnitId: s,\n        drawingId: S.drawingId,\n        transform: y,\n        sheetTransform: w\n      };\n    });\n    if (v.length) {\n      const S = this._sheetDrawingService.getBatchUpdateOp(v), { undo: C, redo: w, objects: y } = S;\n      f.push({ id: P.id, params: { unitId: r, subUnitId: s, op: w, objects: y, type: U.UPDATE } }), p.push({ id: P.id, params: { unitId: r, subUnitId: s, op: C, objects: y, type: U.UPDATE } });\n    }\n    return { redos: f, undos: p };\n  }\n  _moveRowInterceptor(i, t) {\n    const e = this._getUnitIdAndSubUnitId(i, t);\n    if (e == null)\n      return { redos: [], undos: [] };\n    const { unitId: n, subUnitId: r } = e, { range: s } = i, o = s.startRow, a = s.endRow, d = [], u = [], c = this._sheetDrawingService.getDrawingData(n, r), l = [], g = [];\n    if (Object.keys(c).forEach((h) => {\n      const f = c[h], { sheetTransform: p, transform: m, anchorType: _ = O.Position } = f;\n      if (p == null || m == null)\n        return;\n      let v, I;\n      if (t === \"insert\") {\n        const S = this._expandRow(p, m, o, a, _);\n        v = S == null ? void 0 : S.newSheetTransform, I = S == null ? void 0 : S.newTransform;\n      } else {\n        const { from: S, to: C } = p, { row: w } = S, { row: y } = C;\n        if (_ === O.Both && w >= o && y <= a)\n          g.push({ unitId: n, subUnitId: r, drawingId: h });\n        else {\n          const D = this._shrinkRow(p, m, o, a, _);\n          v = D == null ? void 0 : D.newSheetTransform, I = D == null ? void 0 : D.newTransform;\n        }\n      }\n      if (!v || !I)\n        return;\n      const R = { unitId: n, subUnitId: r, drawingId: h, transform: I, sheetTransform: v };\n      l.push(R);\n    }), l.length === 0 && g.length === 0)\n      return { redos: [], undos: [] };\n    if (l.length > 0) {\n      const h = this._sheetDrawingService.getBatchUpdateOp(l), { undo: f, redo: p, objects: m } = h;\n      d.push({ id: P.id, params: { unitId: n, subUnitId: r, op: p, objects: m, type: U.UPDATE } }), u.push({ id: P.id, params: { unitId: n, subUnitId: r, op: f, objects: m, type: U.UPDATE } });\n    }\n    if (g.length > 0) {\n      const h = this._sheetDrawingService.getBatchRemoveOp(g), f = h.undo, p = h.redo, m = h.objects;\n      d.push({ id: P.id, params: { unitId: n, subUnitId: r, op: p, objects: m, type: U.REMOVE } }), u.push({ id: P.id, params: { unitId: n, subUnitId: r, op: f, objects: m, type: U.INSERT } });\n    }\n    return d.push({ id: Y.id, params: [n] }), u.push({ id: Y.id, params: [n] }), {\n      redos: d,\n      undos: u\n    };\n  }\n  _moveColInterceptor(i, t) {\n    const e = this._getUnitIdAndSubUnitId(i, t);\n    if (e == null)\n      return { redos: [], undos: [] };\n    const { unitId: n, subUnitId: r } = e, { range: s } = i, o = s.startColumn, a = s.endColumn, d = [], u = [], c = this._sheetDrawingService.getDrawingData(n, r), l = [], g = [];\n    if (Object.keys(c).forEach((h) => {\n      const f = c[h], { sheetTransform: p, transform: m, anchorType: _ = O.Position } = f;\n      if (p == null || m == null)\n        return;\n      let v, I;\n      if (t === \"insert\") {\n        const S = this._expandCol(p, m, o, a, _);\n        v = S == null ? void 0 : S.newSheetTransform, I = S == null ? void 0 : S.newTransform;\n      } else {\n        const { from: S, to: C } = p, { column: w } = S, { column: y } = C;\n        if (_ === O.Both && w >= o && y <= a)\n          g.push({ unitId: n, subUnitId: r, drawingId: h });\n        else {\n          const D = this._shrinkCol(p, m, o, a, _);\n          v = D == null ? void 0 : D.newSheetTransform, I = D == null ? void 0 : D.newTransform;\n        }\n      }\n      if (!v || !I)\n        return;\n      const R = { unitId: n, subUnitId: r, drawingId: h, transform: I, sheetTransform: v };\n      l.push(R);\n    }), l.length === 0 && g.length === 0)\n      return { redos: [], undos: [] };\n    if (l.length > 0) {\n      const h = this._sheetDrawingService.getBatchUpdateOp(l), { undo: f, redo: p, objects: m } = h;\n      d.push({ id: P.id, params: { unitId: n, subUnitId: r, op: p, objects: m, type: U.UPDATE } }), u.push({ id: P.id, params: { unitId: n, subUnitId: r, op: f, objects: m, type: U.UPDATE } });\n    }\n    if (g.length > 0) {\n      const h = this._sheetDrawingService.getBatchRemoveOp(g), f = h.undo, p = h.redo, m = h.objects;\n      d.push({ id: P.id, params: { unitId: n, subUnitId: r, op: p, objects: m, type: U.REMOVE } }), u.push({ id: P.id, params: { unitId: n, subUnitId: r, op: f, objects: m, type: U.INSERT } });\n    }\n    return d.push({ id: Y.id, params: [n] }), u.push({ id: Y.id, params: [n] }), { redos: d, undos: u };\n  }\n  _expandCol(i, t, e, n, r = O.Position) {\n    const s = n - e + 1, { from: o, to: a } = i, { column: d } = o, { column: u } = a;\n    if (r === O.None)\n      return {\n        newSheetTransform: $({ ...t }, this._selectionRenderService),\n        newTransform: t\n      };\n    let c = null, l = null;\n    if (d >= e) {\n      const g = this._skeletonManagerService.attachRangeWithCoord({ startColumn: e, endColumn: n, startRow: o.row, endRow: a.row });\n      if (g == null)\n        return;\n      l = { ...t, left: (t.left || 0) + g.endX - g.startX }, c = $(l, this._selectionRenderService);\n    } else if (u >= n)\n      if (r === O.Both)\n        c = {\n          from: { ...o },\n          to: { ...a, column: u + s }\n        }, l = z(c, this._selectionRenderService, this._skeletonManagerService);\n      else\n        return {\n          newSheetTransform: $({ ...t }, this._selectionRenderService),\n          newTransform: t\n        };\n    return c != null && l != null ? {\n      newSheetTransform: c,\n      newTransform: l\n    } : null;\n  }\n  _shrinkCol(i, t, e, n, r = O.Position) {\n    const s = n - e + 1, { from: o, to: a } = i, { column: d } = o, { column: u } = a;\n    if (r === O.None)\n      return {\n        newSheetTransform: $({ ...t }, this._selectionRenderService),\n        newTransform: t\n      };\n    let c = null, l = null;\n    if (d > n)\n      c = {\n        from: { ...o, column: d - s },\n        to: { ...a, column: u - s }\n      }, l = z(c, this._selectionRenderService, this._skeletonManagerService);\n    else {\n      if (d >= e && u <= n)\n        return null;\n      if (d < e && u > n)\n        if (r === O.Both)\n          c = {\n            from: { ...o },\n            to: { ...a, column: u - s }\n          }, l = z(c, this._selectionRenderService, this._skeletonManagerService);\n        else\n          return {\n            newSheetTransform: $({ ...t }, this._selectionRenderService),\n            newTransform: t\n          };\n      else if (d >= e && d <= n) {\n        if (d === e)\n          l = { ...t, left: (t.left || 0) - i.from.columnOffset };\n        else {\n          const g = this._skeletonManagerService.attachRangeWithCoord({ startColumn: e, endColumn: d - 1, startRow: o.row, endRow: a.row });\n          if (g == null)\n            return;\n          l = { ...t, left: (t.left || 0) - g.endX + g.startX - i.from.columnOffset };\n        }\n        c = $(l, this._selectionRenderService);\n      } else if (u >= e && u <= n && r === O.Both) {\n        const g = this._skeletonManagerService.attachRangeWithCoord({\n          startColumn: e - 1,\n          endColumn: e - 1,\n          startRow: o.row,\n          endRow: a.row\n        });\n        if (g == null)\n          return;\n        c = {\n          from: { ...o },\n          to: { ...a, column: e - 1, columnOffset: g.endX - g.startX }\n        }, l = z(c, this._selectionRenderService, this._skeletonManagerService);\n      }\n    }\n    return c != null && l != null ? {\n      newSheetTransform: c,\n      newTransform: l\n    } : null;\n  }\n  _expandRow(i, t, e, n, r = O.Position) {\n    const s = n - e + 1, { from: o, to: a } = i, { row: d } = o, { row: u } = a;\n    if (r === O.None)\n      return {\n        newSheetTransform: $({ ...t }, this._selectionRenderService),\n        newTransform: t\n      };\n    let c = null, l = null;\n    if (d >= e) {\n      const g = this._skeletonManagerService.attachRangeWithCoord({ startRow: e, endRow: n, startColumn: o.column, endColumn: a.column });\n      if (g == null)\n        return;\n      l = { ...t, top: (t.top || 0) + g.endY - g.startY }, c = $(l, this._selectionRenderService);\n    } else if (u >= n)\n      if (r === O.Both)\n        c = {\n          from: { ...o },\n          to: {\n            ...a,\n            row: u + s\n          }\n        }, l = z(c, this._selectionRenderService, this._skeletonManagerService);\n      else\n        return {\n          newSheetTransform: $({ ...t }, this._selectionRenderService),\n          newTransform: t\n        };\n    return c != null && l != null ? {\n      newSheetTransform: c,\n      newTransform: l\n    } : null;\n  }\n  _shrinkRow(i, t, e, n, r = O.Position) {\n    const s = n - e + 1, { from: o, to: a } = i, { row: d } = o, { row: u } = a;\n    if (r === O.None)\n      return {\n        newSheetTransform: $({ ...t }, this._selectionRenderService),\n        newTransform: t\n      };\n    let c = null, l = null;\n    if (d > n)\n      c = {\n        from: { ...o, row: d - s },\n        to: { ...a, row: u - s }\n      }, l = z(c, this._selectionRenderService, this._skeletonManagerService);\n    else {\n      if (d >= e && u <= n)\n        return null;\n      if (d < e && u > n)\n        if (r === O.Both)\n          c = {\n            from: { ...o },\n            to: { ...a, row: u - s }\n          }, l = z(c, this._selectionRenderService, this._skeletonManagerService);\n        else\n          return {\n            newSheetTransform: $({ ...t }, this._selectionRenderService),\n            newTransform: t\n          };\n      else if (d >= e && d <= n) {\n        if (d === e)\n          l = { ...t, top: (t.top || 0) - i.from.rowOffset };\n        else {\n          const g = this._skeletonManagerService.attachRangeWithCoord({ startRow: e, endRow: d - 1, startColumn: o.column, endColumn: a.column });\n          if (g == null)\n            return;\n          l = { ...t, top: (t.top || 0) - g.endY + g.startY - i.from.rowOffset };\n        }\n        c = $(l, this._selectionRenderService);\n      } else if (u >= e && u <= n && r === O.Both) {\n        const g = this._skeletonManagerService.attachRangeWithCoord({ startColumn: o.column, endColumn: o.column, startRow: e - 1, endRow: e - 1 });\n        if (g == null)\n          return;\n        c = {\n          from: { ...o },\n          to: { ...a, row: e - 1, rowOffset: g.endY - g.startY }\n        }, l = z(c, this._selectionRenderService, this._skeletonManagerService);\n      }\n    }\n    return c != null && l != null ? {\n      newSheetTransform: c,\n      newTransform: l\n    } : null;\n  }\n  _commandListener() {\n    this.disposeWithMe(\n      // TODO@weird94: this should subscribe to the command service\n      // but the skeleton changes like other render modules. These two signals are not equivalent.\n      // As a temp solution, I subscribed to activate$ here.\n      this._commandService.onCommandExecuted((i) => {\n        if (i.id === Ii.id) {\n          const { unitId: t, subUnitId: e } = i.params;\n          this._updateDrawings(t, e);\n        }\n      })\n    ), this.disposeWithMe(\n      this._context.activated$.subscribe((i) => {\n        const { unit: t, unitId: e } = this._context;\n        if (i) {\n          const n = t.getActiveSheet().getSheetId();\n          this._updateDrawings(e, n);\n        } else\n          this._clearDrawings(e);\n      })\n    );\n  }\n  _clearDrawings(i) {\n    setTimeout(() => {\n      const t = this._drawingManagerService.drawingManagerData, e = [];\n      Object.keys(t).forEach((n) => {\n        const r = t[n];\n        r != null && Object.keys(r).forEach((s) => {\n          const o = r[s].data;\n          o != null && Object.keys(o).forEach((a) => {\n            n === i && e.push(o[a]);\n          });\n        });\n      }), this._drawingManagerService.removeNotification(e);\n    });\n  }\n  _updateDrawings(i, t) {\n    setTimeout(() => {\n      const e = this._drawingManagerService.drawingManagerData, n = [], r = [];\n      Object.keys(e).forEach((s) => {\n        const o = e[s];\n        o != null && Object.keys(o).forEach((a) => {\n          const d = o[a].data;\n          d != null && Object.keys(d).forEach((u) => {\n            if (s === i && a === t) {\n              const c = d[u];\n              c.transform = z(c.sheetTransform, this._selectionRenderService, this._skeletonManagerService), n.push(d[u]);\n            } else\n              r.push(d[u]);\n          });\n        });\n      }), this._drawingManagerService.removeNotification(r), this._drawingManagerService.addNotification(n);\n    }, 0);\n  }\n  _sheetRefreshListener() {\n    this.disposeWithMe(\n      this._commandService.onCommandExecuted((i) => {\n        Ns.includes(i.id) && requestIdleCallback(() => {\n          const t = i.params, { unitId: e, subUnitId: n, ranges: r } = t;\n          this._refreshDrawingTransform(e, n, r);\n        });\n      })\n    );\n  }\n  _refreshDrawingTransform(i, t, e) {\n    const n = this._drawingManagerService.getDrawingData(i, t), r = [];\n    Object.keys(n).forEach((s) => {\n      const o = n[s], { sheetTransform: a, transform: d, anchorType: u = O.Position } = o;\n      if (u === O.None)\n        return !0;\n      const { from: c, to: l } = a, { row: g, column: h } = c, { row: f, column: p } = l;\n      for (let m = 0; m < e.length; m++) {\n        const _ = e[m], { startRow: v, endRow: I, startColumn: R, endColumn: S } = _;\n        if (ei.intersects(\n          {\n            startRow: v,\n            endRow: I,\n            startColumn: R,\n            endColumn: S\n          },\n          {\n            startRow: g,\n            endRow: f,\n            startColumn: h,\n            endColumn: p\n          }\n        ) || g > I || h > S) {\n          const C = u === O.Position, w = z(a, this._selectionRenderService, this._skeletonManagerService);\n          r.push({\n            ...o,\n            transform: {\n              ...w,\n              width: C ? d == null ? void 0 : d.width : w == null ? void 0 : w.width,\n              height: C ? d == null ? void 0 : d.height : w == null ? void 0 : w.height\n            }\n          });\n          break;\n        }\n      }\n    }), r.length !== 0 && (this._drawingManagerService.refreshTransform(r), this._commandService.syncExecuteCommand(Y.id, [i]));\n  }\n};\nrn = Ps([\n  me(1, J),\n  me(2, X),\n  me(3, xe),\n  me(4, A(V)),\n  me(5, A(At)),\n  me(6, re),\n  me(7, ie),\n  me(8, Se)\n], rn);\nconst ks = (i) => {\n  var v;\n  const t = qe(X), e = qe(nt), n = qe(ie), r = qe(J), { drawings: s } = i, o = s[0];\n  if (o == null)\n    return;\n  const { unitId: a } = o, d = r.getRenderById(a), u = d == null ? void 0 : d.scene;\n  if (u == null)\n    return;\n  const c = u.getTransformerByCreate(), [l, g] = Qt(!0), h = (v = o.anchorType) != null ? v : O.Position, [f, p] = Qt(h);\n  function m(I, R) {\n    const S = [];\n    return I.forEach((C) => {\n      const { oKey: w } = C, y = R.getDrawingOKey(w);\n      if (y == null)\n        return S.push(null), !0;\n      const { unitId: D, subUnitId: T, drawingId: E, drawingType: M, anchorType: b, sheetTransform: N } = y;\n      S.push({\n        unitId: D,\n        subUnitId: T,\n        drawingId: E,\n        anchorType: b,\n        sheetTransform: N,\n        drawingType: M\n      });\n    }), S;\n  }\n  ur(() => {\n    const I = c.clearControl$.subscribe((S) => {\n      S === !0 && g(!1);\n    }), R = c.changeStart$.subscribe((S) => {\n      var y;\n      const { objects: C } = S, w = m(C, n);\n      if (w.length === 0)\n        g(!1);\n      else if (w.length >= 1) {\n        g(!0);\n        const D = ((y = w[0]) == null ? void 0 : y.anchorType) || O.Position;\n        p(D);\n      }\n    });\n    return () => {\n      R.unsubscribe(), I.unsubscribe();\n    };\n  }, []);\n  function _(I) {\n    p(I);\n    const R = n.getFocusDrawings();\n    if (R.length === 0)\n      return;\n    const S = R.map((C) => ({\n      unitId: C.unitId,\n      subUnitId: C.subUnitId,\n      drawingId: C.drawingId,\n      anchorType: I\n    }));\n    t.executeCommand(Wt.id, {\n      unitId: R[0].unitId,\n      drawings: S\n    });\n  }\n  return /* @__PURE__ */ qt(\n    \"div\",\n    {\n      className: bi(\"univer-grid univer-gap-2 univer-py-2 univer-text-gray-400\", {\n        \"univer-hidden\": !l\n      }),\n      children: [\n        /* @__PURE__ */ oe(\n          \"header\",\n          {\n            className: \"univer-text-gray-600 dark:!univer-text-gray-200\",\n            children: /* @__PURE__ */ oe(\"div\", { children: e.t(\"drawing-anchor.title\") })\n          }\n        ),\n        /* @__PURE__ */ oe(\"div\", { children: /* @__PURE__ */ qt(Mi, { value: f, onChange: _, direction: \"vertical\", children: [\n          /* @__PURE__ */ oe(Yt, { value: O.Both, children: e.t(\"drawing-anchor.both\") }),\n          /* @__PURE__ */ oe(Yt, { value: O.Position, children: e.t(\"drawing-anchor.position\") }),\n          /* @__PURE__ */ oe(Yt, { value: O.None, children: e.t(\"drawing-anchor.none\") })\n        ] }) })\n      ]\n    }\n  );\n}, Ws = () => {\n  const i = qe(ie), t = i.getFocusDrawings(), [e, n] = Qt(t);\n  return ur(() => {\n    const r = i.focus$.subscribe((s) => {\n      n(s);\n    });\n    return () => {\n      r.unsubscribe();\n    };\n  }, []), !!(e != null && e.length) && /* @__PURE__ */ qt(\"div\", { className: \"univer-text-sm\", children: [\n    /* @__PURE__ */ oe(zi, { drawings: e }),\n    /* @__PURE__ */ oe(ks, { drawings: e })\n  ] });\n}, Cr = \"sheet.menu.image\";\nfunction Bs(i) {\n  return {\n    id: Cr,\n    type: cn.SUBITEMS,\n    icon: \"AddImageIcon\",\n    tooltip: \"sheetImage.title\",\n    hidden$: an(i, F.UNIVER_SHEET),\n    disabled$: Yr(i, { workbookTypes: [zt], worksheetTypes: [Kt], rangeTypes: [Ci] })\n  };\n}\nfunction js(i) {\n  return {\n    id: Bt.id,\n    title: \"sheetImage.upload.float\",\n    type: cn.BUTTON,\n    hidden$: an(i, F.UNIVER_SHEET)\n  };\n}\nfunction $s(i) {\n  return {\n    id: dn.id,\n    title: \"sheetImage.upload.cell\",\n    type: cn.BUTTON,\n    hidden$: an(i, F.UNIVER_SHEET)\n  };\n}\nconst Fs = {\n  [$i.MEDIA]: {\n    [Cr]: {\n      order: 0,\n      menuItemFactory: Bs,\n      [Bt.id]: {\n        order: 0,\n        menuItemFactory: js\n      },\n      [dn.id]: {\n        order: 1,\n        menuItemFactory: $s\n      }\n    }\n  }\n};\nfunction st(i) {\n  return !i.getContextValue(ti) && !i.getContextValue(ni) && !i.getContextValue(ri) && i.getContextValue($e);\n}\nconst xs = {\n  id: it.id,\n  description: \"shortcut.drawing-move-down\",\n  group: \"4_drawing-view\",\n  binding: Fe.ARROW_DOWN,\n  priority: 100,\n  preconditions: st,\n  staticParameters: {\n    direction: _e.DOWN\n  }\n}, Ys = {\n  id: it.id,\n  description: \"shortcut.drawing-move-up\",\n  group: \"4_drawing-view\",\n  binding: Fe.ARROW_UP,\n  priority: 100,\n  preconditions: st,\n  staticParameters: {\n    direction: _e.UP\n  }\n}, Gs = {\n  id: it.id,\n  description: \"shortcut.drawing-move-left\",\n  group: \"4_drawing-view\",\n  binding: Fe.ARROW_LEFT,\n  priority: 100,\n  preconditions: st,\n  staticParameters: {\n    direction: _e.LEFT\n  }\n}, Xs = {\n  id: it.id,\n  description: \"shortcut.drawing-move-right\",\n  group: \"4_drawing-view\",\n  binding: Fe.ARROW_RIGHT,\n  priority: 100,\n  preconditions: st,\n  staticParameters: {\n    direction: _e.RIGHT\n  }\n}, Ls = {\n  id: hr.id,\n  description: \"shortcut.drawing-delete\",\n  group: \"4_drawing-view\",\n  // when focusing on any other input tag do not trigger this shortcut\n  preconditions: st,\n  binding: Fe.DELETE,\n  mac: Fe.BACKSPACE\n};\nvar Vs = Object.getOwnPropertyDescriptor, Hs = (i, t, e, n) => {\n  for (var r = n > 1 ? void 0 : n ? Vs(t, e) : t, s = i.length - 1, o; s >= 0; s--)\n    (o = i[s]) && (r = o(r) || r);\n  return r;\n}, Ne = (i, t) => (e, n) => t(e, n, i);\nlet Ut = class extends ne {\n  constructor(i, t, e, n, r, s) {\n    super(), this._componentManager = i, this._menuManagerService = t, this._commandService = e, this._shortcutService = n, this._drawingManagerService = r, this._sheetsSelectionsService = s, this._init();\n  }\n  _initCustomComponents() {\n    const i = this._componentManager;\n    this.disposeWithMe(i.register(pr, Ws));\n  }\n  _initMenus() {\n    this._menuManagerService.mergeMenu(Fs);\n  }\n  _initCommands() {\n    [\n      Bt,\n      dn,\n      kt,\n      rt,\n      Wt,\n      wr,\n      Y,\n      _r,\n      gr,\n      mr,\n      it,\n      hr,\n      fr\n    ].forEach((i) => this.disposeWithMe(this._commandService.registerCommand(i)));\n  }\n  _initShortcuts() {\n    [\n      // sheet drawing shortcuts\n      xs,\n      Ys,\n      Gs,\n      Xs,\n      Ls\n    ].forEach((i) => {\n      this.disposeWithMe(this._shortcutService.registerShortcut(i));\n    });\n  }\n  _init() {\n    this._initCommands(), this._initCustomComponents(), this._initMenus(), this._initShortcuts();\n  }\n};\nUt = Hs([\n  Ne(0, A(dr)),\n  Ne(1, Fi),\n  Ne(2, X),\n  Ne(3, xi),\n  Ne(4, ie),\n  Ne(5, A(on))\n], Ut);\nvar zs = Object.defineProperty, Ks = Object.getOwnPropertyDescriptor, Js = (i, t, e) => t in i ? zs(i, t, { enumerable: !0, configurable: !0, writable: !0, value: e }) : i[t] = e, Zs = (i, t, e, n) => {\n  for (var r = n > 1 ? void 0 : n ? Ks(t, e) : t, s = i.length - 1, o; s >= 0; s--)\n    (o = i[s]) && (r = o(r) || r);\n  return r;\n}, Lt = (i, t) => (e, n) => t(e, n, i), Dr = (i, t, e) => Js(i, typeof t != \"symbol\" ? t + \"\" : t, e);\nconst qs = \"SHEET_IMAGE_UI_PLUGIN\";\nlet Pt = class extends oi {\n  constructor(i = jn, t, e, n) {\n    super(), this._config = i, this._injector = t, this._renderManagerService = e, this._configService = n;\n    const { menu: r, ...s } = ai(\n      {},\n      jn,\n      this._config\n    );\n    r && this._configService.setConfig(\"menu\", r, { merge: !0 }), this._configService.setConfig(ss, s);\n  }\n  onStarting() {\n    ci(this._injector, [\n      [tt],\n      [Ut],\n      [Rt],\n      [Ot],\n      [Et],\n      [Tt],\n      [bt],\n      [Mt],\n      [yt]\n    ]), xt(this._injector, [\n      [tt]\n    ]);\n  }\n  onReady() {\n    xt(this._injector, [\n      [Tt],\n      [yt]\n    ]);\n  }\n  onRendered() {\n    this._registerRenderModules(), xt(this._injector, [\n      [Et],\n      [Ot],\n      [Ut],\n      [bt],\n      [Mt]\n    ]);\n  }\n  onSteady() {\n    this._injector.get(Rt);\n  }\n  _registerRenderModules() {\n    [\n      [et],\n      [rn],\n      [nn],\n      [tn]\n    ].forEach((i) => {\n      this.disposeWithMe(this._renderManagerService.registerRenderModule(F.UNIVER_SHEET, i));\n    });\n  }\n};\nDr(Pt, \"type\", F.UNIVER_SHEET);\nDr(Pt, \"pluginName\", qs);\nPt = Zs([\n  ii(Ui, Gi, Ki, di),\n  Lt(1, A(Ge)),\n  Lt(2, J),\n  Lt(3, si)\n], Pt);\nexport {\n  Y as ClearSheetDrawingTransformerOperation,\n  hr as DeleteDrawingsCommand,\n  _r as EditSheetDrawingOperation,\n  gr as GroupSheetDrawingCommand,\n  Bt as InsertFloatImageCommand,\n  kt as InsertSheetDrawingCommand,\n  it as MoveDrawingsCommand,\n  rt as RemoveSheetDrawingCommand,\n  Cr as SHEETS_IMAGE_MENU_ID,\n  fr as SetDrawingArrangeCommand,\n  Wt as SetSheetDrawingCommand,\n  tt as SheetCanvasFloatDomManagerService,\n  et as SheetDrawingUpdateController,\n  wr as SidebarSheetDrawingOperation,\n  mr as UngroupSheetDrawingCommand,\n  Pt as UniverSheetsDrawingUIPlugin,\n  ge as calcSheetFloatDomPosition,\n  z as drawingPositionToTransform,\n  $ as transformToDrawingPosition\n};\n"],
  "mappings": "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",
  "names": ["f", "ln", "E", "G", "Mt", "J", "h", "J", "D", "Pe", "ut", "Yt", "z", "o", "c", "ot", "Qt", "gt", "F", "Jt", "ee", "ht", "pt", "mt", "ar", "sr", "vt", "lr", "h", "j", "u", "l", "g", "p", "d", "f", "w", "v", "P", "ie", "et", "Le", "tt", "hr", "_", "Mt", "v1", "wr", "Ve", "Y", "ke", "$", "vr", "Cr", "nt", "we", "Mr", "ye", "Ke", "E", "U", "V", "G", "ge", "de", "bt", "It", "yt", "Rt", "Ht", "import_jsx_runtime", "import_react", "yr", "ee", "z", "o", "d", "u", "c", "l", "g", "h", "f", "p", "_", "v", "Y", "rt", "hr", "gr", "kt", "fr", "mr", "et", "mn", "Mt", "it", "pr", "wr", "we", "_r", "ut", "cs", "ds", "vt", "v1", "ls", "nn", "Sr", "bt", "ze", "vr", "Fn", "Tt", "w", "D", "E", "Rs", "bs", "Ve", "Ms", "Ir", "x", "ae", "L", "G", "tt", "Ct", "be", "ot", "ct", "dt", "Me", "ht", "de", "ye", "le", "ue", "gt", "Xe", "ft", "he", "j", "Le", "un", "gn", "fn", "ln", "Rr", "br", "Mr", "mt", "Je", "Dt", "Qi", "oe", "Es", "De", "Ot", "nt", "rn", "Qt", "ur", "qt", "ie", "Cr", "st", "Ls", "Ne", "Pt"]
}
