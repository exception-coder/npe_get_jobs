(function(_0x8bd348,_0x12e2ac){const _0x558de9=_0x179d,_0x156c26=_0x8bd348();while(!![]){try{const _0x4f5b9d=-parseInt(_0x558de9(0x1d6))/0x1*(-parseInt(_0x558de9(0x1e3))/0x2)+-parseInt(_0x558de9(0x17e))/0x3*(-parseInt(_0x558de9(0x1cb))/0x4)+-parseInt(_0x558de9(0x1d8))/0x5+-parseInt(_0x558de9(0x1d3))/0x6+parseInt(_0x558de9(0x1b1))/0x7*(parseInt(_0x558de9(0x177))/0x8)+parseInt(_0x558de9(0x1a3))/0x9*(parseInt(_0x558de9(0x1c8))/0xa)+-parseInt(_0x558de9(0x1d0))/0xb*(-parseInt(_0x558de9(0x1ad))/0xc);if(_0x4f5b9d===_0x12e2ac)break;else _0x156c26['push'](_0x156c26['shift']());}catch(_0xae0d1){_0x156c26['push'](_0x156c26['shift']());}}}(_0x500b,0x51f57),function(_0x28a0f2,_0x461ffd){const _0x1d1591=_0x179d;typeof exports==_0x1d1591(0x187)&&typeof module<'u'?_0x461ffd(exports,require('@univerjs-pro/collaboration-client'),require('@univerjs-pro/license'),require('@univerjs/core'),require('@univerjs/thread-comment-ui'),require('@univerjs/thread-comment'),require('rxjs'),require('@univerjs/network')):typeof define==_0x1d1591(0x1f4)&&define['amd']?define([_0x1d1591(0x1de),_0x1d1591(0x1b2),_0x1d1591(0x17b),_0x1d1591(0x19a),_0x1d1591(0x1b4),'@univerjs/thread-comment',_0x1d1591(0x18f),_0x1d1591(0x1ec)],_0x461ffd):(_0x28a0f2=typeof globalThis<'u'?globalThis:_0x28a0f2||self,_0x461ffd(_0x28a0f2['UniverProThreadCommentDatasource']={},_0x28a0f2[_0x1d1591(0x1cd)],_0x28a0f2[_0x1d1591(0x1aa)],_0x28a0f2[_0x1d1591(0x19b)],_0x28a0f2[_0x1d1591(0x194)],_0x28a0f2[_0x1d1591(0x1fd)],_0x28a0f2['rxjs'],_0x28a0f2[_0x1d1591(0x1a8)]));}(this,function(_0x3322e8,_0x59d384,_0x1b662c,_0x103b71,_0x2cda3d,_0xfae4d1,_0x51e7e9,_0x161ded){'use strict';const _0x2b48fb=_0x179d;const _0xec0ce0=_0x2b48fb(0x1ac);var _0x3e8cc9=(_0x4d4721=>(_0x4d4721[_0x4d4721['OpenOrReOpen']=0x0]=_0x2b48fb(0x1be),_0x4d4721[_0x4d4721['Solved']=0x1]='Solved',_0x4d4721[_0x4d4721[_0x2b48fb(0x1b8)]=-0x1]='UNRECOGNIZED',_0x4d4721))(_0x3e8cc9||{}),_0xc556b0=(_0x23cde4=>(_0x23cde4[_0x23cde4[_0x2b48fb(0x1f3)]=0x0]=_0x2b48fb(0x1f3),_0x23cde4[_0x23cde4[_0x2b48fb(0x188)]=0x1]=_0x2b48fb(0x188),_0x23cde4[_0x23cde4[_0x2b48fb(0x1f0)]=0x2]='Reply',_0x23cde4[_0x23cde4['Edit']=0x3]=_0x2b48fb(0x1c0),_0x23cde4[_0x23cde4[_0x2b48fb(0x1fa)]=0x4]=_0x2b48fb(0x1fa),_0x23cde4[_0x23cde4[_0x2b48fb(0x1b0)]=0x5]='Solve',_0x23cde4[_0x23cde4['UNRECOGNIZED']=-0x1]=_0x2b48fb(0x1b8),_0x23cde4))(_0xc556b0||{});const _0x49f3fb=_0x133bcf=>_0x103b71[_0x2b48fb(0x1ba)](new Date(+_0x133bcf))[_0x2b48fb(0x179)]('YYYY/MM/DD\x20HH:mm'),_0x19bb97=async(_0x57cc3f,_0x2a97ba)=>{const _0x24e463=_0x2b48fb,_0x23622a=_0x57cc3f['get'](_0x103b71[_0x24e463(0x1db)]),_0x1c6be2=_0x57cc3f['get'](_0x161ded[_0x24e463(0x1a7)]);_0x2a97ba[_0x24e463(0x176)](_0x1c8789=>{const _0xa77103=_0x24e463;_0x23622a[_0xa77103(0x190)](_0x1c8789)&&_0x2a97ba[_0xa77103(0x1d4)](_0x1c8789);}),_0x2a97ba['size']&&(await _0x1c6be2[_0x24e463(0x1cc)](_0x24e463(0x1a4),{'params':{'userIDs':[..._0x2a97ba]}}))[_0x24e463(0x185)][_0x24e463(0x1e1)]['forEach'](_0x5bd8e4=>{_0x5bd8e4&&_0x23622a['addUser'](_0x5bd8e4);});};var _0x4f276c=Object['getOwnPropertyDescriptor'],_0x192a67=(_0x1c5512,_0x399fa8,_0xdf0462,_0x37f90b)=>{const _0x28ea20=_0x2b48fb;for(var _0x2a81d8=_0x37f90b>0x1?void 0x0:_0x37f90b?_0x4f276c(_0x399fa8,_0xdf0462):_0x399fa8,_0x14e717=_0x1c5512[_0x28ea20(0x1f7)]-0x1,_0xd598f;_0x14e717>=0x0;_0x14e717--)(_0xd598f=_0x1c5512[_0x14e717])&&(_0x2a81d8=_0xd598f(_0x2a81d8)||_0x2a81d8);return _0x2a81d8;},_0x408730=(_0x2c4ca3,_0x92285e)=>(_0x5e53f5,_0x3a3cbd)=>_0x92285e(_0x5e53f5,_0x3a3cbd,_0x2c4ca3);let _0x36d340=class extends _0x103b71[_0x2b48fb(0x1a2)]{constructor(_0x3a008e,_0x2bc5b6,_0x17e9a1,_0x34a69a){const _0x3a0934=_0x2b48fb;super(),this['_commentService']=_0x3a008e,this[_0x3a0934(0x1ea)]=_0x2bc5b6,this[_0x3a0934(0x18e)]=_0x17e9a1,this[_0x3a0934(0x1e5)]=_0x34a69a,this['_init'](),this[_0x3a0934(0x17f)]();}['_initUserSync'](){const _0x5586c3=_0x2b48fb;this['disposeWithMe'](this[_0x5586c3(0x1ea)]['commentUpdate$'][_0x5586c3(0x1a5)](_0x51e7e9[_0x5586c3(0x173)](0x10))[_0x5586c3(0x192)](_0x51f3f0=>{const _0x25ee77=_0x5586c3,_0x515d2d=new Set();_0x51f3f0[_0x25ee77(0x176)](_0xf994d4=>{const _0x308f29=_0x25ee77;switch(_0xf994d4['type']){case _0x308f29(0x1ee):{const _0x504f53=_0xf994d4['payload'][_0x308f29(0x1c1)];_0x515d2d[_0x308f29(0x1ee)](_0x504f53);break;}}}),_0x19bb97(this[_0x25ee77(0x1e5)],_0x515d2d);}));}['_init'](){const _0x4a2852=_0x2b48fb;this[_0x4a2852(0x1c6)](this[_0x4a2852(0x1f9)]['commentUpdate$'][_0x4a2852(0x192)](async _0x59108a=>{const _0x422cc4=_0x4a2852;var _0x499f50,_0x4b5532,_0xc14dfa,_0x290c86;const _0x2b49cc=(_0x499f50=this[_0x422cc4(0x1ea)][_0x422cc4(0x1c9)](_0x59108a[_0x422cc4(0x184)])[_0x422cc4(0x1d1)](_0x10e619=>_0x10e619[_0x422cc4(0x183)]===_0x59108a[_0x422cc4(0x183)]))==null?void 0x0:_0x499f50[_0x422cc4(0x1cf)];if(!_0x2b49cc)return;const {unitId:_0x269581,subUnitId:_0x3e98ee}=_0x2b49cc;switch(_0x59108a[_0x422cc4(0x1e6)]&&this[_0x422cc4(0x18e)][_0x422cc4(0x1dd)](_0x59108a['user']),_0x59108a[_0x422cc4(0x182)]){case _0xc556b0[_0x422cc4(0x188)]:break;case _0xc556b0['Reply']:{this['_threadCommentModel'][_0x422cc4(0x1d5)](_0x269581,_0x3e98ee,{'unitId':_0x269581,'subUnitId':_0x3e98ee,'ref':'','id':_0x59108a[_0x422cc4(0x1b3)],'dT':_0x49f3fb(+_0x59108a['createTimestamp']),'threadId':_0x59108a['threadId'],'personId':(_0xc14dfa=(_0x4b5532=_0x59108a[_0x422cc4(0x1e6)])==null?void 0x0:_0x4b5532[_0x422cc4(0x174)])!=null?_0xc14dfa:_0x59108a['userId'],'text':JSON['parse'](_0x59108a[_0x422cc4(0x1e4)]),'parentId':_0x2b49cc['id']});break;}case _0xc556b0['Delete']:{const _0x3c89d3=this[_0x422cc4(0x1ea)]['getComment'](_0x269581,_0x3e98ee,_0x59108a[_0x422cc4(0x1b3)]);_0x3c89d3&&_0x3c89d3[_0x422cc4(0x1bb)]&&this[_0x422cc4(0x1ea)]['deleteComment'](_0x269581,_0x3e98ee,_0x59108a['replyId']);break;}case _0xc556b0[_0x422cc4(0x1c0)]:{this[_0x422cc4(0x1ea)][_0x422cc4(0x1da)](_0x269581,_0x3e98ee,{'commentId':_0x59108a[_0x422cc4(0x1b3)],'text':JSON[_0x422cc4(0x1a6)](_0x59108a[_0x422cc4(0x1e4)])});break;}case _0xc556b0['Solve']:{const _0x2eef9f=(_0x290c86=this['_threadCommentModel'][_0x422cc4(0x1c9)](_0x59108a[_0x422cc4(0x184)])[_0x422cc4(0x1d1)](_0x4f5773=>_0x4f5773[_0x422cc4(0x183)]===_0x59108a[_0x422cc4(0x183)]))==null?void 0x0:_0x290c86['root'];_0x2eef9f&&this[_0x422cc4(0x1ea)][_0x422cc4(0x1ef)](_0x269581,_0x3e98ee,_0x2eef9f['id'],_0x59108a['solved']===_0x3e8cc9[_0x422cc4(0x1ae)]);break;}}}));}};_0x36d340=_0x192a67([_0x408730(0x0,_0x103b71['Inject'](_0x59d384[_0x2b48fb(0x1b6)])),_0x408730(0x1,_0x103b71[_0x2b48fb(0x1e2)](_0xfae4d1[_0x2b48fb(0x17d)])),_0x408730(0x2,_0x103b71['Inject'](_0x103b71[_0x2b48fb(0x1db)])),_0x408730(0x3,_0x103b71[_0x2b48fb(0x1e2)](_0x103b71['Injector']))],_0x36d340);const _0x52e4ae=_0x2b48fb(0x1bf),_0x2ed7e3={};var _0x283fab=Object[_0x2b48fb(0x1a0)],_0x4c53ac=(_0x1baaf5,_0x103c6a,_0x1ac6f5,_0x1762e3)=>{const _0x5eadda=_0x2b48fb;for(var _0x5e1735=_0x1762e3>0x1?void 0x0:_0x1762e3?_0x283fab(_0x103c6a,_0x1ac6f5):_0x103c6a,_0x2db6d7=_0x1baaf5[_0x5eadda(0x1f7)]-0x1,_0x5e3fb1;_0x2db6d7>=0x0;_0x2db6d7--)(_0x5e3fb1=_0x1baaf5[_0x2db6d7])&&(_0x5e1735=_0x5e3fb1(_0x5e1735)||_0x5e1735);return _0x5e1735;},_0x363d45=(_0x527b38,_0x2ad9f4)=>(_0x1c6e27,_0x32dae3)=>_0x2ad9f4(_0x1c6e27,_0x32dae3,_0x527b38);function _0x349549(_0x28639b,_0x50b3c5){const _0x1e5b83=_0x2b48fb,_0x574373=_0x28639b[_0x1e5b83(0x17c)][0x0];return{..._0x50b3c5,'id':_0x574373[_0x1e5b83(0x1b3)],'resolved':_0x28639b[_0x1e5b83(0x191)]===0x1,'dT':_0x49f3fb(_0x574373[_0x1e5b83(0x1fc)]),'personId':_0x574373[_0x1e5b83(0x19f)],'threadId':_0x574373[_0x1e5b83(0x183)]};}function _0x29b5ac(_0x1cd325,_0x55adb8,_0xeeac8c){const _0x24b811=_0x2b48fb;var _0x46369,_0x2b9b3c;if(((_0x2b9b3c=(_0x46369=_0x1cd325==null?void 0x0:_0x1cd325['replies'])==null?void 0x0:_0x46369[_0x24b811(0x1f7)])!=null?_0x2b9b3c:0x0)>0x0){const _0x28cd0d=(_0x22efd3,_0x55fc93)=>({'id':_0x22efd3['replyId'],'threadId':_0x22efd3[_0x24b811(0x183)],'dT':_0x49f3fb(_0x22efd3[_0x24b811(0x1fc)]),'personId':_0x22efd3[_0x24b811(0x19f)],'resolved':_0x1cd325[_0x24b811(0x191)]===_0x3e8cc9['Solved'],'unitId':_0x55adb8,'subUnitId':_0xeeac8c,'text':JSON[_0x24b811(0x1a6)](_0x22efd3[_0x24b811(0x1e4)]),'parentId':_0x55fc93}),_0x3831f5=_0x28cd0d(_0x1cd325[_0x24b811(0x17c)][0x0]);return{..._0x3831f5,'children':_0x1cd325[_0x24b811(0x17c)][_0x24b811(0x1fb)](0x1)[_0x24b811(0x18d)](_0x532f6d=>_0x28cd0d(_0x532f6d,_0x3831f5['id']))};}return null;}let _0x39803a=class{constructor(_0x142487,_0x3c2eee,_0x2ced65){const _0x536d56=_0x2b48fb;this[_0x536d56(0x19c)]=_0x142487,this[_0x536d56(0x18e)]=_0x3c2eee,this['_sessionService']=_0x2ced65;}async[_0x2b48fb(0x1d5)](_0x49e6b5){const _0x43cf14=_0x2b48fb;var _0x3ec4e1,_0x1d1a59;const {parentId:_0x168344,unitId:_0x19dd20,text:_0x256325,threadId:_0x280aa0}=_0x49e6b5,_0x3a52e5=(_0x1d1a59=(_0x3ec4e1=_0x256325[_0x43cf14(0x193)])==null?void 0x0:_0x3ec4e1[_0x43cf14(0x178)](_0x4904a6=>_0x4904a6[_0x43cf14(0x1f1)]===_0x103b71[_0x43cf14(0x1c3)]['COMMENT'])[_0x43cf14(0x18d)](_0x4850c0=>_0x4850c0['rangeId']))!=null?_0x1d1a59:[],_0x247b18=JSON[_0x43cf14(0x198)](_0x256325),_0x48356c=(await this[_0x43cf14(0x180)][_0x43cf14(0x1ed)](_0x19dd20))[_0x43cf14(0x1b7)]();if(_0x168344){const _0x7d8424={'memberId':_0x48356c,'unitId':_0x19dd20,'content':_0x247b18,'mention':_0x3a52e5,'threadId':_0x280aa0},_0x16a133=(await this['_httpService']['post'](_0x43cf14(0x1df)+_0x19dd20+_0x43cf14(0x1c4),{'body':_0x7d8424}))[_0x43cf14(0x185)][_0x43cf14(0x1e8)];return{..._0x49e6b5,'id':_0x16a133[_0x43cf14(0x1b3)],'dT':_0x103b71[_0x43cf14(0x1ba)](+_0x16a133['createTimestamp'])['format']('YYYY/MM/DD\x20HH:mm'),'personId':_0x16a133['userId']};}else{const _0x22d027={'memberId':_0x48356c,'unitId':_0x19dd20,'content':_0x247b18,'mention':_0x3a52e5},_0x10bb01=await this[_0x43cf14(0x19c)][_0x43cf14(0x1b9)](_0x43cf14(0x1df)+_0x19dd20+_0x43cf14(0x1f5),{'body':_0x22d027});return _0x349549(_0x10bb01[_0x43cf14(0x185)][_0x43cf14(0x19e)],_0x49e6b5);}}async['updateComment'](_0x3b32d4){const _0x2d8b69=_0x2b48fb;var _0x468ed2,_0xfbdf19;const {text:_0x50b2c2,unitId:_0x4a42ec}=_0x3b32d4,_0x517df5=(_0xfbdf19=(_0x468ed2=_0x50b2c2[_0x2d8b69(0x193)])==null?void 0x0:_0x468ed2[_0x2d8b69(0x178)](_0x33714d=>_0x33714d[_0x2d8b69(0x1f1)]===_0x103b71[_0x2d8b69(0x1c3)]['COMMENT'])[_0x2d8b69(0x18d)](_0x5454fa=>_0x5454fa[_0x2d8b69(0x189)]))!=null?_0xfbdf19:[],_0x5a2d6d=JSON[_0x2d8b69(0x198)](_0x50b2c2),_0x34fc88=_0x3b32d4[_0x2d8b69(0x183)],_0x263be1=_0x3b32d4['id'],_0x475d74={'memberId':(await this[_0x2d8b69(0x180)][_0x2d8b69(0x1ed)](_0x4a42ec))['getMemberID'](),'unitId':_0x4a42ec,'threadId':_0x34fc88,'mention':_0x517df5,'content':_0x5a2d6d,'replyId':_0x263be1},_0x59ef43=await this[_0x2d8b69(0x19c)][_0x2d8b69(0x1b9)]('/universer-api/comment/unit/'+_0x4a42ec+'/edit',{'body':_0x475d74});return!_0x59ef43['body'][_0x2d8b69(0x1f8)]||_0x59ef43[_0x2d8b69(0x185)][_0x2d8b69(0x1f8)]['code']===0x1;}async[_0x2b48fb(0x1ef)](_0x572980){const _0xd2025c=_0x2b48fb,{unitId:_0x5dc79a}=_0x572980,_0x3e2414=_0x572980[_0xd2025c(0x183)],_0x38ff91={'memberId':this[_0xd2025c(0x18e)]['getCurrentUser']()[_0xd2025c(0x174)],'unitId':_0x5dc79a,'threadId':_0x3e2414,'solved':_0x572980['resolved']?_0x3e8cc9[_0xd2025c(0x1ae)]:_0x3e8cc9['OpenOrReOpen']},_0x3a4d0b=await this[_0xd2025c(0x19c)][_0xd2025c(0x1b9)](_0xd2025c(0x1df)+_0x5dc79a+_0xd2025c(0x19d),{'body':_0x38ff91});return!_0x3a4d0b[_0xd2025c(0x185)][_0xd2025c(0x1f8)]||_0x3a4d0b[_0xd2025c(0x185)][_0xd2025c(0x1f8)][_0xd2025c(0x1e7)]===0x1;}async[_0x2b48fb(0x1a1)](_0x1bd1a4,_0x3b4186,_0x2c666c,_0x5cb414){const _0x2cf342=_0x2b48fb,_0x27a5a5={'memberId':(await this[_0x2cf342(0x180)][_0x2cf342(0x1ed)](_0x1bd1a4))[_0x2cf342(0x1b7)](),'threadId':_0x2c666c,'replyId':_0x5cb414,'unitId':_0x1bd1a4},_0x8e2e7c=await this[_0x2cf342(0x19c)][_0x2cf342(0x1b9)]('/universer-api/comment/unit/'+_0x1bd1a4+_0x2cf342(0x1f6),{'body':_0x27a5a5});return!_0x8e2e7c[_0x2cf342(0x185)][_0x2cf342(0x1f8)]||_0x8e2e7c[_0x2cf342(0x185)]['error'][_0x2cf342(0x1e7)]===0x1;}async[_0x2b48fb(0x196)](_0x9548b0,_0x41b165,_0x541e99){const _0x278023=_0x2b48fb,_0x5adfc1={'unitId':_0x9548b0,'threadId':_0x541e99},_0x3e9515=await this[_0x278023(0x19c)][_0x278023(0x1b9)](_0x278023(0x1df)+_0x9548b0+_0x278023(0x199),{'body':_0x5adfc1}),_0x3ecd27=_0x541e99[_0x278023(0x18d)](_0xdd0633=>_0x29b5ac(_0x3e9515[_0x278023(0x185)][_0x278023(0x1ab)][_0xdd0633],_0x9548b0,_0x41b165))[_0x278023(0x178)](Boolean);return Object[_0x278023(0x1b5)](_0x3e9515[_0x278023(0x185)][_0x278023(0x1e1)])[_0x278023(0x176)](_0x373753=>{this['_userService']['addUser'](_0x373753);}),_0x3ecd27;}[_0x2b48fb(0x1c7)](_0x4c48ed){const _0x343911=_0x2b48fb;return{'id':_0x4c48ed['id'],'threadId':_0x4c48ed[_0x343911(0x183)],'ref':_0x4c48ed[_0x343911(0x1dc)]};}};_0x39803a=_0x4c53ac([_0x363d45(0x0,_0x103b71[_0x2b48fb(0x1e2)](_0x161ded[_0x2b48fb(0x1a7)])),_0x363d45(0x1,_0x103b71['Inject'](_0x103b71[_0x2b48fb(0x1db)])),_0x363d45(0x2,_0x103b71[_0x2b48fb(0x1e2)](_0x59d384['CollaborationSessionService']))],_0x39803a);var _0x53b2cb=Object[_0x2b48fb(0x1a0)],_0x1eef12=(_0x1681c6,_0x4fb12c,_0x31b305,_0x337dfc)=>{for(var _0x49b106=_0x337dfc>0x1?void 0x0:_0x337dfc?_0x53b2cb(_0x4fb12c,_0x31b305):_0x4fb12c,_0x3e7299=_0x1681c6['length']-0x1,_0x4d4163;_0x3e7299>=0x0;_0x3e7299--)(_0x4d4163=_0x1681c6[_0x3e7299])&&(_0x49b106=_0x4d4163(_0x49b106)||_0x49b106);return _0x49b106;},_0x472c9d=(_0x36fb1f,_0x25f064)=>(_0x316bbf,_0x4da007)=>_0x25f064(_0x316bbf,_0x4da007,_0x36fb1f);let _0x3aeb59=class extends _0x103b71['Disposable']{constructor(_0x82182,_0x5e73a9){const _0xf9ac09=_0x2b48fb;super(),this[_0xf9ac09(0x1e9)]=_0x82182,this[_0xf9ac09(0x18a)]=_0x5e73a9,this[_0xf9ac09(0x1d7)]();}['_initDataSource'](){const _0x5315de=_0x2b48fb;this[_0x5315de(0x1e9)][_0x5315de(0x1c5)]=this['_threadCommentDataSource'],this['_threadCommentDataSourceService'][_0x5315de(0x1bc)]=!0x1;}};_0x3aeb59=_0x1eef12([_0x472c9d(0x0,_0xfae4d1[_0x2b48fb(0x1ca)]),_0x472c9d(0x1,_0x103b71[_0x2b48fb(0x1e2)](_0x39803a))],_0x3aeb59);var _0x5075b2=Object[_0x2b48fb(0x1d2)],_0x1f6ccb=Object[_0x2b48fb(0x1a0)],_0x5a868d=(_0x538e27,_0x2919cd,_0x175495)=>_0x2919cd in _0x538e27?_0x5075b2(_0x538e27,_0x2919cd,{'enumerable':!0x0,'configurable':!0x0,'writable':!0x0,'value':_0x175495}):_0x538e27[_0x2919cd]=_0x175495,_0x3d1941=(_0x253b38,_0x5e0a82,_0x409c12,_0x34bb9e)=>{for(var _0xf57037=_0x34bb9e>0x1?void 0x0:_0x34bb9e?_0x1f6ccb(_0x5e0a82,_0x409c12):_0x5e0a82,_0x758ffd=_0x253b38['length']-0x1,_0x291288;_0x758ffd>=0x0;_0x758ffd--)(_0x291288=_0x253b38[_0x758ffd])&&(_0xf57037=_0x291288(_0xf57037)||_0xf57037);return _0xf57037;},_0x44c498=(_0x2ba6b6,_0x3bbadb)=>(_0x2c8b05,_0x5a99e8)=>_0x3bbadb(_0x2c8b05,_0x5a99e8,_0x2ba6b6),_0x272167=(_0x320c5a,_0x154022,_0x5dd033)=>_0x5a868d(_0x320c5a,typeof _0x154022!=_0x2b48fb(0x18b)?_0x154022+'':_0x154022,_0x5dd033);_0x3322e8[_0x2b48fb(0x1eb)]=class extends _0x103b71['Plugin']{constructor(_0x1bf2da=_0x2ed7e3,_0x5953bf,_0x6d65e2){const _0x4a6524=_0x2b48fb;super(),this[_0x4a6524(0x1a9)]=_0x1bf2da,this[_0x4a6524(0x1e5)]=_0x5953bf,this[_0x4a6524(0x1e0)]=_0x6d65e2;const {..._0x405cc5}=_0x103b71[_0x4a6524(0x18c)]({},_0x2ed7e3,this[_0x4a6524(0x1a9)]);this['_configService'][_0x4a6524(0x181)](_0x52e4ae,_0x405cc5);}[_0x2b48fb(0x197)](){const _0x2c83a0=_0x2b48fb;[[_0x39803a],[_0x3aeb59],[_0x36d340]][_0x2c83a0(0x176)](_0x3ab0f0=>{const _0x5f4d13=_0x2c83a0;this[_0x5f4d13(0x1e5)][_0x5f4d13(0x1ee)](_0x3ab0f0);});}[_0x2b48fb(0x175)](){const _0x2d6b2a=_0x2b48fb;this[_0x2d6b2a(0x1e5)][_0x2d6b2a(0x1cc)](_0x3aeb59),this[_0x2d6b2a(0x1e5)][_0x2d6b2a(0x1cc)](_0x36d340);}},_0x272167(_0x3322e8[_0x2b48fb(0x1eb)],_0x2b48fb(0x1d9),_0xec0ce0),_0x272167(_0x3322e8[_0x2b48fb(0x1eb)],_0x2b48fb(0x182),_0x103b71[_0x2b48fb(0x1af)][_0x2b48fb(0x195)]),_0x3322e8[_0x2b48fb(0x1eb)]=_0x3d1941([_0x103b71[_0x2b48fb(0x186)](_0x2cda3d[_0x2b48fb(0x1f2)],_0x59d384['UniverCollaborationClientPlugin'],_0x1b662c[_0x2b48fb(0x17a)]),_0x44c498(0x1,_0x103b71[_0x2b48fb(0x1e2)](_0x103b71[_0x2b48fb(0x1ce)])),_0x44c498(0x2,_0x103b71['IConfigService'])],_0x3322e8[_0x2b48fb(0x1eb)]),Object[_0x2b48fb(0x1d2)](_0x3322e8,Symbol[_0x2b48fb(0x1c2)],{'value':_0x2b48fb(0x1bd)});}));function _0x179d(_0x10d494,_0x3df04f){const _0x500b08=_0x500b();return _0x179d=function(_0x179dab,_0x39bc1d){_0x179dab=_0x179dab-0x173;let _0x10e092=_0x500b08[_0x179dab];return _0x10e092;},_0x179d(_0x10d494,_0x3df04f);}function _0x500b(){const _0x131d5e=['forEach','8iWkETe','filter','format','UniverLicensePlugin','@univerjs-pro/license','replies','ThreadCommentModel','1299CdoyOh','_initUserSync','_sessionService','setConfig','type','threadId','unitId','body','DependentOn','object','Add','rangeId','_threadCommentDataSource','symbol','merge','map','_userService','rxjs','getUser','solved','subscribe','customRanges','UniverThreadCommentUi','UNIVER_UNKNOWN','listComments','onStarting','stringify','/list','@univerjs/core','UniverCore','_httpService','/solved','comment','userId','getOwnPropertyDescriptor','deleteComment','Disposable','1878597dibaMy','/universer-api/user/list','pipe','parse','HTTPService','UniverNetwork','_config','UniverProLicense','comments','UNIVER_THREAD_COMMENT_DATA_SOURCE_PLUGIN','84CdnZND','Solved','UniverInstanceType','Solve','2711541gDJAHH','@univerjs-pro/collaboration-client','replyId','@univerjs/thread-comment-ui','values','CommentService','getMemberID','UNRECOGNIZED','post','dayjs','parentId','syncUpdateMutationToColla','Module','OpenOrReOpen','thread-comment-data-source.config','Edit','personId','toStringTag','CustomRangeType','/reply','dataSource','disposeWithMe','saveCommentToSnapshot','10TdaHRT','getUnit','IThreadCommentDataSourceService','4348XZLcED','get','UniverProCollaborationClient','Injector','root','158477ibLGpv','find','defineProperty','3271200mXIGXe','delete','addComment','8197vJtdQE','_initDataSource','3195920gthGhg','pluginName','updateComment','UserManagerService','ref','addUser','exports','/universer-api/comment/unit/','_configService','users','Inject','86nZbuvi','content','_injector','user','code','reply','_threadCommentDataSourceService','_threadCommentModel','UniverThreadCommentDataSourcePlugin','@univerjs/network','requireSession','add','resolveComment','Reply','rangeType','UniverThreadCommentUIPlugin','Unknown','function','/add','/delete','length','error','_commentService','Delete','slice','createTimestamp','UniverThreadComment','bufferTime','userID','onReady'];_0x500b=function(){return _0x131d5e;};return _0x500b();}