'use strict';var _0x310439=_0x23f8;(function(_0x3f7cc,_0x5290a5){var _0x2f9a53=_0x23f8,_0x48a968=_0x3f7cc();while(!![]){try{var _0x1ae86f=parseInt(_0x2f9a53(0x2a4))/0x1+-parseInt(_0x2f9a53(0x24c))/0x2+-parseInt(_0x2f9a53(0x218))/0x3*(-parseInt(_0x2f9a53(0x1e6))/0x4)+-parseInt(_0x2f9a53(0x161))/0x5+-parseInt(_0x2f9a53(0x1af))/0x6*(-parseInt(_0x2f9a53(0x3e3))/0x7)+parseInt(_0x2f9a53(0x147))/0x8+-parseInt(_0x2f9a53(0x183))/0x9;if(_0x1ae86f===_0x5290a5)break;else _0x48a968['push'](_0x48a968['shift']());}catch(_0x4f019d){_0x48a968['push'](_0x48a968['shift']());}}}(_0x1d9e,0xbd8ca));var bt=Object[_0x310439(0x1ca)],Ot=(_0x29d54c,_0x4bf302,_0x385437)=>_0x4bf302 in _0x29d54c?bt(_0x29d54c,_0x4bf302,{'enumerable':!0x0,'configurable':!0x0,'writable':!0x0,'value':_0x385437}):_0x29d54c[_0x4bf302]=_0x385437,A=(_0x4f824d,_0xc48cbd,_0x4b50e4)=>Ot(_0x4f824d,typeof _0xc48cbd!=_0x310439(0x3c8)?_0xc48cbd+'':_0xc48cbd,_0x4b50e4);Object[_0x310439(0x1ca)](exports,Symbol[_0x310439(0x364)],{'value':_0x310439(0x140)});const E=require('@univerjs-pro/collaboration'),o=require('@univerjs/core'),ct=require('@univerjs/docs'),J=require('@univerjs/sheets'),j=require('rxjs'),Rt=require('@univerjs/telemetry'),V=require('rxjs/operators'),K=require('@univerjs/network'),z=require('@univerjs/drawing'),Nt=require('@univerjs-pro/license'),Dt='/universer-api/snapshot',yt=_0x310439(0x3d4),Ut=0x7d0,ht=_0x310439(0x188),At=_0x310439(0x1fc),_t=_0x310439(0x31a),Pt=0x7530,ke=_0x310439(0x1e4),lt=0x4e20,Lt=0x4e20,ut='RETRY_CONNECTING_MAX_COUNT',Mt=0x3,wt=_0x310439(0x20e),xt=0x3e8,kt=_0x310439(0x353),Ht=_0x310439(0x3bc),$t=_0x310439(0x242),jt=_0x310439(0x16d);var vt=(_0x1e8d83=>(_0x1e8d83[_0x1e8d83[_0x310439(0x281)]=0x0]=_0x310439(0x281),_0x1e8d83[_0x1e8d83['OK']=0x1]='OK',_0x1e8d83[_0x1e8d83[_0x310439(0x264)]=0x2]=_0x310439(0x264),_0x1e8d83[_0x1e8d83[_0x310439(0x39a)]=0x3]=_0x310439(0x39a),_0x1e8d83[_0x1e8d83[_0x310439(0x26c)]=0x4]=_0x310439(0x26c),_0x1e8d83[_0x1e8d83['UNAUTHENTICATED']=0x5]=_0x310439(0x14a),_0x1e8d83[_0x1e8d83[_0x310439(0x479)]=0x6]=_0x310439(0x479),_0x1e8d83[_0x1e8d83[_0x310439(0x2af)]=0x7]='INVALID_ARGUMENT',_0x1e8d83[_0x1e8d83[_0x310439(0x154)]=0x8]=_0x310439(0x154),_0x1e8d83[_0x1e8d83['COMPLETION_FINISHED']=0x9]=_0x310439(0x27c),_0x1e8d83[_0x1e8d83[_0x310439(0x35f)]=0xa]='LOGIN_FAILED',_0x1e8d83[_0x1e8d83['MOBILE_VERIFY_CODE_MISMATCH']=0xb]=_0x310439(0x486),_0x1e8d83[_0x1e8d83[_0x310439(0x209)]=0xc]=_0x310439(0x209),_0x1e8d83[_0x1e8d83[_0x310439(0x2f1)]=0xd]=_0x310439(0x2f1),_0x1e8d83[_0x1e8d83['EMAIL_VERIFY_CODE_NOT_FOUND_OR_EXPIRED']=0xe]=_0x310439(0x329),_0x1e8d83[_0x1e8d83[_0x310439(0x16a)]=0xf]=_0x310439(0x16a),_0x1e8d83[_0x1e8d83[_0x310439(0x4a8)]=0x10]=_0x310439(0x4a8),_0x1e8d83[_0x1e8d83[_0x310439(0x2d4)]=0x64]=_0x310439(0x2d4),_0x1e8d83[_0x1e8d83[_0x310439(0x3ad)]=0x65]=_0x310439(0x3ad),_0x1e8d83[_0x1e8d83['USER_NOT_FOUND']=0xc9]=_0x310439(0x1f0),_0x1e8d83[_0x1e8d83[_0x310439(0x1b6)]=0xca]=_0x310439(0x1b6),_0x1e8d83[_0x1e8d83[_0x310439(0x426)]=0x1389]=_0x310439(0x426),_0x1e8d83[_0x1e8d83[_0x310439(0x233)]=0x1771]='SNAPSHOT_INVALID_SNAPSHOT',_0x1e8d83[_0x1e8d83['SNAPSHOT_HAS_BEEN_REMOVED']=0x1772]='SNAPSHOT_HAS_BEEN_REMOVED',_0x1e8d83[_0x1e8d83[_0x310439(0x3eb)]=0x1773]='ENSURE_SNAPSHOT_EXECUTION',_0x1e8d83[_0x1e8d83[_0x310439(0x2a3)]=0x1b59]=_0x310439(0x2a3),_0x1e8d83[_0x1e8d83[_0x310439(0x2f9)]=0x1b5a]='APPLY_NON_SEQUENTIAL_REVISION',_0x1e8d83[_0x1e8d83[_0x310439(0x1cd)]=0x1b5b]=_0x310439(0x1cd),_0x1e8d83[_0x1e8d83[_0x310439(0x3e1)]=0x1b5c]='APPLY_PERMISSION_DENIED',_0x1e8d83[_0x1e8d83[_0x310439(0x2f6)]=0x1b5d]=_0x310439(0x2f6),_0x1e8d83[_0x1e8d83[_0x310439(0x348)]=0x1f41]=_0x310439(0x348),_0x1e8d83[_0x1e8d83['LICENSE_MAX_UNITS_EXCEEDED']=0x2329]=_0x310439(0x1f1),_0x1e8d83[_0x1e8d83[_0x310439(0x443)]=0x232a]='LICENSE_MAX_MEMBERS_PER_UNIT_EXCEEDED',_0x1e8d83[_0x1e8d83[_0x310439(0x43a)]=0x232b]=_0x310439(0x43a),_0x1e8d83[_0x1e8d83[_0x310439(0x1f9)]=0x232c]=_0x310439(0x1f9),_0x1e8d83[_0x1e8d83[_0x310439(0x199)]=0x232d]=_0x310439(0x199),_0x1e8d83[_0x1e8d83[_0x310439(0x2ce)]=0x2711]='YUUMI_UNABLE_LOAD_URL',_0x1e8d83[_0x1e8d83['YUUMI_URL_COL_OUT_OF_RANGE']=0x2712]='YUUMI_URL_COL_OUT_OF_RANGE',_0x1e8d83[_0x1e8d83[_0x310439(0x2f0)]=0x2713]=_0x310439(0x2f0),_0x1e8d83[_0x1e8d83[_0x310439(0x499)]=0x2714]=_0x310439(0x499),_0x1e8d83[_0x1e8d83['YUUMI_NO_CUBOID_FOR_QUESTION']=0x271a]=_0x310439(0x327),_0x1e8d83[_0x1e8d83[_0x310439(0x340)]=0x271b]=_0x310439(0x340),_0x1e8d83[_0x1e8d83[_0x310439(0x35e)]=0x271c]=_0x310439(0x35e),_0x1e8d83[_0x1e8d83[_0x310439(0x21f)]=0x271d]='YUUMI_ALL_TABLES_IS_INVALID',_0x1e8d83[_0x1e8d83['YUUMI_PROMPT_MAX_TOKENS_EXCEEDED']=0x271e]='YUUMI_PROMPT_MAX_TOKENS_EXCEEDED',_0x1e8d83[_0x1e8d83[_0x310439(0x307)]=0x271f]=_0x310439(0x307),_0x1e8d83[_0x1e8d83[_0x310439(0x2eb)]=0x2720]=_0x310439(0x2eb),_0x1e8d83[_0x1e8d83[_0x310439(0x320)]=0x2af9]=_0x310439(0x320),_0x1e8d83[_0x1e8d83[_0x310439(0x294)]=0x2ee1]='INVITE_CODE_HAS_BEEN_UES',_0x1e8d83[_0x1e8d83[_0x310439(0x352)]=0x2ee2]='INVALID_INVITE_CODE',_0x1e8d83[_0x1e8d83[_0x310439(0x269)]=0x2ee3]=_0x310439(0x269),_0x1e8d83[_0x1e8d83[_0x310439(0x449)]=0x2ee4]=_0x310439(0x449),_0x1e8d83[_0x1e8d83[_0x310439(0x315)]=0x2ee5]='INVITE_CODE_ALREADY_BOUND',_0x1e8d83[_0x1e8d83[_0x310439(0x3c1)]=0x32c9]='WECHAT_HAS_BEEN_BOUND',_0x1e8d83[_0x1e8d83['MOBILE_HAS_BEEN_BOUND']=0x32ca]=_0x310439(0x39c),_0x1e8d83[_0x1e8d83['EMAIL_HAS_BEEN_BOUND']=0x32cb]='EMAIL_HAS_BEEN_BOUND',_0x1e8d83[_0x1e8d83[_0x310439(0x40e)]=0x36b1]='ENTITLE_CAN_NOT_BUY_LOWER_OTP',_0x1e8d83[_0x1e8d83['ENTITLE_UPDOWN_GRADE_NOT_SUPPORT']=0x36b2]=_0x310439(0x3dc),_0x1e8d83[_0x1e8d83[_0x310439(0x463)]=0x36b3]='ENTITLE_DUP_SUBSCRIPTION',_0x1e8d83[_0x1e8d83['PAYMENT_CHANNEL_NOT_SUPPORT']=0x36b4]=_0x310439(0x27d),_0x1e8d83[_0x1e8d83[_0x310439(0x406)]=0x3715]=_0x310439(0x406),_0x1e8d83[_0x1e8d83[_0x310439(0x246)]=0x3716]=_0x310439(0x246),_0x1e8d83[_0x1e8d83[_0x310439(0x418)]=0x3717]=_0x310439(0x418),_0x1e8d83[_0x1e8d83[_0x310439(0x1cb)]=0x37dd]=_0x310439(0x1cb),_0x1e8d83[_0x1e8d83['REDEMPTION_INVALID_CODE']=0x3a99]='REDEMPTION_INVALID_CODE',_0x1e8d83[_0x1e8d83[_0x310439(0x3e6)]=0x3a9a]=_0x310439(0x3e6),_0x1e8d83[_0x1e8d83[_0x310439(0x172)]=0x3a9b]=_0x310439(0x172),_0x1e8d83[_0x1e8d83[_0x310439(0x3af)]=0x3a9c]=_0x310439(0x3af),_0x1e8d83[_0x1e8d83[_0x310439(0x17d)]=0x3a9d]=_0x310439(0x17d),_0x1e8d83[_0x1e8d83[_0x310439(0x223)]=0x3a9e]='REDEMPTION_USER_REDEEM_TIMES_EXCEED',_0x1e8d83[_0x1e8d83[_0x310439(0x266)]=0x3a9f]=_0x310439(0x266),_0x1e8d83[_0x1e8d83[_0x310439(0x381)]=0x3e81]=_0x310439(0x381),_0x1e8d83[_0x1e8d83[_0x310439(0x20a)]=-0x1]=_0x310439(0x20a),_0x1e8d83))(vt||{}),X=(_0x3c255c=>(_0x3c255c[_0x3c255c[_0x310439(0x26d)]=0x0]=_0x310439(0x26d),_0x3c255c[_0x3c255c[_0x310439(0x33e)]=0x1]='UNIVER_DOC',_0x3c255c[_0x3c255c[_0x310439(0x47d)]=0x2]=_0x310439(0x47d),_0x3c255c[_0x3c255c[_0x310439(0x13d)]=0x3]=_0x310439(0x13d),_0x3c255c[_0x3c255c[_0x310439(0x292)]=0x4]='UNIVER_PROJECT',_0x3c255c[_0x3c255c[_0x310439(0x20a)]=-0x1]='UNRECOGNIZED',_0x3c255c))(X||{}),W=(_0x27d738=>(_0x27d738[_0x27d738['UNKNOWN_CMD']=0x0]='UNKNOWN_CMD',_0x27d738[_0x27d738['HELLO']=0x1]='HELLO',_0x27d738[_0x27d738[_0x310439(0x37e)]=0x2]=_0x310439(0x37e),_0x27d738[_0x27d738[_0x310439(0x36b)]=0x3]=_0x310439(0x36b),_0x27d738[_0x27d738[_0x310439(0x49b)]=0x4]=_0x310439(0x49b),_0x27d738[_0x27d738['HEARTBEAT']=0x5]=_0x310439(0x141),_0x27d738[_0x27d738['RECV']=0x6]='RECV',_0x27d738[_0x27d738['UNRECOGNIZED']=-0x1]=_0x310439(0x20a),_0x27d738))(W||{}),re=(_0x3abd4b=>(_0x3abd4b[_0x3abd4b[_0x310439(0x3a4)]=0x0]=_0x310439(0x3a4),_0x3abd4b[_0x3abd4b['OK']=0x1]='OK',_0x3abd4b[_0x3abd4b[_0x310439(0x231)]=0x2]=_0x310439(0x231),_0x3abd4b[_0x3abd4b[_0x310439(0x25a)]=0x3e9]=_0x310439(0x25a),_0x3abd4b[_0x3abd4b[_0x310439(0x441)]=0x3ea]='JOIN_ROOM_NOT_EXISTS',_0x3abd4b[_0x3abd4b[_0x310439(0x20c)]=0x3eb]='JOIN_ROOM_PERMISSION_DENIED',_0x3abd4b[_0x3abd4b['GLOBAL_ROOMS_CNT_EXCEEDS']=0x3ec]=_0x310439(0x3df),_0x3abd4b[_0x3abd4b[_0x310439(0x20a)]=-0x1]=_0x310439(0x20a),_0x3abd4b))(re||{}),dt=(_0x49d84a=>(_0x49d84a[_0x49d84a[_0x310439(0x412)]=0x0]='Undefined',_0x49d84a[_0x49d84a[_0x310439(0x165)]=0x1]=_0x310439(0x165),_0x49d84a[_0x49d84a[_0x310439(0x2e3)]=0x2]='HttpExport',_0x49d84a[_0x49d84a[_0x310439(0x229)]=0x3]=_0x310439(0x229),_0x49d84a[_0x49d84a[_0x310439(0x3a8)]=0x4]=_0x310439(0x3a8),_0x49d84a[_0x49d84a[_0x310439(0x3b1)]=0x5]=_0x310439(0x3b1),_0x49d84a[_0x49d84a[_0x310439(0x370)]=0x6]=_0x310439(0x370),_0x49d84a[_0x49d84a[_0x310439(0x20a)]=-0x1]='UNRECOGNIZED',_0x49d84a))(dt||{});const Bt=_0x310439(0x396);function Ft(_0x5c3433){var _0x43a375=_0x310439;return JSON[_0x43a375(0x14e)](_0x5c3433)[_0x43a375(0x206)];}var Z=(_0x56484b=>(_0x56484b['OTHER_CLIENT_EDITING']='OTHER_CLIENT_EDITING',_0x56484b[_0x310439(0x39a)]=_0x310439(0x39a),_0x56484b[_0x310439(0x37c)]=_0x310439(0x37c),_0x56484b['CLOSE_ROOM']=_0x310439(0x2bc),_0x56484b['JOIN_ROOM_FAILED']=_0x310439(0x3ae),_0x56484b[_0x310439(0x3f6)]='SOCKET_FAILED_RETRY',_0x56484b[_0x310439(0x36e)]=_0x310439(0x36e),_0x56484b[_0x310439(0x261)]=_0x310439(0x261),_0x56484b))(Z||{});class ee{constructor(){var _0x403b78=_0x310439;A(this,_0x403b78(0x44b),new j[(_0x403b78(0x214))]()),A(this,'event$',this['_event$'][_0x403b78(0x1a4)]());}[_0x310439(0x174)](_0x813fb4){var _0x3bdc58=_0x310439;this[_0x3bdc58(0x44b)][_0x3bdc58(0x30e)](_0x813fb4);}}class He{constructor(){var _0x45abff=_0x310439;A(this,_0x45abff(0x155),new j['Subject']()),A(this,_0x45abff(0x16e),this[_0x45abff(0x155)][_0x45abff(0x1a4)]());}[_0x310439(0x2d7)](_0x1e656f){var _0x59a9f5=_0x310439;this[_0x59a9f5(0x155)]['next'](_0x1e656f);}}var Vt=Object[_0x310439(0x18a)],Wt=(_0x48a7a2,_0x331830,_0x15fbfd,_0x2be570)=>{var _0x40364a=_0x310439;for(var _0x33f443=_0x2be570>0x1?void 0x0:_0x2be570?Vt(_0x331830,_0x15fbfd):_0x331830,_0x2c1e9d=_0x48a7a2[_0x40364a(0x206)]-0x1,_0x3d3eec;_0x2c1e9d>=0x0;_0x2c1e9d--)(_0x3d3eec=_0x48a7a2[_0x2c1e9d])&&(_0x33f443=_0x3d3eec(_0x33f443)||_0x33f443);return _0x33f443;},Ve=(_0x2e64e1,_0x47c97)=>(_0x13aeee,_0xfcb0cc)=>_0x47c97(_0x13aeee,_0xfcb0cc,_0x2e64e1);exports[_0x310439(0x13c)]=class extends o[_0x310439(0x245)]{constructor(_0x1d7054,_0x29a9a7){var _0x4a6a61=_0x310439;super(),A(this,_0x4a6a61(0x32b),new Map()),A(this,_0x4a6a61(0x43e),new j[(_0x4a6a61(0x214))]()),(this[_0x4a6a61(0x3b0)]=_0x1d7054,this['_userManagerService']=_0x29a9a7,this[_0x4a6a61(0x2ea)](j[_0x4a6a61(0x3f4)](this[_0x4a6a61(0x3b0)][_0x4a6a61(0x1fb)](o[_0x4a6a61(0x2fb)]['UNIVER_SHEET'])[_0x4a6a61(0x2da)](V['map'](_0x422a42=>_0x422a42[_0x4a6a61(0x2ed)]())),this[_0x4a6a61(0x3b0)][_0x4a6a61(0x1fb)](o['UniverInstanceType'][_0x4a6a61(0x33e)])[_0x4a6a61(0x2da)](V[_0x4a6a61(0x25b)](_0xf2caac=>_0xf2caac['getUnitId']())),this[_0x4a6a61(0x3b0)]['getTypeOfUnitDisposed$'](o[_0x4a6a61(0x2fb)]['UNIVER_SLIDE'])[_0x4a6a61(0x2da)](V[_0x4a6a61(0x25b)](_0x46860b=>_0x46860b[_0x4a6a61(0x2ed)]())))[_0x4a6a61(0x301)](_0x1fe8db=>this[_0x4a6a61(0x1d9)](_0x1fe8db))));}[_0x310439(0x3da)](_0x2b0b8d){var _0x3de98=_0x310439;return this[_0x3de98(0x32b)][_0x3de98(0x1f7)](_0x2b0b8d)?j['of'](this[_0x3de98(0x32b)][_0x3de98(0x255)](_0x2b0b8d)):this[_0x3de98(0x43e)]['pipe'](V[_0x3de98(0x25b)](_0x1cb802=>{var _0x2665fc=_0x3de98;if(_0x1cb802===_0x2b0b8d)return this[_0x2665fc(0x32b)][_0x2665fc(0x255)](_0x1cb802);}));}['setCurrentUser'](_0x40fe56){var _0x141e13=_0x310439;this['_userManagerService'][_0x141e13(0x2b0)](_0x40fe56);}[_0x310439(0x2d9)](){return this['_userManagerService']['getCurrentUser']();}[_0x310439(0x464)](_0x30855a,_0x22a975){var _0x58e1fd=_0x310439;let _0x5f1336=this[_0x58e1fd(0x32b)][_0x58e1fd(0x255)](_0x30855a);_0x5f1336||(_0x5f1336=new Gt(),this[_0x58e1fd(0x32b)][_0x58e1fd(0x195)](_0x30855a,_0x5f1336),this[_0x58e1fd(0x43e)][_0x58e1fd(0x30e)](_0x30855a)),_0x5f1336[_0x58e1fd(0x464)](_0x22a975);}['removeMember'](_0x25d70f,_0x32dcd6){var _0x41e145=_0x310439;const _0x554a4a=this[_0x41e145(0x32b)][_0x41e145(0x255)](_0x25d70f);_0x554a4a&&_0x554a4a[_0x41e145(0x337)](_0x32dcd6);}['getRoom'](_0x16fc8a){var _0x1c2ea=_0x310439;return this[_0x1c2ea(0x32b)][_0x1c2ea(0x255)](_0x16fc8a);}[_0x310439(0x332)](_0x511371,_0x37f40a){var _0x113261=_0x310439;const _0x3ebf2c=this['_roomMembers'][_0x113261(0x255)](_0x511371);if(_0x3ebf2c)return _0x3ebf2c[_0x113261(0x332)](_0x37f40a);}['_removeRoom'](_0x5e70cf){var _0x2735aa=_0x310439;const _0x30a0ec=this[_0x2735aa(0x32b)][_0x2735aa(0x255)](_0x5e70cf);_0x30a0ec&&(_0x30a0ec[_0x2735aa(0x1de)](),this[_0x2735aa(0x32b)][_0x2735aa(0x299)](_0x5e70cf));}[_0x310439(0x1de)](){var _0x1d3201=_0x310439;this[_0x1d3201(0x32b)][_0x1d3201(0x477)](_0x1e6934=>_0x1e6934['dispose']()),this[_0x1d3201(0x32b)][_0x1d3201(0x142)](),this['_roomCreated$'][_0x1d3201(0x4a6)]();}},exports[_0x310439(0x13c)]=Wt([Ve(0x0,o['IUniverInstanceService']),Ve(0x1,o[_0x310439(0x283)](o[_0x310439(0x323)]))],exports[_0x310439(0x13c)]);class Gt extends o[_0x310439(0x245)]{constructor(){var _0x53d581=_0x310439;super(...arguments),A(this,'_members',new Map()),A(this,_0x53d581(0x276),new j[(_0x53d581(0x257))](this[_0x53d581(0x472)])),A(this,_0x53d581(0x144),this[_0x53d581(0x276)][_0x53d581(0x1a4)]());}[_0x310439(0x1de)](){var _0x393b80=_0x310439;this['_members'][_0x393b80(0x142)]();}[_0x310439(0x464)](_0x39be8f){var _0x3449c4=_0x310439;this['_members']['set'](_0x39be8f[_0x3449c4(0x27e)],_0x39be8f),this[_0x3449c4(0x211)]();}[_0x310439(0x337)](_0x107d9c){this['_members']['delete'](_0x107d9c);}['getMember'](_0x599a53){var _0x38fa3c=_0x310439;return this[_0x38fa3c(0x472)]['get'](_0x599a53);}[_0x310439(0x26f)](){var _0x3822fc=_0x310439;return Array[_0x3822fc(0x3f8)](this[_0x3822fc(0x472)]['values']());}[_0x310439(0x211)](){var _0x2ebd3c=_0x310439;this['_members$']['next'](this[_0x2ebd3c(0x472)]);}}var Yt=Object[_0x310439(0x18a)],Kt=(_0x45752a,_0x11c2ad,_0x15c3ca,_0x575246)=>{var _0x1a46cb=_0x310439;for(var _0x18bd85=_0x575246>0x1?void 0x0:_0x575246?Yt(_0x11c2ad,_0x15c3ca):_0x11c2ad,_0x1f3514=_0x45752a[_0x1a46cb(0x206)]-0x1,_0x1af3f3;_0x1f3514>=0x0;_0x1f3514--)(_0x1af3f3=_0x45752a[_0x1f3514])&&(_0x18bd85=_0x1af3f3(_0x18bd85)||_0x18bd85);return _0x18bd85;},ce=(_0x3d5390,_0x1e7121)=>(_0x150596,_0x164e89)=>_0x1e7121(_0x150596,_0x164e89,_0x3d5390),se=(_0x2dc27b=>(_0x2dc27b[_0x2dc27b[_0x310439(0x224)]=0x0]=_0x310439(0x224),_0x2dc27b[_0x2dc27b[_0x310439(0x228)]=0x1]=_0x310439(0x228),_0x2dc27b[_0x2dc27b[_0x310439(0x3bf)]=0x2]=_0x310439(0x3bf),_0x2dc27b[_0x2dc27b[_0x310439(0x3ab)]=0x3]=_0x310439(0x3ab),_0x2dc27b))(se||{});const We={[re[_0x310439(0x231)]]:'session.join-failed',[re[_0x310439(0x25a)]]:'session.room-full',[re[_0x310439(0x441)]]:'session.room-not-exists',[re[_0x310439(0x20c)]]:_0x310439(0x42c),[re[_0x310439(0x3df)]]:_0x310439(0x130)};function _0x23f8(_0xc74cc8,_0x3e99aa){var _0x1d9e8b=_0x1d9e();return _0x23f8=function(_0x23f883,_0x53bbb2){_0x23f883=_0x23f883-0x12f;var _0x7e7b4e=_0x1d9e8b[_0x23f883];return _0x7e7b4e;},_0x23f8(_0xc74cc8,_0x3e99aa);}exports[_0x310439(0x380)]=class extends o[_0x310439(0x322)]{constructor(_0x129e57,_0x5ca4e2,_0x4f3dfb,_0x3ec906,_0x47f46a,_0x2ea517,_0xcd74ad,_0x133b14){var _0x4aa13b=_0x310439;super(),A(this,_0x4aa13b(0x3c0),new j[(_0x4aa13b(0x257))](0x0)),A(this,_0x4aa13b(0x153),this[_0x4aa13b(0x3c0)][_0x4aa13b(0x1a4)]()),A(this,_0x4aa13b(0x44b),new j[(_0x4aa13b(0x214))]()),A(this,'event$',this[_0x4aa13b(0x44b)][_0x4aa13b(0x1a4)]()),A(this,_0x4aa13b(0x31b)),A(this,_0x4aa13b(0x3d6)),A(this,_0x4aa13b(0x45c)),A(this,_0x4aa13b(0x3d7),!0x1),A(this,'_telemetryInfo',null),(this[_0x4aa13b(0x2c3)]=_0x129e57,this[_0x4aa13b(0x1b9)]=_0x4f3dfb,this[_0x4aa13b(0x447)]=_0x3ec906,this['_memberService']=_0x47f46a,this['_commentService']=_0x2ea517,this['_collaborationUIEventService']=_0xcd74ad,this[_0x4aa13b(0x15e)]=_0x133b14,this[_0x4aa13b(0x3d7)]=!!this[_0x4aa13b(0x15e)],_0x5ca4e2[_0x4aa13b(0x2da)](j[_0x4aa13b(0x45a)](this['dispose$']))[_0x4aa13b(0x301)](_0x4b71cb=>{var _0x13b72a=_0x4aa13b,_0x4a71af;typeof _0x4b71cb>'u'||(this['_socket']=_0x4b71cb,_0x4b71cb?(this[_0x13b72a(0x425)](_0x4b71cb),this[_0x13b72a(0x3d6)]=_0x4b71cb[_0x13b72a(0x21a)][_0x13b72a(0x301)](_0x34a0cd=>{var _0x102471=_0x13b72a;_0x34a0cd[_0x102471(0x30c)]===this[_0x102471(0x2c3)]&&this[_0x102471(0x44e)](_0x34a0cd);})):(this[_0x13b72a(0x18e)](),this[_0x13b72a(0x3c0)][_0x13b72a(0x30e)](0x2),(_0x4a71af=this[_0x13b72a(0x3d6)])==null||_0x4a71af[_0x13b72a(0x1df)](),this[_0x13b72a(0x3d6)]=null));}));}get['sessionStatus'](){var _0x3ac7ea=_0x310439;return this['_sessionStatus$'][_0x3ac7ea(0x30b)]();}[_0x310439(0x492)](){var _0x5a2f71,_0x8ae716;return(_0x8ae716=(_0x5a2f71=this['_socket'])==null?void 0x0:_0x5a2f71['memberID'])!=null?_0x8ae716:null;}[_0x310439(0x1de)](){var _0xcc12b6=_0x310439;super[_0xcc12b6(0x1de)](),this[_0xcc12b6(0x40d)]['next'](),this[_0xcc12b6(0x40d)][_0xcc12b6(0x4a6)]();}['close'](){var _0x18dbb0=_0x310439,_0xfbc3ac,_0x3e62e1;this[_0x18dbb0(0x18e)](),(_0xfbc3ac=this['_socket'])==null||_0xfbc3ac[_0x18dbb0(0x416)]({'cmd':W['LEAVE'],'data':{'roomID':this['_unitID']}}),(_0x3e62e1=this[_0x18dbb0(0x31b)])==null||_0x3e62e1[_0x18dbb0(0x355)](),this[_0x18dbb0(0x44b)][_0x18dbb0(0x4a6)](),this['_sessionStatus$'][_0x18dbb0(0x4a6)](),this[_0x18dbb0(0x1de)]();}[_0x310439(0x44e)](_0x140e50){var _0x17db58=_0x310439;_0x140e50[_0x17db58(0x1db)]===W[_0x17db58(0x37e)]?this['_onJoinRoomEvent'](_0x140e50):_0x140e50[_0x17db58(0x1db)]===W[_0x17db58(0x36d)]&&this[_0x17db58(0x33a)](_0x140e50);}[_0x310439(0x425)](_0x3936af){var _0x2ff393=_0x310439;this[_0x2ff393(0x3c0)][_0x2ff393(0x30e)](0x1),_0x3936af[_0x2ff393(0x416)]({'cmd':W['JOIN'],'routeKey':this[_0x2ff393(0x2c3)],'routeType':'','data':{'rooms':[{'roomID':this[_0x2ff393(0x2c3)]}]}});}[_0x310439(0x2ee)](_0x298284){var _0x13da5a=_0x310439,_0x1a4abe;if(_0x298284[_0x13da5a(0x34c)]in We){this[_0x13da5a(0x410)][_0x13da5a(0x174)]({'id':Z[_0x13da5a(0x3ae)],'data':We[_0x298284[_0x13da5a(0x34c)]]}),this[_0x13da5a(0x3c0)][_0x13da5a(0x30e)](0x2);return;}this['_sessionStatus$']['next'](0x3);const _0x4491fe=(_0x1a4abe=_0x298284[_0x13da5a(0x442)][_0x13da5a(0x149)][this[_0x13da5a(0x2c3)]])==null?void 0x0:_0x1a4abe[_0x13da5a(0x135)];_0x4491fe&&_0x4491fe[_0x13da5a(0x477)](_0x27415a=>this[_0x13da5a(0x325)]['updateMember'](this[_0x13da5a(0x2c3)],_0x27415a));}[_0x310439(0x33a)](_0x4eb814){var _0x493aca=_0x310439;try{const _0x5509f1=_0x4eb814[_0x493aca(0x442)];switch(_0x5509f1[_0x493aca(0x21e)]){case E[_0x493aca(0x300)]['USERS_ENTER']:this[_0x493aca(0x42a)](_0x5509f1),this[_0x493aca(0x44b)]['next'](_0x5509f1);break;case E[_0x493aca(0x300)]['USERS_LEAVE']:this[_0x493aca(0x34a)](_0x5509f1),this[_0x493aca(0x44b)][_0x493aca(0x30e)](_0x5509f1);break;case E[_0x493aca(0x300)][_0x493aca(0x24e)]:case E[_0x493aca(0x300)][_0x493aca(0x38c)]:this['_stopTelemetryCollaborationNewChangeset'](),this[_0x493aca(0x1eb)](),this[_0x493aca(0x44b)][_0x493aca(0x30e)](_0x5509f1);break;case E['CollaborationEvent'][_0x493aca(0x488)]:this[_0x493aca(0x1b9)]['error'](_0x493aca(0x2d2)+JSON[_0x493aca(0x14e)](_0x5509f1)),this[_0x493aca(0x44b)][_0x493aca(0x30e)](_0x5509f1);break;case E['CollaborationEvent'][_0x493aca(0x456)]:this[_0x493aca(0x46d)][_0x493aca(0x2d7)](_0x5509f1[_0x493aca(0x442)]),this[_0x493aca(0x44b)][_0x493aca(0x30e)](_0x5509f1);break;default:this[_0x493aca(0x44b)]['next'](_0x5509f1);}}catch(_0x51a5fb){this[_0x493aca(0x1b9)][_0x493aca(0x3e0)](_0x51a5fb,_0x4eb814);}}[_0x310439(0x42a)](_0x6fff3e){var _0x3ae097=_0x310439;this['_memberService'][_0x3ae097(0x464)](this[_0x3ae097(0x2c3)],_0x6fff3e[_0x3ae097(0x442)]);}[_0x310439(0x34a)](_0x2d8c45){var _0x1d6574=_0x310439;this[_0x1d6574(0x325)][_0x1d6574(0x337)](this[_0x1d6574(0x2c3)],_0x2d8c45[_0x1d6574(0x442)][_0x1d6574(0x27e)]);}async[_0x310439(0x416)](_0x158994,_0x208558){var _0xdcb250=_0x310439;if(this[_0xdcb250(0x2e8)]!==0x3||!this[_0xdcb250(0x31b)])throw new Error(_0xdcb250(0x23b));try{_0x158994[_0xdcb250(0x21e)]===E['CollaborationEvent'][_0xdcb250(0x1b8)]&&(this[_0xdcb250(0x207)](),this[_0xdcb250(0x1e9)](_0x158994)),this[_0xdcb250(0x31b)][_0xdcb250(0x416)]({'cmd':W['INGEST'],'routeKey':_0x208558,'routeType':'','data':_0x158994});}catch(_0xd7583f){this[_0xdcb250(0x1b9)][_0xdcb250(0x3e0)](_0xd7583f);}}[_0x310439(0x207)](){var _0x3460de=_0x310439,_0x26500c;this[_0x3460de(0x45c)]=setTimeout(()=>{var _0x8d84a5=_0x3460de;this[_0x8d84a5(0x45c)]=null,this[_0x8d84a5(0x410)][_0x8d84a5(0x174)]({'id':Z[_0x8d84a5(0x261)]});},(_0x26500c=this['_configService'][_0x3460de(0x1e3)](ke))!=null?_0x26500c:lt);}['_clearCollaborationTimeoutTimer'](){var _0x3859a1=_0x310439;this[_0x3859a1(0x45c)]&&(clearTimeout(this['_collaborationTimeoutTimer']),this['_collaborationTimeoutTimer']=null);}['_startTelemetryCollaborationNewChangeset'](_0x1a1b14){var _0x5824b3=_0x310439;if(!this[_0x5824b3(0x3d7)])return;const {data:_0x925df8}=_0x1a1b14,{unitID:_0x246cf1,changeset:_0x3a4229}=_0x925df8,{mutations:_0x406f5e,type:_0x1b244f}=_0x3a4229;this[_0x5824b3(0x326)]={'unitId':_0x246cf1,'type':_0x1b244f,'startTime':performance['now'](),'stopTime':0x0,'duration':0x0,'size':Ft(_0x406f5e)};}[_0x310439(0x3ce)](){var _0x2a6738=_0x310439;if(this[_0x2a6738(0x3d7)]){if(!this[_0x2a6738(0x326)]){this[_0x2a6738(0x1b9)][_0x2a6738(0x3e0)]('[CollaborationSession]',_0x2a6738(0x356));return;}this[_0x2a6738(0x326)]['stopTime']=performance['now'](),this[_0x2a6738(0x326)][_0x2a6738(0x357)]=this[_0x2a6738(0x326)][_0x2a6738(0x217)]-this[_0x2a6738(0x326)][_0x2a6738(0x282)],this[_0x2a6738(0x15e)][_0x2a6738(0x365)](Bt,this[_0x2a6738(0x326)]),this['_telemetryInfo']=null;}}[_0x310439(0x18e)](){var _0x245f62=_0x310439;this[_0x245f62(0x326)]=null;}},exports[_0x310439(0x380)]=Kt([ce(0x2,o[_0x310439(0x414)]),ce(0x3,o[_0x310439(0x23a)]),ce(0x4,o[_0x310439(0x283)](exports['MemberService'])),ce(0x5,o['Inject'](He)),ce(0x6,o[_0x310439(0x283)](ee)),ce(0x7,o[_0x310439(0x319)](Rt[_0x310439(0x19b)]))],exports[_0x310439(0x380)]);function _0x1d9e(){var _0xa45959=['OFFLINE','_sessionStatus$','WECHAT_HAS_BEEN_BOUND','getCurrentSelections','csAckEvent','UNISCRIPT_RUN','signUrlServerUrl','_resendTimer','decrypt','symbol','createIdentifier','format','keySize','updateCollaborator','getActiveSheet','_stopTelemetryCollaborationNewChangeset','ERROR_IMAGE','type','pauseCollaboration','_status$','&to=','SNAPSHOT_URL_KEY','/object','_socketMessageSubscription','_shouldReportTelemetry','pad','getInterceptPoints','waitForRoom$','UniverNetworkPlugin','ENTITLE_UPDOWN_GRADE_NOT_SUPPORT','Failed\x20to\x20update\x20permission\x20point','_getLoginPath','GLOBAL_ROOMS_CNT_EXCEEDS','error','APPLY_PERMISSION_DENIED','getCurrentRevOfUnit','157773GoGcEo','[DataLoaderService]','post','REDEMPTION_CODE_INACTIVE','ConflictState','transformSelections','/new_changes','clone','ENSURE_SNAPSHOT_EXECUTION','submit\x20changeset\x20error!','repeat','algo','avatar','DataLoaderService','_handler','_transformUndoredo','_onRemoteRetry','merge','loadOfflineData','SOCKET_FAILED_RETRY','toString','from','auth.needGotoLoginAlert','_hasher','retryConnectingInterval','DocCollaborationEntity','_replaceFileID','list','IPermissionService','enableAuthServer','setShowComponents','lib','onRemoteAck','listRoles','_createInitialStateImpl','ENTITLE_CHAT_LIMIT_EXCEED','_remoteChangesetQueue','firstValueFrom','awaiting_with_pending','_createSocket','_process','formatter','dispose$','ENTITLE_CAN_NOT_BUY_LOWER_OTP','_clearRetryConnectingTimer','_collaborationUIEventService','Workbook','Undefined','baseRev','ILogService','_append','send','_createHelper','ENTITLE_INSUFFICIENT_QUOTA','abs','salt','getUnitType','getTime','HTTPRequest','LIVESHARE_OPERATION','subUnitId','loadDoc','image/png','fetchMissingChangesets','/role','onTransformRemoteChangesetByStateCache','_joinRoom','CHANGESET_REVISION_CONFILICT','_hash','Tools','[CollaborationSession]','_onUserJoin','c2Prime','session.room-permission-denied','_oKey','rev','hasher','_onOffline','fetchMiss','updatePermissionPoint','OPTIONAL','clamp','AES','_cipher','collabSubmitChangesetUrl','UniverCollaborationPlugin','saveImage','LICENSE_IMPORT_SIZE_EXCEEDED','JSONX','onMissedChangesetFetched','onStarting','_roomCreated$','saveSnapshot','_doFinalize','JOIN_ROOM_NOT_EXISTS','data','LICENSE_MAX_MEMBERS_PER_UNIT_EXCEEDED','substr','createDecryptor','generateRandomId','_configService','saveSheetBlock','USER_NOT_INVITED_CODE','/object/','_event$','toggleOnline','LIVESHARE_NEW_HOST','_onCombEvent','[SyncedState]:\x20invalid\x20calling\x20to\x20`resend`.','_lockTransition','_entities','DependentOn','getSheetId','slice','byteOffset','COMMENT_UPDATE','InsertSheetMutation','_iKey','CipherParams','takeUntil','toggleOffline','_collaborationTimeoutTimer','_sendHeartbeatTimer','status','_revisionService','actions','_onFetchMissResult','_createHandler','ENTITLE_DUP_SUBSCRIPTION','updateMember','ISocketService','size','[FetchingMissState]:\x20invalid\x20calling\x20to\x20`resend`.','saveChangeset','getLocalCacheKey','ICommandService','_sessions','push','_commentService','blockSize','_createHmacHelper','_clearUndo','[OfflineState]:\x20received\x20rejection.','_members','_sendHeartbeat','onTransformRemoteChangesetByStateCache\x20callback\x20is\x20not\x20added\x20yet.','onLocalMutation','SheetTransformSelectionsService','forEach','sid','ALREADY_EXISTS','unitID','getTypeOfUnitAdded$','ISnapshotServerService','UNIVER_SHEET','transformMutationsWithChangeset','NoPadding','_unitInfo$','OTHER_CLIENT_EDITING','_schedule','state','_registerDependencies','changesets','MOBILE_VERIFY_CODE_MISMATCH','_localeService','MSG_FOR_ERROR','call','joinRsp','_onRemoteChangeset','pluginName','exports','PendingState','/rev/','\x22.\x20Please\x20configure\x20the\x20dynamicRequireTargets\x20or/and\x20ignoreDynamicRequires\x20option\x20of\x20@rollup/plugin-commonjs\x20appropriately\x20for\x20this\x20require\x20call\x20to\x20work.','getResourcesRequest','getMemberID','url','ISingleActiveUnitService','string','CollaborationSessionService','SnapshotService','?size=','YUUMI_SUBSCRIPTION_NOT_FOUND','updateOfflineData','INGEST','online$','__esModule','_fetchMissChangesets','withCredentials','collaboratorID','equals','awaiting','_getRedoStack','range','PERSON','complete','onTransformRemoteChangesetByIMECache','LOGIN_TOKEN_PROCESSING_FAILED','padding','onTransformRemoteChangesetByIMECache\x20callback\x20is\x20not\x20added\x20yet.','WordArray','UniverCollaborationClientPlugin','NEW_CHANGESETS','getRandomValues','session.room-cnt-exceeds','_incrementRevisionNumber','UPDATE_CURSOR','loginUrlKey','processBlock','members','_tryReconnect','getImageSourceCache','_toggleOnline','override','_ENC_XFORM_MODE','Cipher','MemberService','UNIVER_SLIDE','SyncedState','sigBytes','Module','HEARTBEAT','clear','onMissingChangesets','members$','_toggleOffline','CollaborationEntity','3488232GHYVzY','src','roomInfos','UNAUTHENTICATED','COMPRESS_MUTATION_SEND','ivSize','SHOULD_CLOSE_CONN','stringify','_doCryptBlock','_acknowledgedAwaitingChangeset','USERS_LEAVE','createCollaborator','sessionStatus$','TOO_MANY_REQUESTS','_commentUpdate$','updatePermissionObjEvent','MergeInterceptorFactory','disableLocalCache','HmacMD5','_data','_transformStateCache','[CollaborationSocketService]:\x20failed\x20to\x20get\x20web\x20socket\x20factory!','toDisposable','_telemetryService','BlockCipherMode','[CollaborationSessionService]:\x20socket\x20error','3507870waapCt','onRemoteChangeset','ThresholdInterceptorFactory','parse','HttpImport','_startCollaboration','NO_OTHER_CLIENTS_EDITING','$super','reconnect','AUTHORIZE_CODE_ILLEGAL','/allowed','FetchingMissState','/universer-api/uniscript','commentUpdate$','event$','_queuedRemoteChangesets','[CollaborationSocketService]:\x20failed\x20to\x20create\x20socket!','REDEMPTION_CODE_FULLY_REDEEMED','find','emitEvent','create','_clearHeartbeatTimer','CollaborationController','requireSession','_initCloseConn','image/jpeg','Malformed\x20UTF-8\x20data','_getSignURL','REDEMPTION_USER_NOT_ELIGIBLE','IUniverInstanceService','_changesetReqId','_DEC_XFORM_MODE','authzUrl','_networkConditionService','11582658gyKsjX','target','touchDependencies','csRejEvent','_HTTPService','ws://127.0.0.1:8000/universer-api/comb/connect','MentionIoHttpService','getOwnPropertyDescriptor','ITransformService','CommandType','concatMap','_throwTelemetryCollaborationNewChangeset','unknown','Rectangle','/block/','location','setConfig','AuthzIoHttpService','set','roles','PasswordBasedCipher','[CollaborationEntity]:\x20initial\x20state\x20has\x20been\x20created\x20before.\x20You\x20should\x20not\x20call\x20\x22init\x22\x20twice.','LICENSE_DISTRO_REJECTED','_onConnectionFailed','ITelemetryService','[CollaborationEntity]:\x20cannot\x20apply\x20missing\x20results\x20on\x20other\x20states!','parseChangesetToProtocol','extend','_handlerCallback','?url=','[CollaborationController]:\x20invalid\x20univer\x20type:\x20','Hasher','_imageSourceCache','asObservable','sin','_createInitialState','Base64','_state','_entityInit$','incrementRevOfUnit','_onRemoteACK','_permissionService','liveShareNewHost','_doReset','270RXUhPc','createInstance','HEARTBEAT_TIMEOUT_KEY','putCollaborators','LIVESHARE_FETCH_OPERATIONS','textEncoder','[OfflineState]:\x20received\x20acknowledgement.','USER_IS_ANONYMOUS','onTransformState','SUBMIT_CHANGESET','_logService','DisposableCollection','_updateStatus','CBC','prototype','_onRemoteRejected','SUCCUSS','loadUnitOfRevision','socket\x20close','objectType','_mode','addHandlerCallback','onSyncEditingCollabCursor','updateSnapshot','_scheduleCompleteTimestamp','_sendingTimer','encrypt','defineProperty','ENTITLE_NEED_BILLING_ADDRESS','image/gif','APPLY_REVISION_CONFILICT','body','This\x20method\x20should\x20not\x20be\x20called\x20on\x20the\x20client\x20side!','originalMeta','UnitStatus','CollaborationUIEventId','/universer-api/snapshot/','fromCollab','state$','href','_applyRemoteChangeset','MD5','_removeRoom','readAsDataURL','cmd','Base','execute','dispose','unsubscribe','RevisionService','_change$','max','getConfig','HEARTBEAT_TIMEOUT','/collaborator','4368MXNvZR','csShouldRetryEvent','Quantity','_startTelemetryCollaborationNewChangeset','_getAPIPrefixPath','_clearCollaborationTimeoutTimer','onRemoteRej','[OfflineState]:\x20received\x20changeset.','result','HMAC','USER_NOT_FOUND','LICENSE_MAX_UNITS_EXCEEDED','status$','conflict','onCommandExecuted','_sender','_clearLocalCache','has','_transformRemoteChangesetByStateCache','LICENSE_EXPORT_SIZE_EXCEEDED','_getDownloadEndpointURL','getTypeOfUnitDisposed$','/universer-api/user/session-ticket','focused$','_nDataBytes','isTransformMutationsWithChangesetSuccess','_onMessage','delay','_substituteRedoStack','_doProcessBlock','_getCtorByUniverType','enableSingleActiveInstanceLock','length','_scheduleCollaborationTimeoutTimer','_showConflictNotification','MOBILE_VERIFY_CODE_NOT_FOUND_OR_EXPIRED','UNRECOGNIZED','/resources','JOIN_ROOM_PERMISSION_DENIED','_isPermissionRej','LOCAL_CACHE_INTERVAL','Utf8','_waitForHeartbeatResponse','_emitMembers','USERS_ENTER','isTransformChangesetsSuccess','Subject','_initMergeInterceptor','_timeoutTimer','stopTime','1155HMNSGd','infoRsp','message$','_init','params','_collaborationPaused','eventID','YUUMI_ALL_TABLES_IS_INVALID','_minBufferSize','_keySchedule','SerializableCipher','REDEMPTION_USER_REDEEM_TIMES_EXCEED','IDLE','BlockCipher','reset','DEFAULT_FILE_NAME','JOINING','UnitEmbedded','editingUnit','_map','setWaitCount','ImageUploadStatusType','mode','headers','collaboration-client.config','FAIL','snapshot','SNAPSHOT_INVALID_SNAPSHOT','OfflineState','sheets','Plugin','liveShareOperation','_socket$','\x0aCurrent:\x20','IConfigService','[CollaborationSession]:\x20should\x20not\x20send\x20message\x20when\x20the\x20session\x20is\x20offline!','_changesetSessionId','resolve','includes','getSheetBlock','_transformSelections','fetching\x20missing\x20changesets\x20from\x20','REMOTE_UNISCRIPT_EXECUTION_ENDPOINT','ImageSourceType','__Key__','Disposable','ENTITLE_REPORT_LIMIT_EXCEED','resend','_disableEditing','fromCharCode','_collaborationSessionService','open$','88732AYLBiF','Error\x20on\x20receiving\x20event','CHANGESET_ACK','filter','appendMutation','CollaborativeUndoRedoService','ERROR_EXCEED_SIZE','getCollabEntity$','_prevBlock','get','take','BehaviorSubject','[OfflineState]:\x20invalid\x20calling\x20to\x20`resend`.','MUTATION','JOIN_ROOM_FULL','map','unpad','IUndoRedoService','append','CollaborationStatus','isInternalEditorID','SUBMIT_CHANGESET_TIMEOUT','_undoStacks','_transformIMECache','INTERNAL_ERROR','/universer-api/authz','REDEMPTION_CODE_HAS_BEEN_CREATED','_onConflict','unitId','INVITE_CODE_REQUIRED','\x20-\x20','FETCH_MISSING','NOT_FOUND','UNIVER_UNKNOWN','CollaborationImageIoService','getAllMembers','mixIn','snapshotServerUrl','reqId','loadSheet','_config','_xformMode','_members$','addImageSourceCache','[PendingState]:\x20invalid\x20calling\x20to\x20`resend`.','enc','replace','AWAITING_WITH_PENDING','COMPLETION_FINISHED','PAYMENT_CHANNEL_NOT_SUPPORT','memberID','AWAITING','_pendingMutations','UNDEFINED','startTime','Inject','requestParams','_reverseMap','transformChangesets','&source=','compose','copyFileMeta','CHANGESET_REJ','selections','subject','msCrypto','origin','apply','c1Prime','onStateChange','UNIVER_PROJECT','_waitCount','INVITE_CODE_HAS_BEEN_UES','batchAllowed','_syncEditingCollabCursor','crypto','RichTextEditingMutation','delete','[SyncedState]:\x20received\x20acknowledgement.','loadUnit','_httpService','update','_replayCachedMutations','LocalUndoRedoService','not_collab','Could\x20not\x20dynamically\x20require\x20\x22','\x20to\x20','APPLY_REJECT','938592XHndKL','words','_getSendChangesetTimeout','compute','serializeCombRequest','_onLocalMutation','_localCacheService','_onConnectionOpen','resourceIDs','revision','_unlockTransition','INVALID_ARGUMENT','setCurrentUser','add','put','MentionType','LocaleService','Cannot\x20assemble\x20a\x20changeset\x20from\x20multiple\x20mutations\x20of\x20different\x20types:\x20','_clearRedo','INetworkConditionService','_clearScheduledTask','_iv','kdf','onTransformIME','CLOSE_ROOM','connection\x20error','randomBytes','permissionRejEvent','default','init','cfg','_unitID','session','PSEUDO_FETCH_MISSING_RESULT','m2Prime','_retryCount','UNIVER_COLLABORATION_CLIENT_PLUGIN','_retryConnectingTimer','reverse','CompressMutationService','_updateState','_checkMissing','YUUMI_UNABLE_LOAD_URL','catch','closeSession','WorkbookEditablePermission','save\x20fail\x20reason\x20is\x20','_transformStack','CURRENT_STATUS_CANNOT_OPERATE','function','FileId','onCommentUpdate','transformUndoRedo','getCurrentUser','pipe','reject','COMPRESS_MUTATION_APPLY','b64DecodeUnicode','_socketService','OpenSSL','_sheetTransformSelectionsService','random','PERMISSION_REJ','HttpExport','getDeserializedSheetBlock','/unit/','StreamCipher','initWorkbookPermissionChange','sessionStatus','isArray','disposeWithMe','YUUMI_CONNECTOR_URL_NOT_FOUND','mapDocumentTypeToUniverType','getUnitId','_onJoinRoomEvent','_executeRemoteChangeset','YUUMI_RATE_OVER_LIMIT','EMAIL_VERIFY_CODE_MISMATCH','CollaborationUIEventService','_submitChangeset','_keyPriorReset','POST','APPLY_DUPLICATED','ERROR_IMAGE_TYPE','reduce','APPLY_NON_SEQUENTIAL_REVISION','DEFAULT_WS_SESSION_TICKET_URL','UniverInstanceType','_rescheduleHeartbeat','entries','key','fetch_missing','CollaborationEvent','subscribe','onSendChangeset','HTTPService','_listenToNetworkCondition','AwaitingState','_clearTimeoutTimer','YUUMI_AI_RUN_FAILED','getUnitStatus$','hasOwnProperty','_compressMutationService','getValue','routeKey','encodeURIComponent','next','fetchThroughInterceptors','/-/object/list','createSocket','_transformService','_transitionLocked','responseType','INVITE_CODE_ALREADY_BOUND','[PendingState]:\x20received\x20rejection.','Pkcs7','createEncryptor','Optional','HEARTBEAT_INTERVAL','_socket','fetching\x20the\x20latest\x20document\x20from\x20the\x20server.','_type','collabWebSocketUrl','PENDING','PY_RUNTIME_SCRIPT_ERROR','buffer','RxDisposable','UserManagerService','&assign=','_memberService','_telemetryInfo','YUUMI_NO_CUBOID_FOR_QUESTION','ciphertext','EMAIL_VERIFY_CODE_NOT_FOUND_OR_EXPIRED','_updateLocalCache','_roomMembers','_injector','_substituteUndoStack','joinEvent','SHA1','_singleActiveUnitService','sendChangesetTimeout','getMember','_initUnitPermissionChange','COLLABORATION_CLIENT_PLUGIN_CONFIG_KEY','concat','objects','removeMember','onRemoteRetry','mutations','_onRecvEvent','executeCommand','encode','_undoRedoService','UNIVER_DOC','startsWith','YUUMI_ASYNCIO_CANCELLED','you\x20should\x20override\x20\x22IUndoRedoService\x22\x20provided\x20in\x20\x22core\x22\x20package!','updateCursorEvent','objectID','_socketReady','getWorkbookSelections','Encryptor','_decreaseWaiting','CONNECTOR_DATA_TOO_LARGE','parseProtocolChangeset','_onUserLeave','_initDependencies','code','enableCollaboration','SheetCollaborationEntity','AwaitingWithPendingState','HmacSHA1','_exhaustRemoteChangesetQueue','INVALID_INVITE_CODE','/universer-api/comb','isPermissionRej','close','telemetry\x20info\x20is\x20not\x20initialized','duration','charCodeAt','uuidv4','BufferedBlockAlgorithm','_resendWithTimeout','[serializeCombRequest]:\x20should\x20not\x20fall\x20into\x20default\x20branch!','pending','YUUMI_TABLE_NOT_FOUND_IN_UNIT','LOGIN_FAILED','confirm','error$','_snapshotService','_state$','toStringTag','capture','change$','[CollaborationState]:\x20apply\x20error!','name','_transformRemoteChangesetByIMECache','ceil','LEAVE','_getUploadFileURL','RECV','SOCKET_FAILED','Injector','ClipsheetFragments','shareReplay','_commandService','_collabSessionService','_instanceService','_eventService','_awaitingChangeset','floor','join','_parse','_getAPIPrefix','getUnitOnRev','CONFLICT','univer-pro.collaboration-client.single-active-unit-service','JOIN','mergeOverrideWithDependencies','CollaborationSession','DATA_SOURCE_TOO_LARGE','/-/object/-/batch_allowed','deleteCollaborator','localCacheService','Decryptor','_initRequestHeader','textRanges','[PendingState]:\x20unhandled\x20univer\x20type:\x20','UPDATE_PERMISSION_OBJ','[CollaborationSessionService]','now','CHANGESET_SHOULD_RETRY','__creator','interceptor','_getUndoStack','finalize','every','CollaborationSocketService','HELLO','univer-pro.collaboration-client-socket-service','isTransformMutationsWithChangesetFailure','collaboration_new_changeset','_tryEnsureSocket','_nRounds','onload','PERMISSION_DENIED','deepClone','MOBILE_HAS_BEEN_BOUND','workbook','downloadEndpointUrl','_getCurrentRevision','collaMsg','encryptBlock','[SyncedState]:\x20received\x20rejection.','uploadFileServerUrl','UNKNOWN_CODE','[CollaborationEntity]','method','OTHER_CLIENTS_EDITING','UnitSnapshot','_key','getLatestCsReqIdBySid','ONLINE','_resendTimeout','ERROR_AGAIN','JOIN_ROOM_FAILED','REDEMPTION_CODE_NOT_STARTED','_univerInstanceService','UserProfileImg','SetSelectionsOperation','SnapshotServerOverHTTPService','onlyLocal','EvpKDF','_candidateSocket','splice','getSnapshotAPIPath','/universer-api/file/{fileID}/sign-url','registerHTTPInterceptor','debug','/universer-api/oidc/authpage','userID','onTransformSelections'];_0x1d9e=function(){return _0xa45959;};return _0x1d9e();}const q=o[_0x310439(0x3c9)]('collaboration-client.local-cache-service');function qt(_0x5686f2){return'unit-cache-'+_0x5686f2;}var zt=Object[_0x310439(0x18a)],Xt=(_0x1e01a6,_0x33fe42,_0x3befc7,_0x35e9e5)=>{var _0x24e959=_0x310439;for(var _0x31c4b9=_0x35e9e5>0x1?void 0x0:_0x35e9e5?zt(_0x33fe42,_0x3befc7):_0x33fe42,_0x4432b0=_0x1e01a6[_0x24e959(0x206)]-0x1,_0x32a55f;_0x4432b0>=0x0;_0x4432b0--)(_0x32a55f=_0x1e01a6[_0x4432b0])&&(_0x31c4b9=_0x32a55f(_0x31c4b9)||_0x31c4b9);return _0x31c4b9;},Ue=(_0x480617,_0x5c44ce)=>(_0x3060d0,_0x45668a)=>_0x5c44ce(_0x3060d0,_0x45668a,_0x480617);function Jt(_0x10ccb5){var _0x28daa7=_0x310439;const {unitID:_0x39c30b,mutations:_0x4ac48a}=_0x10ccb5;return{'unitId':_0x39c30b,'subUnitId':_0x4ac48a['length']>0x0?_0x4ac48a[0x0][_0x28daa7(0x21c)][_0x28daa7(0x41f)]:null};}exports[_0x310439(0x476)]=class{constructor(_0x16000e,_0x1f02a1,_0x5700ac){var _0x5f836f=_0x310439;this[_0x5f836f(0x32c)]=_0x16000e,this[_0x5f836f(0x312)]=_0x1f02a1,this[_0x5f836f(0x374)]=_0x5700ac;}['transformSelections'](_0x5240cd){var _0x5ea1db=_0x310439,_0x454ae1,_0x1f239a,_0x18fa77,_0x2952fe;const _0x161324=this[_0x5ea1db(0x32c)][_0x5ea1db(0x255)](J['SheetsSelectionsService']),{unitId:_0x59412d,subUnitId:_0x271be2}=Jt(_0x5240cd),_0x729f32=_0x161324==null?void 0x0:_0x161324[_0x5ea1db(0x345)](_0x59412d)[_0x5ea1db(0x3c2)](),_0x1fdd6b=(_0x1f239a=(_0x454ae1=this[_0x5ea1db(0x374)]['getUnit'](_0x59412d))==null?void 0x0:_0x454ae1[_0x5ea1db(0x3cd)]())==null?void 0x0:_0x1f239a[_0x5ea1db(0x453)]();if(_0x729f32[_0x5ea1db(0x206)]===0x0||!_0x59412d||!_0x271be2)return;const _0x575fdc=[{'id':J['SetSelectionsOperation']['id'],'params':{'unitId':_0x59412d,'subUnitId':_0x1fdd6b,'selections':o[_0x5ea1db(0x428)][_0x5ea1db(0x39b)](_0x729f32)}}],_0x20b7c7=this[_0x5ea1db(0x312)]['transformMutationsWithChangeset'](_0x5240cd,_0x575fdc);if(!E[_0x5ea1db(0x1ff)](_0x20b7c7))throw _0x20b7c7[_0x5ea1db(0x3e0)];const _0x36be0d=(_0x2952fe=(_0x18fa77=_0x20b7c7[_0x5ea1db(0x2c6)][0x0])==null?void 0x0:_0x18fa77[_0x5ea1db(0x21c)])==null?void 0x0:_0x2952fe[_0x5ea1db(0x28b)];if(Array[_0x5ea1db(0x2e9)](_0x36be0d)&&_0x36be0d['length']){if(_0x36be0d[_0x5ea1db(0x206)]===_0x575fdc[0x0][_0x5ea1db(0x21c)]['selections'][_0x5ea1db(0x206)]&&_0x36be0d[_0x5ea1db(0x391)]((_0x1edc5a,_0x440a8e)=>o[_0x5ea1db(0x190)][_0x5ea1db(0x4a1)](_0x1edc5a[_0x5ea1db(0x4a4)],_0x575fdc[0x0][_0x5ea1db(0x21c)][_0x5ea1db(0x28b)][_0x440a8e][_0x5ea1db(0x4a4)])))return;this[_0x5ea1db(0x32c)][_0x5ea1db(0x255)](o[_0x5ea1db(0x46a)])[_0x5ea1db(0x33b)](J[_0x5ea1db(0x3b2)]['id'],{'unitId':_0x59412d,'subUnitId':_0x1fdd6b,'selections':_0x36be0d});}}},exports[_0x310439(0x476)]=Xt([Ue(0x0,o[_0x310439(0x283)](o[_0x310439(0x36f)])),Ue(0x1,E[_0x310439(0x18b)]),Ue(0x2,o[_0x310439(0x17e)])],exports[_0x310439(0x476)]);const ve=o[_0x310439(0x3c9)](_0x310439(0x37d));var $e=(_0x3084d9=>(_0x3084d9[_0x3084d9[_0x310439(0x167)]=0x0]=_0x310439(0x167),_0x3084d9[_0x3084d9[_0x310439(0x3a7)]=0x1]=_0x310439(0x3a7),_0x3084d9))($e||{});const Y=_0x310439(0x230),Zt={},Qt=new Set([J[_0x310439(0x457)]['id']]);function Ge(_0x3d501b,_0x44f5db,_0x42c156,_0x2d3a89,_0x5c52ee){var _0x532744=_0x310439,_0x434f26,_0x51b824,_0x569e52,_0x68cb3;const _0x502f5b=[];for(const _0x202da7 of _0x3d501b)if(Qt[_0x532744(0x1f7)](_0x202da7['id'])){if(_0x502f5b['length']>0x0)break;_0x502f5b['push'](_0x202da7);break;}else _0x502f5b[_0x532744(0x46c)](_0x202da7);const _0x417f04=(_0x51b824=(_0x434f26=_0x5c52ee['getCurrentUser']())==null?void 0x0:_0x434f26['userID'])!=null?_0x51b824:_0x532744(0x18f),_0xa22e69=(_0x68cb3=(_0x569e52=_0x5c52ee['getCurrentUser']())==null?void 0x0:_0x569e52[_0x532744(0x27e)])!=null?_0x68cb3:_0x532744(0x18f);return{'changeset':{'unitID':_0x44f5db,'type':E['mapDocumentTypeToUniverType'](_0x42c156[_0x532744(0x41b)](_0x44f5db)),'baseRev':_0x2d3a89[_0x532744(0x3e2)](_0x44f5db),'revision':0x0,'userID':_0x417f04,'memberID':_0xa22e69,'mutations':_0x502f5b},'pendingMutations':_0x3d501b['slice'](_0x502f5b['length'])};}function ei(_0x2312c3,_0x44c719,_0x3fc385,_0x504a18,_0x1b6bbb){var _0x24bf65=_0x310439,_0x78d9e9,_0x287429,_0x4ecf14,_0x26585c;const _0x16ef6f=[_0x2312c3['reduce']((_0x1912a0,_0x290da9)=>{var _0x1aa7e5=_0x23f8,_0x51fd0b;const {id:_0x5d2ee0}=_0x1912a0,{id:_0x9e32a4,type:_0x23224c}=_0x290da9,_0x151f45=(_0x51fd0b=_0x1912a0['params'])!=null?_0x51fd0b:{'actions':null},_0xfd7acb=_0x290da9[_0x1aa7e5(0x21c)];if(_0x5d2ee0&&_0x5d2ee0!==_0x9e32a4)throw new Error(_0x1aa7e5(0x2b5)+_0x5d2ee0+_0x1aa7e5(0x26a)+_0x9e32a4+'.');return{..._0x1912a0,'id':_0x9e32a4,'type':_0x23224c,'params':{'unitId':_0xfd7acb[_0x1aa7e5(0x268)],'textRanges':_0xfd7acb['textRanges'],'actions':o[_0x1aa7e5(0x43b)][_0x1aa7e5(0x288)](_0x151f45['actions'],_0xfd7acb['actions'])}};},{})],_0x1dcb20=(_0x287429=(_0x78d9e9=_0x1b6bbb[_0x24bf65(0x2d9)]())==null?void 0x0:_0x78d9e9[_0x24bf65(0x3bd)])!=null?_0x287429:_0x24bf65(0x18f),_0x2a4433=(_0x26585c=(_0x4ecf14=_0x1b6bbb[_0x24bf65(0x2d9)]())==null?void 0x0:_0x4ecf14[_0x24bf65(0x27e)])!=null?_0x26585c:_0x24bf65(0x18f);return{'changeset':{'unitID':_0x44c719,'type':E[_0x24bf65(0x2ec)](_0x3fc385[_0x24bf65(0x41b)](_0x44c719)),'baseRev':_0x504a18['getCurrentRevOfUnit'](_0x44c719),'revision':0x0,'userID':_0x1dcb20,'memberID':_0x2a4433,'mutations':_0x16ef6f},'pendingMutations':[]};}function St(_0x314db7,_0x33ba03){var _0x405c78=_0x310439;const _0x538f44=new j['ReplaySubject'](0x1);return setTimeout(()=>_0x538f44[_0x405c78(0x30e)](_0x33ba03),_0x314db7),_0x538f44[_0x405c78(0x1a4)]()[_0x405c78(0x2da)](j['take'](0x1));}const ti={'id':J['EmptyMutation']['id'],'type':o[_0x310439(0x18c)][_0x310439(0x259)],'params':{}};var ii=Object[_0x310439(0x18a)],ae=(_0x1ec0f5,_0x4e41e0,_0x57c679,_0xc6d83)=>{var _0x63dc58=_0x310439;for(var _0x171ed7=_0xc6d83>0x1?void 0x0:_0xc6d83?ii(_0x4e41e0,_0x57c679):_0x4e41e0,_0xbcd0cd=_0x1ec0f5[_0x63dc58(0x206)]-0x1,_0x2662ae;_0xbcd0cd>=0x0;_0xbcd0cd--)(_0x2662ae=_0x1ec0f5[_0xbcd0cd])&&(_0x171ed7=_0x2662ae(_0x171ed7)||_0x171ed7);return _0x171ed7;},L=(_0x2de179,_0x17489f)=>(_0x365837,_0x59110d)=>_0x17489f(_0x365837,_0x59110d,_0x2de179),je=(_0x3b4b84=>(_0x3b4b84['NOT_COLLAB']=_0x310439(0x2a0),_0x3b4b84['SYNCED']='synced',_0x3b4b84[_0x310439(0x31f)]=_0x310439(0x35d),_0x3b4b84[_0x310439(0x27f)]=_0x310439(0x4a2),_0x3b4b84[_0x310439(0x27b)]=_0x310439(0x409),_0x3b4b84['FETCH_MISS']=_0x310439(0x2ff),_0x3b4b84['CONFLICT']=_0x310439(0x1f3),_0x3b4b84['OFFLINE']='offline',_0x3b4b84))(je||{});const It=0xea60;class oe{constructor(_0x30ef5e,_0x353702,_0x1225e4,_0x3010cb,_0x166e08,_0x526982,_0x7ba145,_0x20c610,_0x44e98f){var _0x3ed5a3=_0x310439;A(this,'_awaitingChangeset',null),A(this,_0x3ed5a3(0x280),[]),(this[_0x3ed5a3(0x47a)]=_0x30ef5e,this[_0x3ed5a3(0x3d0)]=_0x353702,this[_0x3ed5a3(0x3f1)]=_0x166e08,this[_0x3ed5a3(0x372)]=_0x526982,this[_0x3ed5a3(0x33d)]=_0x7ba145,this[_0x3ed5a3(0x45f)]=_0x20c610,this[_0x3ed5a3(0x2aa)]=_0x44e98f,this['_awaitingChangeset']=_0x1225e4,this[_0x3ed5a3(0x280)]=_0x3010cb);}['_checkMissing'](_0x20ecb0){var _0x3031a2=_0x310439;const _0xe1b4dd=this[_0x3031a2(0x45f)]['getCurrentRevOfUnit'](this['unitID']);return _0x20ecb0[_0x3031a2(0x2ad)]>_0xe1b4dd+0x1?(this[_0x3031a2(0x3f1)]['onMissingChangesets']({'from':_0xe1b4dd,'to':_0x20ecb0['revision']-0x1}),!0x0):!0x1;}[_0x310439(0x3f2)](_0x4e5abe){var _0x3a7f09=_0x310439;this[_0x3a7f09(0x33d)][_0x3a7f09(0x2d8)](this['unitID'],_0x4e5abe);}['_transformSelections'](_0x1cf9fd){var _0x2dac24=_0x310439,_0x590fbd,_0x457e8c;(_0x457e8c=(_0x590fbd=this['_handler'])[_0x2dac24(0x3be)])==null||_0x457e8c[_0x2dac24(0x489)](_0x590fbd,_0x1cf9fd);}[_0x310439(0x263)](_0x1687b0){var _0x4690a8=_0x310439,_0x319916,_0x1e12a2;return(_0x1e12a2=(_0x319916=this['_handler'])[_0x4690a8(0x2bb)])==null?void 0x0:_0x1e12a2['call'](_0x319916,_0x1687b0);}[_0x310439(0x15b)](_0x144a65){var _0x14c2fa=_0x310439,_0x4b574d,_0x5e82f5;return(_0x5e82f5=(_0x4b574d=this[_0x14c2fa(0x3f1)])[_0x14c2fa(0x1b7)])==null?void 0x0:_0x5e82f5[_0x14c2fa(0x489)](_0x4b574d,_0x144a65);}[_0x310439(0x369)](_0x22b71d){var _0x1c0d96=_0x310439,_0x58976a,_0x3d9fe1,_0x31b629;return(_0x31b629=(_0x3d9fe1=(_0x58976a=this[_0x1c0d96(0x3f1)])[_0x1c0d96(0x4a7)])==null?void 0x0:_0x3d9fe1[_0x1c0d96(0x489)](_0x58976a,_0x22b71d))!=null?_0x31b629:_0x22b71d;}[_0x310439(0x1f8)](_0x4063fe){var _0x4b2e08=_0x310439,_0xa74797,_0x56a5f0,_0x181839;return(_0x181839=(_0x56a5f0=(_0xa74797=this[_0x4b2e08(0x3f1)])['onTransformRemoteChangesetByStateCache'])==null?void 0x0:_0x56a5f0[_0x4b2e08(0x489)](_0xa74797,_0x4063fe))!=null?_0x181839:_0x4063fe;}[_0x310439(0x296)](_0x1b3ccc){var _0x2b102b=_0x310439,_0x39a3a5,_0x4f37c4;if(this[_0x2b102b(0x3d0)]===X['UNIVER_DOC']){const {unitID:_0x137842,mutations:_0x19e45e,memberID:_0xe8aa47}=_0x1b3ccc,_0x1b1cb8=_0x19e45e[_0x2b102b(0x206)]>0x0?_0x19e45e[0x0][_0x2b102b(0x21c)][_0x2b102b(0x387)]:[];Array[_0x2b102b(0x2e9)](_0x1b1cb8)&&_0x1b1cb8[_0x2b102b(0x206)]>0x0&&((_0x4f37c4=(_0x39a3a5=this['_handler'])[_0x2b102b(0x1c5)])==null||_0x4f37c4['call'](_0x39a3a5,{'unitID':_0x137842,'memberID':_0xe8aa47,'textRanges':_0x1b1cb8}));}}[_0x310439(0x32a)](){var _0x463958=_0x310439,_0x24ae06;(_0x24ae06=this[_0x463958(0x2aa)])==null||_0x24ae06[_0x463958(0x49a)](this['unitID'],this['type'],this[_0x463958(0x376)],this[_0x463958(0x280)]);}[_0x310439(0x39f)](){var _0x41cbce=_0x310439;return this[_0x41cbce(0x45f)]['getCurrentRevOfUnit'](this['unitID']);}[_0x310439(0x131)](){var _0x2f196f=_0x310439;this[_0x2f196f(0x45f)][_0x2f196f(0x1aa)](this[_0x2f196f(0x47a)]);}[_0x310439(0x2ef)](_0x55d9a8){var _0x4a8630=_0x310439,_0x76b72;let _0x5a1f7f=this[_0x4a8630(0x369)](_0x55d9a8);_0x5a1f7f=this[_0x4a8630(0x1f8)](_0x5a1f7f);const _0x4c23b9=o['sequenceExecute'](_0x5a1f7f['mutations'],this[_0x4a8630(0x372)],{'fromCollab':!0x0});if(!_0x4c23b9[_0x4a8630(0x1ee)])throw _0x4c23b9[_0x4a8630(0x3e0)]instanceof Error?_0x4c23b9[_0x4a8630(0x3e0)]:new Error((_0x76b72=_0x4c23b9[_0x4a8630(0x3e0)])!=null?_0x76b72:_0x4a8630(0x367));this[_0x4a8630(0x263)](_0x5a1f7f),this[_0x4a8630(0x15b)](_0x5a1f7f),this[_0x4a8630(0x3f2)](_0x55d9a8),this[_0x4a8630(0x240)](_0x5a1f7f),this[_0x4a8630(0x296)](_0x5a1f7f),this[_0x4a8630(0x131)]();}}exports[_0x310439(0x13e)]=class extends oe{constructor(_0x25def0,_0x536324,_0x36f1d0,_0x3780c7,_0x42835c,_0x2a09a2,_0x19c59d,_0x1b3d93,_0x42707d,_0x1344bc){var _0x4494df=_0x310439;super(_0x25def0,_0x536324,null,[],_0x36f1d0,_0x19c59d,_0x2a09a2,_0x3780c7,_0x1344bc),A(this,_0x4494df(0x45e),'synced'),(this[_0x4494df(0x32c)]=_0x42835c,this['_logService']=_0x1b3d93,this[_0x4494df(0x312)]=_0x42707d,this['localCacheService']=_0x1344bc);}[_0x310439(0x250)](_0x8be906){var _0x502e67=_0x310439;const _0x446ba9=this[_0x502e67(0x32c)]['createInstance'](exports[_0x502e67(0x48e)],this['unitID'],this['type'],[_0x8be906],this[_0x502e67(0x3f1)]);return _0x446ba9[_0x502e67(0x482)](),_0x446ba9[_0x502e67(0x32a)](),_0x446ba9;}['onRemoteChangeset'](_0x9f5e2d){var _0x47a480=_0x310439;if(this[_0x47a480(0x2cd)](_0x9f5e2d))return this[_0x47a480(0x32c)][_0x47a480(0x1b0)](exports[_0x47a480(0x16c)],this[_0x47a480(0x47a)],this[_0x47a480(0x3d0)],null,[],null,[_0x9f5e2d],this[_0x47a480(0x3f1)]);try{const _0x585de0=this['_transformService'][_0x47a480(0x47e)](_0x9f5e2d,[ti]);if(E[_0x47a480(0x1ff)](_0x585de0)){const {c1Prime:_0x816471}=_0x585de0;return this[_0x47a480(0x2ef)](_0x816471),this;}throw _0x585de0[_0x47a480(0x3e0)];}catch(_0x2153d4){return this[_0x47a480(0x1b9)][_0x47a480(0x3e0)](_0x2153d4),this[_0x47a480(0x267)](!0x1);}}[_0x310439(0x267)](_0x3c7ecc){var _0x3a65e1=_0x310439;return this[_0x3a65e1(0x32c)][_0x3a65e1(0x1b0)](exports[_0x3a65e1(0x3e7)],this[_0x3a65e1(0x47a)],this[_0x3a65e1(0x3d0)],null,[],this[_0x3a65e1(0x3f1)],_0x3c7ecc);}[_0x310439(0x403)](){var _0x1e2c8f=_0x310439;throw new Error(_0x1e2c8f(0x29a));}[_0x310439(0x1ec)](){var _0x2d6ae3=_0x310439;throw new Error(_0x2d6ae3(0x3a2));}['onRemoteRetry'](){return this;}[_0x310439(0x45b)](){var _0x15baa6=_0x310439;return this[_0x15baa6(0x32c)][_0x15baa6(0x1b0)](exports[_0x15baa6(0x234)],this[_0x15baa6(0x47a)],this[_0x15baa6(0x3d0)],null,[],this['_handler']);}['toggleOnline'](){return this;}[_0x310439(0x247)](){var _0xddd96=_0x310439;throw new Error(_0xddd96(0x44f));}['fetchMiss'](){var _0x4fa407=_0x310439;const _0x16382e=this[_0x4fa407(0x45f)][_0x4fa407(0x3e2)](this[_0x4fa407(0x47a)]);return this['_handler'][_0x4fa407(0x143)]({'from':_0x16382e,'to':0x0}),this[_0x4fa407(0x32c)][_0x4fa407(0x1b0)](exports[_0x4fa407(0x16c)],this[_0x4fa407(0x47a)],this['type'],null,[],null,[],this[_0x4fa407(0x3f1)]);}},exports[_0x310439(0x13e)]=ae([L(0x3,o[_0x310439(0x283)](E['RevisionService'])),L(0x4,o[_0x310439(0x283)](o['Injector'])),L(0x5,o['IUndoRedoService']),L(0x6,o['ICommandService']),L(0x7,o['ILogService']),L(0x8,E['ITransformService']),L(0x9,o['Optional'](q))],exports[_0x310439(0x13e)]),exports[_0x310439(0x48e)]=class extends oe{constructor(_0x253724,_0x9ae8f7,_0x26a29f,_0x487baa,_0xc537ac,_0x1c84da,_0x198c34,_0x3fb74c,_0x584a6a,_0x8af73,_0x11a4a2,_0x7ab24d,_0x204661,_0x105a43){var _0x479c31=_0x310439;super(_0x253724,_0x9ae8f7,null,_0x26a29f,_0x487baa,_0x584a6a,_0x204661,_0x1c84da,_0x105a43),A(this,_0x479c31(0x45e),_0x479c31(0x35d)),A(this,_0x479c31(0x1c7),null),A(this,_0x479c31(0x1c8),null),(this[_0x479c31(0x32c)]=_0xc537ac,this[_0x479c31(0x325)]=_0x198c34,this[_0x479c31(0x1b9)]=_0x3fb74c,this[_0x479c31(0x447)]=_0x8af73,this['_transformService']=_0x11a4a2,this['_univerInstanceService']=_0x7ab24d);}[_0x310439(0x250)](_0x4d1d8f){var _0x3ce3a3=_0x310439;return this['_pendingMutations']['push'](_0x4d1d8f),this[_0x3ce3a3(0x32a)](),this;}[_0x310439(0x162)](_0x71fcac){var _0x4f74b2=_0x310439;if(this['_checkMissing'](_0x71fcac))return this[_0x4f74b2(0x2b8)](),this[_0x4f74b2(0x32c)]['createInstance'](exports[_0x4f74b2(0x16c)],this[_0x4f74b2(0x47a)],this[_0x4f74b2(0x3d0)],null,this[_0x4f74b2(0x280)],null,[_0x71fcac],this[_0x4f74b2(0x3f1)]);try{const _0x45ae9f=this['_transformService'][_0x4f74b2(0x47e)](_0x71fcac,this[_0x4f74b2(0x280)]);if(E[_0x4f74b2(0x1ff)](_0x45ae9f)){const {c1Prime:_0xe133e6,m2Prime:_0x3bdb83}=_0x45ae9f;this['_executeRemoteChangeset'](_0xe133e6);const _0x39f3d5=this[_0x4f74b2(0x32c)][_0x4f74b2(0x1b0)](exports[_0x4f74b2(0x48e)],this[_0x4f74b2(0x47a)],this[_0x4f74b2(0x3d0)],_0x3bdb83,this['_handler']);this[_0x4f74b2(0x2b8)]();const _0x102426=new Date()['getTime'](),_0x170291=this[_0x4f74b2(0x1c7)]?Math[_0x4f74b2(0x1e2)](this[_0x4f74b2(0x1c7)]-_0x102426,0x0):this[_0x4f74b2(0x2a6)]();return _0x39f3d5['_schedule'](_0x170291),_0x39f3d5;}throw _0x45ae9f[_0x4f74b2(0x3e0)];}catch(_0x1a794e){return this[_0x4f74b2(0x1b9)][_0x4f74b2(0x3e0)](_0x1a794e),this[_0x4f74b2(0x267)](!0x1);}}[_0x310439(0x403)](){throw new Error('[PendingState]:\x20received\x20acknowledgement.');}[_0x310439(0x1ec)](){var _0xb460ee=_0x310439;throw new Error(_0xb460ee(0x316));}[_0x310439(0x338)](){return this;}[_0x310439(0x45b)](){var _0x5036f8=_0x310439;return this[_0x5036f8(0x2b8)](),this[_0x5036f8(0x32c)][_0x5036f8(0x1b0)](exports['OfflineState'],this[_0x5036f8(0x47a)],this[_0x5036f8(0x3d0)],null,this[_0x5036f8(0x280)],this[_0x5036f8(0x3f1)]);}['toggleOnline'](){return this;}[_0x310439(0x482)](_0x3ff3d5){var _0xb92f9=_0x310439;const _0x4f5bf2=_0x3ff3d5!=null?_0x3ff3d5:this[_0xb92f9(0x2a6)]();this[_0xb92f9(0x1c7)]=new Date()[_0xb92f9(0x41c)]()+_0x4f5bf2,this['_sendingTimer']=setTimeout(()=>{var _0xb3038b=_0xb92f9;this[_0xb3038b(0x2b8)]();let _0x182bb5=null;switch(this[_0xb3038b(0x3d0)]){case X[_0xb3038b(0x47d)]:{_0x182bb5=Ge(this[_0xb3038b(0x280)],this[_0xb3038b(0x47a)],this['_univerInstanceService'],this[_0xb3038b(0x45f)],this[_0xb3038b(0x325)]);break;}case X[_0xb3038b(0x33e)]:{this[_0xb3038b(0x280)][_0xb3038b(0x391)](_0x12f668=>_0x12f668['id']===ct[_0xb3038b(0x298)]['id'])?_0x182bb5=ei(this['_pendingMutations'],this[_0xb3038b(0x47a)],this[_0xb3038b(0x3b0)],this[_0xb3038b(0x45f)],this[_0xb3038b(0x325)]):_0x182bb5=Ge(this[_0xb3038b(0x280)],this[_0xb3038b(0x47a)],this[_0xb3038b(0x3b0)],this[_0xb3038b(0x45f)],this['_memberService']);break;}default:throw new Error(_0xb3038b(0x388)+this[_0xb3038b(0x3d0)]+'\x20in\x20_schedule.');}const {changeset:_0x11d532,pendingMutations:_0x2c8eae}=_0x182bb5;this[_0xb3038b(0x3f1)][_0xb3038b(0x302)](_0x11d532);const _0x54f8c2=_0x2c8eae[_0xb3038b(0x206)]?this['_injector'][_0xb3038b(0x1b0)](exports[_0xb3038b(0x34f)],this[_0xb3038b(0x47a)],this['type'],_0x11d532,_0x2c8eae,this['_handler'],void 0x0):this[_0xb3038b(0x32c)][_0xb3038b(0x1b0)](exports[_0xb3038b(0x305)],this[_0xb3038b(0x47a)],this[_0xb3038b(0x3d0)],_0x11d532,this[_0xb3038b(0x3f1)]);_0x54f8c2[_0xb3038b(0x32a)](),this[_0xb3038b(0x3f1)][_0xb3038b(0x291)](this,_0x54f8c2);},_0x4f5bf2);}[_0x310439(0x2a6)](){var _0x1420ce=_0x310439,_0x101660;const _0xf98e63=this[_0x1420ce(0x447)][_0x1420ce(0x1e3)](Y);return(_0x101660=_0xf98e63==null?void 0x0:_0xf98e63[_0x1420ce(0x331)])!=null?_0x101660:Ut;}[_0x310439(0x247)](){var _0xbbf94f=_0x310439;throw new Error(_0xbbf94f(0x278));}[_0x310439(0x2b8)](){var _0x3177cf=_0x310439;this[_0x3177cf(0x1c8)]!=null&&(clearTimeout(this[_0x3177cf(0x1c8)]),this[_0x3177cf(0x1c8)]=null);}[_0x310439(0x267)](_0x4848ee){var _0x1500f7=_0x310439;return this[_0x1500f7(0x2b8)](),this[_0x1500f7(0x32c)][_0x1500f7(0x1b0)](exports['ConflictState'],this[_0x1500f7(0x47a)],this['type'],null,this[_0x1500f7(0x280)],this[_0x1500f7(0x3f1)],_0x4848ee);}},exports[_0x310439(0x48e)]=ae([L(0x4,o[_0x310439(0x283)](o[_0x310439(0x36f)])),L(0x5,o[_0x310439(0x283)](E[_0x310439(0x1e0)])),L(0x6,o[_0x310439(0x283)](exports[_0x310439(0x13c)])),L(0x7,o[_0x310439(0x414)]),L(0x8,o['ICommandService']),L(0x9,o[_0x310439(0x23a)]),L(0xa,E['ITransformService']),L(0xb,o[_0x310439(0x17e)]),L(0xc,o[_0x310439(0x25d)]),L(0xd,o[_0x310439(0x319)](q))],exports[_0x310439(0x48e)]),exports['AwaitingState']=class extends oe{constructor(_0x1aa3b4,_0x454dfc,_0x1f4887,_0x3af87d,_0x2340dc,_0x3c5a5d,_0x16534a,_0x135ca7,_0x138ac3,_0x2115aa,_0x56c2c2){var _0x463704=_0x310439;super(_0x1aa3b4,_0x454dfc,_0x1f4887,[],_0x3af87d,_0x16534a,_0x2115aa,_0x3c5a5d,_0x56c2c2),A(this,_0x463704(0x45e),'awaiting'),A(this,'_resendTimeout',0x0),A(this,_0x463704(0x3c6)),A(this,'_sender'),(this[_0x463704(0x32c)]=_0x2340dc,this[_0x463704(0x1b9)]=_0x135ca7,this[_0x463704(0x312)]=_0x138ac3);}[_0x310439(0x250)](_0x52fee3){var _0x23938f=_0x310439;this[_0x23938f(0x2b8)]();const _0x3173d3=this[_0x23938f(0x32c)][_0x23938f(0x1b0)](exports[_0x23938f(0x34f)],this['unitID'],this[_0x23938f(0x3d0)],this[_0x23938f(0x376)],[_0x52fee3],this[_0x23938f(0x3f1)],this[_0x23938f(0x3c6)]);return _0x3173d3['_updateLocalCache'](),_0x3173d3;}[_0x310439(0x162)](_0x2ee904){var _0xd0df13=_0x310439;if(this['_checkMissing'](_0x2ee904))return this[_0xd0df13(0x2b8)](),this[_0xd0df13(0x32c)][_0xd0df13(0x1b0)](exports[_0xd0df13(0x16c)],this[_0xd0df13(0x47a)],this['type'],this[_0xd0df13(0x376)],[],null,[_0x2ee904],this[_0xd0df13(0x3f1)]);try{const _0xa95278=this[_0xd0df13(0x312)][_0xd0df13(0x286)]([_0x2ee904],[this[_0xd0df13(0x376)]],!0x1);if(E[_0xd0df13(0x213)](_0xa95278)){const {c1Prime:_0x245049,c2Prime:_0x52c500}=_0xa95278;this[_0xd0df13(0x2ef)](_0x245049[0x0]),_0x52c500[0x0][_0xd0df13(0x413)]=this[_0xd0df13(0x39f)](),this[_0xd0df13(0x2b8)]();const _0x25bfd1=this[_0xd0df13(0x32c)][_0xd0df13(0x1b0)](exports[_0xd0df13(0x305)],this[_0xd0df13(0x47a)],this[_0xd0df13(0x3d0)],_0x52c500[0x0],this[_0xd0df13(0x3f1)]);return _0x25bfd1[_0xd0df13(0x32a)](),_0x25bfd1;}return this['_onConflict'](!0x1);}catch(_0x5bad23){return this['_logService'][_0xd0df13(0x3e0)](_0x5bad23),this[_0xd0df13(0x267)](!0x1);}}[_0x310439(0x403)](_0x3c12f5){var _0xf1f97a=_0x310439;this[_0xf1f97a(0x2b8)]();const _0x276ccc=this['_revisionService'][_0xf1f97a(0x3e2)](this[_0xf1f97a(0x47a)]);if(_0x3c12f5[_0xf1f97a(0x2ad)]<_0x276ccc-0x1)return this;if(this[_0xf1f97a(0x2cd)](_0x3c12f5))return this['_injector'][_0xf1f97a(0x1b0)](exports[_0xf1f97a(0x16c)],this[_0xf1f97a(0x47a)],this['type'],null,[],this[_0xf1f97a(0x376)],[],this[_0xf1f97a(0x3f1)]);this[_0xf1f97a(0x131)]();const _0x144c99=this[_0xf1f97a(0x32c)][_0xf1f97a(0x1b0)](exports[_0xf1f97a(0x13e)],this[_0xf1f97a(0x47a)],this[_0xf1f97a(0x3d0)],this[_0xf1f97a(0x3f1)]);return _0x144c99['_updateLocalCache'](),_0x144c99;}[_0x310439(0x1ec)](_0x387554){var _0x4449b6=_0x310439;return this[_0x4449b6(0x267)](!!(_0x387554!=null&&_0x387554[_0x4449b6(0x354)]));}[_0x310439(0x338)](_0x3b3b6c){var _0x817ec9=_0x310439;return this['_resendTimeout']>It?this[_0x817ec9(0x45b)]():(this[_0x817ec9(0x3c6)]=St(this[_0x817ec9(0x3ac)],{'timeout':this[_0x817ec9(0x3ac)],'reqId':_0x3b3b6c[_0x817ec9(0x272)]}),this[_0x817ec9(0x1f5)]=this['_resendTimer'][_0x817ec9(0x301)](({reqId:_0x3abf03,timeout:_0x7effac})=>{var _0x1e26b0=_0x817ec9;this[_0x1e26b0(0x35b)](_0x3abf03,_0x7effac);}),this);}[_0x310439(0x45b)](){var _0x1d4486=_0x310439;return this[_0x1d4486(0x2b8)](),this[_0x1d4486(0x32c)][_0x1d4486(0x1b0)](exports['OfflineState'],this[_0x1d4486(0x47a)],this['type'],this[_0x1d4486(0x376)],[],this['_handler']);}[_0x310439(0x44c)](){return this;}[_0x310439(0x247)](){var _0x375245=_0x310439;this[_0x375245(0x3f1)]['onSendChangeset'](this[_0x375245(0x376)]);}[_0x310439(0x267)](_0x5024cb){var _0x198234=_0x310439;return this[_0x198234(0x2b8)](),this[_0x198234(0x32c)][_0x198234(0x1b0)](exports[_0x198234(0x3e7)],this['unitID'],this['type'],this[_0x198234(0x376)],[],this[_0x198234(0x3f1)],_0x5024cb);}[_0x310439(0x35b)](_0x3374a7,_0x85f577){var _0x1fd0d0=_0x310439,_0x4bee5d;_0x3374a7===((_0x4bee5d=this[_0x1fd0d0(0x376)])==null?void 0x0:_0x4bee5d['reqId'])&&(this[_0x1fd0d0(0x247)](),this[_0x1fd0d0(0x3ac)]=_0x85f577===0x0?0x3e8:_0x85f577*0x2);}[_0x310439(0x2b8)](){var _0x4f0bb1=_0x310439,_0x54c6a0;(_0x54c6a0=this[_0x4f0bb1(0x1f5)])==null||_0x54c6a0['unsubscribe'](),this[_0x4f0bb1(0x3ac)]=0x0;}},exports[_0x310439(0x305)]=ae([L(0x4,o[_0x310439(0x283)](o['Injector'])),L(0x5,o[_0x310439(0x283)](E[_0x310439(0x1e0)])),L(0x6,o[_0x310439(0x46a)]),L(0x7,o['ILogService']),L(0x8,E[_0x310439(0x18b)]),L(0x9,o['IUndoRedoService']),L(0xa,o['Optional'](q))],exports[_0x310439(0x305)]),exports[_0x310439(0x34f)]=class extends oe{constructor(_0x12ed23,_0x2b7613,_0x8b300d,_0x2c4e01,_0x8280ef,_0x2770d2,_0x5c053d,_0x41aaf4,_0x39527d,_0x26fa83,_0x457649,_0x5a023e,_0x35ec5d){var _0x5a1a26=_0x310439;super(_0x12ed23,_0x2b7613,_0x8b300d,_0x2c4e01,_0x8280ef,_0x39527d,_0x5a023e,_0x41aaf4,_0x35ec5d),A(this,'status',_0x5a1a26(0x409)),A(this,_0x5a1a26(0x3ac),0x0),A(this,_0x5a1a26(0x3c6)),A(this,_0x5a1a26(0x1f5)),(this[_0x5a1a26(0x32c)]=_0x5c053d,this['_logService']=_0x26fa83,this['_transformService']=_0x457649,this[_0x5a1a26(0x384)]=_0x35ec5d,_0x2770d2&&(this[_0x5a1a26(0x3c6)]=_0x2770d2,this[_0x5a1a26(0x1f5)]=this[_0x5a1a26(0x3c6)]['subscribe'](({reqId:_0x12d9c3,timeout:_0x3705e5})=>{this['_resendWithTimeout'](_0x12d9c3,_0x3705e5);})));}[_0x310439(0x250)](_0x1c7377){var _0x37703e=_0x310439;return this[_0x37703e(0x280)]['push'](_0x1c7377),this;}[_0x310439(0x162)](_0x3b5d77){var _0x2a0d3a=_0x310439;if(this['_checkMissing'](_0x3b5d77))return this[_0x2a0d3a(0x2b8)](),this[_0x2a0d3a(0x32c)][_0x2a0d3a(0x1b0)](exports['FetchingMissState'],this['unitID'],this['type'],this[_0x2a0d3a(0x376)],this[_0x2a0d3a(0x280)],null,[_0x3b5d77],this[_0x2a0d3a(0x3f1)]);try{const _0x4cf54a=this['_transformService'][_0x2a0d3a(0x286)]([_0x3b5d77],[this[_0x2a0d3a(0x376)]],!0x1);if(E[_0x2a0d3a(0x213)](_0x4cf54a)){const {c1Prime:_0x244090,c2Prime:_0x20dfb3}=_0x4cf54a,_0x5667bd=this[_0x2a0d3a(0x312)][_0x2a0d3a(0x47e)](_0x244090[0x0],this[_0x2a0d3a(0x280)]);if(E['isTransformMutationsWithChangesetSuccess'](_0x5667bd)){const {c1Prime:_0x252b8d,m2Prime:_0x5046aa}=_0x5667bd;return this[_0x2a0d3a(0x2ef)](_0x252b8d),_0x20dfb3[0x0][_0x2a0d3a(0x413)]=this[_0x2a0d3a(0x39f)](),this[_0x2a0d3a(0x2b8)](),this[_0x2a0d3a(0x32c)]['createInstance'](exports[_0x2a0d3a(0x34f)],this[_0x2a0d3a(0x47a)],this[_0x2a0d3a(0x3d0)],_0x20dfb3[0x0],_0x5046aa,this[_0x2a0d3a(0x3f1)],void 0x0);}throw _0x5667bd[_0x2a0d3a(0x3e0)];}throw _0x4cf54a[_0x2a0d3a(0x3e0)];}catch(_0x164de6){return this[_0x2a0d3a(0x1b9)][_0x2a0d3a(0x3e0)](_0x164de6),this['_onConflict'](!0x1);}}[_0x310439(0x403)](_0x450a93){var _0x5e77cd=_0x310439;if(this[_0x5e77cd(0x2b8)](),this[_0x5e77cd(0x2cd)](_0x450a93))return this[_0x5e77cd(0x32c)][_0x5e77cd(0x1b0)](exports[_0x5e77cd(0x16c)],this[_0x5e77cd(0x47a)],this[_0x5e77cd(0x3d0)],null,this[_0x5e77cd(0x280)],this[_0x5e77cd(0x376)],[],this[_0x5e77cd(0x3f1)]);this['_incrementRevisionNumber']();const _0x52c39f=this['_injector'][_0x5e77cd(0x1b0)](exports[_0x5e77cd(0x48e)],this[_0x5e77cd(0x47a)],this[_0x5e77cd(0x3d0)],this[_0x5e77cd(0x280)],this['_handler']);return _0x52c39f['_schedule'](),_0x52c39f[_0x5e77cd(0x32a)](),_0x52c39f;}[_0x310439(0x1ec)](_0x19c066){var _0x5caf20=_0x310439;return this[_0x5caf20(0x267)](!!(_0x19c066!=null&&_0x19c066[_0x5caf20(0x354)]));}['onRemoteRetry'](_0x259653){var _0x1184c1=_0x310439;return this[_0x1184c1(0x3ac)]>It?this[_0x1184c1(0x45b)]():(this[_0x1184c1(0x3c6)]=St(this['_resendTimeout'],{'timeout':this['_resendTimeout'],'reqId':_0x259653[_0x1184c1(0x272)]}),this['_sender']=this[_0x1184c1(0x3c6)][_0x1184c1(0x301)](({reqId:_0x2d13c6,timeout:_0x350ca1})=>{var _0x8e86d7=_0x1184c1;this[_0x8e86d7(0x35b)](_0x2d13c6,_0x350ca1);}),this);}[_0x310439(0x45b)](){var _0x43c5dc=_0x310439;return this['_clearScheduledTask'](),this[_0x43c5dc(0x32c)][_0x43c5dc(0x1b0)](exports[_0x43c5dc(0x234)],this[_0x43c5dc(0x47a)],this['type'],this[_0x43c5dc(0x376)],this[_0x43c5dc(0x280)],this[_0x43c5dc(0x3f1)]);}[_0x310439(0x44c)](){return this;}[_0x310439(0x247)](){var _0x42b157=_0x310439;this[_0x42b157(0x3f1)]['onSendChangeset'](this[_0x42b157(0x376)]);}[_0x310439(0x267)](_0x3cfe34){var _0x389863=_0x310439;return this[_0x389863(0x2b8)](),this['_injector'][_0x389863(0x1b0)](exports[_0x389863(0x3e7)],this['unitID'],this[_0x389863(0x3d0)],null,this[_0x389863(0x280)],this[_0x389863(0x3f1)],_0x3cfe34);}[_0x310439(0x35b)](_0x354e1c,_0xde5e6a){var _0x296d23=_0x310439,_0x5b2fbf;_0x354e1c===((_0x5b2fbf=this[_0x296d23(0x376)])==null?void 0x0:_0x5b2fbf[_0x296d23(0x272)])&&(this[_0x296d23(0x247)](),this[_0x296d23(0x3ac)]=_0xde5e6a===0x0?0x3e8:_0xde5e6a*0x2);}[_0x310439(0x2b8)](){var _0x51943c=_0x310439,_0x421abd;(_0x421abd=this[_0x51943c(0x1f5)])==null||_0x421abd['unsubscribe'](),this[_0x51943c(0x3ac)]=0x0;}},exports[_0x310439(0x34f)]=ae([L(0x6,o['Inject'](o['Injector'])),L(0x7,o[_0x310439(0x283)](E[_0x310439(0x1e0)])),L(0x8,o[_0x310439(0x46a)]),L(0x9,o[_0x310439(0x414)]),L(0xa,E[_0x310439(0x18b)]),L(0xb,o[_0x310439(0x25d)]),L(0xc,o[_0x310439(0x319)](q))],exports[_0x310439(0x34f)]),exports[_0x310439(0x3e7)]=class extends oe{constructor(_0x39aac4,_0x413275,_0x2d440b,_0x5d2158,_0x1839d2,_0x4707b9=!0x1,_0x375605,_0x4b0f71,_0xff3080,_0x13f297,_0x25b4a0,_0x328b00,_0x454458){var _0x20da79=_0x310439;super(_0x39aac4,_0x413275,_0x2d440b,_0x5d2158,_0x1839d2,_0x4b0f71,_0xff3080,_0x13f297,_0x454458),A(this,_0x20da79(0x45e),_0x20da79(0x1f3)),(this[_0x20da79(0x20d)]=_0x4707b9,this[_0x20da79(0x1ac)]=_0x375605,this[_0x20da79(0x487)]=_0x25b4a0,this[_0x20da79(0x410)]=_0x328b00,this[_0x20da79(0x384)]=_0x454458,this[_0x20da79(0x208)](),this[_0x20da79(0x1f6)](),this[_0x20da79(0x248)]());}[_0x310439(0x250)](){return this;}[_0x310439(0x162)](){return this;}[_0x310439(0x403)](){return this;}[_0x310439(0x1ec)](){return this;}[_0x310439(0x338)](){return this;}[_0x310439(0x45b)](){return this;}[_0x310439(0x44c)](){return this;}['resend'](){throw new Error('[ConflictState]:\x20invalid\x20calling\x20to\x20`resend`.');}[_0x310439(0x1f6)](){var _0x438eaf=_0x310439,_0x39ca9a;(_0x39ca9a=this[_0x438eaf(0x2aa)])==null||_0x39ca9a[_0x438eaf(0x49a)](this[_0x438eaf(0x47a)],this['type'],null,[]);}[_0x310439(0x208)](){var _0x52d415=_0x310439;this[_0x52d415(0x20d)]?this[_0x52d415(0x410)][_0x52d415(0x174)]({'id':Z[_0x52d415(0x39a)]}):this['_collaborationUIEventService']['emitEvent']({'id':Z[_0x52d415(0x37c)]});}[_0x310439(0x248)](){var _0xf36ce1=_0x310439;this['_permissionService'][_0xf36ce1(0x432)](new J[(_0xf36ce1(0x2d1))](this['unitID'])['id'],!0x1);}},exports[_0x310439(0x3e7)]=ae([L(0x6,o['Inject'](o[_0x310439(0x3ff)])),L(0x7,o[_0x310439(0x46a)]),L(0x8,o[_0x310439(0x25d)]),L(0x9,o[_0x310439(0x283)](E[_0x310439(0x1e0)])),L(0xa,o['Inject'](o[_0x310439(0x2b4)])),L(0xb,o[_0x310439(0x283)](ee)),L(0xc,o['Optional'](q))],exports[_0x310439(0x3e7)]),exports['OfflineState']=class extends oe{constructor(_0x28a22d,_0x582cc9,_0x1cfb74,_0x4736b6,_0x640546,_0x30d20d,_0x34ce6c,_0x428873,_0x313aa5,_0x3f2d62){var _0x45d566=_0x310439;super(_0x28a22d,_0x582cc9,_0x1cfb74,_0x4736b6,_0x640546,_0x428873,_0x313aa5,_0x34ce6c,_0x3f2d62),A(this,_0x45d566(0x45e),'offline'),this[_0x45d566(0x32c)]=_0x30d20d;}['appendMutation'](_0x54fceb){var _0x5a7cb4=_0x310439;return this[_0x5a7cb4(0x280)][_0x5a7cb4(0x46c)](_0x54fceb),this['_updateLocalCache'](),this;}[_0x310439(0x162)](_0x13407c){var _0xbd9e65=_0x310439;throw new Error(_0xbd9e65(0x1ed));}['onRemoteAck'](){var _0x5f5916=_0x310439;throw new Error(_0x5f5916(0x1b5));}[_0x310439(0x1ec)](){var _0x434f80=_0x310439;throw new Error(_0x434f80(0x471));}[_0x310439(0x338)](){return this;}['toggleOffline'](){return this;}[_0x310439(0x44c)](){var _0x102905=_0x310439;const {_injector:_0x23c22d,_pendingMutations:_0x21cd22,_awaitingChangeset:_0x1f1657,unitID:_0x470afe,_handler:_0x30a686,type:_0x4397ed}=this,_0x3baad2=ft(_0x23c22d,_0x470afe,_0x4397ed,_0x1f1657,_0x21cd22,_0x30a686);return _0x3baad2 instanceof exports['PendingState']?_0x3baad2[_0x102905(0x482)]():(_0x3baad2 instanceof exports['AwaitingWithPendingState']||_0x3baad2 instanceof exports[_0x102905(0x305)])&&_0x3baad2[_0x102905(0x247)](),_0x3baad2;}[_0x310439(0x247)](){var _0x3ebeca=_0x310439;throw new Error(_0x3ebeca(0x258));}},exports[_0x310439(0x234)]=ae([L(0x5,o[_0x310439(0x283)](o[_0x310439(0x36f)])),L(0x6,o[_0x310439(0x283)](E['RevisionService'])),L(0x7,o[_0x310439(0x46a)]),L(0x8,o[_0x310439(0x25d)]),L(0x9,o['Optional'](q))],exports[_0x310439(0x234)]),exports[_0x310439(0x16c)]=class extends oe{constructor(_0xd3e589,_0xbed66f,_0x24092d,_0x12e7bc,_0x35196f,_0x48a1be,_0x1530fa,_0x560f77,_0x303a4d,_0xe5e878,_0x5dd049,_0x1e587d,_0xeae7dc,_0x3d9100){var _0x3214fd=_0x310439;super(_0xd3e589,_0xbed66f,_0x24092d,_0x12e7bc,_0x1530fa,_0x5dd049,_0x1e587d,_0x303a4d,_0x3d9100),A(this,_0x3214fd(0x45e),_0x3214fd(0x2ff)),(this[_0x3214fd(0x150)]=_0x35196f,this[_0x3214fd(0x170)]=_0x48a1be,this[_0x3214fd(0x32c)]=_0x560f77,this[_0x3214fd(0x1b9)]=_0xe5e878,this[_0x3214fd(0x312)]=_0xeae7dc,this[_0x3214fd(0x384)]=_0x3d9100);}[_0x310439(0x43c)](_0x2e773f){var _0xbf6edc=_0x310439;try{const _0xc48efa=[..._0x2e773f,...this[_0xbf6edc(0x170)]],_0x4ef310=[this[_0xbf6edc(0x376)]||this[_0xbf6edc(0x150)]][_0xbf6edc(0x24f)](_0x169a7f=>!!_0x169a7f);let _0x3d9dbd,_0x506521;if(_0x4ef310[_0xbf6edc(0x206)]){const _0x55f3a8=this[_0xbf6edc(0x312)]['transformChangesets'](_0xc48efa,_0x4ef310,!0x1);if(!E['isTransformChangesetsSuccess'](_0x55f3a8))throw _0x55f3a8[_0xbf6edc(0x3e0)];_0x3d9dbd=_0x55f3a8[_0xbf6edc(0x290)],_0x506521=_0x55f3a8[_0xbf6edc(0x42b)];}else _0x3d9dbd=_0xc48efa,_0x506521=[];let _0x3a20d1=this[_0xbf6edc(0x280)];_0x3d9dbd[_0xbf6edc(0x477)](_0x549f5f=>{var _0x3df93c=_0xbf6edc;let _0x1c4e50;if(_0x3a20d1['length']){const _0x41d9b0=this['_transformService'][_0x3df93c(0x47e)](_0x549f5f,_0x3a20d1);if(!E[_0x3df93c(0x1ff)](_0x41d9b0))throw _0x41d9b0[_0x3df93c(0x3e0)];_0x1c4e50=_0x41d9b0[_0x3df93c(0x290)],_0x3a20d1=_0x41d9b0[_0x3df93c(0x2c6)];}else _0x1c4e50=_0x549f5f;this['_executeRemoteChangeset'](_0x1c4e50);}),this[_0xbf6edc(0x150)]&&this[_0xbf6edc(0x131)](),this['_awaitingChangeset']&&_0x506521[_0xbf6edc(0x206)]&&(_0x506521[0x0][_0xbf6edc(0x413)]=this[_0xbf6edc(0x39f)]());let _0x188b63;if(this[_0xbf6edc(0x376)]&&_0x3a20d1[_0xbf6edc(0x206)]!==0x0)_0x188b63=this[_0xbf6edc(0x32c)][_0xbf6edc(0x1b0)](exports[_0xbf6edc(0x34f)],this[_0xbf6edc(0x47a)],this[_0xbf6edc(0x3d0)],_0x506521[0x0],_0x3a20d1,this[_0xbf6edc(0x3f1)],void 0x0);else{if(this[_0xbf6edc(0x376)]&&_0x3a20d1[_0xbf6edc(0x206)]===0x0)_0x506521[0x0][_0xbf6edc(0x413)]=this[_0xbf6edc(0x39f)](),_0x188b63=this['_injector'][_0xbf6edc(0x1b0)](exports[_0xbf6edc(0x305)],this[_0xbf6edc(0x47a)],this[_0xbf6edc(0x3d0)],_0x506521[0x0],this[_0xbf6edc(0x3f1)]);else{if(_0x3a20d1[_0xbf6edc(0x206)]!==0x0){const _0x32bf3a=this[_0xbf6edc(0x32c)]['createInstance'](exports['PendingState'],this[_0xbf6edc(0x47a)],this['type'],_0x3a20d1,this[_0xbf6edc(0x3f1)]);_0x32bf3a[_0xbf6edc(0x482)](),_0x188b63=_0x32bf3a;}else _0x188b63=this[_0xbf6edc(0x32c)][_0xbf6edc(0x1b0)](exports[_0xbf6edc(0x13e)],this[_0xbf6edc(0x47a)],this[_0xbf6edc(0x3d0)],this[_0xbf6edc(0x3f1)]);}}return _0x188b63[_0xbf6edc(0x32a)](),_0x188b63;}catch(_0xcfdef9){return this[_0xbf6edc(0x1b9)][_0xbf6edc(0x3e0)]('[FetchMissState]','failed\x20to\x20apply\x20missed\x20changesets!',_0xcfdef9),this['_injector'][_0xbf6edc(0x1b0)](exports[_0xbf6edc(0x3e7)],this[_0xbf6edc(0x47a)],this['type'],this[_0xbf6edc(0x376)],this['_pendingMutations'],this['_handler'],!0x1);}}[_0x310439(0x247)](){var _0x2c2ff8=_0x310439;throw new Error(_0x2c2ff8(0x467));}[_0x310439(0x250)](_0x13449d){var _0x324c8b=_0x310439;return this[_0x324c8b(0x280)][_0x324c8b(0x46c)](_0x13449d),this;}[_0x310439(0x162)](_0x5834cc){var _0x3425c9=_0x310439;return this[_0x3425c9(0x170)][_0x3425c9(0x46c)](_0x5834cc),this;}[_0x310439(0x403)](_0x5cb4c2){var _0x5f3fb4=_0x310439;if(this[_0x5f3fb4(0x376)])return this['_acknowledgedAwaitingChangeset']=this[_0x5f3fb4(0x376)],this[_0x5f3fb4(0x376)]=null,this;throw new Error('[FetchingMissState]:\x20not\x20expected\x20to\x20receive\x20ack\x20when\x20`this._awaitingChangeset`\x20is\x20null!');}[_0x310439(0x1ec)](_0x51d9ae){var _0x5903a9=_0x310439;return this[_0x5903a9(0x267)](!!(_0x51d9ae!=null&&_0x51d9ae['isPermissionRej']));}[_0x310439(0x338)](){return this;}[_0x310439(0x45b)](){var _0x1a6f07=_0x310439;return this[_0x1a6f07(0x32c)]['createInstance'](exports[_0x1a6f07(0x234)],this[_0x1a6f07(0x47a)],this['type'],this[_0x1a6f07(0x376)],this[_0x1a6f07(0x280)],this[_0x1a6f07(0x3f1)]);}[_0x310439(0x44c)](){return this;}['_onConflict'](_0x3247b3){var _0x5559bb=_0x310439;return this[_0x5559bb(0x32c)][_0x5559bb(0x1b0)](exports['ConflictState'],this[_0x5559bb(0x47a)],this[_0x5559bb(0x3d0)],this[_0x5559bb(0x376)],this['_pendingMutations'],this[_0x5559bb(0x3f1)],_0x3247b3);}},exports['FetchingMissState']=ae([L(0x7,o[_0x310439(0x283)](o[_0x310439(0x36f)])),L(0x8,o[_0x310439(0x283)](E[_0x310439(0x1e0)])),L(0x9,o[_0x310439(0x414)]),L(0xa,o[_0x310439(0x46a)]),L(0xb,o[_0x310439(0x25d)]),L(0xc,E[_0x310439(0x18b)]),L(0xd,o['Optional'](q))],exports[_0x310439(0x16c)]);function ft(_0x50b5af,_0x31c9df,_0x5e86aa,_0x18066f,_0x1234e5,_0x5139a8){var _0x2e5fea=_0x310439;return _0x18066f&&_0x1234e5['length']?_0x50b5af[_0x2e5fea(0x1b0)](exports[_0x2e5fea(0x34f)],_0x31c9df,_0x5e86aa,_0x18066f,_0x1234e5,_0x5139a8,void 0x0):_0x18066f?_0x50b5af[_0x2e5fea(0x1b0)](exports['AwaitingState'],_0x31c9df,_0x5e86aa,_0x18066f,_0x5139a8):_0x1234e5['length']?_0x50b5af[_0x2e5fea(0x1b0)](exports[_0x2e5fea(0x48e)],_0x31c9df,_0x5e86aa,_0x1234e5,_0x5139a8):_0x50b5af[_0x2e5fea(0x1b0)](exports[_0x2e5fea(0x13e)],_0x31c9df,_0x5e86aa,_0x5139a8);}var ni=Object[_0x310439(0x18a)],Be=(_0xd677e3,_0x5a8edb,_0x893842,_0x2a9d96)=>{for(var _0x46b35b=_0x2a9d96>0x1?void 0x0:_0x2a9d96?ni(_0x5a8edb,_0x893842):_0x5a8edb,_0x52b983=_0xd677e3['length']-0x1,_0x226efd;_0x52b983>=0x0;_0x52b983--)(_0x226efd=_0xd677e3[_0x52b983])&&(_0x46b35b=_0x226efd(_0x46b35b)||_0x46b35b);return _0x46b35b;},H=(_0x204bba,_0xeecb97)=>(_0x8d44f1,_0x32e61b)=>_0xeecb97(_0x8d44f1,_0x32e61b,_0x204bba);exports[_0x310439(0x146)]=class extends o[_0x310439(0x322)]{constructor(_0xc2b961,_0xbf64ab,_0x8121ad,_0x209eb8,_0x30e502,_0x50a6d8,_0x98c737,_0x2658e5,_0x5e1246,_0x3b7acb,_0x31418c,_0x4e4da6,_0x2f79db,_0x359423){var _0x3f6a3d=_0x310439;super(),A(this,_0x3f6a3d(0x363),new j['BehaviorSubject'](null)),A(this,_0x3f6a3d(0x1d5),this[_0x3f6a3d(0x363)][_0x3f6a3d(0x1a4)]()),A(this,'_state'),A(this,_0x3f6a3d(0x21d),!0x1),A(this,_0x3f6a3d(0x23c),''),A(this,_0x3f6a3d(0x17f),0x0),A(this,'status$',this[_0x3f6a3d(0x1d5)]['pipe'](j[_0x3f6a3d(0x25b)](_0x457842=>_0x457842?_0x457842[_0x3f6a3d(0x45e)]:je[_0x3f6a3d(0x3bf)]),j[_0x3f6a3d(0x371)](0x1))),A(this,'_transitionLocked',!0x1),A(this,_0x3f6a3d(0x407),[]),(this[_0x3f6a3d(0x47a)]=_0xc2b961,this[_0x3f6a3d(0x2c4)]=_0xbf64ab,this['_type']=_0x8121ad,this['_injector']=_0x209eb8,this[_0x3f6a3d(0x30a)]=_0x30e502,this[_0x3f6a3d(0x487)]=_0x50a6d8,this[_0x3f6a3d(0x45f)]=_0x98c737,this['_eventService']=_0x2658e5,this[_0x3f6a3d(0x3b0)]=_0x5e1246,this['_logService']=_0x3b7acb,this[_0x3f6a3d(0x372)]=_0x31418c,this['_permissionService']=_0x4e4da6,this[_0x3f6a3d(0x330)]=_0x2f79db,this[_0x3f6a3d(0x2aa)]=_0x359423);}get[_0x310439(0x483)](){return this['_state'];}async[_0x310439(0x2c1)](){var _0x2f769c=_0x310439;if(this[_0x2f769c(0x483)])throw new Error(_0x2f769c(0x198));await this[_0x2f769c(0x21b)]();}[_0x310439(0x3d1)](){var _0x5683c1=_0x310439;return this[_0x5683c1(0x21d)]=!0x0,o[_0x5683c1(0x15d)](()=>{var _0x3664c=_0x5683c1;this['_collaborationPaused']=!0x1,this[_0x3664c(0x351)]();});}[_0x310439(0x475)](_0x238db2){var _0x50d45d=_0x310439;this[_0x50d45d(0x2a9)](_0x238db2);}['_updateState'](_0x19eb86){var _0x18dd1c=_0x310439;this[_0x18dd1c(0x1a8)]=_0x19eb86,this[_0x18dd1c(0x363)][_0x18dd1c(0x30e)](_0x19eb86);}async[_0x310439(0x21b)](){var _0x20e985=_0x310439,_0x22a22d;this[_0x20e985(0x2cc)](await this['_createInitialState']()),this[_0x20e985(0x330)]&&((_0x22a22d=this[_0x20e985(0x330)])==null||_0x22a22d[_0x20e985(0x22a)](this['unitID']),this[_0x20e985(0x2ea)](this[_0x20e985(0x330)][_0x20e985(0x308)](this['unitID'])[_0x20e985(0x301)](_0x56d3c7=>{var _0xae79af=_0x20e985;this[_0xae79af(0x1b9)]['debug'](_0xae79af(0x3a5),'editing\x20status\x20changed\x20to',_0x56d3c7),_0x56d3c7===$e['OTHER_CLIENTS_EDITING']?(this[_0xae79af(0x375)][_0xae79af(0x174)]({'id':Z[_0xae79af(0x481)]}),this['_permissionService'][_0xae79af(0x432)](new J['WorkbookEditablePermission'](this['unitID'])['id'],!0x1),this[_0xae79af(0x1ac)][_0xae79af(0x401)](!0x1)):(this[_0xae79af(0x1ac)][_0xae79af(0x432)](new J['WorkbookEditablePermission'](this[_0xae79af(0x47a)])['id'],!0x0),this[_0xae79af(0x1ac)][_0xae79af(0x401)](!0x0));})));let _0x30d7eb=!0x1;return this[_0x20e985(0x2ea)](this['session'][_0x20e985(0x153)][_0x20e985(0x301)](_0x6a737e=>{var _0x379508=_0x20e985;_0x6a737e===se[_0x379508(0x3ab)]?this[_0x379508(0x138)](_0x30d7eb):_0x6a737e===se[_0x379508(0x3bf)]&&(_0x30d7eb=!0x0,this['_toggleOffline']());})),this[_0x20e985(0x2ea)](this[_0x20e985(0x2c4)][_0x20e985(0x16f)][_0x20e985(0x301)](_0x347870=>{var _0x1abf38=_0x20e985;try{switch(_0x347870[_0x1abf38(0x21e)]){case E[_0x1abf38(0x300)][_0x1abf38(0x4ad)]:{this[_0x1abf38(0x48b)](E[_0x1abf38(0x349)](_0x347870[_0x1abf38(0x442)]));break;}case E[_0x1abf38(0x300)][_0x1abf38(0x24e)]:{this[_0x1abf38(0x1ab)](_0x347870[_0x1abf38(0x442)]);break;}case E['CollaborationEvent'][_0x1abf38(0x28a)]:{this['_onRemoteRejected']();break;}case E['CollaborationEvent']['CHANGESET_SHOULD_RETRY']:{this[_0x1abf38(0x3f3)](_0x347870[_0x1abf38(0x442)]);break;}case E[_0x1abf38(0x300)][_0x1abf38(0x2c5)]:{this[_0x1abf38(0x461)](_0x347870[_0x1abf38(0x442)][_0x1abf38(0x485)][_0x1abf38(0x25b)](_0x452e8d=>E['parseProtocolChangeset'](_0x452e8d)));break;}case E[_0x1abf38(0x300)][_0x1abf38(0x2e2)]:{this[_0x1abf38(0x1be)]({'isPermissionRej':!0x0});break;}case E['CollaborationEvent']['UNISCRIPT_RUN']:break;}}catch(_0x5b61f6){throw console['error'](_0x1abf38(0x24d),_0x5b61f6),_0x5b61f6;}})),this[_0x20e985(0x1a8)];}[_0x310439(0x2ae)](){var _0xafccc4=_0x310439;this[_0xafccc4(0x313)]=!0x1;}[_0x310439(0x450)](){var _0xbde53=_0x310439;if(this[_0xbde53(0x313)])throw new Error('[CollaborationEntity]:\x20cannot\x20lock\x20transition\x20twice!\x20This\x20is\x20an\x20implementation\x20error,\x20meaning\x20you\x20transit\x20the\x20collaboration\x20state\x20again\x20in\x20the\x20process\x20of\x20a\x20previous\x20transition.\x20This\x20should\x20never\x20happen.');this[_0xbde53(0x313)]=!0x0;}[_0x310439(0x2a9)](_0x291b0e){var _0x2ada6a=_0x310439;this[_0x2ada6a(0x450)](),this[_0x2ada6a(0x2cc)](this[_0x2ada6a(0x1a8)][_0x2ada6a(0x250)](_0x291b0e)),this[_0x2ada6a(0x2ae)]();}[_0x310439(0x48b)](_0x356fc6){var _0x4ae1f8=_0x310439;if(!(_0x356fc6[_0x4ae1f8(0x2ad)]<=this[_0x4ae1f8(0x45f)][_0x4ae1f8(0x3e2)](this[_0x4ae1f8(0x47a)]))){if(this['_collaborationPaused']){this['_remoteChangesetQueue'][_0x4ae1f8(0x46c)](_0x356fc6);return;}this['_applyRemoteChangeset'](_0x356fc6);}}[_0x310439(0x351)](){var _0x162c37=_0x310439;this[_0x162c37(0x407)][_0x162c37(0x477)](_0xfcaa79=>this[_0x162c37(0x1d7)](_0xfcaa79)),this[_0x162c37(0x407)]=[];}['_applyRemoteChangeset'](_0x3545bd){var _0x53fb5c=_0x310439;const _0x4ff37f=this[_0x53fb5c(0x30a)]['interceptor']['fetchThroughInterceptors'](this[_0x53fb5c(0x30a)][_0x53fb5c(0x38e)][_0x53fb5c(0x3d9)]()[_0x53fb5c(0x2dc)])(_0x3545bd[_0x53fb5c(0x339)],null)||_0x3545bd[_0x53fb5c(0x339)],_0x3f00a9={..._0x3545bd,'mutations':_0x4ff37f};this[_0x53fb5c(0x450)](),this['_updateState'](this[_0x53fb5c(0x1a8)][_0x53fb5c(0x162)](_0x3f00a9)),this[_0x53fb5c(0x2ae)]();}[_0x310439(0x1ab)](_0x29ed8a){var _0x5b932f=_0x310439;this[_0x5b932f(0x450)](),this[_0x5b932f(0x2cc)](this[_0x5b932f(0x1a8)][_0x5b932f(0x403)](_0x29ed8a)),this['_unlockTransition']();}[_0x310439(0x1be)](_0x207961){var _0x509820=_0x310439;this[_0x509820(0x450)](),this['_updateState'](this[_0x509820(0x1a8)][_0x509820(0x1ec)](_0x207961)),this['_unlockTransition']();}[_0x310439(0x3f3)](_0x3e9946){var _0x42ce4d=_0x310439;this[_0x42ce4d(0x450)](),this['_updateState'](this[_0x42ce4d(0x1a8)][_0x42ce4d(0x338)](_0x3e9946)),this['_unlockTransition']();}[_0x310439(0x461)](_0x45eb4a){var _0x334c00=_0x310439;if(!(this[_0x334c00(0x1a8)]instanceof exports[_0x334c00(0x16c)]))throw new TypeError(_0x334c00(0x19c));const _0x15dc82=_0x45eb4a[_0x334c00(0x25b)](_0x3f8dd5=>{var _0x282e1a=_0x334c00;const _0x5d74f4=this[_0x282e1a(0x30a)][_0x282e1a(0x38e)][_0x282e1a(0x30f)](this[_0x282e1a(0x30a)][_0x282e1a(0x38e)]['getInterceptPoints']()[_0x282e1a(0x2dc)])(_0x3f8dd5['mutations'],null)||_0x3f8dd5[_0x282e1a(0x339)];return{..._0x3f8dd5,'mutations':_0x5d74f4};});this[_0x334c00(0x450)](),this['_updateState'](this[_0x334c00(0x1a8)]['onMissedChangesetFetched'](_0x15dc82)),this[_0x334c00(0x2ae)]();}[_0x310439(0x145)](){var _0xb1836=_0x310439;this['_lockTransition'](),this['_updateState'](this['_state'][_0xb1836(0x45b)]()),this['_unlockTransition']();}[_0x310439(0x138)](_0x2db63d=!0x1){var _0x26afd4=_0x310439;this[_0x26afd4(0x450)](),this['_updateState'](this[_0x26afd4(0x1a8)][_0x26afd4(0x44c)]()),this['_unlockTransition']();const _0x262bd4=this[_0x26afd4(0x1a8)];_0x2db63d&&_0x262bd4 instanceof exports[_0x26afd4(0x13e)]&&(this[_0x26afd4(0x450)](),this[_0x26afd4(0x2cc)](_0x262bd4[_0x26afd4(0x431)]()),this[_0x26afd4(0x2ae)]());}async[_0x310439(0x1a6)](){return new Promise(_0x391ee4=>{var _0x5a9d73=_0x23f8;this[_0x5a9d73(0x2c4)][_0x5a9d73(0x153)]['pipe'](j[_0x5a9d73(0x256)](0x1))[_0x5a9d73(0x301)](async _0x344d95=>{var _0x596e75=_0x5a9d73;_0x391ee4(await this[_0x596e75(0x405)](_0x344d95===se['ONLINE']));});});}[_0x310439(0x462)](){var _0x5e96c0=_0x310439;const _0x4b0c12=this[_0x5e96c0(0x47a)];return{'onStateChange':(_0x7ebddb,_0x1ba51a)=>{var _0x5e6e09=_0x5e96c0;if(_0x7ebddb!==this[_0x5e6e09(0x1a8)])throw new Error('[CollaborationEntity]:\x20invalid\x20state\x20transition!\x20State\x20transferred\x20from\x20is\x20not\x20the\x20current\x20state.\x0aBefore:\x20'+_0x7ebddb[_0x5e6e09(0x45e)]+'\x0aAfter:\x20'+_0x1ba51a['status']+_0x5e6e09(0x239)+this[_0x5e6e09(0x1a8)][_0x5e6e09(0x45e)]);this[_0x5e6e09(0x2cc)](_0x1ba51a);},'onSendChangeset':_0x2f1af8=>{var _0x2020fa=_0x5e96c0;_0x2f1af8[_0x2020fa(0x478)]||(_0x2f1af8[_0x2020fa(0x478)]=this[_0x2020fa(0x23c)],_0x2f1af8[_0x2020fa(0x272)]=++this[_0x2020fa(0x17f)]);const _0x124d28={'eventID':E[_0x2020fa(0x300)][_0x2020fa(0x1b8)],'data':{'unitID':_0x2f1af8[_0x2020fa(0x47a)],'unitType':this[_0x2020fa(0x31d)],'changeset':_0x2f1af8,'memberID':this['session']['getMemberID']()}};this[_0x2020fa(0x2c4)][_0x2020fa(0x416)](_0x124d28,this['unitID']);},'onMissingChangesets':({from:_0x5159ed,to:_0x37e719})=>{var _0x3266a8=_0x5e96c0;this[_0x3266a8(0x1b9)][_0x3266a8(0x3bb)](_0x3266a8(0x3a5),_0x3266a8(0x241)+_0x5159ed+_0x3266a8(0x2a2)+_0x37e719);const _0x5518c8={'eventID':E[_0x3266a8(0x300)][_0x3266a8(0x26b)],'data':{'unitID':_0x4b0c12,'unitType':this[_0x3266a8(0x31d)],'from':_0x5159ed,'to':_0x37e719}};this['session'][_0x3266a8(0x416)](_0x5518c8,this[_0x3266a8(0x47a)]);}};}async[_0x310439(0x405)](_0x5595ab){var _0x86da72=_0x310439,_0x5e912b,_0x3279b4,_0x219654;const _0x399fc7=await((_0x5e912b=this[_0x86da72(0x2aa)])==null?void 0x0:_0x5e912b[_0x86da72(0x3f5)](this[_0x86da72(0x47a)])),_0x1afabe=(_0x3279b4=_0x399fc7==null?void 0x0:_0x399fc7[_0x86da72(0x339)])!=null?_0x3279b4:[],_0x4e2938=(_0x219654=_0x399fc7==null?void 0x0:_0x399fc7['awaitingChangeset'])!=null?_0x219654:null,_0x5b31f7=!!(_0x4e2938!=null&&_0x4e2938[_0x86da72(0x478)])&&!!(_0x4e2938!=null&&_0x4e2938[_0x86da72(0x272)]);this[_0x86da72(0x23c)]=_0x5b31f7?_0x4e2938[_0x86da72(0x478)]:E[_0x86da72(0x359)](),this[_0x86da72(0x17f)]=_0x5b31f7?_0x4e2938[_0x86da72(0x272)]:0x0;const _0x5de942=this[_0x86da72(0x47a)];try{this[_0x86da72(0x29e)](_0x4e2938,_0x1afabe);}catch(_0x38b8d8){this[_0x86da72(0x1b9)][_0x86da72(0x3e0)](_0x38b8d8);}const _0x13d0a3=this[_0x86da72(0x462)]();if(_0x5595ab){const _0xf73a4d=ft(this[_0x86da72(0x32c)],_0x5de942,this[_0x86da72(0x31d)],_0x4e2938,_0x1afabe,_0x13d0a3);return _0xf73a4d instanceof exports[_0x86da72(0x48e)]?_0xf73a4d[_0x86da72(0x482)]():(_0xf73a4d instanceof exports[_0x86da72(0x34f)]||_0xf73a4d instanceof exports[_0x86da72(0x305)])&&_0xf73a4d[_0x86da72(0x247)](),_0xf73a4d;}return this[_0x86da72(0x32c)][_0x86da72(0x1b0)](exports[_0x86da72(0x234)],_0x5de942,this['_type'],_0x4e2938,_0x1afabe,_0x13d0a3);}[_0x310439(0x29e)](_0x437541,_0x5518d8){var _0x3a568e=_0x310439,_0x141ea0,_0x311bd1;const _0x45298e=this[_0x3a568e(0x30a)]['interceptor'][_0x3a568e(0x30f)](this[_0x3a568e(0x30a)][_0x3a568e(0x38e)][_0x3a568e(0x3d9)]()['COMPRESS_MUTATION_APPLY']);(_0x141ea0=_0x45298e((_0x437541==null?void 0x0:_0x437541[_0x3a568e(0x339)])||[],null))==null||_0x141ea0[_0x3a568e(0x477)](_0x45e6aa=>this[_0x3a568e(0x372)][_0x3a568e(0x33b)](_0x45e6aa['id'],_0x45e6aa[_0x3a568e(0x21c)])),(_0x311bd1=_0x45298e(_0x5518d8||[],null))==null||_0x311bd1['forEach'](_0x15f53b=>this['_commandService'][_0x3a568e(0x33b)](_0x15f53b['id'],_0x15f53b['params']));}},exports[_0x310439(0x146)]=Be([H(0x3,o[_0x310439(0x283)](o['Injector'])),H(0x4,o[_0x310439(0x283)](E['CompressMutationService'])),H(0x5,o['Inject'](o[_0x310439(0x2b4)])),H(0x6,o[_0x310439(0x283)](E['RevisionService'])),H(0x7,o[_0x310439(0x283)](ee)),H(0x8,o[_0x310439(0x17e)]),H(0x9,o[_0x310439(0x414)]),H(0xa,o['ICommandService']),H(0xb,o['IPermissionService']),H(0xc,o[_0x310439(0x319)](ve)),H(0xd,o[_0x310439(0x319)](q))],exports[_0x310439(0x146)]),exports[_0x310439(0x3fc)]=class extends exports[_0x310439(0x146)]{constructor(_0xa44b23,_0x2c6e22,_0x1dad39,_0x275441,_0x3781b1,_0x122f5f,_0xef4dff,_0x385994,_0x22cf7b,_0x2d4065,_0x70588e,_0x4453eb,_0x1af3b5,_0x5c5865){var _0x207f97=_0x310439;super(_0xa44b23,_0x1dad39,_0x2c6e22,_0x275441,_0x3781b1,_0x122f5f,_0xef4dff,_0x385994,_0x22cf7b,_0x2d4065,_0x70588e,_0x4453eb,_0x1af3b5,_0x5c5865),A(this,_0x207f97(0x19f),null),(this[_0x207f97(0x47a)]=_0xa44b23,this[_0x207f97(0x3d0)]=_0x2c6e22);}[_0x310439(0x1c4)](_0xc987ae){this['_handlerCallback']=_0xc987ae;}[_0x310439(0x1de)](){var _0x3f4c7a=_0x310439;this[_0x3f4c7a(0x19f)]=null,super[_0x3f4c7a(0x1de)]();}[_0x310439(0x462)](){var _0x1c10a6=_0x310439;const _0xd5616=super[_0x1c10a6(0x462)]();return _0xd5616[_0x1c10a6(0x2bb)]=_0x15878a=>{var _0x273802=_0x1c10a6,_0x106a7e,_0x38b178;return(_0x38b178=(_0x106a7e=this[_0x273802(0x19f)])==null?void 0x0:_0x106a7e[_0x273802(0x2bb)])==null?void 0x0:_0x38b178[_0x273802(0x489)](_0x106a7e,_0x15878a);},_0xd5616[_0x1c10a6(0x1b7)]=_0xb834d6=>{var _0x4cc768=_0x1c10a6,_0x84f482,_0x5a98f3;return(_0x5a98f3=(_0x84f482=this['_handlerCallback'])==null?void 0x0:_0x84f482[_0x4cc768(0x1b7)])==null?void 0x0:_0x5a98f3[_0x4cc768(0x489)](_0x84f482,_0xb834d6);},_0xd5616[_0x1c10a6(0x3be)]=_0x3ca81d=>{var _0xb3443a=_0x1c10a6,_0x21c76d,_0x351f82;return(_0x351f82=(_0x21c76d=this['_handlerCallback'])==null?void 0x0:_0x21c76d[_0xb3443a(0x3be)])==null?void 0x0:_0x351f82['call'](_0x21c76d,_0x3ca81d);},_0xd5616[_0x1c10a6(0x1c5)]=_0x39fccc=>{var _0x5f1be8=_0x1c10a6,_0x4e2b18,_0x25e69b;return(_0x25e69b=(_0x4e2b18=this[_0x5f1be8(0x19f)])==null?void 0x0:_0x4e2b18[_0x5f1be8(0x1c5)])==null?void 0x0:_0x25e69b['call'](_0x4e2b18,_0x39fccc);},_0xd5616['onTransformRemoteChangesetByIMECache']=_0x403969=>{var _0x373b2f=_0x1c10a6,_0x2295a3,_0x12ef9f,_0x102f3e;if(!((_0x2295a3=this[_0x373b2f(0x19f)])!=null&&_0x2295a3[_0x373b2f(0x4a7)]))throw new Error(_0x373b2f(0x4aa));return(_0x102f3e=(_0x12ef9f=this[_0x373b2f(0x19f)])==null?void 0x0:_0x12ef9f[_0x373b2f(0x4a7)])==null?void 0x0:_0x102f3e['call'](_0x12ef9f,_0x403969);},_0xd5616['onTransformRemoteChangesetByStateCache']=_0x25772c=>{var _0x922e0=_0x1c10a6,_0x5a7849,_0x123464,_0x5c4342;if(!((_0x5a7849=this[_0x922e0(0x19f)])!=null&&_0x5a7849[_0x922e0(0x424)]))throw new Error(_0x922e0(0x474));return(_0x5c4342=(_0x123464=this[_0x922e0(0x19f)])==null?void 0x0:_0x123464['onTransformRemoteChangesetByStateCache'])==null?void 0x0:_0x5c4342[_0x922e0(0x489)](_0x123464,_0x25772c);},_0xd5616;}async['_init'](){var _0x207a7a=_0x310439;const _0x42ed0e=await super['_init']();return this[_0x207a7a(0x2ea)](this[_0x207a7a(0x372)][_0x207a7a(0x1f4)]((_0x4a0fb6,_0x12babe)=>{var _0x4413ae=_0x207a7a;if(_0x4a0fb6[_0x4413ae(0x3d0)]!==o[_0x4413ae(0x18c)][_0x4413ae(0x259)]||_0x12babe!=null&&_0x12babe[_0x4413ae(0x1d4)]||_0x12babe!=null&&_0x12babe[_0x4413ae(0x3b4)]||_0x4a0fb6['id']===ct['RichTextEditingMutation']['id'])return;const _0xd8b213=_0x4a0fb6[_0x4413ae(0x21c)];if((_0xd8b213==null?void 0x0:_0xd8b213[_0x4413ae(0x268)])!==this[_0x4413ae(0x47a)])return;const _0x5de48b=_0x4a0fb6,_0x5d412d=this[_0x4413ae(0x30a)]['interceptor'][_0x4413ae(0x30f)](this[_0x4413ae(0x30a)]['interceptor'][_0x4413ae(0x3d9)]()[_0x4413ae(0x14b)])([_0x5de48b],this[_0x4413ae(0x3b0)])||[_0x5de48b];this[_0x4413ae(0x2a9)](_0x5d412d[0x0]);})),_0x42ed0e;}},exports[_0x310439(0x3fc)]=Be([H(0x3,o[_0x310439(0x283)](o[_0x310439(0x36f)])),H(0x4,o['Inject'](E[_0x310439(0x2cb)])),H(0x5,o[_0x310439(0x283)](o[_0x310439(0x2b4)])),H(0x6,o[_0x310439(0x283)](E['RevisionService'])),H(0x7,o[_0x310439(0x283)](ee)),H(0x8,o[_0x310439(0x17e)]),H(0x9,o[_0x310439(0x414)]),H(0xa,o[_0x310439(0x46a)]),H(0xb,o[_0x310439(0x3ff)]),H(0xc,o[_0x310439(0x319)](ve)),H(0xd,o[_0x310439(0x319)](q))],exports[_0x310439(0x3fc)]),exports[_0x310439(0x34e)]=class extends exports[_0x310439(0x146)]{constructor(_0x44bbcc,_0x393e2f,_0x46ce75,_0x4481f3,_0x31b2e1,_0x186bd3,_0x547ffe,_0x3a63a1,_0x3bf913,_0x55b13b,_0x31be5e,_0x2789e8,_0x3b7b08,_0x30a9ce,_0x40f7a0){var _0x362e5e=_0x310439;super(_0x44bbcc,_0x46ce75,_0x393e2f,_0x4481f3,_0x31b2e1,_0x186bd3,_0x547ffe,_0x3bf913,_0x55b13b,_0x31be5e,_0x2789e8,_0x3b7b08,_0x30a9ce,_0x40f7a0),this[_0x362e5e(0x47a)]=_0x44bbcc,this[_0x362e5e(0x3d0)]=_0x393e2f,this[_0x362e5e(0x2e0)]=_0x3a63a1;}['_createHandler'](){var _0x5334a4=_0x310439;const _0x366880=super['_createHandler']();return _0x366880[_0x5334a4(0x3be)]=_0x4a6768=>this[_0x5334a4(0x2e0)][_0x5334a4(0x3e8)](_0x4a6768),_0x366880;}async[_0x310439(0x21b)](){var _0x47e0fa=_0x310439;const _0x48ee80=await super[_0x47e0fa(0x21b)]();return this['disposeWithMe'](this[_0x47e0fa(0x372)][_0x47e0fa(0x1f4)]((_0x236844,_0x226083)=>{var _0x156eb3=_0x47e0fa;if(_0x236844[_0x156eb3(0x3d0)]!==o[_0x156eb3(0x18c)][_0x156eb3(0x259)]||_0x226083!=null&&_0x226083[_0x156eb3(0x1d4)]||_0x226083!=null&&_0x226083[_0x156eb3(0x3b4)])return;const _0x3cb672=_0x236844[_0x156eb3(0x21c)];if((_0x3cb672==null?void 0x0:_0x3cb672['unitId'])!==this['unitID'])return;const _0x152311=_0x236844,_0x5953e9=this['_compressMutationService'][_0x156eb3(0x38e)][_0x156eb3(0x30f)](this[_0x156eb3(0x30a)][_0x156eb3(0x38e)]['getInterceptPoints']()[_0x156eb3(0x14b)])([_0x152311],this[_0x156eb3(0x3b0)])||[_0x152311];this[_0x156eb3(0x2a9)](_0x5953e9[0x0]);})),_0x48ee80;}},exports[_0x310439(0x34e)]=Be([H(0x3,o[_0x310439(0x283)](o[_0x310439(0x36f)])),H(0x4,o['Inject'](E[_0x310439(0x2cb)])),H(0x5,o['Inject'](o[_0x310439(0x2b4)])),H(0x6,o['Inject'](E['RevisionService'])),H(0x7,o[_0x310439(0x283)](exports['SheetTransformSelectionsService'])),H(0x8,o[_0x310439(0x283)](ee)),H(0x9,o['IUniverInstanceService']),H(0xa,o[_0x310439(0x414)]),H(0xb,o[_0x310439(0x46a)]),H(0xc,o[_0x310439(0x3ff)]),H(0xd,o[_0x310439(0x319)](ve)),H(0xe,o[_0x310439(0x319)](q))],exports[_0x310439(0x34e)]);const Et=o[_0x310439(0x3c9)]('univer-pro.collaboration-client.network-condition.service');function pt(_0x3232dc){var _0x582f03=_0x310439,_0x15d3d2,_0x4ee5b7,_0x2d107e,_0xf02499,_0x1f73f9;const _0x5c5217=_0x3232dc[_0x582f03(0x442)],_0x58e859=JSON[_0x582f03(0x164)](_0x5c5217);switch(_0x58e859[_0x582f03(0x1db)]){case W['HEARTBEAT']:case W[_0x582f03(0x393)]:{const _0x164aa1=_0x58e859[_0x582f03(0x219)];return{..._0x58e859,'data':_0x164aa1,'cmd':_0x58e859[_0x582f03(0x1db)]};}case W[_0x582f03(0x37e)]:{const _0xcd64f8=_0x58e859[_0x582f03(0x48a)];return{..._0x58e859,'data':_0xcd64f8,'cmd':_0x58e859[_0x582f03(0x1db)]};}case W[_0x582f03(0x36d)]:{const _0x49883e=_0x58e859[_0x582f03(0x3a0)];switch(_0x49883e['eventID']){case E[_0x582f03(0x300)]['PERMISSION_REJ']:return{..._0x58e859,'data':{..._0x49883e,'data':(_0x15d3d2=_0x49883e[_0x582f03(0x2bf)])==null?void 0x0:_0x15d3d2['cs']},'cmd':_0x58e859['cmd']};case E['CollaborationEvent'][_0x582f03(0x24e)]:return{..._0x58e859,'data':{..._0x49883e,'data':(_0x4ee5b7=_0x49883e[_0x582f03(0x3c3)])==null?void 0x0:_0x4ee5b7['cs']},'cmd':_0x58e859['cmd']};case E[_0x582f03(0x300)][_0x582f03(0x4ad)]:return{..._0x58e859,'data':{..._0x49883e,'data':(_0x2d107e=_0x49883e['newCsEvent'])==null?void 0x0:_0x2d107e['cs']},'cmd':_0x58e859['cmd']};case E[_0x582f03(0x300)][_0x582f03(0x28a)]:return{..._0x58e859,'data':{..._0x49883e,'data':(_0xf02499=_0x49883e[_0x582f03(0x186)])==null?void 0x0:_0xf02499['cs']},'cmd':_0x58e859[_0x582f03(0x1db)]};case E[_0x582f03(0x300)][_0x582f03(0x38c)]:return{..._0x58e859,'data':{..._0x49883e,'data':(_0x1f73f9=_0x49883e[_0x582f03(0x1e7)])==null?void 0x0:_0x1f73f9['cs']},'cmd':_0x58e859[_0x582f03(0x1db)]};case E[_0x582f03(0x300)][_0x582f03(0x132)]:return{..._0x58e859,'data':{..._0x49883e,'data':_0x49883e[_0x582f03(0x342)]},'cmd':_0x58e859[_0x582f03(0x1db)]};case E[_0x582f03(0x300)]['USERS_ENTER']:return{..._0x58e859,'data':{..._0x49883e,'data':_0x49883e[_0x582f03(0x32e)]},'cmd':_0x58e859[_0x582f03(0x1db)]};case E['CollaborationEvent']['USERS_LEAVE']:return{..._0x58e859,'data':{..._0x49883e,'data':_0x49883e['leaveEvent']},'cmd':_0x58e859[_0x582f03(0x1db)]};case E[_0x582f03(0x300)][_0x582f03(0x44d)]:return{..._0x58e859,'data':{..._0x49883e,'data':_0x49883e['liveShareNewHost']},'cmd':_0x58e859[_0x582f03(0x1db)]};case E[_0x582f03(0x300)][_0x582f03(0x1b3)]:case E[_0x582f03(0x300)][_0x582f03(0x41e)]:return{..._0x58e859,'data':{..._0x49883e,'data':_0x49883e[_0x582f03(0x237)]},'cmd':_0x58e859[_0x582f03(0x1db)]};case E[_0x582f03(0x300)]['LIVESHARE_TERMINATE']:return{..._0x58e859,'data':{..._0x49883e,'data':_0x49883e[_0x582f03(0x1ad)]},'cmd':_0x58e859[_0x582f03(0x1db)]};case E[_0x582f03(0x300)]['MSG_FOR_ERROR']:return{..._0x58e859,'data':_0x49883e,'cmd':_0x58e859[_0x582f03(0x1db)]};case E[_0x582f03(0x300)][_0x582f03(0x456)]:return{..._0x58e859,'data':{..._0x49883e,'data':_0x49883e['commentUpdateEvent']},'cmd':_0x58e859['cmd']};case E[_0x582f03(0x300)][_0x582f03(0x389)]:return{..._0x58e859,'data':{..._0x49883e,'data':_0x49883e[_0x582f03(0x156)]},'cmd':_0x58e859[_0x582f03(0x1db)]};case E[_0x582f03(0x300)][_0x582f03(0x14d)]:return{..._0x58e859,'data':{..._0x49883e,'data':_0x49883e['shouldCloseConn']},'cmd':_0x58e859[_0x582f03(0x1db)]};case E[_0x582f03(0x300)][_0x582f03(0x3c4)]:return{..._0x58e859,'data':{..._0x49883e,'data':_0x49883e['uniscriptRunEvent']},'cmd':_0x58e859['cmd']};default:return _0x58e859;}}default:return _0x58e859;}}function mt(_0x5f25a3){var _0x2273d2=_0x310439;switch(_0x5f25a3[_0x2273d2(0x1db)]){case W[_0x2273d2(0x141)]:case W[_0x2273d2(0x393)]:return JSON[_0x2273d2(0x14e)]({'cmd':_0x5f25a3[_0x2273d2(0x1db)],'routeKey':_0x5f25a3['routeKey']});case W['INGEST']:{let _0x49ee37;switch(_0x5f25a3[_0x2273d2(0x442)][_0x2273d2(0x21e)]){case E['CollaborationEvent']['UPDATE_CURSOR']:{_0x49ee37={'eventID':E[_0x2273d2(0x300)][_0x2273d2(0x132)],'updateCursorEvent':_0x5f25a3[_0x2273d2(0x442)]['data']};break;}case E['CollaborationEvent'][_0x2273d2(0x151)]:{_0x49ee37={'eventID':E[_0x2273d2(0x300)][_0x2273d2(0x151)],'leaveEvent':_0x5f25a3[_0x2273d2(0x442)][_0x2273d2(0x442)]};break;}case E[_0x2273d2(0x300)][_0x2273d2(0x212)]:{_0x49ee37={'eventID':E[_0x2273d2(0x300)][_0x2273d2(0x212)],'joinEvent':_0x5f25a3[_0x2273d2(0x442)][_0x2273d2(0x442)]};break;}case E[_0x2273d2(0x300)]['LIVESHARE_NEW_HOST']:{_0x49ee37={'eventID':E[_0x2273d2(0x300)]['LIVESHARE_NEW_HOST'],'liveShareNewHost':_0x5f25a3[_0x2273d2(0x442)][_0x2273d2(0x442)]};break;}case E['CollaborationEvent'][_0x2273d2(0x41e)]:{_0x49ee37={'eventID':E[_0x2273d2(0x300)][_0x2273d2(0x41e)],'liveShareOperation':_0x5f25a3[_0x2273d2(0x442)]['data']};break;}case E[_0x2273d2(0x300)]['LIVESHARE_TERMINATE']:{_0x49ee37={'eventID':E[_0x2273d2(0x300)]['LIVESHARE_TERMINATE'],'liveShareTerminate':_0x5f25a3['data']['data']};break;}case E[_0x2273d2(0x300)]['LIVESHARE_REQUEST_HOST']:{_0x49ee37={'eventID':E[_0x2273d2(0x300)]['LIVESHARE_REQUEST_HOST'],'liveShareRequestHost':_0x5f25a3['data'][_0x2273d2(0x442)]};break;}case E[_0x2273d2(0x300)][_0x2273d2(0x1b3)]:{_0x49ee37={'eventID':E['CollaborationEvent'][_0x2273d2(0x1b3)]};break;}default:_0x49ee37={'eventID':_0x5f25a3[_0x2273d2(0x442)]['eventID']};}return JSON['stringify']({'cmd':_0x5f25a3['cmd'],'routeKey':_0x5f25a3[_0x2273d2(0x30c)],'collaMsg':_0x49ee37});}case W[_0x2273d2(0x37e)]:return JSON['stringify']({'cmd':_0x5f25a3[_0x2273d2(0x1db)],'routeKey':_0x5f25a3[_0x2273d2(0x30c)],'joinReq':_0x5f25a3['data']});case W[_0x2273d2(0x36b)]:return JSON[_0x2273d2(0x14e)]({'cmd':_0x5f25a3[_0x2273d2(0x1db)],'routeKey':_0x5f25a3['routeKey'],'leaveReq':_0x5f25a3[_0x2273d2(0x442)]});default:throw new Error(_0x2273d2(0x35c));}}var si=Object['getOwnPropertyDescriptor'],ri=(_0x4c22bc,_0x59318b,_0x4266f9,_0x5ea2c9)=>{var _0x355712=_0x310439;for(var _0x5224c1=_0x5ea2c9>0x1?void 0x0:_0x5ea2c9?si(_0x59318b,_0x4266f9):_0x59318b,_0x5c60af=_0x4c22bc[_0x355712(0x206)]-0x1,_0x2ded8d;_0x5c60af>=0x0;_0x5c60af--)(_0x2ded8d=_0x4c22bc[_0x5c60af])&&(_0x5224c1=_0x2ded8d(_0x5224c1)||_0x5224c1);return _0x5224c1;},_e=(_0x2dbdb2,_0x206de7)=>(_0x14577f,_0x27c629)=>_0x206de7(_0x14577f,_0x27c629,_0x2dbdb2);const Fe=o[_0x310439(0x3c9)](_0x310439(0x394));function ai(_0x188a2b,_0x4253ad,_0x5299bd){var _0x24fdc1=_0x310439;return _0x188a2b+'/'+_0x4253ad+_0x24fdc1(0x2e5)+_0x5299bd+_0x24fdc1(0x3e9);}exports[_0x310439(0x392)]=class extends o[_0x310439(0x245)]{constructor(_0x34db1b,_0x17139d,_0x711ae9,_0x5ee8cf,_0x560d0a){var _0x563a87=_0x310439;super(),this['_injector']=_0x34db1b,this['_httpService']=_0x17139d,this[_0x563a87(0x447)]=_0x711ae9,this[_0x563a87(0x1b9)]=_0x5ee8cf,this['_snapshotServerService']=_0x560d0a;}['_doCreateSocket'](_0x1a062c){var _0x1cbeb3=_0x310439;const _0x45b36c=this[_0x1cbeb3(0x32c)]['get'](K[_0x1cbeb3(0x465)]);if(!_0x45b36c)throw new Error(_0x1cbeb3(0x15c));const _0x258604=_0x45b36c[_0x1cbeb3(0x311)](_0x1a062c);if(!_0x258604)throw new Error(_0x1cbeb3(0x171));const _0x24e6a4=new o[(_0x1cbeb3(0x1ba))](),_0x431e66=new j[(_0x1cbeb3(0x214))]();_0x24e6a4['add'](_0x258604['close$']['subscribe'](_0x1fa964=>_0x431e66[_0x1cbeb3(0x30e)](_0x1fa964))),_0x24e6a4['add'](o[_0x1cbeb3(0x15d)](()=>_0x431e66['complete']()));const _0x2dd75f=new j['Subject']();_0x24e6a4[_0x1cbeb3(0x2b1)](_0x258604[_0x1cbeb3(0x361)][_0x1cbeb3(0x301)](_0x176e64=>_0x2dd75f[_0x1cbeb3(0x30e)](_0x176e64))),_0x24e6a4['add'](o[_0x1cbeb3(0x15d)](()=>_0x2dd75f[_0x1cbeb3(0x4a6)]()));const _0xd8e44f=new j['Subject']();_0x24e6a4[_0x1cbeb3(0x2b1)](_0x258604[_0x1cbeb3(0x21a)][_0x1cbeb3(0x301)](_0x471107=>{var _0xc193c0=_0x1cbeb3;const _0x4395ee=pt(_0x471107);_0xd8e44f[_0xc193c0(0x30e)](_0x4395ee);})),_0x24e6a4[_0x1cbeb3(0x2b1)](o[_0x1cbeb3(0x15d)](()=>_0xd8e44f['complete']()));let _0x39553b;const _0x377d82=()=>{var _0x2e886f=_0x1cbeb3;_0x2dd75f[_0x2e886f(0x30e)](new Event('connection\x20error')),_0x431e66['next'](new Event(_0x2e886f(0x2bd))),_0x39553b[_0x2e886f(0x355)]();};return _0x39553b={'memberID':'','close$':_0x431e66['asObservable'](),'error$':_0x2dd75f['asObservable'](),'open$':_0x258604['open$'],'message$':_0xd8e44f[_0x1cbeb3(0x1a4)](),'send':_0x5ad4b7=>{var _0x2685a7=_0x1cbeb3;if(_0x5ad4b7['cmd']===W[_0x2685a7(0x49b)]){if(_0x5ad4b7[_0x2685a7(0x442)][_0x2685a7(0x21e)]===E['CollaborationEvent'][_0x2685a7(0x1b8)]){this[_0x2685a7(0x2f3)](_0x39553b,_0x5ad4b7[_0x2685a7(0x442)])[_0x2685a7(0x2cf)](_0x5ba9a8=>{var _0x763672=_0x2685a7;this[_0x763672(0x1b9)][_0x763672(0x3e0)](_0x5ba9a8),_0x377d82();});return;}if(_0x5ad4b7[_0x2685a7(0x442)][_0x2685a7(0x21e)]===E[_0x2685a7(0x300)][_0x2685a7(0x26b)]){const _0xaee0a5=_0x5ad4b7['data'];this[_0x2685a7(0x49e)](_0xaee0a5)['then'](_0x4a5e0b=>{var _0x57b741=_0x2685a7;_0xd8e44f[_0x57b741(0x30e)]({'cmd':W['RECV'],'code':re['OK'],'routeKey':_0xaee0a5[_0x57b741(0x442)]['unitID'],'routeType':'','data':{'eventID':E[_0x57b741(0x300)]['PSEUDO_FETCH_MISSING_RESULT'],'data':{'changesets':_0x4a5e0b}}});})[_0x2685a7(0x2cf)](_0x4ac77a=>{var _0x67f850=_0x2685a7;this[_0x67f850(0x1b9)][_0x67f850(0x3e0)](_0x4ac77a),_0x377d82();});return;}}_0x258604['send'](mt(_0x5ad4b7));},'close':()=>{var _0x544994=_0x1cbeb3;_0x258604[_0x544994(0x355)](),_0x24e6a4[_0x544994(0x1de)]();}},_0x39553b;}async[_0x310439(0x2f3)](_0x46a06f,_0x5360db){var _0x104d5f=_0x310439,_0x2be626;const {unitType:_0x242bf2,unitID:_0x11170c,changeset:_0x59cad5}=_0x5360db['data'],_0x2fedc5={'unitID':_0x11170c,'memberID':_0x46a06f[_0x104d5f(0x27e)],'type':_0x242bf2,'changeset':E[_0x104d5f(0x19d)](_0x59cad5)},_0x1f2e46=this['_configService'][_0x104d5f(0x1e3)](Y),_0x4db519=ai((_0x2be626=_0x1f2e46==null?void 0x0:_0x1f2e46[_0x104d5f(0x437)])!=null?_0x2be626:kt,_0x242bf2,_0x11170c);try{await this[_0x104d5f(0x29c)][_0x104d5f(0x3e5)](_0x4db519,{'body':_0x2fedc5});}catch(_0x2466a1){throw this[_0x104d5f(0x1b9)][_0x104d5f(0x3e0)](_0x104d5f(0x429),_0x104d5f(0x3ec)),_0x2466a1;}}async[_0x310439(0x49e)](_0x218821){var _0x2013b9=_0x310439;const {unitID:_0x133df8,from:_0x22fe0e,to:_0x29af0d,unitType:_0x12df54}=_0x218821[_0x2013b9(0x442)];return(await this['_snapshotServerService'][_0x2013b9(0x422)]({'metadata':void 0x0},{'unitID':_0x133df8,'type':_0x12df54,'from':_0x22fe0e,'to':_0x29af0d}))[_0x2013b9(0x485)][_0x2013b9(0x25b)](_0x41ad2a=>((_0x41ad2a[_0x2013b9(0x339)]===null||_0x41ad2a['mutations']===void 0x0)&&(_0x41ad2a[_0x2013b9(0x339)]=[]),_0x41ad2a));}},exports[_0x310439(0x392)]=ri([_e(0x0,o[_0x310439(0x283)](o[_0x310439(0x36f)])),_e(0x1,o['Inject'](K[_0x310439(0x303)])),_e(0x2,o[_0x310439(0x23a)]),_e(0x3,o[_0x310439(0x414)]),_e(0x4,E[_0x310439(0x47c)])],exports[_0x310439(0x392)]);var oi=Object['getOwnPropertyDescriptor'],ci=(_0x427178,_0x5b2ea4,_0x293903,_0x1600cd)=>{var _0x4d41d6=_0x310439;for(var _0x3e54e5=_0x1600cd>0x1?void 0x0:_0x1600cd?oi(_0x5b2ea4,_0x293903):_0x5b2ea4,_0x2b7339=_0x427178[_0x4d41d6(0x206)]-0x1,_0x5ab561;_0x2b7339>=0x0;_0x2b7339--)(_0x5ab561=_0x427178[_0x2b7339])&&(_0x3e54e5=_0x5ab561(_0x3e54e5)||_0x3e54e5);return _0x3e54e5;},he=(_0x58dcb3,_0x2223b4)=>(_0x58cd31,_0x553b9e)=>_0x2223b4(_0x58cd31,_0x553b9e,_0x58dcb3);exports[_0x310439(0x496)]=class extends o[_0x310439(0x245)]{constructor(_0x39a5f9,_0xb70052,_0x19e116,_0x49d0af,_0x275092,_0x37bbf5){var _0x35518b=_0x310439;super(),A(this,_0x35518b(0x238),new j['BehaviorSubject'](void 0x0)),A(this,'socket$',this[_0x35518b(0x238)][_0x35518b(0x1a4)]()),A(this,_0x35518b(0x3b6),null),A(this,_0x35518b(0x46b),new Map()),A(this,'_status$',new j[(_0x35518b(0x257))](se['IDLE'])),A(this,_0x35518b(0x1f2),this[_0x35518b(0x3d2)][_0x35518b(0x1a4)]()),A(this,_0x35518b(0x344),!0x1),A(this,_0x35518b(0x2c9)),A(this,_0x35518b(0x2c7),0x0),A(this,_0x35518b(0x45d)),A(this,'_timeoutTimer'),(this[_0x35518b(0x32c)]=_0x39a5f9,this[_0x35518b(0x1b9)]=_0xb70052,this[_0x35518b(0x447)]=_0x19e116,this[_0x35518b(0x2de)]=_0x49d0af,this[_0x35518b(0x410)]=_0x275092,this[_0x35518b(0x182)]=_0x37bbf5,this[_0x35518b(0x304)]());}get[_0x310439(0x31b)](){var _0x513015=_0x310439;return this[_0x513015(0x238)]['getValue']();}[_0x310439(0x304)](){var _0x8c2226=_0x310439;this[_0x8c2226(0x182)]&&this[_0x8c2226(0x2ea)](this[_0x8c2226(0x182)][_0x8c2226(0x49c)][_0x8c2226(0x301)](_0x52f07f=>{var _0x10d1e9=_0x8c2226;_0x52f07f&&!this[_0x10d1e9(0x31b)]&&this[_0x10d1e9(0x169)](),_0x52f07f||this['_onOffline']();}));}[_0x310439(0x1de)](){var _0x14aef1=_0x310439;super['dispose'](),this[_0x14aef1(0x40f)](),this[_0x14aef1(0x306)](),this[_0x14aef1(0x176)](),this[_0x14aef1(0x46b)]['forEach'](_0x2153c8=>_0x2153c8[_0x14aef1(0x1de)]()),this['_sessions'][_0x14aef1(0x142)](),this[_0x14aef1(0x3d2)]['complete']();}async['requireSession'](_0x1c7354){var _0x13d342=_0x310439;if(this[_0x13d342(0x46b)][_0x13d342(0x1f7)](_0x1c7354))return this[_0x13d342(0x46b)][_0x13d342(0x255)](_0x1c7354);this[_0x13d342(0x397)]();const _0x8766ad=this[_0x13d342(0x32c)][_0x13d342(0x1b0)](exports[_0x13d342(0x380)],_0x1c7354,this[_0x13d342(0x238)][_0x13d342(0x1a4)]());return this[_0x13d342(0x46b)][_0x13d342(0x195)](_0x1c7354,_0x8766ad),_0x8766ad;}[_0x310439(0x2d0)](_0x24b5ad){var _0x121f3f=_0x310439,_0x2047df;const _0x50e8ef=this[_0x121f3f(0x46b)][_0x121f3f(0x255)](_0x24b5ad);_0x50e8ef&&(this[_0x121f3f(0x46b)][_0x121f3f(0x299)](_0x24b5ad),_0x50e8ef[_0x121f3f(0x355)]()),this[_0x121f3f(0x46b)][_0x121f3f(0x466)]||(_0x2047df=this['_socket'])==null||_0x2047df[_0x121f3f(0x355)]();}[_0x310439(0x169)](){var _0x4ba504=_0x310439;this[_0x4ba504(0x2c7)]=0x0,this['_clearRetryConnectingTimer'](),this[_0x4ba504(0x136)]();}[_0x310439(0x40f)](){var _0x25d0fe=_0x310439;this['_retryConnectingTimer']!=null&&(clearTimeout(this['_retryConnectingTimer']),this[_0x25d0fe(0x2c9)]=null);}async[_0x310439(0x40a)](){var _0x3721b0=_0x310439,_0x8589ab;const _0x34afe0=this[_0x3721b0(0x447)][_0x3721b0(0x1e3)](Y),_0x53373a=(_0x8589ab=_0x34afe0==null?void 0x0:_0x34afe0[_0x3721b0(0x31e)])!=null?_0x8589ab:ht,_0x31c1c3=await this[_0x3721b0(0x2de)][_0x3721b0(0x311)](_0x53373a);return this['_candidateSocket']=_0x31c1c3,_0x31c1c3;}async[_0x310439(0x397)](){var _0x4de42d=_0x310439,_0x15c157,_0x594ba8;try{const _0x3f2bb9=(_0x594ba8=(_0x15c157=this[_0x4de42d(0x31b)])!=null?_0x15c157:this[_0x4de42d(0x3b6)])!=null?_0x594ba8:await this['_createSocket']();if(_0x3f2bb9){const _0x501f68=_0x3f2bb9[_0x4de42d(0x416)];_0x3f2bb9[_0x4de42d(0x416)]=_0x154bec=>(this[_0x4de42d(0x2fc)](),_0x501f68[_0x4de42d(0x28f)](_0x3f2bb9,[_0x154bec])),_0x3f2bb9[_0x4de42d(0x21a)][_0x4de42d(0x301)](_0x157c7c=>this[_0x4de42d(0x200)](_0x3f2bb9,_0x157c7c)),_0x3f2bb9['error$']['pipe'](V['take'](0x1))[_0x4de42d(0x301)](_0x3c0700=>this[_0x4de42d(0x1b9)][_0x4de42d(0x3e0)](_0x4de42d(0x160),_0x3c0700)),_0x3f2bb9[_0x4de42d(0x24b)][_0x4de42d(0x2da)](V[_0x4de42d(0x256)](0x1))['subscribe'](()=>{this['_onConnectionOpen'](_0x3f2bb9);}),_0x3f2bb9['close$'][_0x4de42d(0x2da)](V[_0x4de42d(0x256)](0x1))[_0x4de42d(0x301)](_0x12b824=>{var _0x469fc5=_0x4de42d;this['_logService'][_0x469fc5(0x3bb)](_0x469fc5(0x38a),_0x469fc5(0x1c1),_0x12b824),this[_0x469fc5(0x19a)]();});}}catch(_0x3cc92a){this['_logService'][_0x4de42d(0x3e0)](_0x3cc92a),this['_onConnectionFailed']();}}[_0x310439(0x2ab)](_0x5e44a1){var _0x540e56=_0x310439;this[_0x540e56(0x1b9)][_0x540e56(0x3bb)](_0x540e56(0x38a),'socket\x20open.'),_0x5e44a1[_0x540e56(0x416)]({'cmd':W['HELLO']}),this[_0x540e56(0x2fc)]();}[_0x310439(0x430)](){var _0x4f85fd=_0x310439;this['_socketReady']=!0x1,this[_0x4f85fd(0x3b6)]=null,this[_0x4f85fd(0x3d2)][_0x4f85fd(0x30e)](se[_0x4f85fd(0x3bf)]),this[_0x4f85fd(0x238)]['next'](null),this[_0x4f85fd(0x306)](),this[_0x4f85fd(0x176)]();}['_onConnectionFailed'](){var _0x4da0db=_0x310439,_0x3d1c13;this[_0x4da0db(0x430)](),this[_0x4da0db(0x2c7)]<((_0x3d1c13=this['_configService'][_0x4da0db(0x1e3)](ut))!=null?_0x3d1c13:Mt)?(this[_0x4da0db(0x410)][_0x4da0db(0x174)]({'id':Z[_0x4da0db(0x3f6)]}),this[_0x4da0db(0x136)]()):this[_0x4da0db(0x410)][_0x4da0db(0x174)]({'id':Z[_0x4da0db(0x36e)]});}[_0x310439(0x136)](){var _0x29e116=_0x310439,_0x381f9d;const _0x580579=this[_0x29e116(0x2c7)],_0x3ba5ea=this['_configService']['getConfig'](Y),_0xeb6a90=_0x580579===0x0?0x0:((_0x381f9d=_0x3ba5ea==null?void 0x0:_0x3ba5ea[_0x29e116(0x3fb)])!=null?_0x381f9d:Lt)*0x2**_0x580579;this[_0x29e116(0x2c9)]=setTimeout(()=>{clearTimeout(this['_retryConnectingTimer']),this['_retryConnectingTimer']=null,this['_tryEnsureSocket']();},_0xeb6a90),this[_0x29e116(0x2c7)]+=0x1;}[_0x310439(0x200)](_0x1c1942,_0x554f0a){var _0x8694c0=_0x310439;const {cmd:_0xe5afda}=_0x554f0a;_0xe5afda===W[_0x8694c0(0x393)]&&!this[_0x8694c0(0x344)]&&(_0x1c1942[_0x8694c0(0x27e)]=_0x554f0a['data'][_0x8694c0(0x27e)],this[_0x8694c0(0x238)][_0x8694c0(0x30e)](_0x1c1942),this[_0x8694c0(0x3d2)][_0x8694c0(0x30e)](se[_0x8694c0(0x3ab)]),this[_0x8694c0(0x344)]=!0x0,this[_0x8694c0(0x3b6)]=null),_0xe5afda===W[_0x8694c0(0x141)]&&this[_0x8694c0(0x306)](),this[_0x8694c0(0x2fc)]();}['_rescheduleHeartbeat'](){var _0x4534b4=_0x310439,_0x147f30;this[_0x4534b4(0x176)](),this[_0x4534b4(0x45d)]=setTimeout(()=>this[_0x4534b4(0x473)](),(_0x147f30=this[_0x4534b4(0x447)][_0x4534b4(0x1e3)](_t))!=null?_0x147f30:Pt);}['_sendHeartbeat'](){var _0x1186fb=_0x310439;this[_0x1186fb(0x31b)][_0x1186fb(0x416)]({'cmd':W['HEARTBEAT']}),this[_0x1186fb(0x210)]();}[_0x310439(0x210)](){var _0x4965a4=_0x310439,_0x53e159;this[_0x4965a4(0x216)]=setTimeout(()=>this[_0x4965a4(0x19a)](),(_0x53e159=this[_0x4965a4(0x447)][_0x4965a4(0x1e3)](ke))!=null?_0x53e159:lt);}[_0x310439(0x176)](){var _0x7fe5c1=_0x310439;this[_0x7fe5c1(0x45d)]!=null&&(clearTimeout(this['_sendHeartbeatTimer']),this[_0x7fe5c1(0x45d)]=null);}[_0x310439(0x306)](){var _0x31a2c6=_0x310439;this[_0x31a2c6(0x216)]!=null&&(clearTimeout(this[_0x31a2c6(0x216)]),this[_0x31a2c6(0x216)]=null);}},exports[_0x310439(0x496)]=ci([he(0x0,o[_0x310439(0x283)](o[_0x310439(0x36f)])),he(0x1,o[_0x310439(0x414)]),he(0x2,o[_0x310439(0x23a)]),he(0x3,Fe),he(0x4,o[_0x310439(0x283)](ee)),he(0x5,o[_0x310439(0x319)](Et))],exports['CollaborationSessionService']);var hi=Object[_0x310439(0x18a)],_i=(_0x1d95a6,_0x317437,_0x23c8f7,_0x39b97c)=>{var _0x36fbaa=_0x310439;for(var _0x3f4bba=_0x39b97c>0x1?void 0x0:_0x39b97c?hi(_0x317437,_0x23c8f7):_0x317437,_0x4868b3=_0x1d95a6[_0x36fbaa(0x206)]-0x1,_0x34df9c;_0x4868b3>=0x0;_0x4868b3--)(_0x34df9c=_0x1d95a6[_0x4868b3])&&(_0x3f4bba=_0x34df9c(_0x3f4bba)||_0x3f4bba);return _0x3f4bba;},Se=(_0x51b654,_0x442076)=>(_0xf17ffc,_0x570140)=>_0x442076(_0xf17ffc,_0x570140,_0x51b654);exports[_0x310439(0x177)]=class extends o[_0x310439(0x322)]{constructor(_0x3076f1,_0x1ed63e,_0x202aa2,_0x386c1f){var _0x398f37=_0x310439,_0x4bcf40;super(),A(this,_0x398f37(0x451),new Map()),A(this,_0x398f37(0x1a9),new j[(_0x398f37(0x214))]()),A(this,'entityInit$',this[_0x398f37(0x1a9)][_0x398f37(0x1a4)]()),(this['_injector']=_0x3076f1,this[_0x398f37(0x373)]=_0x1ed63e,this[_0x398f37(0x447)]=_0x202aa2,this[_0x398f37(0x3b0)]=_0x386c1f,((_0x4bcf40=this['_configService']['getConfig'](Y))==null?void 0x0:_0x4bcf40[_0x398f37(0x34d)])!==!0x1&&this[_0x398f37(0x21b)]());}[_0x310439(0x1de)](){var _0x184ea7=_0x310439;super[_0x184ea7(0x1de)](),this['_entities'][_0x184ea7(0x477)](_0x1a501e=>_0x1a501e[_0x184ea7(0x1de)]()),this[_0x184ea7(0x451)][_0x184ea7(0x142)]();}['getCollabEntity'](_0x2b4d3e){var _0x2d5b21=_0x310439,_0x27a236;return(_0x27a236=this['_entities'][_0x2d5b21(0x255)](_0x2b4d3e))!=null?_0x27a236:null;}[_0x310439(0x253)](_0x1b322c){var _0x3c1519=_0x310439;const _0x23e18b=this['getCollabEntity'](_0x1b322c);return _0x23e18b?j['of'](_0x23e18b):this[_0x3c1519(0x1a9)][_0x3c1519(0x2da)](V[_0x3c1519(0x24f)](_0xe7ae78=>_0xe7ae78[_0x3c1519(0x47a)]===_0x1b322c));}['readyForCollab'](_0x223ee2){var _0x5125c7=_0x310439;return j[_0x5125c7(0x408)](this['getCollabEntity$'](_0x223ee2)[_0x5125c7(0x2da)](V['map'](()=>{})));}['_init'](){var _0x3fc306=_0x310439;this[_0x3fc306(0x3b0)][_0x3fc306(0x47b)](o['UniverInstanceType'][_0x3fc306(0x47d)])[_0x3fc306(0x2da)](j[_0x3fc306(0x45a)](this[_0x3fc306(0x40d)]),V['delay'](0x10))[_0x3fc306(0x301)](async _0x549428=>{var _0x5817c4=_0x3fc306;const _0x450e00=_0x549428[_0x5817c4(0x2ed)](),_0x7df772=await this[_0x5817c4(0x166)](_0x450e00,X[_0x5817c4(0x47d)]);this[_0x5817c4(0x451)]['set'](_0x450e00,_0x7df772);}),this[_0x3fc306(0x3b0)]['getTypeOfUnitAdded$'](o['UniverInstanceType']['UNIVER_DOC'])[_0x3fc306(0x2da)](j[_0x3fc306(0x45a)](this[_0x3fc306(0x40d)]),V[_0x3fc306(0x201)](0x10))[_0x3fc306(0x2da)](V['filter'](_0x44b2e9=>!_0x44b2e9[_0x3fc306(0x2ed)]()[_0x3fc306(0x33f)]('__')))[_0x3fc306(0x301)](async _0x2ae6f1=>{var _0x462cb8=_0x3fc306;const _0x213f77=_0x2ae6f1[_0x462cb8(0x2ed)](),_0x362a76=await this[_0x462cb8(0x166)](_0x213f77,X[_0x462cb8(0x33e)]);this[_0x462cb8(0x451)][_0x462cb8(0x195)](_0x213f77,_0x362a76);}),j[_0x3fc306(0x3f4)](this[_0x3fc306(0x3b0)][_0x3fc306(0x1fb)](o[_0x3fc306(0x2fb)]['UNIVER_SHEET']),this[_0x3fc306(0x3b0)][_0x3fc306(0x1fb)](o[_0x3fc306(0x2fb)][_0x3fc306(0x33e)]))[_0x3fc306(0x2da)](j[_0x3fc306(0x45a)](this['dispose$']))[_0x3fc306(0x301)](_0x24cba9=>{var _0x36f219=_0x3fc306;const _0x33a1ad=_0x24cba9[_0x36f219(0x2ed)](),_0x23aa04=this[_0x36f219(0x451)][_0x36f219(0x255)](_0x33a1ad);_0x23aa04&&(_0x23aa04['dispose'](),this[_0x36f219(0x451)][_0x36f219(0x299)](_0x33a1ad));});}async[_0x310439(0x166)](_0x2238fd,_0x3975b0){var _0x4e3756=_0x310439;const _0x56bd5c=await this[_0x4e3756(0x373)][_0x4e3756(0x178)](_0x2238fd),_0x573ee4=this[_0x4e3756(0x32c)][_0x4e3756(0x1b0)](this[_0x4e3756(0x204)](_0x3975b0),_0x2238fd,_0x3975b0,_0x56bd5c);return await _0x573ee4[_0x4e3756(0x2c1)](),this[_0x4e3756(0x1a9)][_0x4e3756(0x30e)](_0x573ee4),_0x573ee4;}['_getCtorByUniverType'](_0x50d375){var _0x3e4f3a=_0x310439;switch(_0x50d375){case X[_0x3e4f3a(0x33e)]:return exports[_0x3e4f3a(0x3fc)];case X[_0x3e4f3a(0x47d)]:return exports[_0x3e4f3a(0x34e)];default:throw new Error(_0x3e4f3a(0x1a1)+_0x50d375);}}},exports['CollaborationController']=_i([Se(0x0,o[_0x310439(0x283)](o[_0x310439(0x36f)])),Se(0x1,o[_0x310439(0x283)](exports[_0x310439(0x496)])),Se(0x2,o[_0x310439(0x23a)]),Se(0x3,o[_0x310439(0x17e)])],exports[_0x310439(0x177)]);var li=Object[_0x310439(0x18a)],ui=(_0x3df2a0,_0xb516d4,_0x5db9c7,_0x12fc49)=>{var _0x550556=_0x310439;for(var _0x17c908=_0x12fc49>0x1?void 0x0:_0x12fc49?li(_0xb516d4,_0x5db9c7):_0xb516d4,_0x524e47=_0x3df2a0[_0x550556(0x206)]-0x1,_0x5b8408;_0x524e47>=0x0;_0x524e47--)(_0x5b8408=_0x3df2a0[_0x524e47])&&(_0x17c908=_0x5b8408(_0x17c908)||_0x17c908);return _0x17c908;},Ye=(_0x45d686,_0x990e1d)=>(_0x5bb3ec,_0x4631d2)=>_0x990e1d(_0x5bb3ec,_0x4631d2,_0x45d686);const vi=_0x310439(0x227),di='Univer';let xe=class extends o[_0x310439(0x245)]{constructor(_0x166619,_0x33d72d){var _0x4fcea9=_0x310439;super(),this[_0x4fcea9(0x3b0)]=_0x166619,this[_0x4fcea9(0x447)]=_0x33d72d,this[_0x4fcea9(0x21b)]();}[_0x310439(0x21b)](){var _0x35f34e=_0x310439;this[_0x35f34e(0x2ea)](this[_0x35f34e(0x3b0)][_0x35f34e(0x1fd)][_0x35f34e(0x301)](()=>{var _0x41cc0d=_0x35f34e,_0x3394f2;const _0x3ecef9=this['_univerInstanceService']['getFocusedUnit']();let _0x528b0a=(_0x3394f2=this['_configService'][_0x41cc0d(0x1e3)](vi))!=null?_0x3394f2:di;_0x3ecef9 instanceof o[_0x41cc0d(0x411)]&&(_0x528b0a=_0x3ecef9[_0x41cc0d(0x368)]),document['title']=_0x528b0a;}));}};xe=ui([Ye(0x0,o[_0x310439(0x17e)]),Ye(0x1,o[_0x310439(0x23a)])],xe);var Si=Object[_0x310439(0x18a)],Ii=(_0x398b7d,_0x5e118c,_0x5447d0,_0x58c91f)=>{var _0x2bcfc5=_0x310439;for(var _0x211a66=_0x58c91f>0x1?void 0x0:_0x58c91f?Si(_0x5e118c,_0x5447d0):_0x5e118c,_0x3369fd=_0x398b7d[_0x2bcfc5(0x206)]-0x1,_0x981700;_0x3369fd>=0x0;_0x3369fd--)(_0x981700=_0x398b7d[_0x3369fd])&&(_0x211a66=_0x981700(_0x211a66)||_0x211a66);return _0x211a66;},Ae=(_0x3f6d21,_0x4155db)=>(_0x86759,_0x3d4256)=>_0x4155db(_0x86759,_0x3d4256,_0x3f6d21);let Ne=class{constructor(_0x124719,_0x900793,_0x4874cd){var _0x100ef8=_0x310439;this[_0x100ef8(0x447)]=_0x124719,this[_0x100ef8(0x29c)]=_0x900793,this['localeService']=_0x4874cd,this[_0x100ef8(0x2c1)]();}[_0x310439(0x2c1)](){var _0x4765b0=_0x310439;this[_0x4765b0(0x29c)][_0x4765b0(0x3ba)]({'priority':0x1,'interceptor':(_0x431c5a,_0x26687f)=>_0x26687f(_0x431c5a)[_0x4765b0(0x2da)](j[_0x4765b0(0x18d)](async _0x50085f=>{var _0x103846=_0x4765b0;const _0x2bbed3=_0x50085f;if(_0x2bbed3[_0x103846(0x45e)]===0x191){if(typeof window>'u')throw new Error('[AuthServerService]:\x20you\x20should\x20provide\x20authentication\x20info\x20on\x20Node.js.');if(window[_0x103846(0x360)](this['localeService']['t'](_0x103846(0x3f9)))){const _0x506ebf=window[_0x103846(0x30d)](window[_0x103846(0x192)][_0x103846(0x1d6)]);window[_0x103846(0x192)][_0x103846(0x1d6)]=this[_0x103846(0x3de)]()+_0x103846(0x1a0)+_0x506ebf;}}return _0x2bbed3;}))});}[_0x310439(0x3de)](){var _0x2bfcdb=_0x310439,_0x3f616b;const _0x593b53=this[_0x2bfcdb(0x447)][_0x2bfcdb(0x1e3)](Y);return(_0x3f616b=_0x593b53==null?void 0x0:_0x593b53[_0x2bfcdb(0x133)])!=null?_0x3f616b:Ht;}};Ne=Ii([Ae(0x0,o[_0x310439(0x23a)]),Ae(0x1,o[_0x310439(0x283)](K[_0x310439(0x303)])),Ae(0x2,o[_0x310439(0x283)](o['LocaleService']))],Ne);var fi=Object['getOwnPropertyDescriptor'],Ei=(_0xe6cf33,_0x24c403,_0x5b7ba2,_0x3279cc)=>{var _0x19c860=_0x310439;for(var _0x4984b1=_0x3279cc>0x1?void 0x0:_0x3279cc?fi(_0x24c403,_0x5b7ba2):_0x24c403,_0x5afd39=_0xe6cf33[_0x19c860(0x206)]-0x1,_0x1826d3;_0x5afd39>=0x0;_0x5afd39--)(_0x1826d3=_0xe6cf33[_0x5afd39])&&(_0x4984b1=_0x1826d3(_0x4984b1)||_0x4984b1);return _0x4984b1;},Ke=(_0x237035,_0x2cc8fe)=>(_0xa9b191,_0x2dbc04)=>_0x2cc8fe(_0xa9b191,_0x2dbc04,_0x237035);const pi=_0x310439(0x265);exports['AuthzIoHttpService']=class extends o['Disposable']{constructor(_0x5dda38,_0x42a78f){var _0x3302db=_0x310439;super(),this[_0x3302db(0x187)]=_0x5dda38,this['_configService']=_0x42a78f,this[_0x3302db(0x215)]();}[_0x310439(0x215)](){var _0x13e984=_0x310439;const _0x5b9e08=this;this[_0x13e984(0x2ea)](this[_0x13e984(0x187)]['registerHTTPInterceptor']({'priority':0x3e7,'interceptor':K[_0x13e984(0x157)]({'isMatch'(_0x502d58){var _0x35592b=_0x13e984,_0x46c4e1;if(_0x502d58[_0x35592b(0x3a6)]===_0x35592b(0x2f5)&&((_0x46c4e1=_0x502d58[_0x35592b(0x284)])!=null&&_0x46c4e1[_0x35592b(0x1ce)])){const {objectID:_0x4a47af,objectType:_0x192611}=_0x502d58['requestParams'][_0x35592b(0x1ce)]||{};if(!_0x4a47af||_0x192611===void 0x0)return!0x1;const _0x2aee5f=_0x5b9e08['_getAPIPrefixPath']()+'/'+_0x192611+_0x35592b(0x44a)+_0x4a47af+_0x35592b(0x16b);if(_0x502d58[_0x35592b(0x493)]===_0x2aee5f)return!0x0;}return!0x1;},'getParamsFromRequest'(_0xf375c8){var _0x64ff0f=_0x13e984,_0x49d81b;return(_0x49d81b=_0xf375c8[_0x64ff0f(0x284)])==null?void 0x0:_0x49d81b[_0x64ff0f(0x1ce)];},'mergeParamsToRequest'(_0x4f7bde,_0x5c5de5){var _0x444df4=_0x13e984;const _0x34ab89=_0x5b9e08[_0x444df4(0x1ea)]()+_0x444df4(0x382),_0x9492a4=_0x4f7bde[_0x444df4(0x2f8)]((_0x3ea470,_0x49cee8)=>{var _0x14f5b4=_0x444df4;const {unitID:_0x57610b,objectID:_0xeb9447,objectType:_0x48eac5,actions:_0x17e01c}=_0x49cee8;return _0x3ea470[_0x57610b]||(_0x3ea470[_0x57610b]={}),_0x3ea470[_0x57610b][_0xeb9447]||(_0x3ea470[_0x57610b][_0xeb9447]={'objectID':_0xeb9447,'objectType':_0x48eac5,'actions':[]}),_0x3ea470[_0x57610b][_0xeb9447][_0x14f5b4(0x460)][_0x14f5b4(0x46c)](..._0x17e01c),_0x3ea470;},{}),_0x19ac45=[];for(const _0x37e730 in _0x9492a4)for(const _0x2835a2 in _0x9492a4[_0x37e730]){const {actions:_0x385668,objectType:_0x55b0ee}=_0x9492a4[_0x37e730][_0x2835a2],_0x50a645=[...new Set(_0x385668)];_0x19ac45[_0x444df4(0x46c)]({'unitID':_0x37e730,'objectID':_0x2835a2,'objectType':_0x55b0ee,'actions':_0x50a645});}return new K[(_0x444df4(0x41d))]('POST',_0x34ab89,{'headers':_0x5c5de5['headers'],'withCredentials':_0x5c5de5[_0x444df4(0x49f)],'responseType':_0x5c5de5[_0x444df4(0x314)],'body':{'requests':_0x19ac45}});}},{'distributeResult'(_0x47726d,_0x239e73){var _0x1879af=_0x13e984;const {objectActions:_0x174337}=_0x47726d;return _0x239e73[_0x1879af(0x25b)](_0x3781bc=>{var _0x4b9875=_0x1879af;const {unitID:_0x48e16c,objectID:_0x43c392,actions:_0x6ad1ab}=_0x3781bc,_0x42c22e=_0x174337[_0x4b9875(0x173)](_0x25ab4e=>_0x25ab4e[_0x4b9875(0x47a)]===_0x48e16c&&_0x25ab4e[_0x4b9875(0x343)]===_0x43c392),_0x3cacb1=_0x6ad1ab[_0x4b9875(0x25b)](_0x58b385=>_0x42c22e==null?void 0x0:_0x42c22e[_0x4b9875(0x460)][_0x4b9875(0x173)](_0x423ce5=>_0x423ce5['action']===_0x58b385))['filter'](_0x578c82=>!!_0x578c82);return{'config':_0x3781bc,'result':{'actions':_0x3cacb1,'error':_0x47726d['error']}};});}})}));}['_getAPIPrefixPath'](){var _0x2184ad=_0x310439,_0x2b0d56;const _0xde6eff=this[_0x2184ad(0x447)][_0x2184ad(0x1e3)](Y);return(_0x2b0d56=_0xde6eff==null?void 0x0:_0xde6eff[_0x2184ad(0x181)])!=null?_0x2b0d56:pi;}async[_0x310439(0x175)](_0x10e464){var _0x2f9835=_0x310439;const _0x3dbeb7=this['_getAPIPrefixPath']()+'/'+_0x10e464[_0x2f9835(0x1c2)]+_0x2f9835(0x3d5);return(await this['_HTTPService'][_0x2f9835(0x3e5)](_0x3dbeb7,{'body':_0x10e464}))[_0x2f9835(0x1ce)]['objectID']||'';}async[_0x310439(0x3fe)](_0x5574ca){var _0x1ac964=_0x310439;const _0x946dff=this[_0x1ac964(0x1ea)]()+_0x1ac964(0x310);return(await this[_0x1ac964(0x187)][_0x1ac964(0x3e5)](_0x946dff,{'body':_0x5574ca}))['body'][_0x1ac964(0x336)];}async['update'](_0x400dae){var _0x3a432d=_0x310439,_0x3a3323,_0x49b03c;const _0xa29054=this[_0x3a432d(0x1ea)]()+'/'+_0x400dae[_0x3a432d(0x1c2)]+_0x3a432d(0x44a)+_0x400dae[_0x3a432d(0x343)],_0x39aade=await this['_HTTPService'][_0x3a432d(0x2b2)](_0xa29054,{'body':_0x400dae});if(((_0x49b03c=(_0x3a3323=_0x39aade==null?void 0x0:_0x39aade[_0x3a432d(0x1ce)])==null?void 0x0:_0x3a3323['error'])==null?void 0x0:_0x49b03c[_0x3a432d(0x34c)])!==0x1)throw new Error(_0x3a432d(0x3dd));}async['allowed'](_0x25e7ad){var _0x3b8f16=_0x310439;const _0x15d871=this[_0x3b8f16(0x1ea)]()+'/'+_0x25e7ad['objectType']+_0x3b8f16(0x44a)+_0x25e7ad[_0x3b8f16(0x343)]+_0x3b8f16(0x16b);return(await this[_0x3b8f16(0x187)][_0x3b8f16(0x3e5)](_0x15d871,{'body':_0x25e7ad}))['body'][_0x3b8f16(0x460)];}async[_0x310439(0x295)](_0x5ea660){var _0xee7cba=_0x310439;const _0x3f317c=this[_0xee7cba(0x1ea)]()+_0xee7cba(0x382);return(await this[_0xee7cba(0x187)][_0xee7cba(0x3e5)](_0x3f317c,{'body':{'requests':_0x5ea660}}))[_0xee7cba(0x1ce)]['objectActions'];}async[_0x310439(0x404)](_0x9310de){var _0x29cecb=_0x310439;const _0x304cb7=this[_0x29cecb(0x1ea)]()+'/'+_0x9310de[_0x29cecb(0x1c2)]+_0x29cecb(0x423),_0x14607a=await this[_0x29cecb(0x187)][_0x29cecb(0x3e5)](_0x304cb7,{'body':_0x9310de});return{'roles':_0x14607a[_0x29cecb(0x1ce)][_0x29cecb(0x196)],'actions':_0x14607a[_0x29cecb(0x1ce)]['actions']};}async[_0x310439(0x383)](_0x3fa00b){var _0x447b04=_0x310439;const _0x47659a=this[_0x447b04(0x1ea)]()+_0x447b04(0x1e5);await this[_0x447b04(0x187)][_0x447b04(0x299)](_0x47659a,{'params':{'collaboratorID':_0x3fa00b[_0x447b04(0x4a0)],'objectID':_0x3fa00b[_0x447b04(0x343)],'unitID':_0x3fa00b[_0x447b04(0x47a)]}});}async[_0x310439(0x3cc)](_0x1a1fdd){var _0x1a4e8c=_0x310439;const _0xab4860=this[_0x1a4e8c(0x1ea)]()+_0x1a4e8c(0x1e5);await this[_0x1a4e8c(0x187)]['patch'](_0xab4860,{'body':_0x1a1fdd});}async[_0x310439(0x152)](_0x2a8e0d){var _0x1ce3c7=_0x310439;const _0x333497=this[_0x1ce3c7(0x1ea)]()+_0x1ce3c7(0x1e5);await this[_0x1ce3c7(0x187)][_0x1ce3c7(0x3e5)](_0x333497,{'body':_0x2a8e0d});}async['listCollaborators'](_0x42b940){var _0x24ac1f=_0x310439;const _0xfd292b=this[_0x24ac1f(0x1ea)]()+_0x24ac1f(0x1e5);return(await this[_0x24ac1f(0x187)][_0x24ac1f(0x255)](_0xfd292b,{'params':{'objectID':_0x42b940[_0x24ac1f(0x343)],'unitID':_0x42b940[_0x24ac1f(0x47a)]}}))[_0x24ac1f(0x1ce)]['collaborators'];}async[_0x310439(0x1b2)](_0x2f669a){var _0x55449b=_0x310439;const _0x128b8a=this[_0x55449b(0x1ea)]()+_0x55449b(0x1e5);await this[_0x55449b(0x187)]['put'](_0x128b8a,{'body':_0x2f669a});}},exports[_0x310439(0x194)]=Ei([Ke(0x0,o[_0x310439(0x283)](K[_0x310439(0x303)])),Ke(0x1,o[_0x310439(0x283)](o[_0x310439(0x23a)]))],exports[_0x310439(0x194)]);var Pe=typeof globalThis<'u'?globalThis:typeof window<'u'?window:typeof global<'u'?global:typeof self<'u'?self:{};function de(_0x30f410){var _0x440a8a=_0x310439;return _0x30f410&&_0x30f410[_0x440a8a(0x49d)]&&Object[_0x440a8a(0x1bd)][_0x440a8a(0x309)][_0x440a8a(0x489)](_0x30f410,_0x440a8a(0x2c0))?_0x30f410[_0x440a8a(0x2c0)]:_0x30f410;}var Ie={'exports':{}};function mi(_0x7e491d){var _0x444331=_0x310439;throw new Error(_0x444331(0x2a1)+_0x7e491d+_0x444331(0x490));}var fe={'exports':{}},gi=fe[_0x310439(0x48d)],qe;function Q(){return qe||(qe=0x1,function(_0x5664a1,_0x10a811){(function(_0x12fe51,_0xb4f77f){var _0x24238d=_0x23f8;_0x5664a1[_0x24238d(0x48d)]=_0xb4f77f();}(gi,function(){var _0x453db3=_0x453db3||function(_0x497263,_0x1eb55d){var _0x43d507=_0x23f8,_0x21cb81;if(typeof window<'u'&&window[_0x43d507(0x297)]&&(_0x21cb81=window['crypto']),typeof self<'u'&&self['crypto']&&(_0x21cb81=self[_0x43d507(0x297)]),typeof globalThis<'u'&&globalThis['crypto']&&(_0x21cb81=globalThis[_0x43d507(0x297)]),!_0x21cb81&&typeof window<'u'&&window[_0x43d507(0x28d)]&&(_0x21cb81=window[_0x43d507(0x28d)]),!_0x21cb81&&typeof Pe<'u'&&Pe[_0x43d507(0x297)]&&(_0x21cb81=Pe[_0x43d507(0x297)]),!_0x21cb81&&typeof mi==_0x43d507(0x2d5))try{_0x21cb81=require('crypto');}catch{}var _0x5e1f13=function(){var _0x31f315=_0x43d507;if(_0x21cb81){if(typeof _0x21cb81[_0x31f315(0x12f)]==_0x31f315(0x2d5))try{return _0x21cb81['getRandomValues'](new Uint32Array(0x1))[0x0];}catch{}if(typeof _0x21cb81[_0x31f315(0x2be)]==_0x31f315(0x2d5))try{return _0x21cb81[_0x31f315(0x2be)](0x4)['readInt32LE']();}catch{}}throw new Error('Native\x20crypto\x20module\x20could\x20not\x20be\x20used\x20to\x20get\x20secure\x20random\x20number.');},_0x17c094=Object[_0x43d507(0x175)]||(function(){function _0x19fd27(){}return function(_0x39c26a){var _0x4d24f1=_0x23f8,_0xc55374;return _0x19fd27['prototype']=_0x39c26a,_0xc55374=new _0x19fd27(),_0x19fd27[_0x4d24f1(0x1bd)]=null,_0xc55374;};}()),_0x128206={},_0x3aa31b=_0x128206[_0x43d507(0x402)]={},_0x86c347=_0x3aa31b[_0x43d507(0x1dc)]=(function(){return{'extend':function(_0x2bd440){var _0x6c9af=_0x23f8,_0xdef0cd=_0x17c094(this);return _0x2bd440&&_0xdef0cd[_0x6c9af(0x270)](_0x2bd440),(!_0xdef0cd['hasOwnProperty'](_0x6c9af(0x2c1))||this[_0x6c9af(0x2c1)]===_0xdef0cd['init'])&&(_0xdef0cd[_0x6c9af(0x2c1)]=function(){var _0x575483=_0x6c9af;_0xdef0cd[_0x575483(0x168)][_0x575483(0x2c1)]['apply'](this,arguments);}),_0xdef0cd[_0x6c9af(0x2c1)][_0x6c9af(0x1bd)]=_0xdef0cd,_0xdef0cd[_0x6c9af(0x168)]=this,_0xdef0cd;},'create':function(){var _0x5f0ca3=_0x23f8,_0x5ad7a8=this['extend']();return _0x5ad7a8[_0x5f0ca3(0x2c1)][_0x5f0ca3(0x28f)](_0x5ad7a8,arguments),_0x5ad7a8;},'init':function(){},'mixIn':function(_0x55f002){var _0x35c100=_0x23f8;for(var _0x24ce4e in _0x55f002)_0x55f002[_0x35c100(0x309)](_0x24ce4e)&&(this[_0x24ce4e]=_0x55f002[_0x24ce4e]);_0x55f002['hasOwnProperty'](_0x35c100(0x3f7))&&(this[_0x35c100(0x3f7)]=_0x55f002[_0x35c100(0x3f7)]);},'clone':function(){var _0x4dc1ea=_0x23f8;return this[_0x4dc1ea(0x2c1)][_0x4dc1ea(0x1bd)]['extend'](this);}};}()),_0xe86750=_0x3aa31b['WordArray']=_0x86c347[_0x43d507(0x19e)]({'init':function(_0x15c483,_0x2f83de){var _0x47b5d7=_0x43d507;_0x15c483=this['words']=_0x15c483||[],_0x2f83de!=_0x1eb55d?this['sigBytes']=_0x2f83de:this[_0x47b5d7(0x13f)]=_0x15c483[_0x47b5d7(0x206)]*0x4;},'toString':function(_0x4d34e2){var _0x258015=_0x43d507;return(_0x4d34e2||_0x3e82d8)[_0x258015(0x14e)](this);},'concat':function(_0x35a861){var _0x328d59=_0x43d507,_0xb68831=this[_0x328d59(0x2a5)],_0x296796=_0x35a861[_0x328d59(0x2a5)],_0x4e63a9=this['sigBytes'],_0x5324cf=_0x35a861['sigBytes'];if(this[_0x328d59(0x434)](),_0x4e63a9%0x4)for(var _0x584bcf=0x0;_0x584bcf<_0x5324cf;_0x584bcf++){var _0xa1c89d=_0x296796[_0x584bcf>>>0x2]>>>0x18-_0x584bcf%0x4*0x8&0xff;_0xb68831[_0x4e63a9+_0x584bcf>>>0x2]|=_0xa1c89d<<0x18-(_0x4e63a9+_0x584bcf)%0x4*0x8;}else{for(var _0x55beda=0x0;_0x55beda<_0x5324cf;_0x55beda+=0x4)_0xb68831[_0x4e63a9+_0x55beda>>>0x2]=_0x296796[_0x55beda>>>0x2];}return this[_0x328d59(0x13f)]+=_0x5324cf,this;},'clamp':function(){var _0x291648=_0x43d507,_0x29aec0=this['words'],_0x76c60d=this['sigBytes'];_0x29aec0[_0x76c60d>>>0x2]&=0xffffffff<<0x20-_0x76c60d%0x4*0x8,_0x29aec0['length']=_0x497263[_0x291648(0x36a)](_0x76c60d/0x4);},'clone':function(){var _0x48490f=_0x43d507,_0x1b7928=_0x86c347['clone'][_0x48490f(0x489)](this);return _0x1b7928[_0x48490f(0x2a5)]=this['words'][_0x48490f(0x454)](0x0),_0x1b7928;},'random':function(_0x408758){var _0x3a8dd7=_0x43d507;for(var _0x3e210a=[],_0x234d89=0x0;_0x234d89<_0x408758;_0x234d89+=0x4)_0x3e210a['push'](_0x5e1f13());return new _0xe86750[(_0x3a8dd7(0x2c1))](_0x3e210a,_0x408758);}}),_0x34a1a3=_0x128206[_0x43d507(0x279)]={},_0x3e82d8=_0x34a1a3['Hex']={'stringify':function(_0x26951b){var _0x5675bc=_0x43d507;for(var _0x4ec801=_0x26951b[_0x5675bc(0x2a5)],_0x5aa62b=_0x26951b[_0x5675bc(0x13f)],_0x4e8489=[],_0x1c2f3b=0x0;_0x1c2f3b<_0x5aa62b;_0x1c2f3b++){var _0x1f27be=_0x4ec801[_0x1c2f3b>>>0x2]>>>0x18-_0x1c2f3b%0x4*0x8&0xff;_0x4e8489[_0x5675bc(0x46c)]((_0x1f27be>>>0x4)['toString'](0x10)),_0x4e8489['push']((_0x1f27be&0xf)[_0x5675bc(0x3f7)](0x10));}return _0x4e8489['join']('');},'parse':function(_0x426db2){var _0x47e6ae=_0x43d507;for(var _0x20638f=_0x426db2[_0x47e6ae(0x206)],_0x395a3e=[],_0x5afd87=0x0;_0x5afd87<_0x20638f;_0x5afd87+=0x2)_0x395a3e[_0x5afd87>>>0x3]|=parseInt(_0x426db2[_0x47e6ae(0x444)](_0x5afd87,0x2),0x10)<<0x18-_0x5afd87%0x8*0x4;return new _0xe86750['init'](_0x395a3e,_0x20638f/0x2);}},_0x1c38b5=_0x34a1a3['Latin1']={'stringify':function(_0x29303c){var _0x5f358b=_0x43d507;for(var _0x46c21d=_0x29303c[_0x5f358b(0x2a5)],_0x394b89=_0x29303c[_0x5f358b(0x13f)],_0x3b84b7=[],_0x2fde20=0x0;_0x2fde20<_0x394b89;_0x2fde20++){var _0x567081=_0x46c21d[_0x2fde20>>>0x2]>>>0x18-_0x2fde20%0x4*0x8&0xff;_0x3b84b7['push'](String['fromCharCode'](_0x567081));}return _0x3b84b7[_0x5f358b(0x378)]('');},'parse':function(_0x28ecac){var _0x500d9a=_0x43d507;for(var _0x733a0=_0x28ecac[_0x500d9a(0x206)],_0xd38873=[],_0x241d16=0x0;_0x241d16<_0x733a0;_0x241d16++)_0xd38873[_0x241d16>>>0x2]|=(_0x28ecac[_0x500d9a(0x358)](_0x241d16)&0xff)<<0x18-_0x241d16%0x4*0x8;return new _0xe86750['init'](_0xd38873,_0x733a0);}},_0x5ecd66=_0x34a1a3[_0x43d507(0x20f)]={'stringify':function(_0x1d4bc9){var _0x451f54=_0x43d507;try{return decodeURIComponent(escape(_0x1c38b5[_0x451f54(0x14e)](_0x1d4bc9)));}catch{throw new Error(_0x451f54(0x17b));}},'parse':function(_0x46cd6c){var _0x146c7b=_0x43d507;return _0x1c38b5[_0x146c7b(0x164)](unescape(encodeURIComponent(_0x46cd6c)));}},_0x2fc91a=_0x3aa31b[_0x43d507(0x35a)]=_0x86c347[_0x43d507(0x19e)]({'reset':function(){var _0x376b2f=_0x43d507;this[_0x376b2f(0x15a)]=new _0xe86750[(_0x376b2f(0x2c1))](),this['_nDataBytes']=0x0;},'_append':function(_0x28a0c1){var _0x1ce55a=_0x43d507;typeof _0x28a0c1==_0x1ce55a(0x495)&&(_0x28a0c1=_0x5ecd66[_0x1ce55a(0x164)](_0x28a0c1)),this[_0x1ce55a(0x15a)]['concat'](_0x28a0c1),this[_0x1ce55a(0x1fe)]+=_0x28a0c1[_0x1ce55a(0x13f)];},'_process':function(_0x7e49ec){var _0x32780c=_0x43d507,_0x12f32e,_0x27442e=this[_0x32780c(0x15a)],_0x14e186=_0x27442e['words'],_0x29eebb=_0x27442e['sigBytes'],_0x1fa8ab=this[_0x32780c(0x46e)],_0x4a80bd=_0x1fa8ab*0x4,_0x1828e6=_0x29eebb/_0x4a80bd;_0x7e49ec?_0x1828e6=_0x497263['ceil'](_0x1828e6):_0x1828e6=_0x497263['max']((_0x1828e6|0x0)-this[_0x32780c(0x220)],0x0);var _0x1e3ed7=_0x1828e6*_0x1fa8ab,_0x5ca147=_0x497263['min'](_0x1e3ed7*0x4,_0x29eebb);if(_0x1e3ed7){for(var _0x54eb0b=0x0;_0x54eb0b<_0x1e3ed7;_0x54eb0b+=_0x1fa8ab)this[_0x32780c(0x203)](_0x14e186,_0x54eb0b);_0x12f32e=_0x14e186['splice'](0x0,_0x1e3ed7),_0x27442e[_0x32780c(0x13f)]-=_0x5ca147;}return new _0xe86750[(_0x32780c(0x2c1))](_0x12f32e,_0x5ca147);},'clone':function(){var _0x35b143=_0x43d507,_0x5d8368=_0x86c347[_0x35b143(0x3ea)]['call'](this);return _0x5d8368[_0x35b143(0x15a)]=this['_data']['clone'](),_0x5d8368;},'_minBufferSize':0x0});_0x3aa31b[_0x43d507(0x1a2)]=_0x2fc91a[_0x43d507(0x19e)]({'cfg':_0x86c347[_0x43d507(0x19e)](),'init':function(_0x30a144){var _0xca77ac=_0x43d507;this[_0xca77ac(0x2c2)]=this[_0xca77ac(0x2c2)][_0xca77ac(0x19e)](_0x30a144),this[_0xca77ac(0x226)]();},'reset':function(){var _0x23db3f=_0x43d507;_0x2fc91a[_0x23db3f(0x226)][_0x23db3f(0x489)](this),this['_doReset']();},'update':function(_0x2e29f4){var _0x540fe6=_0x43d507;return this[_0x540fe6(0x415)](_0x2e29f4),this['_process'](),this;},'finalize':function(_0x355fb8){var _0x5e52e7=_0x43d507;_0x355fb8&&this[_0x5e52e7(0x415)](_0x355fb8);var _0x3d2b61=this['_doFinalize']();return _0x3d2b61;},'blockSize':0x10,'_createHelper':function(_0x5a222f){return function(_0x59e41e,_0x5374e6){var _0x407955=_0x23f8;return new _0x5a222f[(_0x407955(0x2c1))](_0x5374e6)[_0x407955(0x390)](_0x59e41e);};},'_createHmacHelper':function(_0x53083e){return function(_0x5a29bd,_0x1262dd){var _0x3507fd=_0x23f8;return new _0x5cfeef[(_0x3507fd(0x1ef))][(_0x3507fd(0x2c1))](_0x53083e,_0x1262dd)['finalize'](_0x5a29bd);};}});var _0x5cfeef=_0x128206[_0x43d507(0x3ee)]={};return _0x128206;}(Math);return _0x453db3;}));}(fe)),fe['exports'];}var Ee={'exports':{}},Ti=Ee['exports'],ze;function gt(){var _0x321a05=_0x310439;return ze||(ze=0x1,function(_0x4e8fff,_0x2ff515){(function(_0x7e36b5,_0xf1d528){var _0x32ee8e=_0x23f8;_0x4e8fff[_0x32ee8e(0x48d)]=_0xf1d528(Q());}(Ti,function(_0x42138b){var _0x3dbbb6=_0x23f8;return(function(){var _0xf6eab0=_0x23f8,_0x4fd1f1=_0x42138b,_0x243ee7=_0x4fd1f1[_0xf6eab0(0x402)],_0x33a355=_0x243ee7[_0xf6eab0(0x4ab)],_0x253fbe=_0x4fd1f1['enc'];_0x253fbe[_0xf6eab0(0x1a7)]={'stringify':function(_0xb41b7b){var _0x49ab24=_0xf6eab0,_0x13f7ee=_0xb41b7b[_0x49ab24(0x2a5)],_0x123712=_0xb41b7b[_0x49ab24(0x13f)],_0x1a1e24=this[_0x49ab24(0x22b)];_0xb41b7b[_0x49ab24(0x434)]();for(var _0x4aef36=[],_0x18e80e=0x0;_0x18e80e<_0x123712;_0x18e80e+=0x3)for(var _0x2a6077=_0x13f7ee[_0x18e80e>>>0x2]>>>0x18-_0x18e80e%0x4*0x8&0xff,_0x58c5bd=_0x13f7ee[_0x18e80e+0x1>>>0x2]>>>0x18-(_0x18e80e+0x1)%0x4*0x8&0xff,_0x59a400=_0x13f7ee[_0x18e80e+0x2>>>0x2]>>>0x18-(_0x18e80e+0x2)%0x4*0x8&0xff,_0x3c3ab4=_0x2a6077<<0x10|_0x58c5bd<<0x8|_0x59a400,_0x10aca2=0x0;_0x10aca2<0x4&&_0x18e80e+_0x10aca2*0.75<_0x123712;_0x10aca2++)_0x4aef36[_0x49ab24(0x46c)](_0x1a1e24['charAt'](_0x3c3ab4>>>0x6*(0x3-_0x10aca2)&0x3f));var _0x370bc4=_0x1a1e24['charAt'](0x40);if(_0x370bc4){for(;_0x4aef36[_0x49ab24(0x206)]%0x4;)_0x4aef36[_0x49ab24(0x46c)](_0x370bc4);}return _0x4aef36['join']('');},'parse':function(_0x143d69){var _0x450040=_0xf6eab0,_0x3053d4=_0x143d69[_0x450040(0x206)],_0x1229c0=this[_0x450040(0x22b)],_0x367f7b=this[_0x450040(0x285)];if(!_0x367f7b){_0x367f7b=this[_0x450040(0x285)]=[];for(var _0x538585=0x0;_0x538585<_0x1229c0[_0x450040(0x206)];_0x538585++)_0x367f7b[_0x1229c0[_0x450040(0x358)](_0x538585)]=_0x538585;}var _0x196d37=_0x1229c0['charAt'](0x40);if(_0x196d37){var _0x3cb25f=_0x143d69['indexOf'](_0x196d37);_0x3cb25f!==-0x1&&(_0x3053d4=_0x3cb25f);}return _0x57e891(_0x143d69,_0x3053d4,_0x367f7b);},'_map':'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/='};function _0x57e891(_0x190811,_0x6a6be1,_0x53d6b2){var _0x38fcca=_0xf6eab0;for(var _0x52d531=[],_0x2b10d4=0x0,_0x27df42=0x0;_0x27df42<_0x6a6be1;_0x27df42++)if(_0x27df42%0x4){var _0x3fc5e5=_0x53d6b2[_0x190811[_0x38fcca(0x358)](_0x27df42-0x1)]<<_0x27df42%0x4*0x2,_0x3292a6=_0x53d6b2[_0x190811[_0x38fcca(0x358)](_0x27df42)]>>>0x6-_0x27df42%0x4*0x2,_0x3fd9b2=_0x3fc5e5|_0x3292a6;_0x52d531[_0x2b10d4>>>0x2]|=_0x3fd9b2<<0x18-_0x2b10d4%0x4*0x8,_0x2b10d4++;}return _0x33a355[_0x38fcca(0x175)](_0x52d531,_0x2b10d4);}}()),_0x42138b[_0x3dbbb6(0x279)]['Base64'];}));}(Ee)),Ee[_0x321a05(0x48d)];}var pe={'exports':{}},Ci=pe[_0x310439(0x48d)],Xe;function bi(){var _0x23c494=_0x310439;return Xe||(Xe=0x1,function(_0x3cb4a5,_0x2a1130){(function(_0x3c9178,_0x590bb5){var _0x59d51f=_0x23f8;_0x3cb4a5[_0x59d51f(0x48d)]=_0x590bb5(Q());}(Ci,function(_0xb34230){var _0x34f2c7=_0x23f8;return function(_0x3fb975){var _0xaedeea=_0x23f8,_0x1a147e=_0xb34230,_0x524c41=_0x1a147e[_0xaedeea(0x402)],_0x5b3384=_0x524c41[_0xaedeea(0x4ab)],_0x29f04a=_0x524c41[_0xaedeea(0x1a2)],_0x5dcf34=_0x1a147e[_0xaedeea(0x3ee)],_0x19308b=[];(function(){var _0x3d95f5=_0xaedeea;for(var _0x31c63d=0x0;_0x31c63d<0x40;_0x31c63d++)_0x19308b[_0x31c63d]=_0x3fb975[_0x3d95f5(0x419)](_0x3fb975[_0x3d95f5(0x1a5)](_0x31c63d+0x1))*0x100000000|0x0;}());var _0x5d6706=_0x5dcf34['MD5']=_0x29f04a[_0xaedeea(0x19e)]({'_doReset':function(){var _0x585988=_0xaedeea;this[_0x585988(0x427)]=new _0x5b3384[(_0x585988(0x2c1))]([0x67452301,0xefcdab89,0x98badcfe,0x10325476]);},'_doProcessBlock':function(_0x2d91a2,_0x59b987){var _0x33961f=_0xaedeea;for(var _0x4a5b79=0x0;_0x4a5b79<0x10;_0x4a5b79++){var _0x4024fa=_0x59b987+_0x4a5b79,_0x277c4d=_0x2d91a2[_0x4024fa];_0x2d91a2[_0x4024fa]=(_0x277c4d<<0x8|_0x277c4d>>>0x18)&0xff00ff|(_0x277c4d<<0x18|_0x277c4d>>>0x8)&0xff00ff00;}var _0x31da7e=this[_0x33961f(0x427)]['words'],_0x7026b3=_0x2d91a2[_0x59b987+0x0],_0x1bdfe4=_0x2d91a2[_0x59b987+0x1],_0xd21a2e=_0x2d91a2[_0x59b987+0x2],_0x26640c=_0x2d91a2[_0x59b987+0x3],_0x5ee64d=_0x2d91a2[_0x59b987+0x4],_0xe65a85=_0x2d91a2[_0x59b987+0x5],_0x5d5e8e=_0x2d91a2[_0x59b987+0x6],_0x2182ab=_0x2d91a2[_0x59b987+0x7],_0x22bd4c=_0x2d91a2[_0x59b987+0x8],_0x5f2989=_0x2d91a2[_0x59b987+0x9],_0x508e1a=_0x2d91a2[_0x59b987+0xa],_0x1c5412=_0x2d91a2[_0x59b987+0xb],_0x20d6d0=_0x2d91a2[_0x59b987+0xc],_0x5ba7fb=_0x2d91a2[_0x59b987+0xd],_0x61f9e1=_0x2d91a2[_0x59b987+0xe],_0x1b74a6=_0x2d91a2[_0x59b987+0xf],_0x16d920=_0x31da7e[0x0],_0x22d028=_0x31da7e[0x1],_0x1747f0=_0x31da7e[0x2],_0x158913=_0x31da7e[0x3];_0x16d920=_0x594507(_0x16d920,_0x22d028,_0x1747f0,_0x158913,_0x7026b3,0x7,_0x19308b[0x0]),_0x158913=_0x594507(_0x158913,_0x16d920,_0x22d028,_0x1747f0,_0x1bdfe4,0xc,_0x19308b[0x1]),_0x1747f0=_0x594507(_0x1747f0,_0x158913,_0x16d920,_0x22d028,_0xd21a2e,0x11,_0x19308b[0x2]),_0x22d028=_0x594507(_0x22d028,_0x1747f0,_0x158913,_0x16d920,_0x26640c,0x16,_0x19308b[0x3]),_0x16d920=_0x594507(_0x16d920,_0x22d028,_0x1747f0,_0x158913,_0x5ee64d,0x7,_0x19308b[0x4]),_0x158913=_0x594507(_0x158913,_0x16d920,_0x22d028,_0x1747f0,_0xe65a85,0xc,_0x19308b[0x5]),_0x1747f0=_0x594507(_0x1747f0,_0x158913,_0x16d920,_0x22d028,_0x5d5e8e,0x11,_0x19308b[0x6]),_0x22d028=_0x594507(_0x22d028,_0x1747f0,_0x158913,_0x16d920,_0x2182ab,0x16,_0x19308b[0x7]),_0x16d920=_0x594507(_0x16d920,_0x22d028,_0x1747f0,_0x158913,_0x22bd4c,0x7,_0x19308b[0x8]),_0x158913=_0x594507(_0x158913,_0x16d920,_0x22d028,_0x1747f0,_0x5f2989,0xc,_0x19308b[0x9]),_0x1747f0=_0x594507(_0x1747f0,_0x158913,_0x16d920,_0x22d028,_0x508e1a,0x11,_0x19308b[0xa]),_0x22d028=_0x594507(_0x22d028,_0x1747f0,_0x158913,_0x16d920,_0x1c5412,0x16,_0x19308b[0xb]),_0x16d920=_0x594507(_0x16d920,_0x22d028,_0x1747f0,_0x158913,_0x20d6d0,0x7,_0x19308b[0xc]),_0x158913=_0x594507(_0x158913,_0x16d920,_0x22d028,_0x1747f0,_0x5ba7fb,0xc,_0x19308b[0xd]),_0x1747f0=_0x594507(_0x1747f0,_0x158913,_0x16d920,_0x22d028,_0x61f9e1,0x11,_0x19308b[0xe]),_0x22d028=_0x594507(_0x22d028,_0x1747f0,_0x158913,_0x16d920,_0x1b74a6,0x16,_0x19308b[0xf]),_0x16d920=_0x3e19ff(_0x16d920,_0x22d028,_0x1747f0,_0x158913,_0x1bdfe4,0x5,_0x19308b[0x10]),_0x158913=_0x3e19ff(_0x158913,_0x16d920,_0x22d028,_0x1747f0,_0x5d5e8e,0x9,_0x19308b[0x11]),_0x1747f0=_0x3e19ff(_0x1747f0,_0x158913,_0x16d920,_0x22d028,_0x1c5412,0xe,_0x19308b[0x12]),_0x22d028=_0x3e19ff(_0x22d028,_0x1747f0,_0x158913,_0x16d920,_0x7026b3,0x14,_0x19308b[0x13]),_0x16d920=_0x3e19ff(_0x16d920,_0x22d028,_0x1747f0,_0x158913,_0xe65a85,0x5,_0x19308b[0x14]),_0x158913=_0x3e19ff(_0x158913,_0x16d920,_0x22d028,_0x1747f0,_0x508e1a,0x9,_0x19308b[0x15]),_0x1747f0=_0x3e19ff(_0x1747f0,_0x158913,_0x16d920,_0x22d028,_0x1b74a6,0xe,_0x19308b[0x16]),_0x22d028=_0x3e19ff(_0x22d028,_0x1747f0,_0x158913,_0x16d920,_0x5ee64d,0x14,_0x19308b[0x17]),_0x16d920=_0x3e19ff(_0x16d920,_0x22d028,_0x1747f0,_0x158913,_0x5f2989,0x5,_0x19308b[0x18]),_0x158913=_0x3e19ff(_0x158913,_0x16d920,_0x22d028,_0x1747f0,_0x61f9e1,0x9,_0x19308b[0x19]),_0x1747f0=_0x3e19ff(_0x1747f0,_0x158913,_0x16d920,_0x22d028,_0x26640c,0xe,_0x19308b[0x1a]),_0x22d028=_0x3e19ff(_0x22d028,_0x1747f0,_0x158913,_0x16d920,_0x22bd4c,0x14,_0x19308b[0x1b]),_0x16d920=_0x3e19ff(_0x16d920,_0x22d028,_0x1747f0,_0x158913,_0x5ba7fb,0x5,_0x19308b[0x1c]),_0x158913=_0x3e19ff(_0x158913,_0x16d920,_0x22d028,_0x1747f0,_0xd21a2e,0x9,_0x19308b[0x1d]),_0x1747f0=_0x3e19ff(_0x1747f0,_0x158913,_0x16d920,_0x22d028,_0x2182ab,0xe,_0x19308b[0x1e]),_0x22d028=_0x3e19ff(_0x22d028,_0x1747f0,_0x158913,_0x16d920,_0x20d6d0,0x14,_0x19308b[0x1f]),_0x16d920=_0x3a59f5(_0x16d920,_0x22d028,_0x1747f0,_0x158913,_0xe65a85,0x4,_0x19308b[0x20]),_0x158913=_0x3a59f5(_0x158913,_0x16d920,_0x22d028,_0x1747f0,_0x22bd4c,0xb,_0x19308b[0x21]),_0x1747f0=_0x3a59f5(_0x1747f0,_0x158913,_0x16d920,_0x22d028,_0x1c5412,0x10,_0x19308b[0x22]),_0x22d028=_0x3a59f5(_0x22d028,_0x1747f0,_0x158913,_0x16d920,_0x61f9e1,0x17,_0x19308b[0x23]),_0x16d920=_0x3a59f5(_0x16d920,_0x22d028,_0x1747f0,_0x158913,_0x1bdfe4,0x4,_0x19308b[0x24]),_0x158913=_0x3a59f5(_0x158913,_0x16d920,_0x22d028,_0x1747f0,_0x5ee64d,0xb,_0x19308b[0x25]),_0x1747f0=_0x3a59f5(_0x1747f0,_0x158913,_0x16d920,_0x22d028,_0x2182ab,0x10,_0x19308b[0x26]),_0x22d028=_0x3a59f5(_0x22d028,_0x1747f0,_0x158913,_0x16d920,_0x508e1a,0x17,_0x19308b[0x27]),_0x16d920=_0x3a59f5(_0x16d920,_0x22d028,_0x1747f0,_0x158913,_0x5ba7fb,0x4,_0x19308b[0x28]),_0x158913=_0x3a59f5(_0x158913,_0x16d920,_0x22d028,_0x1747f0,_0x7026b3,0xb,_0x19308b[0x29]),_0x1747f0=_0x3a59f5(_0x1747f0,_0x158913,_0x16d920,_0x22d028,_0x26640c,0x10,_0x19308b[0x2a]),_0x22d028=_0x3a59f5(_0x22d028,_0x1747f0,_0x158913,_0x16d920,_0x5d5e8e,0x17,_0x19308b[0x2b]),_0x16d920=_0x3a59f5(_0x16d920,_0x22d028,_0x1747f0,_0x158913,_0x5f2989,0x4,_0x19308b[0x2c]),_0x158913=_0x3a59f5(_0x158913,_0x16d920,_0x22d028,_0x1747f0,_0x20d6d0,0xb,_0x19308b[0x2d]),_0x1747f0=_0x3a59f5(_0x1747f0,_0x158913,_0x16d920,_0x22d028,_0x1b74a6,0x10,_0x19308b[0x2e]),_0x22d028=_0x3a59f5(_0x22d028,_0x1747f0,_0x158913,_0x16d920,_0xd21a2e,0x17,_0x19308b[0x2f]),_0x16d920=_0x44b145(_0x16d920,_0x22d028,_0x1747f0,_0x158913,_0x7026b3,0x6,_0x19308b[0x30]),_0x158913=_0x44b145(_0x158913,_0x16d920,_0x22d028,_0x1747f0,_0x2182ab,0xa,_0x19308b[0x31]),_0x1747f0=_0x44b145(_0x1747f0,_0x158913,_0x16d920,_0x22d028,_0x61f9e1,0xf,_0x19308b[0x32]),_0x22d028=_0x44b145(_0x22d028,_0x1747f0,_0x158913,_0x16d920,_0xe65a85,0x15,_0x19308b[0x33]),_0x16d920=_0x44b145(_0x16d920,_0x22d028,_0x1747f0,_0x158913,_0x20d6d0,0x6,_0x19308b[0x34]),_0x158913=_0x44b145(_0x158913,_0x16d920,_0x22d028,_0x1747f0,_0x26640c,0xa,_0x19308b[0x35]),_0x1747f0=_0x44b145(_0x1747f0,_0x158913,_0x16d920,_0x22d028,_0x508e1a,0xf,_0x19308b[0x36]),_0x22d028=_0x44b145(_0x22d028,_0x1747f0,_0x158913,_0x16d920,_0x1bdfe4,0x15,_0x19308b[0x37]),_0x16d920=_0x44b145(_0x16d920,_0x22d028,_0x1747f0,_0x158913,_0x22bd4c,0x6,_0x19308b[0x38]),_0x158913=_0x44b145(_0x158913,_0x16d920,_0x22d028,_0x1747f0,_0x1b74a6,0xa,_0x19308b[0x39]),_0x1747f0=_0x44b145(_0x1747f0,_0x158913,_0x16d920,_0x22d028,_0x5d5e8e,0xf,_0x19308b[0x3a]),_0x22d028=_0x44b145(_0x22d028,_0x1747f0,_0x158913,_0x16d920,_0x5ba7fb,0x15,_0x19308b[0x3b]),_0x16d920=_0x44b145(_0x16d920,_0x22d028,_0x1747f0,_0x158913,_0x5ee64d,0x6,_0x19308b[0x3c]),_0x158913=_0x44b145(_0x158913,_0x16d920,_0x22d028,_0x1747f0,_0x1c5412,0xa,_0x19308b[0x3d]),_0x1747f0=_0x44b145(_0x1747f0,_0x158913,_0x16d920,_0x22d028,_0xd21a2e,0xf,_0x19308b[0x3e]),_0x22d028=_0x44b145(_0x22d028,_0x1747f0,_0x158913,_0x16d920,_0x5f2989,0x15,_0x19308b[0x3f]),_0x31da7e[0x0]=_0x31da7e[0x0]+_0x16d920|0x0,_0x31da7e[0x1]=_0x31da7e[0x1]+_0x22d028|0x0,_0x31da7e[0x2]=_0x31da7e[0x2]+_0x1747f0|0x0,_0x31da7e[0x3]=_0x31da7e[0x3]+_0x158913|0x0;},'_doFinalize':function(){var _0x4996bd=_0xaedeea,_0x37c802=this[_0x4996bd(0x15a)],_0x3f567d=_0x37c802[_0x4996bd(0x2a5)],_0x47adc1=this[_0x4996bd(0x1fe)]*0x8,_0x2c4c0e=_0x37c802[_0x4996bd(0x13f)]*0x8;_0x3f567d[_0x2c4c0e>>>0x5]|=0x80<<0x18-_0x2c4c0e%0x20;var _0x454ef4=_0x3fb975[_0x4996bd(0x377)](_0x47adc1/0x100000000),_0x4ec36e=_0x47adc1;_0x3f567d[(_0x2c4c0e+0x40>>>0x9<<0x4)+0xf]=(_0x454ef4<<0x8|_0x454ef4>>>0x18)&0xff00ff|(_0x454ef4<<0x18|_0x454ef4>>>0x8)&0xff00ff00,_0x3f567d[(_0x2c4c0e+0x40>>>0x9<<0x4)+0xe]=(_0x4ec36e<<0x8|_0x4ec36e>>>0x18)&0xff00ff|(_0x4ec36e<<0x18|_0x4ec36e>>>0x8)&0xff00ff00,_0x37c802[_0x4996bd(0x13f)]=(_0x3f567d[_0x4996bd(0x206)]+0x1)*0x4,this[_0x4996bd(0x40b)]();for(var _0x17916c=this[_0x4996bd(0x427)],_0x3c0379=_0x17916c[_0x4996bd(0x2a5)],_0x1d8580=0x0;_0x1d8580<0x4;_0x1d8580++){var _0x5f2615=_0x3c0379[_0x1d8580];_0x3c0379[_0x1d8580]=(_0x5f2615<<0x8|_0x5f2615>>>0x18)&0xff00ff|(_0x5f2615<<0x18|_0x5f2615>>>0x8)&0xff00ff00;}return _0x17916c;},'clone':function(){var _0x4e6e14=_0xaedeea,_0x5e7e31=_0x29f04a[_0x4e6e14(0x3ea)][_0x4e6e14(0x489)](this);return _0x5e7e31[_0x4e6e14(0x427)]=this['_hash'][_0x4e6e14(0x3ea)](),_0x5e7e31;}});function _0x594507(_0xe8a9d1,_0x5e7255,_0x3cf230,_0x265bf4,_0x1dccb4,_0x418112,_0x255644){var _0x297bc2=_0xe8a9d1+(_0x5e7255&_0x3cf230|~_0x5e7255&_0x265bf4)+_0x1dccb4+_0x255644;return(_0x297bc2<<_0x418112|_0x297bc2>>>0x20-_0x418112)+_0x5e7255;}function _0x3e19ff(_0x834ccd,_0x5dae82,_0x5f21bc,_0x44c5f4,_0x34c7ed,_0xd93572,_0xe936cc){var _0x20154c=_0x834ccd+(_0x5dae82&_0x44c5f4|_0x5f21bc&~_0x44c5f4)+_0x34c7ed+_0xe936cc;return(_0x20154c<<_0xd93572|_0x20154c>>>0x20-_0xd93572)+_0x5dae82;}function _0x3a59f5(_0x348dfb,_0x50afae,_0x1607ae,_0xe5b4b1,_0x17549e,_0x257780,_0x1db52b){var _0x4440dc=_0x348dfb+(_0x50afae^_0x1607ae^_0xe5b4b1)+_0x17549e+_0x1db52b;return(_0x4440dc<<_0x257780|_0x4440dc>>>0x20-_0x257780)+_0x50afae;}function _0x44b145(_0x478f76,_0x2a5317,_0x4492db,_0x1ff4a7,_0x378df4,_0x304358,_0x265e66){var _0x2c76b3=_0x478f76+(_0x4492db^(_0x2a5317|~_0x1ff4a7))+_0x378df4+_0x265e66;return(_0x2c76b3<<_0x304358|_0x2c76b3>>>0x20-_0x304358)+_0x2a5317;}_0x1a147e[_0xaedeea(0x1d8)]=_0x29f04a[_0xaedeea(0x417)](_0x5d6706),_0x1a147e[_0xaedeea(0x159)]=_0x29f04a[_0xaedeea(0x46f)](_0x5d6706);}(Math),_0xb34230[_0x34f2c7(0x1d8)];}));}(pe)),pe[_0x23c494(0x48d)];}var me={'exports':{}},ge={'exports':{}},Oi=ge[_0x310439(0x48d)],Je;function Ri(){var _0x5d6780=_0x310439;return Je||(Je=0x1,function(_0x133338,_0x35a8dd){(function(_0x37b42d,_0x8b816f){var _0x366e10=_0x23f8;_0x133338[_0x366e10(0x48d)]=_0x8b816f(Q());}(Oi,function(_0x803e){var _0x418b88=_0x23f8;return(function(){var _0x3506d3=_0x23f8,_0x56e2c6=_0x803e,_0x1942bd=_0x56e2c6[_0x3506d3(0x402)],_0x10853d=_0x1942bd[_0x3506d3(0x4ab)],_0x46295c=_0x1942bd[_0x3506d3(0x1a2)],_0x2937e9=_0x56e2c6[_0x3506d3(0x3ee)],_0x5f312a=[],_0x497b5=_0x2937e9['SHA1']=_0x46295c[_0x3506d3(0x19e)]({'_doReset':function(){var _0x1463d7=_0x3506d3;this[_0x1463d7(0x427)]=new _0x10853d[(_0x1463d7(0x2c1))]([0x67452301,0xefcdab89,0x98badcfe,0x10325476,0xc3d2e1f0]);},'_doProcessBlock':function(_0x309272,_0x3eab7f){var _0x588067=_0x3506d3;for(var _0x3eac13=this[_0x588067(0x427)][_0x588067(0x2a5)],_0x3a5083=_0x3eac13[0x0],_0x2c55f2=_0x3eac13[0x1],_0x59773a=_0x3eac13[0x2],_0x251fe2=_0x3eac13[0x3],_0x10268c=_0x3eac13[0x4],_0x1738a9=0x0;_0x1738a9<0x50;_0x1738a9++){if(_0x1738a9<0x10)_0x5f312a[_0x1738a9]=_0x309272[_0x3eab7f+_0x1738a9]|0x0;else{var _0x5785bc=_0x5f312a[_0x1738a9-0x3]^_0x5f312a[_0x1738a9-0x8]^_0x5f312a[_0x1738a9-0xe]^_0x5f312a[_0x1738a9-0x10];_0x5f312a[_0x1738a9]=_0x5785bc<<0x1|_0x5785bc>>>0x1f;}var _0x5223e5=(_0x3a5083<<0x5|_0x3a5083>>>0x1b)+_0x10268c+_0x5f312a[_0x1738a9];_0x1738a9<0x14?_0x5223e5+=(_0x2c55f2&_0x59773a|~_0x2c55f2&_0x251fe2)+0x5a827999:_0x1738a9<0x28?_0x5223e5+=(_0x2c55f2^_0x59773a^_0x251fe2)+0x6ed9eba1:_0x1738a9<0x3c?_0x5223e5+=(_0x2c55f2&_0x59773a|_0x2c55f2&_0x251fe2|_0x59773a&_0x251fe2)-0x70e44324:_0x5223e5+=(_0x2c55f2^_0x59773a^_0x251fe2)-0x359d3e2a,_0x10268c=_0x251fe2,_0x251fe2=_0x59773a,_0x59773a=_0x2c55f2<<0x1e|_0x2c55f2>>>0x2,_0x2c55f2=_0x3a5083,_0x3a5083=_0x5223e5;}_0x3eac13[0x0]=_0x3eac13[0x0]+_0x3a5083|0x0,_0x3eac13[0x1]=_0x3eac13[0x1]+_0x2c55f2|0x0,_0x3eac13[0x2]=_0x3eac13[0x2]+_0x59773a|0x0,_0x3eac13[0x3]=_0x3eac13[0x3]+_0x251fe2|0x0,_0x3eac13[0x4]=_0x3eac13[0x4]+_0x10268c|0x0;},'_doFinalize':function(){var _0x48a7a3=_0x3506d3,_0x8ed133=this[_0x48a7a3(0x15a)],_0x355517=_0x8ed133[_0x48a7a3(0x2a5)],_0x3a2a87=this['_nDataBytes']*0x8,_0x16fcb5=_0x8ed133[_0x48a7a3(0x13f)]*0x8;return _0x355517[_0x16fcb5>>>0x5]|=0x80<<0x18-_0x16fcb5%0x20,_0x355517[(_0x16fcb5+0x40>>>0x9<<0x4)+0xe]=Math[_0x48a7a3(0x377)](_0x3a2a87/0x100000000),_0x355517[(_0x16fcb5+0x40>>>0x9<<0x4)+0xf]=_0x3a2a87,_0x8ed133[_0x48a7a3(0x13f)]=_0x355517['length']*0x4,this[_0x48a7a3(0x40b)](),this['_hash'];},'clone':function(){var _0x5f56e7=_0x3506d3,_0x2c3cf8=_0x46295c['clone']['call'](this);return _0x2c3cf8[_0x5f56e7(0x427)]=this['_hash'][_0x5f56e7(0x3ea)](),_0x2c3cf8;}});_0x56e2c6[_0x3506d3(0x32f)]=_0x46295c[_0x3506d3(0x417)](_0x497b5),_0x56e2c6[_0x3506d3(0x350)]=_0x46295c[_0x3506d3(0x46f)](_0x497b5);}()),_0x803e[_0x418b88(0x32f)];}));}(ge)),ge[_0x5d6780(0x48d)];}var Te={'exports':{}},Ni=Te[_0x310439(0x48d)],Ze;function Di(){var _0x45cccc=_0x310439;return Ze||(Ze=0x1,function(_0x2b6c52,_0x540aba){(function(_0x140e10,_0x25bb88){_0x2b6c52['exports']=_0x25bb88(Q());}(Ni,function(_0x10189f){(function(){var _0x771794=_0x23f8,_0x59fbfd=_0x10189f,_0x2b0a18=_0x59fbfd[_0x771794(0x402)],_0x5e9681=_0x2b0a18[_0x771794(0x1dc)],_0x2bbbe2=_0x59fbfd[_0x771794(0x279)],_0x19e47a=_0x2bbbe2[_0x771794(0x20f)],_0x55a433=_0x59fbfd[_0x771794(0x3ee)];_0x55a433[_0x771794(0x1ef)]=_0x5e9681[_0x771794(0x19e)]({'init':function(_0x44220e,_0x1ed11d){var _0x12efe2=_0x771794;_0x44220e=this['_hasher']=new _0x44220e[(_0x12efe2(0x2c1))](),typeof _0x1ed11d==_0x12efe2(0x495)&&(_0x1ed11d=_0x19e47a[_0x12efe2(0x164)](_0x1ed11d));var _0x4653ad=_0x44220e[_0x12efe2(0x46e)],_0xaeff23=_0x4653ad*0x4;_0x1ed11d['sigBytes']>_0xaeff23&&(_0x1ed11d=_0x44220e['finalize'](_0x1ed11d)),_0x1ed11d[_0x12efe2(0x434)]();for(var _0x13a309=this[_0x12efe2(0x42d)]=_0x1ed11d[_0x12efe2(0x3ea)](),_0x54ad3c=this['_iKey']=_0x1ed11d[_0x12efe2(0x3ea)](),_0x56063d=_0x13a309[_0x12efe2(0x2a5)],_0x1ec0d2=_0x54ad3c[_0x12efe2(0x2a5)],_0xbbeaa2=0x0;_0xbbeaa2<_0x4653ad;_0xbbeaa2++)_0x56063d[_0xbbeaa2]^=0x5c5c5c5c,_0x1ec0d2[_0xbbeaa2]^=0x36363636;_0x13a309[_0x12efe2(0x13f)]=_0x54ad3c[_0x12efe2(0x13f)]=_0xaeff23,this['reset']();},'reset':function(){var _0x17c82a=_0x771794,_0x1ab75a=this[_0x17c82a(0x3fa)];_0x1ab75a[_0x17c82a(0x226)](),_0x1ab75a[_0x17c82a(0x29d)](this[_0x17c82a(0x458)]);},'update':function(_0x4253c8){var _0x1139dd=_0x771794;return this[_0x1139dd(0x3fa)][_0x1139dd(0x29d)](_0x4253c8),this;},'finalize':function(_0x90d7b2){var _0x1cca3c=_0x771794,_0x41fe5d=this[_0x1cca3c(0x3fa)],_0x2ff485=_0x41fe5d[_0x1cca3c(0x390)](_0x90d7b2);_0x41fe5d[_0x1cca3c(0x226)]();var _0x1e2dcd=_0x41fe5d[_0x1cca3c(0x390)](this[_0x1cca3c(0x42d)][_0x1cca3c(0x3ea)]()[_0x1cca3c(0x335)](_0x2ff485));return _0x1e2dcd;}});}());}));}(Te)),Te[_0x45cccc(0x48d)];}var yi=me[_0x310439(0x48d)],Qe;function Tt(){var _0x51bc54=_0x310439;return Qe||(Qe=0x1,function(_0x1fb4da,_0x2139c3){(function(_0x5e0234,_0x4c5f72,_0x453195){var _0x13db73=_0x23f8;_0x1fb4da[_0x13db73(0x48d)]=_0x4c5f72(Q(),Ri(),Di());}(yi,function(_0x46d659){return(function(){var _0x1fa518=_0x23f8,_0x5388a2=_0x46d659,_0x9476cd=_0x5388a2[_0x1fa518(0x402)],_0x215420=_0x9476cd[_0x1fa518(0x1dc)],_0x2d7834=_0x9476cd[_0x1fa518(0x4ab)],_0x1e9270=_0x5388a2[_0x1fa518(0x3ee)],_0xe84209=_0x1e9270[_0x1fa518(0x1d8)],_0x3f860f=_0x1e9270[_0x1fa518(0x3b5)]=_0x215420[_0x1fa518(0x19e)]({'cfg':_0x215420[_0x1fa518(0x19e)]({'keySize':0x80/0x20,'hasher':_0xe84209,'iterations':0x1}),'init':function(_0x1c9014){var _0x570d5e=_0x1fa518;this['cfg']=this[_0x570d5e(0x2c2)][_0x570d5e(0x19e)](_0x1c9014);},'compute':function(_0x288654,_0x2f2b91){var _0x541d42=_0x1fa518;for(var _0x1130df,_0x408eb1=this[_0x541d42(0x2c2)],_0x4703a0=_0x408eb1[_0x541d42(0x42f)][_0x541d42(0x175)](),_0x303cee=_0x2d7834['create'](),_0x5a38e6=_0x303cee[_0x541d42(0x2a5)],_0xc0f747=_0x408eb1[_0x541d42(0x3cb)],_0x59e6f1=_0x408eb1['iterations'];_0x5a38e6['length']<_0xc0f747;){_0x1130df&&_0x4703a0[_0x541d42(0x29d)](_0x1130df),_0x1130df=_0x4703a0[_0x541d42(0x29d)](_0x288654)['finalize'](_0x2f2b91),_0x4703a0[_0x541d42(0x226)]();for(var _0x4e61ad=0x1;_0x4e61ad<_0x59e6f1;_0x4e61ad++)_0x1130df=_0x4703a0[_0x541d42(0x390)](_0x1130df),_0x4703a0[_0x541d42(0x226)]();_0x303cee[_0x541d42(0x335)](_0x1130df);}return _0x303cee[_0x541d42(0x13f)]=_0xc0f747*0x4,_0x303cee;}});_0x5388a2[_0x1fa518(0x3b5)]=function(_0xec905,_0x5a4095,_0x164bc9){var _0x28b0d8=_0x1fa518;return _0x3f860f['create'](_0x164bc9)[_0x28b0d8(0x2a7)](_0xec905,_0x5a4095);};}()),_0x46d659['EvpKDF'];}));}(me)),me[_0x51bc54(0x48d)];}var Ce={'exports':{}},Ui=Ce[_0x310439(0x48d)],et;function Ct(){var _0x432129=_0x310439;return et||(et=0x1,function(_0x56c501,_0x4f12db){(function(_0x58b603,_0x143e20,_0x51e679){var _0x297259=_0x23f8;_0x56c501[_0x297259(0x48d)]=_0x143e20(Q(),Tt());}(Ui,function(_0x79258b){var _0x48c75f=_0x23f8;_0x79258b[_0x48c75f(0x402)]['Cipher']||function(_0x112705){var _0x4e14f9=_0x48c75f,_0x42a016=_0x79258b,_0x774444=_0x42a016[_0x4e14f9(0x402)],_0x3bbcfd=_0x774444['Base'],_0x413496=_0x774444['WordArray'],_0x2ec845=_0x774444[_0x4e14f9(0x35a)],_0x857b8d=_0x42a016[_0x4e14f9(0x279)];_0x857b8d[_0x4e14f9(0x20f)];var _0x3d017e=_0x857b8d[_0x4e14f9(0x1a7)],_0x2690da=_0x42a016[_0x4e14f9(0x3ee)],_0x22e8f6=_0x2690da[_0x4e14f9(0x3b5)],_0x532582=_0x774444[_0x4e14f9(0x13b)]=_0x2ec845[_0x4e14f9(0x19e)]({'cfg':_0x3bbcfd[_0x4e14f9(0x19e)](),'createEncryptor':function(_0x45947f,_0x3e8b85){var _0x4dbff7=_0x4e14f9;return this[_0x4dbff7(0x175)](this[_0x4dbff7(0x13a)],_0x45947f,_0x3e8b85);},'createDecryptor':function(_0x40956c,_0x29edd5){var _0x78ada2=_0x4e14f9;return this[_0x78ada2(0x175)](this[_0x78ada2(0x180)],_0x40956c,_0x29edd5);},'init':function(_0x184465,_0x51128d,_0x342fbb){var _0x29a99d=_0x4e14f9;this[_0x29a99d(0x2c2)]=this[_0x29a99d(0x2c2)][_0x29a99d(0x19e)](_0x342fbb),this[_0x29a99d(0x275)]=_0x184465,this['_key']=_0x51128d,this['reset']();},'reset':function(){var _0x3c00fa=_0x4e14f9;_0x2ec845['reset'][_0x3c00fa(0x489)](this),this[_0x3c00fa(0x1ae)]();},'process':function(_0x4222f0){var _0x112d12=_0x4e14f9;return this['_append'](_0x4222f0),this[_0x112d12(0x40b)]();},'finalize':function(_0x42233d){var _0x3fe919=_0x4e14f9;_0x42233d&&this['_append'](_0x42233d);var _0x88ffe7=this[_0x3fe919(0x440)]();return _0x88ffe7;},'keySize':0x80/0x20,'ivSize':0x80/0x20,'_ENC_XFORM_MODE':0x1,'_DEC_XFORM_MODE':0x2,'_createHelper':(function(){function _0x345216(_0x4b0ba3){return typeof _0x4b0ba3=='string'?_0x16fbdf:_0x14e3f7;}return function(_0x1477de){return{'encrypt':function(_0x360edc,_0x1a918d,_0x4a3137){var _0x5f55e9=_0x23f8;return _0x345216(_0x1a918d)[_0x5f55e9(0x1c9)](_0x1477de,_0x360edc,_0x1a918d,_0x4a3137);},'decrypt':function(_0x516b40,_0x30a435,_0x40a35b){var _0x1967a3=_0x23f8;return _0x345216(_0x30a435)[_0x1967a3(0x3c7)](_0x1477de,_0x516b40,_0x30a435,_0x40a35b);}};};}())});_0x774444[_0x4e14f9(0x2e6)]=_0x532582[_0x4e14f9(0x19e)]({'_doFinalize':function(){var _0x44491c=this['_process'](!0x0);return _0x44491c;},'blockSize':0x1});var _0x61693d=_0x42a016[_0x4e14f9(0x22e)]={},_0x2e2d3f=_0x774444[_0x4e14f9(0x15f)]=_0x3bbcfd[_0x4e14f9(0x19e)]({'createEncryptor':function(_0x2ee309,_0x2b87f4){var _0x309389=_0x4e14f9;return this[_0x309389(0x346)][_0x309389(0x175)](_0x2ee309,_0x2b87f4);},'createDecryptor':function(_0x13b1a8,_0x32b31d){var _0x1d4460=_0x4e14f9;return this[_0x1d4460(0x385)][_0x1d4460(0x175)](_0x13b1a8,_0x32b31d);},'init':function(_0x4b0341,_0x1855cd){var _0x308976=_0x4e14f9;this['_cipher']=_0x4b0341,this[_0x308976(0x2b9)]=_0x1855cd;}}),_0x566793=_0x61693d[_0x4e14f9(0x1bc)]=(function(){var _0x51a3e7=_0x4e14f9,_0x455bd1=_0x2e2d3f[_0x51a3e7(0x19e)]();_0x455bd1['Encryptor']=_0x455bd1[_0x51a3e7(0x19e)]({'processBlock':function(_0x26b444,_0x351b7d){var _0x289b6f=_0x51a3e7,_0x4021ea=this['_cipher'],_0x470b26=_0x4021ea[_0x289b6f(0x46e)];_0xf4837e[_0x289b6f(0x489)](this,_0x26b444,_0x351b7d,_0x470b26),_0x4021ea[_0x289b6f(0x3a1)](_0x26b444,_0x351b7d),this[_0x289b6f(0x254)]=_0x26b444[_0x289b6f(0x454)](_0x351b7d,_0x351b7d+_0x470b26);}}),_0x455bd1[_0x51a3e7(0x385)]=_0x455bd1['extend']({'processBlock':function(_0x43881a,_0x573416){var _0x119f73=_0x51a3e7,_0x456c76=this[_0x119f73(0x436)],_0x37be79=_0x456c76[_0x119f73(0x46e)],_0xde7b1f=_0x43881a[_0x119f73(0x454)](_0x573416,_0x573416+_0x37be79);_0x456c76['decryptBlock'](_0x43881a,_0x573416),_0xf4837e[_0x119f73(0x489)](this,_0x43881a,_0x573416,_0x37be79),this[_0x119f73(0x254)]=_0xde7b1f;}});function _0xf4837e(_0x5cfe16,_0x3fb1a6,_0x3927aa){var _0x1709ac=_0x51a3e7,_0x5b3c69,_0x4361b5=this[_0x1709ac(0x2b9)];_0x4361b5?(_0x5b3c69=_0x4361b5,this[_0x1709ac(0x2b9)]=_0x112705):_0x5b3c69=this[_0x1709ac(0x254)];for(var _0x20d333=0x0;_0x20d333<_0x3927aa;_0x20d333++)_0x5cfe16[_0x3fb1a6+_0x20d333]^=_0x5b3c69[_0x20d333];}return _0x455bd1;}()),_0x875d2f=_0x42a016[_0x4e14f9(0x3d8)]={},_0x5e95fd=_0x875d2f[_0x4e14f9(0x317)]={'pad':function(_0x58fe73,_0x2e1f10){var _0x9712e3=_0x4e14f9;for(var _0x47c4f6=_0x2e1f10*0x4,_0x2941cb=_0x47c4f6-_0x58fe73['sigBytes']%_0x47c4f6,_0x25fd83=_0x2941cb<<0x18|_0x2941cb<<0x10|_0x2941cb<<0x8|_0x2941cb,_0x4ac4ad=[],_0x98808f=0x0;_0x98808f<_0x2941cb;_0x98808f+=0x4)_0x4ac4ad['push'](_0x25fd83);var _0x4b82bc=_0x413496['create'](_0x4ac4ad,_0x2941cb);_0x58fe73[_0x9712e3(0x335)](_0x4b82bc);},'unpad':function(_0x2c4c41){var _0x10a276=_0x4e14f9,_0x4fcc4d=_0x2c4c41[_0x10a276(0x2a5)][_0x2c4c41[_0x10a276(0x13f)]-0x1>>>0x2]&0xff;_0x2c4c41[_0x10a276(0x13f)]-=_0x4fcc4d;}};_0x774444[_0x4e14f9(0x225)]=_0x532582['extend']({'cfg':_0x532582['cfg'][_0x4e14f9(0x19e)]({'mode':_0x566793,'padding':_0x5e95fd}),'reset':function(){var _0x106f66=_0x4e14f9,_0x40dd3b;_0x532582['reset']['call'](this);var _0x170e03=this[_0x106f66(0x2c2)],_0x3682ad=_0x170e03['iv'],_0x38b0d6=_0x170e03['mode'];this[_0x106f66(0x275)]==this['_ENC_XFORM_MODE']?_0x40dd3b=_0x38b0d6[_0x106f66(0x318)]:(_0x40dd3b=_0x38b0d6[_0x106f66(0x445)],this[_0x106f66(0x220)]=0x1),this['_mode']&&this['_mode'][_0x106f66(0x38d)]==_0x40dd3b?this[_0x106f66(0x1c3)][_0x106f66(0x2c1)](this,_0x3682ad&&_0x3682ad[_0x106f66(0x2a5)]):(this[_0x106f66(0x1c3)]=_0x40dd3b[_0x106f66(0x489)](_0x38b0d6,this,_0x3682ad&&_0x3682ad[_0x106f66(0x2a5)]),this[_0x106f66(0x1c3)][_0x106f66(0x38d)]=_0x40dd3b);},'_doProcessBlock':function(_0x541240,_0x1f36b3){var _0x5dda55=_0x4e14f9;this[_0x5dda55(0x1c3)][_0x5dda55(0x134)](_0x541240,_0x1f36b3);},'_doFinalize':function(){var _0x4485f0=_0x4e14f9,_0x45b554,_0x2dbd7f=this[_0x4485f0(0x2c2)][_0x4485f0(0x4a9)];return this[_0x4485f0(0x275)]==this['_ENC_XFORM_MODE']?(_0x2dbd7f[_0x4485f0(0x3d8)](this['_data'],this[_0x4485f0(0x46e)]),_0x45b554=this['_process'](!0x0)):(_0x45b554=this['_process'](!0x0),_0x2dbd7f[_0x4485f0(0x25c)](_0x45b554)),_0x45b554;},'blockSize':0x80/0x20});var _0x333354=_0x774444[_0x4e14f9(0x459)]=_0x3bbcfd[_0x4e14f9(0x19e)]({'init':function(_0x4d9e20){var _0x5aef34=_0x4e14f9;this[_0x5aef34(0x270)](_0x4d9e20);},'toString':function(_0x24cd41){var _0x18c740=_0x4e14f9;return(_0x24cd41||this[_0x18c740(0x40c)])[_0x18c740(0x14e)](this);}}),_0x5b9a25=_0x42a016[_0x4e14f9(0x3ca)]={},_0x4da902=_0x5b9a25['OpenSSL']={'stringify':function(_0x12a245){var _0x22e531=_0x4e14f9,_0x591f56,_0x620925=_0x12a245[_0x22e531(0x328)],_0x19b527=_0x12a245[_0x22e531(0x41a)];return _0x19b527?_0x591f56=_0x413496[_0x22e531(0x175)]([0x53616c74,0x65645f5f])[_0x22e531(0x335)](_0x19b527)['concat'](_0x620925):_0x591f56=_0x620925,_0x591f56['toString'](_0x3d017e);},'parse':function(_0x3f9a26){var _0x4b8958=_0x4e14f9,_0x301553,_0x587914=_0x3d017e[_0x4b8958(0x164)](_0x3f9a26),_0x56c75a=_0x587914[_0x4b8958(0x2a5)];return _0x56c75a[0x0]==0x53616c74&&_0x56c75a[0x1]==0x65645f5f&&(_0x301553=_0x413496[_0x4b8958(0x175)](_0x56c75a[_0x4b8958(0x454)](0x2,0x4)),_0x56c75a[_0x4b8958(0x3b7)](0x0,0x4),_0x587914[_0x4b8958(0x13f)]-=0x10),_0x333354[_0x4b8958(0x175)]({'ciphertext':_0x587914,'salt':_0x301553});}},_0x14e3f7=_0x774444[_0x4e14f9(0x222)]=_0x3bbcfd[_0x4e14f9(0x19e)]({'cfg':_0x3bbcfd[_0x4e14f9(0x19e)]({'format':_0x4da902}),'encrypt':function(_0x531ee7,_0x3f58d3,_0x2a416c,_0x361e45){var _0x1739a4=_0x4e14f9;_0x361e45=this['cfg']['extend'](_0x361e45);var _0x4763c5=_0x531ee7['createEncryptor'](_0x2a416c,_0x361e45),_0xb80c3b=_0x4763c5[_0x1739a4(0x390)](_0x3f58d3),_0x48e2ec=_0x4763c5[_0x1739a4(0x2c2)];return _0x333354[_0x1739a4(0x175)]({'ciphertext':_0xb80c3b,'key':_0x2a416c,'iv':_0x48e2ec['iv'],'algorithm':_0x531ee7,'mode':_0x48e2ec[_0x1739a4(0x22e)],'padding':_0x48e2ec[_0x1739a4(0x4a9)],'blockSize':_0x531ee7[_0x1739a4(0x46e)],'formatter':_0x361e45[_0x1739a4(0x3ca)]});},'decrypt':function(_0x3f2716,_0x4ef2dd,_0x2d8ad4,_0x5043bb){var _0x2c5b8e=_0x4e14f9;_0x5043bb=this['cfg'][_0x2c5b8e(0x19e)](_0x5043bb),_0x4ef2dd=this[_0x2c5b8e(0x379)](_0x4ef2dd,_0x5043bb['format']);var _0x5e3601=_0x3f2716[_0x2c5b8e(0x445)](_0x2d8ad4,_0x5043bb)[_0x2c5b8e(0x390)](_0x4ef2dd['ciphertext']);return _0x5e3601;},'_parse':function(_0x332e7b,_0x4a0983){var _0x52b5f6=_0x4e14f9;return typeof _0x332e7b==_0x52b5f6(0x495)?_0x4a0983[_0x52b5f6(0x164)](_0x332e7b,this):_0x332e7b;}}),_0x42cd09=_0x42a016[_0x4e14f9(0x2ba)]={},_0x2eee33=_0x42cd09[_0x4e14f9(0x2df)]={'execute':function(_0x54ac8f,_0x4b63ae,_0x60f43f,_0x120c77,_0x21ea49){var _0x2066dd=_0x4e14f9;if(_0x120c77||(_0x120c77=_0x413496[_0x2066dd(0x2e1)](0x40/0x8)),_0x21ea49)var _0x50b669=_0x22e8f6[_0x2066dd(0x175)]({'keySize':_0x4b63ae+_0x60f43f,'hasher':_0x21ea49})[_0x2066dd(0x2a7)](_0x54ac8f,_0x120c77);else var _0x50b669=_0x22e8f6[_0x2066dd(0x175)]({'keySize':_0x4b63ae+_0x60f43f})[_0x2066dd(0x2a7)](_0x54ac8f,_0x120c77);var _0x5d45ea=_0x413496['create'](_0x50b669[_0x2066dd(0x2a5)][_0x2066dd(0x454)](_0x4b63ae),_0x60f43f*0x4);return _0x50b669[_0x2066dd(0x13f)]=_0x4b63ae*0x4,_0x333354[_0x2066dd(0x175)]({'key':_0x50b669,'iv':_0x5d45ea,'salt':_0x120c77});}},_0x16fbdf=_0x774444[_0x4e14f9(0x197)]=_0x14e3f7[_0x4e14f9(0x19e)]({'cfg':_0x14e3f7['cfg'][_0x4e14f9(0x19e)]({'kdf':_0x2eee33}),'encrypt':function(_0x302b5c,_0x1235df,_0x9a8269,_0x466b2f){var _0x878359=_0x4e14f9;_0x466b2f=this[_0x878359(0x2c2)][_0x878359(0x19e)](_0x466b2f);var _0x49d890=_0x466b2f[_0x878359(0x2ba)][_0x878359(0x1dd)](_0x9a8269,_0x302b5c['keySize'],_0x302b5c[_0x878359(0x14c)],_0x466b2f[_0x878359(0x41a)],_0x466b2f[_0x878359(0x42f)]);_0x466b2f['iv']=_0x49d890['iv'];var _0x51a46f=_0x14e3f7[_0x878359(0x1c9)]['call'](this,_0x302b5c,_0x1235df,_0x49d890['key'],_0x466b2f);return _0x51a46f['mixIn'](_0x49d890),_0x51a46f;},'decrypt':function(_0x1c9e69,_0x10c329,_0x3fa369,_0xcbfbbb){var _0x4c32a8=_0x4e14f9;_0xcbfbbb=this[_0x4c32a8(0x2c2)][_0x4c32a8(0x19e)](_0xcbfbbb),_0x10c329=this[_0x4c32a8(0x379)](_0x10c329,_0xcbfbbb[_0x4c32a8(0x3ca)]);var _0x745530=_0xcbfbbb[_0x4c32a8(0x2ba)][_0x4c32a8(0x1dd)](_0x3fa369,_0x1c9e69['keySize'],_0x1c9e69['ivSize'],_0x10c329[_0x4c32a8(0x41a)],_0xcbfbbb[_0x4c32a8(0x42f)]);_0xcbfbbb['iv']=_0x745530['iv'];var _0x1137e9=_0x14e3f7[_0x4c32a8(0x3c7)][_0x4c32a8(0x489)](this,_0x1c9e69,_0x10c329,_0x745530[_0x4c32a8(0x2fe)],_0xcbfbbb);return _0x1137e9;}});}();}));}(Ce)),Ce[_0x432129(0x48d)];}var Ai=Ie['exports'],tt;function Pi(){var _0x34aced=_0x310439;return tt||(tt=0x1,function(_0x5bcce7,_0x53d412){(function(_0x868c4f,_0xceb70,_0x2b9781){_0x5bcce7['exports']=_0xceb70(Q(),gt(),bi(),Tt(),Ct());}(Ai,function(_0x5fd818){var _0x56a590=_0x23f8;return(function(){var _0x18b267=_0x23f8,_0x46d7d9=_0x5fd818,_0xd7979b=_0x46d7d9[_0x18b267(0x402)],_0x1bfd99=_0xd7979b[_0x18b267(0x225)],_0xb88ebd=_0x46d7d9[_0x18b267(0x3ee)],_0x16998e=[],_0x42aa71=[],_0x58b0c4=[],_0x436e8f=[],_0x3f4880=[],_0x2e3c6b=[],_0x250bed=[],_0x2966b2=[],_0x5e5adf=[],_0x4eed1a=[];(function(){for(var _0x4b20c1=[],_0x341deb=0x0;_0x341deb<0x100;_0x341deb++)_0x341deb<0x80?_0x4b20c1[_0x341deb]=_0x341deb<<0x1:_0x4b20c1[_0x341deb]=_0x341deb<<0x1^0x11b;for(var _0x1911c4=0x0,_0x485b90=0x0,_0x341deb=0x0;_0x341deb<0x100;_0x341deb++){var _0x1991ab=_0x485b90^_0x485b90<<0x1^_0x485b90<<0x2^_0x485b90<<0x3^_0x485b90<<0x4;_0x1991ab=_0x1991ab>>>0x8^_0x1991ab&0xff^0x63,_0x16998e[_0x1911c4]=_0x1991ab,_0x42aa71[_0x1991ab]=_0x1911c4;var _0xabf9b0=_0x4b20c1[_0x1911c4],_0x37be60=_0x4b20c1[_0xabf9b0],_0xab439f=_0x4b20c1[_0x37be60],_0x48ec91=_0x4b20c1[_0x1991ab]*0x101^_0x1991ab*0x1010100;_0x58b0c4[_0x1911c4]=_0x48ec91<<0x18|_0x48ec91>>>0x8,_0x436e8f[_0x1911c4]=_0x48ec91<<0x10|_0x48ec91>>>0x10,_0x3f4880[_0x1911c4]=_0x48ec91<<0x8|_0x48ec91>>>0x18,_0x2e3c6b[_0x1911c4]=_0x48ec91;var _0x48ec91=_0xab439f*0x1010101^_0x37be60*0x10001^_0xabf9b0*0x101^_0x1911c4*0x1010100;_0x250bed[_0x1991ab]=_0x48ec91<<0x18|_0x48ec91>>>0x8,_0x2966b2[_0x1991ab]=_0x48ec91<<0x10|_0x48ec91>>>0x10,_0x5e5adf[_0x1991ab]=_0x48ec91<<0x8|_0x48ec91>>>0x18,_0x4eed1a[_0x1991ab]=_0x48ec91,_0x1911c4?(_0x1911c4=_0xabf9b0^_0x4b20c1[_0x4b20c1[_0x4b20c1[_0xab439f^_0xabf9b0]]],_0x485b90^=_0x4b20c1[_0x4b20c1[_0x485b90]]):_0x1911c4=_0x485b90=0x1;}}());var _0x2c5255=[0x0,0x1,0x2,0x4,0x8,0x10,0x20,0x40,0x80,0x1b,0x36],_0x97864e=_0xb88ebd[_0x18b267(0x435)]=_0x1bfd99[_0x18b267(0x19e)]({'_doReset':function(){var _0x4b597e=_0x18b267,_0x1810c4;if(!(this[_0x4b597e(0x398)]&&this[_0x4b597e(0x2f4)]===this['_key'])){for(var _0x5bbd15=this[_0x4b597e(0x2f4)]=this[_0x4b597e(0x3a9)],_0x148d38=_0x5bbd15[_0x4b597e(0x2a5)],_0x47e4e9=_0x5bbd15[_0x4b597e(0x13f)]/0x4,_0x1b8f70=this[_0x4b597e(0x398)]=_0x47e4e9+0x6,_0x4b5a40=(_0x1b8f70+0x1)*0x4,_0x385e56=this[_0x4b597e(0x221)]=[],_0x4f757e=0x0;_0x4f757e<_0x4b5a40;_0x4f757e++)_0x4f757e<_0x47e4e9?_0x385e56[_0x4f757e]=_0x148d38[_0x4f757e]:(_0x1810c4=_0x385e56[_0x4f757e-0x1],_0x4f757e%_0x47e4e9?_0x47e4e9>0x6&&_0x4f757e%_0x47e4e9==0x4&&(_0x1810c4=_0x16998e[_0x1810c4>>>0x18]<<0x18|_0x16998e[_0x1810c4>>>0x10&0xff]<<0x10|_0x16998e[_0x1810c4>>>0x8&0xff]<<0x8|_0x16998e[_0x1810c4&0xff]):(_0x1810c4=_0x1810c4<<0x8|_0x1810c4>>>0x18,_0x1810c4=_0x16998e[_0x1810c4>>>0x18]<<0x18|_0x16998e[_0x1810c4>>>0x10&0xff]<<0x10|_0x16998e[_0x1810c4>>>0x8&0xff]<<0x8|_0x16998e[_0x1810c4&0xff],_0x1810c4^=_0x2c5255[_0x4f757e/_0x47e4e9|0x0]<<0x18),_0x385e56[_0x4f757e]=_0x385e56[_0x4f757e-_0x47e4e9]^_0x1810c4);for(var _0x4d71a8=this['_invKeySchedule']=[],_0x1df6e1=0x0;_0x1df6e1<_0x4b5a40;_0x1df6e1++){var _0x4f757e=_0x4b5a40-_0x1df6e1;if(_0x1df6e1%0x4)var _0x1810c4=_0x385e56[_0x4f757e];else var _0x1810c4=_0x385e56[_0x4f757e-0x4];_0x1df6e1<0x4||_0x4f757e<=0x4?_0x4d71a8[_0x1df6e1]=_0x1810c4:_0x4d71a8[_0x1df6e1]=_0x250bed[_0x16998e[_0x1810c4>>>0x18]]^_0x2966b2[_0x16998e[_0x1810c4>>>0x10&0xff]]^_0x5e5adf[_0x16998e[_0x1810c4>>>0x8&0xff]]^_0x4eed1a[_0x16998e[_0x1810c4&0xff]];}}},'encryptBlock':function(_0x142f24,_0x2b272f){var _0x10676b=_0x18b267;this[_0x10676b(0x14f)](_0x142f24,_0x2b272f,this[_0x10676b(0x221)],_0x58b0c4,_0x436e8f,_0x3f4880,_0x2e3c6b,_0x16998e);},'decryptBlock':function(_0x1bfd5,_0x27dfe7){var _0x4baa3e=_0x1bfd5[_0x27dfe7+0x1];_0x1bfd5[_0x27dfe7+0x1]=_0x1bfd5[_0x27dfe7+0x3],_0x1bfd5[_0x27dfe7+0x3]=_0x4baa3e,this['_doCryptBlock'](_0x1bfd5,_0x27dfe7,this['_invKeySchedule'],_0x250bed,_0x2966b2,_0x5e5adf,_0x4eed1a,_0x42aa71);var _0x4baa3e=_0x1bfd5[_0x27dfe7+0x1];_0x1bfd5[_0x27dfe7+0x1]=_0x1bfd5[_0x27dfe7+0x3],_0x1bfd5[_0x27dfe7+0x3]=_0x4baa3e;},'_doCryptBlock':function(_0x47f5e9,_0x5c66c1,_0x25d5a0,_0x2fe1b9,_0x498389,_0x24a792,_0x49c790,_0x407cc6){for(var _0x230c2b=this['_nRounds'],_0x1b508a=_0x47f5e9[_0x5c66c1]^_0x25d5a0[0x0],_0x7c4692=_0x47f5e9[_0x5c66c1+0x1]^_0x25d5a0[0x1],_0x2c5098=_0x47f5e9[_0x5c66c1+0x2]^_0x25d5a0[0x2],_0x3e7182=_0x47f5e9[_0x5c66c1+0x3]^_0x25d5a0[0x3],_0xe1aab9=0x4,_0x3b58ba=0x1;_0x3b58ba<_0x230c2b;_0x3b58ba++){var _0x2b2d0c=_0x2fe1b9[_0x1b508a>>>0x18]^_0x498389[_0x7c4692>>>0x10&0xff]^_0x24a792[_0x2c5098>>>0x8&0xff]^_0x49c790[_0x3e7182&0xff]^_0x25d5a0[_0xe1aab9++],_0x51bce6=_0x2fe1b9[_0x7c4692>>>0x18]^_0x498389[_0x2c5098>>>0x10&0xff]^_0x24a792[_0x3e7182>>>0x8&0xff]^_0x49c790[_0x1b508a&0xff]^_0x25d5a0[_0xe1aab9++],_0x3fe6ba=_0x2fe1b9[_0x2c5098>>>0x18]^_0x498389[_0x3e7182>>>0x10&0xff]^_0x24a792[_0x1b508a>>>0x8&0xff]^_0x49c790[_0x7c4692&0xff]^_0x25d5a0[_0xe1aab9++],_0x21c55e=_0x2fe1b9[_0x3e7182>>>0x18]^_0x498389[_0x1b508a>>>0x10&0xff]^_0x24a792[_0x7c4692>>>0x8&0xff]^_0x49c790[_0x2c5098&0xff]^_0x25d5a0[_0xe1aab9++];_0x1b508a=_0x2b2d0c,_0x7c4692=_0x51bce6,_0x2c5098=_0x3fe6ba,_0x3e7182=_0x21c55e;}var _0x2b2d0c=(_0x407cc6[_0x1b508a>>>0x18]<<0x18|_0x407cc6[_0x7c4692>>>0x10&0xff]<<0x10|_0x407cc6[_0x2c5098>>>0x8&0xff]<<0x8|_0x407cc6[_0x3e7182&0xff])^_0x25d5a0[_0xe1aab9++],_0x51bce6=(_0x407cc6[_0x7c4692>>>0x18]<<0x18|_0x407cc6[_0x2c5098>>>0x10&0xff]<<0x10|_0x407cc6[_0x3e7182>>>0x8&0xff]<<0x8|_0x407cc6[_0x1b508a&0xff])^_0x25d5a0[_0xe1aab9++],_0x3fe6ba=(_0x407cc6[_0x2c5098>>>0x18]<<0x18|_0x407cc6[_0x3e7182>>>0x10&0xff]<<0x10|_0x407cc6[_0x1b508a>>>0x8&0xff]<<0x8|_0x407cc6[_0x7c4692&0xff])^_0x25d5a0[_0xe1aab9++],_0x21c55e=(_0x407cc6[_0x3e7182>>>0x18]<<0x18|_0x407cc6[_0x1b508a>>>0x10&0xff]<<0x10|_0x407cc6[_0x7c4692>>>0x8&0xff]<<0x8|_0x407cc6[_0x2c5098&0xff])^_0x25d5a0[_0xe1aab9++];_0x47f5e9[_0x5c66c1]=_0x2b2d0c,_0x47f5e9[_0x5c66c1+0x1]=_0x51bce6,_0x47f5e9[_0x5c66c1+0x2]=_0x3fe6ba,_0x47f5e9[_0x5c66c1+0x3]=_0x21c55e;},'keySize':0x100/0x20});_0x46d7d9['AES']=_0x1bfd99['_createHelper'](_0x97864e);}()),_0x5fd818[_0x56a590(0x435)];}));}(Ie)),Ie[_0x34aced(0x48d)];}var Li=Pi();const Mi=de(Li);var wi=gt();const it=de(wi);var be={'exports':{}},xi=be[_0x310439(0x48d)],nt;function ki(){var _0x13427b=_0x310439;return nt||(nt=0x1,function(_0x4c3ab5,_0x3ec0e6){(function(_0x2d84d5,_0x3b0051){var _0x28a1a7=_0x23f8;_0x4c3ab5[_0x28a1a7(0x48d)]=_0x3b0051(Q());}(xi,function(_0x53ade0){var _0x3f086c=_0x23f8;return _0x53ade0[_0x3f086c(0x279)][_0x3f086c(0x20f)];}));}(be)),be[_0x13427b(0x48d)];}var Hi=ki();const $i=de(Hi);var Oe={'exports':{}},ji=Oe[_0x310439(0x48d)],st;function Bi(){return st||(st=0x1,function(_0x238c51,_0x5de18e){(function(_0x4d14e3,_0x4f52e5){_0x238c51['exports']=_0x4f52e5(Q());}(ji,function(_0x5289ea){return(function(){var _0x29b3a1=_0x23f8;if(typeof ArrayBuffer=='function'){var _0x282117=_0x5289ea,_0x4db7ad=_0x282117[_0x29b3a1(0x402)],_0x21943f=_0x4db7ad[_0x29b3a1(0x4ab)],_0x36a8c6=_0x21943f['init'],_0x34f964=_0x21943f['init']=function(_0x48a066){var _0x9aba23=_0x29b3a1;if(_0x48a066 instanceof ArrayBuffer&&(_0x48a066=new Uint8Array(_0x48a066)),(_0x48a066 instanceof Int8Array||typeof Uint8ClampedArray<'u'&&_0x48a066 instanceof Uint8ClampedArray||_0x48a066 instanceof Int16Array||_0x48a066 instanceof Uint16Array||_0x48a066 instanceof Int32Array||_0x48a066 instanceof Uint32Array||_0x48a066 instanceof Float32Array||_0x48a066 instanceof Float64Array)&&(_0x48a066=new Uint8Array(_0x48a066[_0x9aba23(0x321)],_0x48a066[_0x9aba23(0x455)],_0x48a066['byteLength'])),_0x48a066 instanceof Uint8Array){for(var _0x1301e2=_0x48a066['byteLength'],_0x5814aa=[],_0x4916d4=0x0;_0x4916d4<_0x1301e2;_0x4916d4++)_0x5814aa[_0x4916d4>>>0x2]|=_0x48a066[_0x4916d4]<<0x18-_0x4916d4%0x4*0x8;_0x36a8c6['call'](this,_0x5814aa,_0x1301e2);}else _0x36a8c6['apply'](this,arguments);};_0x34f964[_0x29b3a1(0x1bd)]=_0x21943f;}}()),_0x5289ea['lib']['WordArray'];}));}(Oe)),Oe['exports'];}var Fi=Bi();const Vi=de(Fi);var Re={'exports':{}},Wi=Re['exports'],rt;function Gi(){var _0x1fda59=_0x310439;return rt||(rt=0x1,function(_0x2b82ad,_0x461f98){(function(_0x1220f7,_0x57f44d,_0xac416){_0x2b82ad['exports']=_0x57f44d(Q(),Ct());}(Wi,function(_0x34b257){var _0x4eafb3=_0x23f8;return _0x34b257['pad']['NoPadding']={'pad':function(){},'unpad':function(){}},_0x34b257['pad'][_0x4eafb3(0x47f)];}));}(Re)),Re[_0x1fda59(0x48d)];}var Yi=Gi();const Ki=de(Yi);function qi(_0x3bf853,_0xadc554){var _0x21ef35=_0x310439;const _0x34a7d5=_0xadc554-_0x3bf853[_0x21ef35(0x206)]%_0xadc554,_0x295d31=String[_0x21ef35(0x249)](_0x34a7d5)[_0x21ef35(0x3ed)](_0x34a7d5);return _0x3bf853+_0x295d31;}function zi(_0x5d9b05,_0x34999d){var _0x4e0329=_0x310439;const _0x1afcde=Vi[_0x4e0329(0x2e1)](0x10),_0x5c05fe=qi(_0x5d9b05,0x10),_0x5d68f9=Mi[_0x4e0329(0x1c9)]($i['parse'](_0x5c05fe),it[_0x4e0329(0x164)](_0x34999d),{'iv':_0x1afcde,'padding':Ki});return _0x1afcde['concat'](_0x5d68f9[_0x4e0329(0x328)])['toString'](it);}function Xi(){var _0x56cf28=_0x310439;const _0x34e8cd=Nt['getGlobalObject']()[_0x56cf28(0x244)];if(_0x34e8cd){const _0x108fc4={'time':Math[_0x56cf28(0x377)](Date[_0x56cf28(0x38b)]()/0x3e8),'domain':location['hostname']};return zi(JSON['stringify'](_0x108fc4),_0x34e8cd);}}var Ji=Object['getOwnPropertyDescriptor'],Zi=(_0x57c859,_0x2b8931,_0x404c50,_0x4c2c97)=>{var _0x576923=_0x310439;for(var _0x3c50c1=_0x4c2c97>0x1?void 0x0:_0x4c2c97?Ji(_0x2b8931,_0x404c50):_0x2b8931,_0x501281=_0x57c859[_0x576923(0x206)]-0x1,_0x407b3e;_0x501281>=0x0;_0x501281--)(_0x407b3e=_0x57c859[_0x501281])&&(_0x3c50c1=_0x407b3e(_0x3c50c1)||_0x3c50c1);return _0x3c50c1;},Qi=(_0x18c20b,_0xc76265)=>(_0x7fd704,_0x2f2eef)=>_0xc76265(_0x7fd704,_0x2f2eef,_0x18c20b);let De=class{constructor(_0x1307f3){var _0x27bd02=_0x310439;this[_0x27bd02(0x29c)]=_0x1307f3,this[_0x27bd02(0x386)]();}['_initRequestHeader'](){this['_httpService']['registerHTTPInterceptor']({'interceptor':(_0x1ca48f,_0x133b09)=>{var _0x58ccd5=_0x23f8;const _0x4a7c9e=_0x1ca48f[_0x58ccd5(0x22f)],_0x298aea=Xi();return _0x298aea&&_0x4a7c9e['set']('x-univer-host',_0x298aea),_0x133b09(_0x1ca48f);}});}};De=Zi([Qi(0x0,o[_0x310439(0x283)](K[_0x310439(0x303)]))],De);var en=Object[_0x310439(0x18a)],tn=(_0x14334c,_0x2d82e0,_0x1ae2e8,_0x37354d)=>{var _0x13969f=_0x310439;for(var _0x1218bb=_0x37354d>0x1?void 0x0:_0x37354d?en(_0x2d82e0,_0x1ae2e8):_0x2d82e0,_0x24b7c9=_0x14334c[_0x13969f(0x206)]-0x1,_0x260a10;_0x24b7c9>=0x0;_0x24b7c9--)(_0x260a10=_0x14334c[_0x24b7c9])&&(_0x1218bb=_0x260a10(_0x1218bb)||_0x1218bb);return _0x1218bb;},Le=(_0x126252,_0x2c4b33)=>(_0xe149ad,_0x3d20a4)=>_0x2c4b33(_0xe149ad,_0x3d20a4,_0x126252);exports[_0x310439(0x3f0)]=class extends o[_0x310439(0x322)]{constructor(_0x57945d,_0x22be4e,_0x89172a){var _0x36cc3c=_0x310439;super(),A(this,_0x36cc3c(0x480),new j[(_0x36cc3c(0x257))](null)),A(this,'unitInfo$',this[_0x36cc3c(0x480)][_0x36cc3c(0x1a4)]()),(this[_0x36cc3c(0x1b9)]=_0x57945d,this[_0x36cc3c(0x362)]=_0x22be4e,this[_0x36cc3c(0x2aa)]=_0x89172a);}async[_0x310439(0x1c0)](_0x1c80e5,_0x2b7811,_0x34964b){var _0x3fd32d=_0x310439;this[_0x3fd32d(0x480)][_0x3fd32d(0x30e)]({'unitId':_0x1c80e5,'type':_0x2b7811});let _0x3cb296=null;switch(_0x2b7811){case X['UNIVER_SHEET']:{_0x3cb296=await this[_0x3fd32d(0x362)][_0x3fd32d(0x273)](_0x1c80e5,_0x34964b);break;}case X[_0x3fd32d(0x33e)]:{_0x3cb296=await this[_0x3fd32d(0x362)][_0x3fd32d(0x420)](_0x1c80e5,_0x34964b);break;}default:{this[_0x3fd32d(0x1b9)][_0x3fd32d(0x3e0)](_0x3fd32d(0x3e4),'Unknown\x20type.\x20Will\x20not\x20load\x20files\x20from\x20remote\x20address.');break;}}return _0x3cb296;}async[_0x310439(0x29b)](_0x4a9620,_0x2de02b,_0x3d646a){var _0xff2f5f=_0x310439,_0x2a46b2;this[_0xff2f5f(0x480)][_0xff2f5f(0x30e)]({'unitId':_0x4a9620,'type':_0x2de02b,'subUnitId':_0x3d646a});let _0x49e7ad=0x0;const _0x242f9b=await((_0x2a46b2=this[_0xff2f5f(0x2aa)])==null?void 0x0:_0x2a46b2['loadOfflineData'](_0x4a9620));return _0x242f9b&&(_0x242f9b['awaitingChangeset']||_0x242f9b[_0xff2f5f(0x339)]['length']!==0x0)&&(_0x49e7ad=_0x242f9b[_0xff2f5f(0x42e)]),_0x49e7ad===0x0&&this['_logService'][_0xff2f5f(0x3bb)](_0xff2f5f(0x3e4),_0xff2f5f(0x31c)),this[_0xff2f5f(0x1c0)](_0x4a9620,_0x2de02b,_0x49e7ad);}},exports[_0x310439(0x3f0)]=tn([Le(0x0,o[_0x310439(0x414)]),Le(0x1,o[_0x310439(0x283)](E[_0x310439(0x497)])),Le(0x2,o[_0x310439(0x319)](q))],exports[_0x310439(0x3f0)]);var nn=Object[_0x310439(0x18a)],sn=(_0x5b798b,_0x57e10c,_0x887fb2,_0x17e5b0)=>{for(var _0xea3c7=_0x17e5b0>0x1?void 0x0:_0x17e5b0?nn(_0x57e10c,_0x887fb2):_0x57e10c,_0x16a278=_0x5b798b['length']-0x1,_0x512fb5;_0x16a278>=0x0;_0x16a278--)(_0x512fb5=_0x5b798b[_0x16a278])&&(_0xea3c7=_0x512fb5(_0xea3c7)||_0xea3c7);return _0xea3c7;},Me=(_0x12f7cd,_0xf0fb44)=>(_0x1084da,_0x30e261)=>_0xf0fb44(_0x1084da,_0x30e261,_0x12f7cd);const rn=[_0x310439(0x421),_0x310439(0x17a),'image/jpg',_0x310439(0x1cc),'image/bmp'],an=0x5*0x400*0x400,on='/universer-api/stream/file/upload',cn=_0x310439(0x3b9);exports[_0x310439(0x26e)]=class{constructor(_0x3b081d,_0x2f1a2e,_0x1a4f45){var _0x268a2f=_0x310439;A(this,'_waitCount',0x0),A(this,'_change$',new j[(_0x268a2f(0x214))]()),A(this,_0x268a2f(0x366),this['_change$']),A(this,'_imageSourceCache',new Map()),(this[_0x268a2f(0x29c)]=_0x3b081d,this[_0x268a2f(0x447)]=_0x2f1a2e,this[_0x268a2f(0x3b0)]=_0x1a4f45);}[_0x310439(0x22c)](_0x21418d){var _0x5720a6=_0x310439;this[_0x5720a6(0x293)]=_0x21418d,this[_0x5720a6(0x1e1)][_0x5720a6(0x30e)](_0x21418d);}[_0x310439(0x137)](_0x99c186,_0x5a2814){var _0x1114e9=_0x310439;if(_0x5a2814===z['ImageSourceType']['BASE64']){const _0x445dd2=new Image();return _0x445dd2[_0x1114e9(0x148)]=_0x99c186,_0x445dd2;}return this['_imageSourceCache'][_0x1114e9(0x255)](_0x99c186);}[_0x310439(0x277)](_0x53fc56,_0x57f798,_0x4d4654){var _0x4ffd1b=_0x310439;_0x57f798===z[_0x4ffd1b(0x243)]['BASE64']||_0x4d4654==null||this[_0x4ffd1b(0x1a3)][_0x4ffd1b(0x195)](_0x53fc56,_0x4d4654);}async['getImage'](_0x2a99a9){var _0x17d060=_0x310439;try{const _0x40a194=this['_replaceFileID'](this[_0x17d060(0x17c)](),''+_0x2a99a9),_0x2b2f21=(await this['_httpService']['get'](_0x40a194))[_0x17d060(0x1ce)];if(_0x2b2f21['error']&&_0x2b2f21['error'][_0x17d060(0x34c)]===vt['OK']){const _0x233159=new URL(_0x2b2f21['url'],this[_0x17d060(0x1fa)]())[_0x17d060(0x3f7)]();return Promise[_0x17d060(0x23d)](_0x233159);}return Promise[_0x17d060(0x2db)](_0x2b2f21[_0x17d060(0x3e0)]);}catch(_0x487b00){return Promise[_0x17d060(0x2db)](_0x487b00);}}async[_0x310439(0x439)](_0x5196eb){var _0x437b80=_0x310439;let _0x546542='';if(!rn[_0x437b80(0x23e)](_0x5196eb['type']))return this['_decreaseWaiting'](),Promise[_0x437b80(0x2db)](new Error(z[_0x437b80(0x22d)][_0x437b80(0x2f7)]));if(_0x5196eb[_0x437b80(0x466)]>an)return this['_decreaseWaiting'](),Promise[_0x437b80(0x2db)](new Error(z[_0x437b80(0x22d)][_0x437b80(0x252)]));try{const _0x417780=new FormData();_0x417780[_0x437b80(0x25e)]('file',_0x5196eb);const _0x12a165=this[_0x437b80(0x3b0)]['getFocusedUnit'](),_0x106644=_0x12a165==null?void 0x0:_0x12a165[_0x437b80(0x2ed)]();if(!_0x106644)throw new Error('unitId\x20is\x20not\x20found');const _0x3c21eb=this[_0x437b80(0x36c)]()+_0x437b80(0x498)+_0x5196eb[_0x437b80(0x466)][_0x437b80(0x3f7)]()+_0x437b80(0x287)+dt[_0x437b80(0x229)]+_0x437b80(0x324)+encodeURIComponent(_0x106644),_0x40c06c={'body':_0x417780},_0x1c5411=(await this[_0x437b80(0x29c)]['post'](_0x3c21eb,_0x40c06c))['body'];if(typeof _0x1c5411[_0x437b80(0x2d6)]!=_0x437b80(0x495))return this[_0x437b80(0x347)](),Promise['reject'](new Error(z[_0x437b80(0x22d)]['ERROR_IMAGE']));_0x546542=_0x1c5411['FileId'];}catch{return this[_0x437b80(0x347)](),Promise[_0x437b80(0x2db)](new Error(z[_0x437b80(0x22d)]['ERROR_IMAGE']));}return new Promise((_0x302a26,_0x6cd657)=>{var _0x12c944=_0x437b80;const _0x4e64c0=new FileReader();_0x4e64c0[_0x12c944(0x1da)](_0x5196eb),_0x4e64c0[_0x12c944(0x399)]=_0x5a60e3=>{var _0x6aaf54=_0x12c944,_0x3d7fb4;const _0x12f98d=(_0x3d7fb4=_0x5a60e3[_0x6aaf54(0x184)])==null?void 0x0:_0x3d7fb4[_0x6aaf54(0x1ee)];if(_0x12f98d==null){this[_0x6aaf54(0x347)](),_0x6cd657(new Error(z[_0x6aaf54(0x22d)][_0x6aaf54(0x3cf)]));return;}const _0x27ddb8=o[_0x6aaf54(0x446)](0x6);_0x302a26({'imageId':_0x27ddb8,'imageSourceType':z[_0x6aaf54(0x243)]['UUID'],'source':_0x546542,'base64Cache':_0x12f98d,'status':z[_0x6aaf54(0x22d)][_0x6aaf54(0x1bf)]}),this[_0x6aaf54(0x347)]();};});}[_0x310439(0x36c)](){var _0x173fb9=_0x310439,_0x4d9d14;const _0x160ceb=this['_configService'][_0x173fb9(0x1e3)](Y);return(_0x4d9d14=_0x160ceb==null?void 0x0:_0x160ceb[_0x173fb9(0x3a3)])!=null?_0x4d9d14:on;}[_0x310439(0x17c)](){var _0x5cb504=_0x310439,_0x25bd3d;const _0x5ea941=this[_0x5cb504(0x447)][_0x5cb504(0x1e3)](Y);return(_0x25bd3d=_0x5ea941==null?void 0x0:_0x5ea941[_0x5cb504(0x3c5)])!=null?_0x25bd3d:cn;}[_0x310439(0x1fa)](){var _0x1f3f68=_0x310439,_0x172241;const _0x36d6c6=this[_0x1f3f68(0x447)][_0x1f3f68(0x1e3)](Y);return(_0x172241=_0x36d6c6==null?void 0x0:_0x36d6c6[_0x1f3f68(0x39e)])!=null?_0x172241:location[_0x1f3f68(0x28e)];}[_0x310439(0x3fd)](_0x1e82eb,_0x1880ac){var _0x90a861=_0x310439;return _0x1e82eb[_0x90a861(0x27a)]('{fileID}',_0x1880ac);}[_0x310439(0x347)](){var _0x4f69fa=_0x310439;this[_0x4f69fa(0x293)]-=0x1,this[_0x4f69fa(0x1e1)][_0x4f69fa(0x30e)](this[_0x4f69fa(0x293)]);}},exports[_0x310439(0x26e)]=sn([Me(0x0,o['Inject'](K['HTTPService'])),Me(0x1,o['IConfigService']),Me(0x2,o[_0x310439(0x283)](o[_0x310439(0x17e)]))],exports['CollaborationImageIoService']);var hn=Object['getOwnPropertyDescriptor'],_n=(_0x33706f,_0xc76636,_0x25c772,_0x1fa06e)=>{var _0x28e6d3=_0x310439;for(var _0x38d989=_0x1fa06e>0x1?void 0x0:_0x1fa06e?hn(_0xc76636,_0x25c772):_0xc76636,_0x378484=_0x33706f[_0x28e6d3(0x206)]-0x1,_0x37f195;_0x378484>=0x0;_0x378484--)(_0x37f195=_0x33706f[_0x378484])&&(_0x38d989=_0x37f195(_0x38d989)||_0x38d989);return _0x38d989;},at=(_0x412f81,_0xd75c29)=>(_0x3de243,_0x16417c)=>_0xd75c29(_0x3de243,_0x16417c,_0x412f81);const ln='/universer-api/authz';exports[_0x310439(0x189)]=class{constructor(_0x4ceb6a,_0x316b1f){var _0x4aaeee=_0x310439;this[_0x4aaeee(0x447)]=_0x4ceb6a,this[_0x4aaeee(0x187)]=_0x316b1f;}['_getAPIPrefixPath'](){var _0x5a1f4f=_0x310439,_0x1d85ba;const _0x3fc278=this[_0x5a1f4f(0x447)][_0x5a1f4f(0x1e3)](Y);return(_0x1d85ba=_0x3fc278==null?void 0x0:_0x3fc278['authzUrl'])!=null?_0x1d85ba:ln;}async[_0x310439(0x3fe)](_0x46d309){var _0x1de149=_0x310439;const _0x40f2ee=this[_0x1de149(0x1ea)]()+'/collaborator';return{'list':[{'title':'People','mentions':(await this[_0x1de149(0x187)][_0x1de149(0x255)](_0x40f2ee,{'params':{'objectID':_0x46d309[_0x1de149(0x268)],'unitID':_0x46d309[_0x1de149(0x268)]}}))[_0x1de149(0x1ce)]['collaborators'][_0x1de149(0x25b)](_0x42d029=>({'objectId':_0x42d029['id'],'name':_0x42d029[_0x1de149(0x28c)][_0x1de149(0x368)],'metadata':{'icon':_0x42d029[_0x1de149(0x28c)][_0x1de149(0x3ef)]},'label':_0x42d029['subject'][_0x1de149(0x368)],'objectType':o['MentionType'][_0x1de149(0x4a5)]})),'metadata':{},'type':o[_0x1de149(0x2b3)][_0x1de149(0x4a5)]}]};}},exports[_0x310439(0x189)]=_n([at(0x0,o[_0x310439(0x283)](o['IConfigService'])),at(0x1,o['Inject'](K['HTTPService']))],exports[_0x310439(0x189)]);var un=Object[_0x310439(0x18a)],vn=(_0x147945,_0x2f4a72,_0x37d808,_0x56e076)=>{var _0xc34dd6=_0x310439;for(var _0x17be35=_0x56e076>0x1?void 0x0:_0x56e076?un(_0x2f4a72,_0x37d808):_0x2f4a72,_0x562639=_0x147945[_0xc34dd6(0x206)]-0x1,_0x30824c;_0x562639>=0x0;_0x562639--)(_0x30824c=_0x147945[_0x562639])&&(_0x17be35=_0x30824c(_0x17be35)||_0x17be35);return _0x17be35;},le=(_0x4e5283,_0x9d10be)=>(_0x30985b,_0x1122c5)=>_0x9d10be(_0x30985b,_0x1122c5,_0x4e5283);let ye=class extends o[_0x310439(0x322)]{constructor(_0x23ae6d,_0x112221,_0xd02caa,_0x8c3325,_0x7f1a18){var _0x51c4a9=_0x310439;super(),this[_0x51c4a9(0x32c)]=_0x23ae6d,this[_0x51c4a9(0x3b0)]=_0x112221,this[_0x51c4a9(0x1ac)]=_0xd02caa,this['_collaborationSessionService']=_0x8c3325,this['_collaborationUIEventService']=_0x7f1a18,this[_0x51c4a9(0x333)](),this['_initCloseConn']();}[_0x310439(0x179)](){var _0x50acaf=_0x310439;const _0x220dab=async _0x295f87=>{var _0x18e6a1=_0x23f8;(await this[_0x18e6a1(0x24a)][_0x18e6a1(0x178)](_0x295f87))['event$'][_0x18e6a1(0x2da)](V[_0x18e6a1(0x24f)](_0x25b722=>_0x25b722[_0x18e6a1(0x21e)]===E[_0x18e6a1(0x300)][_0x18e6a1(0x14d)]),V[_0x18e6a1(0x45a)](this[_0x18e6a1(0x40d)]))[_0x18e6a1(0x301)](_0x5ac407=>{var _0x280c0a=_0x18e6a1;const _0x751905=_0x5ac407,{reason:_0x5e1c04}=_0x751905[_0x280c0a(0x442)];this[_0x280c0a(0x410)][_0x280c0a(0x174)]({'id':Z[_0x280c0a(0x2bc)],'data':_0x5e1c04}),this[_0x280c0a(0x1ac)]['updatePermissionPoint'](new J[(_0x280c0a(0x2d1))](_0x295f87)['id'],!0x1),this[_0x280c0a(0x24a)][_0x280c0a(0x2d0)](_0x295f87);});};j[_0x50acaf(0x3f4)](this[_0x50acaf(0x3b0)][_0x50acaf(0x47b)](o['UniverInstanceType'][_0x50acaf(0x47d)]),this['_univerInstanceService'][_0x50acaf(0x47b)](o['UniverInstanceType'][_0x50acaf(0x33e)]))[_0x50acaf(0x2da)](V['map'](_0x24a912=>_0x24a912[_0x50acaf(0x2ed)]()),V['filter'](_0x35f257=>!o[_0x50acaf(0x260)](_0x35f257)),V['takeUntil'](this[_0x50acaf(0x40d)]))[_0x50acaf(0x301)](_0x3be6e6=>{_0x220dab(_0x3be6e6);});}[_0x310439(0x333)](){var _0x29bbfd=_0x310439;const _0x47baba=async _0x2f7350=>{var _0x32016e=_0x23f8;const _0x121df7=await this[_0x32016e(0x24a)][_0x32016e(0x178)](_0x2f7350),_0x4bf5ab=this['_injector'][_0x32016e(0x255)](J['SheetPermissionInitController']);_0x121df7['event$'][_0x32016e(0x2da)](V[_0x32016e(0x24f)](_0x465fe4=>_0x465fe4['eventID']===E[_0x32016e(0x300)]['UPDATE_PERMISSION_OBJ']),V['takeUntil'](this[_0x32016e(0x40d)]))[_0x32016e(0x301)](_0x18b976=>{var _0x41af76=_0x32016e;const _0x207ffc=_0x18b976,{objectId:_0x36f303}=_0x207ffc[_0x41af76(0x442)];_0x36f303===_0x2f7350?_0x4bf5ab[_0x41af76(0x2e7)](_0x2f7350):_0x4bf5ab['refreshPermission'](_0x2f7350,_0x36f303);});};j[_0x29bbfd(0x3f4)](this[_0x29bbfd(0x3b0)]['getTypeOfUnitAdded$'](o[_0x29bbfd(0x2fb)]['UNIVER_SHEET']))[_0x29bbfd(0x2da)](V[_0x29bbfd(0x25b)](_0x377f1e=>_0x377f1e[_0x29bbfd(0x2ed)]()),V['filter'](_0x57db69=>!o[_0x29bbfd(0x260)](_0x57db69)),V['takeUntil'](this[_0x29bbfd(0x40d)]))[_0x29bbfd(0x301)](_0x1c8e20=>{_0x47baba(_0x1c8e20);});}};ye=vn([le(0x0,o[_0x310439(0x283)](o[_0x310439(0x36f)])),le(0x1,o[_0x310439(0x17e)]),le(0x2,o[_0x310439(0x3ff)]),le(0x3,o['Inject'](exports['CollaborationSessionService'])),le(0x4,o[_0x310439(0x283)](ee))],ye);var dn=Object[_0x310439(0x18a)],Sn=(_0x2236d5,_0x5cb5bb,_0xd4fc67,_0x1247c5)=>{var _0x446aba=_0x310439;for(var _0x19a31d=_0x1247c5>0x1?void 0x0:_0x1247c5?dn(_0x5cb5bb,_0xd4fc67):_0x5cb5bb,_0x53c636=_0x2236d5[_0x446aba(0x206)]-0x1,_0x3ea5e2;_0x53c636>=0x0;_0x53c636--)(_0x3ea5e2=_0x2236d5[_0x53c636])&&(_0x19a31d=_0x3ea5e2(_0x19a31d)||_0x19a31d);return _0x19a31d;},ot=(_0x2a1fcf,_0x220c38)=>(_0x2e3064,_0x17e767)=>_0x220c38(_0x2e3064,_0x17e767,_0x2a1fcf);exports['SnapshotServerOverHTTPService']=class{constructor(_0x57602a,_0xed6207){var _0x22d636=_0x310439;this[_0x22d636(0x447)]=_0x57602a,this[_0x22d636(0x29c)]=_0xed6207;}async[_0x310439(0x37b)](_0x13e7be,_0x1ec0d5){var _0x11a94e=_0x310439,_0x2615dd;const {unitID:_0x156f00,type:_0x42e905,revision:_0x3255db=0x0}=_0x1ec0d5,_0x3f4825=this[_0x11a94e(0x3b8)]()+'/'+_0x42e905+_0x11a94e(0x2e5)+_0x156f00+_0x11a94e(0x48f)+_0x3255db,_0x6eb861=(await this[_0x11a94e(0x29c)][_0x11a94e(0x255)](_0x3f4825))['body'],_0x4d3b33=(_0x2615dd=_0x6eb861[_0x11a94e(0x232)])==null?void 0x0:_0x2615dd[_0x11a94e(0x39d)];if(_0x4d3b33){const _0xc8330a=_0x4d3b33==null?void 0x0:_0x4d3b33[_0x11a94e(0x1d0)],_0x99daf0=E[_0x11a94e(0x1b4)][_0x11a94e(0x33c)](E['b64DecodeUnicode'](_0xc8330a));_0x4d3b33[_0x11a94e(0x1d0)]=_0x99daf0,Object[_0x11a94e(0x2fd)](_0x4d3b33[_0x11a94e(0x235)])[_0x11a94e(0x477)](([,_0x496498])=>{var _0x4f45f5=_0x11a94e;const _0x48c21e=_0x496498['originalMeta'],_0x1557f4=E[_0x4f45f5(0x1b4)]['encode'](E[_0x4f45f5(0x2dd)](_0x48c21e));_0x496498[_0x4f45f5(0x1d0)]=_0x1557f4;});}return _0x6eb861;}async[_0x310439(0x23f)](_0x3600bd,_0x449d32){var _0x4aa144=_0x310439;const {unitID:_0x5b3be0,type:_0x594f11,blockID:_0x59e5c7}=_0x449d32,_0x4559ca=this[_0x4aa144(0x37a)]()+'/'+_0x594f11+'/unit/'+_0x5b3be0+_0x4aa144(0x191)+_0x59e5c7;return(await this[_0x4aa144(0x29c)][_0x4aa144(0x255)](_0x4559ca))[_0x4aa144(0x1ce)];}async[_0x310439(0x2e4)](_0x4352c9,_0x1418b8){var _0x4824c8=_0x310439;const {unitID:_0x48aa32,type:_0x334651,blockID:_0x131e38}=_0x1418b8,_0x451853=this['_getAPIPrefix']()+_0x4824c8(0x191)+_0x334651+_0x4824c8(0x2e5)+_0x48aa32+_0x4824c8(0x191)+_0x131e38;return(await this[_0x4824c8(0x29c)][_0x4824c8(0x255)](_0x451853))[_0x4824c8(0x1ce)];}async['fetchMissingChangesets'](_0x3eb9dc,_0x55da22){var _0x1a1821=_0x310439;const {unitID:_0x2f926a,type:_0x2fc463,from:_0x2b67d0,to:_0x2dbe16}=_0x55da22,_0x4dd520=this[_0x1a1821(0x37a)]()+'/'+_0x2fc463+_0x1a1821(0x2e5)+_0x2f926a+'/fetchmissing?from='+_0x2b67d0+_0x1a1821(0x3d3)+_0x2dbe16;return(await this['_httpService'][_0x1a1821(0x255)](_0x4dd520))['body'];}['getSnapshotAPIPath'](){var _0x2ce9ec=_0x310439,_0x496623;return(_0x496623=this[_0x2ce9ec(0x447)][_0x2ce9ec(0x1e3)](yt))!=null?_0x496623:this[_0x2ce9ec(0x37a)]();}['_getAPIPrefix'](){var _0x15d4ba=_0x310439,_0x5a7d08;const _0x601d6=this[_0x15d4ba(0x447)][_0x15d4ba(0x1e3)](Y);return(_0x5a7d08=_0x601d6==null?void 0x0:_0x601d6[_0x15d4ba(0x271)])!=null?_0x5a7d08:Dt;}async[_0x310439(0x491)](_0x313937,_0x172b64){var _0xb17f70=_0x310439;const _0x317cca=_0xb17f70(0x1d3)+_0x172b64['type']+_0xb17f70(0x2e5)+_0x172b64[_0xb17f70(0x47a)]+_0xb17f70(0x20b);return(await this[_0xb17f70(0x29c)]['get'](_0x317cca,{'params':{'resourceId':JSON[_0xb17f70(0x14e)](_0x172b64[_0xb17f70(0x2ac)])}}))[_0xb17f70(0x1ce)];}[_0x310439(0x43f)](){throw new Error('This\x20method\x20should\x20not\x20be\x20called\x20on\x20the\x20client\x20side!');}[_0x310439(0x1c6)](){throw new Error('This\x20method\x20should\x20not\x20be\x20called\x20on\x20the\x20client\x20side!');}[_0x310439(0x448)](){var _0x14169f=_0x310439;throw new Error(_0x14169f(0x1cf));}[_0x310439(0x468)](){var _0x2fed3c=_0x310439;throw new Error(_0x2fed3c(0x1cf));}[_0x310439(0x289)](){var _0x1f9e96=_0x310439;throw new Error(_0x1f9e96(0x1cf));}[_0x310439(0x3aa)](){throw new Error('This\x20method\x20should\x20not\x20be\x20called\x20on\x20the\x20client\x20side!');}},exports[_0x310439(0x3b3)]=Sn([ot(0x0,o[_0x310439(0x23a)]),ot(0x1,o[_0x310439(0x283)](K['HTTPService']))],exports[_0x310439(0x3b3)]);var In=Object[_0x310439(0x18a)],fn=(_0x55ce3d,_0xab59ea,_0x1596ed,_0x1ae2b8)=>{var _0x57167f=_0x310439;for(var _0x1f2014=_0x1ae2b8>0x1?void 0x0:_0x1ae2b8?In(_0xab59ea,_0x1596ed):_0xab59ea,_0x23ccc2=_0x55ce3d[_0x57167f(0x206)]-0x1,_0x569f43;_0x23ccc2>=0x0;_0x23ccc2--)(_0x569f43=_0x55ce3d[_0x23ccc2])&&(_0x1f2014=_0x569f43(_0x1f2014)||_0x1f2014);return _0x1f2014;},ue=(_0x331efd,_0x33117c)=>(_0x518bcb,_0x21ff72)=>_0x33117c(_0x518bcb,_0x21ff72,_0x331efd);exports[_0x310439(0x251)]=class extends o[_0x310439(0x29f)]{constructor(_0x806c32,_0x5e5f3f,_0x148c4f,_0x5eb90e,_0x16f025){var _0x1959f8=_0x310439;super(_0x806c32,_0x5e5f3f,_0x148c4f),this[_0x1959f8(0x312)]=_0x5eb90e,this[_0x1959f8(0x1b9)]=_0x16f025;}[_0x310439(0x2d8)](_0x2e52bb,_0x3d0bcf){var _0x5d53a7=_0x310439;const _0x1166f5=this[_0x5d53a7(0x38f)](_0x2e52bb);if(_0x1166f5)try{const _0x4ec4c4=this[_0x5d53a7(0x2d3)](_0x1166f5,_0x3d0bcf);this['_substituteUndoStack'](_0x2e52bb,_0x4ec4c4);}catch(_0x43ec8a){this[_0x5d53a7(0x1b9)][_0x5d53a7(0x3e0)]('[CollaborationUndoRedoService]',_0x43ec8a),this[_0x5d53a7(0x470)](_0x2e52bb);}const _0x3a4919=this[_0x5d53a7(0x4a3)](_0x2e52bb);if(_0x3a4919)try{const _0x1bb1f4=this[_0x5d53a7(0x2d3)](_0x3a4919,_0x3d0bcf);this['_substituteRedoStack'](_0x2e52bb,_0x1bb1f4);}catch(_0x5048d7){this[_0x5d53a7(0x1b9)]['error'](_0x5048d7),this['_clearRedo'](_0x2e52bb);}}[_0x310439(0x470)](_0x32cfd0){var _0x435355=_0x310439;const _0x3a2612=this[_0x435355(0x38f)](_0x32cfd0);_0x3a2612&&(_0x3a2612[_0x435355(0x206)]=0x0,this[_0x435355(0x1bb)]());}[_0x310439(0x2b6)](_0x4482f9){var _0x20c7e0=_0x310439;const _0x28c1d4=this['_getRedoStack'](_0x4482f9);_0x28c1d4&&(_0x28c1d4[_0x20c7e0(0x206)]=0x0,this[_0x20c7e0(0x1bb)]());}[_0x310439(0x32d)](_0x5e4865,_0x569a6b){var _0x1b8ca4=_0x310439;this[_0x1b8ca4(0x262)]['set'](_0x5e4865,_0x569a6b),this[_0x1b8ca4(0x1bb)]();}[_0x310439(0x202)](_0x24593a,_0x52b1d4){var _0x2afb21=_0x310439;this['_redoStacks']['set'](_0x24593a,_0x52b1d4),this[_0x2afb21(0x1bb)]();}[_0x310439(0x2d3)](_0x4a1dd6,_0xde7106){var _0x39e20e=_0x310439;const _0x4fd438=[];let _0x5cccb2=_0xde7106,_0x39e99e=_0xde7106;for(let _0x3cef48=_0x4a1dd6[_0x39e20e(0x206)]-0x1;_0x3cef48>=0x0;_0x3cef48--){const {unitID:_0x16e23a,undoMutations:_0x3e875c,redoMutations:_0x2ffb73}=_0x4a1dd6[_0x3cef48],_0xba03df=this[_0x39e20e(0x312)][_0x39e20e(0x47e)](_0x5cccb2,_0x3e875c),_0x2893cb=this[_0x39e20e(0x312)]['transformMutationsWithChangeset'](_0x39e99e,_0x2ffb73);if(E[_0x39e20e(0x395)](_0xba03df)||E['isTransformMutationsWithChangesetFailure'](_0x2893cb)){this[_0x39e20e(0x1b9)][_0x39e20e(0x3e0)]('[CollaborationUndoRedoService]','transformStack\x20failed!',_0xba03df,_0x2893cb);break;}_0x5cccb2=_0xba03df[_0x39e20e(0x290)],_0x39e99e=_0x2893cb[_0x39e20e(0x290)],_0x4fd438[_0x39e20e(0x46c)]({'unitID':_0x16e23a,'undoMutations':_0xba03df[_0x39e20e(0x2c6)],'redoMutations':_0x2893cb['m2Prime']});}return _0x4fd438[_0x39e20e(0x2ca)]();}},exports['CollaborativeUndoRedoService']=fn([ue(0x0,o['IUniverInstanceService']),ue(0x1,o[_0x310439(0x46a)]),ue(0x2,o['IContextService']),ue(0x3,E[_0x310439(0x18b)]),ue(0x4,o[_0x310439(0x414)])],exports['CollaborativeUndoRedoService']);var En=Object[_0x310439(0x1ca)],pn=Object[_0x310439(0x18a)],mn=(_0x456d3b,_0x39aff2,_0x2474ca)=>_0x39aff2 in _0x456d3b?En(_0x456d3b,_0x39aff2,{'enumerable':!0x0,'configurable':!0x0,'writable':!0x0,'value':_0x2474ca}):_0x456d3b[_0x39aff2]=_0x2474ca,gn=(_0x356972,_0x1c7692,_0x117e29,_0xc57081)=>{for(var _0x2f7c13=_0xc57081>0x1?void 0x0:_0xc57081?pn(_0x1c7692,_0x117e29):_0x1c7692,_0x199044=_0x356972['length']-0x1,_0x4bb279;_0x199044>=0x0;_0x199044--)(_0x4bb279=_0x356972[_0x199044])&&(_0x2f7c13=_0x4bb279(_0x2f7c13)||_0x2f7c13);return _0x2f7c13;},we=(_0x4da210,_0x5c6286)=>(_0x1df778,_0x2bf937)=>_0x5c6286(_0x1df778,_0x2bf937,_0x4da210),Tn=(_0x141bff,_0x20229b,_0x50f309)=>mn(_0x141bff,_0x20229b+'',_0x50f309);const Cn=_0x310439(0x2c8);exports['UniverCollaborationClientPlugin']=class extends o[_0x310439(0x236)]{constructor(_0x4c5ee2,_0x42f691,_0x1e8e57,_0x5c6354){var _0x3c21fe=_0x310439;super(),A(this,_0x3c21fe(0x274)),(this[_0x3c21fe(0x1b9)]=_0x42f691,this[_0x3c21fe(0x32c)]=_0x1e8e57,this[_0x3c21fe(0x447)]=_0x5c6354);const {..._0x5e7feb}=o[_0x3c21fe(0x3f4)]({},Zt,_0x4c5ee2);if(!_0x5e7feb['socketService'])throw new Error('[UniverCollaborationClientPlugin]:\x20you\x20must\x20provide\x20a\x20socketService\x20implementation\x20in\x20config!');this[_0x3c21fe(0x274)]=_0x5e7feb,this[_0x3c21fe(0x447)][_0x3c21fe(0x193)](Y,_0x5e7feb);}[_0x310439(0x43d)](){var _0x584c5e=_0x310439;this[_0x584c5e(0x484)](),this['_initDependencies']();}['_registerDependencies'](){var _0x24a322=_0x310439,_0x1b061a,_0xfe28b9;this[_0x24a322(0x32c)][_0x24a322(0x1f7)](o[_0x24a322(0x25d)])&&this[_0x24a322(0x1b9)]['error']('[UniverCollaborationClientPlugin]',_0x24a322(0x341));const _0x3973ee=o[_0x24a322(0x37f)]([[o[_0x24a322(0x25d)],{'useClass':exports[_0x24a322(0x251)]}],[exports['CollaborationSessionService']],[exports[_0x24a322(0x13c)]],[exports[_0x24a322(0x476)]],[Ne],[De],[He],[ye],[ee],[exports['DataLoaderService']],[Fe,{'useClass':this[_0x24a322(0x274)]['socketService']}],[E['ISnapshotServerService'],{'useClass':exports[_0x24a322(0x3b3)]}],[o['IAuthzIoService'],{'useClass':exports[_0x24a322(0x194)]}],[z['IImageIoService'],{'useClass':exports['CollaborationImageIoService']}],[o['IMentionIOService'],{'useClass':exports[_0x24a322(0x189)]}],[exports[_0x24a322(0x177)]],[xe]],(_0x1b061a=this['_config'])==null?void 0x0:_0x1b061a[_0x24a322(0x139)]);if(!((_0xfe28b9=this['_config'])!=null&&_0xfe28b9[_0x24a322(0x205)])){const _0x141c02=_0x3973ee['findIndex'](([_0x18b729])=>_0x18b729===ve);_0x141c02!==-0x1&&_0x3973ee[_0x24a322(0x3b7)](_0x141c02,0x1);}o['registerDependencies'](this[_0x24a322(0x32c)],_0x3973ee);}[_0x310439(0x34b)](){var _0x4da483=_0x310439,_0x34dcf8,_0x26a2b1,_0x1d547d;this[_0x4da483(0x32c)][_0x4da483(0x255)](K[_0x4da483(0x303)])[_0x4da483(0x3ba)]({'priority':0x14,'interceptor':K[_0x4da483(0x163)]({'maxParallel':0x6})}),(_0x34dcf8=this[_0x4da483(0x274)])!=null&&_0x34dcf8['enableOfflineEditing']||(_0x26a2b1=this[_0x4da483(0x32c)][_0x4da483(0x255)](q,o[_0x4da483(0x1e8)][_0x4da483(0x433)]))==null||_0x26a2b1[_0x4da483(0x158)](),(_0x1d547d=this['_config'])!=null&&_0x1d547d[_0x4da483(0x400)]&&o[_0x4da483(0x185)](this[_0x4da483(0x32c)],[[Ne]]),o['touchDependencies'](this[_0x4da483(0x32c)],[[De],[exports[_0x4da483(0x177)]],[ye]]);}},Tn(exports[_0x310439(0x4ac)],_0x310439(0x48c),Cn),exports[_0x310439(0x4ac)]=gn([o[_0x310439(0x452)](E[_0x310439(0x438)],K[_0x310439(0x3db)]),we(0x1,o[_0x310439(0x414)]),we(0x2,o['Inject'](o['Injector'])),we(0x3,o['IConfigService'])],exports[_0x310439(0x4ac)]),exports[_0x310439(0x334)]=Y,exports[_0x310439(0x25f)]=je,exports[_0x310439(0x1d2)]=Z,exports[_0x310439(0x2f2)]=ee,exports['CommentService']=He,exports['DEFAULT_COLLAB_WEB_SOCKET_URL']=ht,exports['DEFAULT_REMOTE_UNISCRIPT_EXECUTION_ENDPOINT']=jt,exports[_0x310439(0x2fa)]=At,exports['HEARTBEAT_INTERVAL_KEY']=_t,exports[_0x310439(0x1b1)]=ke,exports['ICollaborationSocketService']=Fe,exports['ILocalCacheService']=q,exports[_0x310439(0x2b7)]=Et,exports[_0x310439(0x494)]=ve,exports[_0x310439(0x20e)]=xt,exports['LOCAL_CACHE_INTERVAL_KEY']=wt,exports['REMOTE_UNISCRIPT_EXECUTION_ENDPOINT_KEY']=$t,exports['RETRY_CONNECTING_MAX_COUNT_KEY']=ut,exports['SessionStatus']=se,exports[_0x310439(0x1d1)]=$e,exports['deserializeToCombResponse']=pt,exports[_0x310439(0x469)]=qt,exports[_0x310439(0x2a8)]=mt;