var _0x274932=_0x4cf6;(function(_0x16c59a,_0x3c3942){var _0x168a17=_0x4cf6,_0xa1db99=_0x16c59a();while(!![]){try{var _0x1cd26c=-parseInt(_0x168a17(0x12a))/0x1+parseInt(_0x168a17(0x126))/0x2+-parseInt(_0x168a17(0x129))/0x3+parseInt(_0x168a17(0x11f))/0x4+parseInt(_0x168a17(0x137))/0x5+parseInt(_0x168a17(0x125))/0x6+-parseInt(_0x168a17(0x123))/0x7;if(_0x1cd26c===_0x3c3942)break;else _0xa1db99['push'](_0xa1db99['shift']());}catch(_0x32eeed){_0xa1db99['push'](_0xa1db99['shift']());}}}(_0x54b1,0xb7fa8));import{CollaborationController as _0x27c299,MemberService as _0x59b93b,DataLoaderService as _0x35818e}from'@univerjs-pro/collaboration-client';import{FBase as _0x44e156,FUniver as _0x328fd1}from'@univerjs/core/facade';import{SnapshotService as _0x23318e}from'@univerjs-pro/collaboration';import{Inject as _0x466303,Injector as _0x16d30b,IUniverInstanceService as _0x2716be,toDisposable as _0x2f8b58}from'@univerjs/core';import{switchMap as _0xa70761}from'rxjs';function _0x54b1(){var _0x3c4220=['3778881iBPaFX','290725qsCoax','subscribeCollaborators','extend','members$','waitForRoom$','_injector','loadActiveSheetAsync','length','loadUnitOfRevision','from','loadServerUnit','getUniverSheet','get','1353810qxUyIc','createInstance','_handler','subscribe','loadSheetAsync','loadActiveSheet','readyForCollab','3013952vxFaKW','loadServerUnitOfRevision','pipe','_collaborationController','2851359FqvZwi','loadSheet','2953968oRrlhQ','2389374KnJKwK','getOwnPropertyDescriptor','[FCollaboration]:\x20this\x20method\x20should\x20be\x20override.'];_0x54b1=function(){return _0x3c4220;};return _0x54b1();}var f=Object[_0x274932(0x127)],y=(_0x1ab7b4,_0x5e4d49,_0x2f8eb7,_0xe41ff5)=>{var _0x4ecb50=_0x274932;for(var _0x6b0740=_0xe41ff5>0x1?void 0x0:_0xe41ff5?f(_0x5e4d49,_0x2f8eb7):_0x5e4d49,_0x4862d9=_0x1ab7b4[_0x4ecb50(0x131)]-0x1,_0x15ec82;_0x4862d9>=0x0;_0x4862d9--)(_0x15ec82=_0x1ab7b4[_0x4862d9])&&(_0x6b0740=_0x15ec82(_0x6b0740)||_0x6b0740);return _0x6b0740;},a=(_0x4ac891,_0x580141)=>(_0xc636b3,_0x2593ef)=>_0x580141(_0xc636b3,_0x2593ef,_0x4ac891);let c=class extends _0x44e156{constructor(_0x25f4a0,_0x1f4cd7,_0x33505a,_0x1f57b4,_0x29f2be){var _0x11e5b9=_0x274932;super(),this[_0x11e5b9(0x11a)]=_0x25f4a0,this[_0x11e5b9(0x12f)]=_0x1f4cd7,this['_univerInstanceService']=_0x33505a,this['_snapshotService']=_0x1f57b4,this[_0x11e5b9(0x122)]=_0x29f2be;}async[_0x274932(0x11d)](){return this['loadActiveSheetAsync']();}async[_0x274932(0x130)](){var _0x595e1b=_0x274932;throw new Error(_0x595e1b(0x128));}async[_0x274932(0x124)](_0x30bb96){var _0x27fab1=_0x274932;return this[_0x27fab1(0x11c)](_0x30bb96);}async['loadSheetAsync'](_0x57e28f,_0x8aec85){var _0x3e16e6=_0x274932;return await this['_snapshotService'][_0x3e16e6(0x124)](_0x57e28f,0x0,_0x8aec85)?(await this[_0x3e16e6(0x122)][_0x3e16e6(0x11e)](_0x57e28f),this[_0x3e16e6(0x11a)][_0x3e16e6(0x135)](_0x57e28f)):null;}[_0x274932(0x12b)](_0x1b8393,_0x94e8e0){var _0x2a76ab=_0x274932;const _0x4be9e0=this['_injector'][_0x2a76ab(0x136)](_0x59b93b)[_0x2a76ab(0x12e)](_0x1b8393)[_0x2a76ab(0x121)](_0xa70761(_0x4cd11b=>_0x4cd11b[_0x2a76ab(0x12d)]))[_0x2a76ab(0x11b)](_0x2042ce=>_0x94e8e0(Array[_0x2a76ab(0x133)](_0x2042ce['values']())));return _0x2f8b58(_0x4be9e0);}};c=y([a(0x1,_0x466303(_0x16d30b)),a(0x2,_0x2716be),a(0x3,_0x466303(_0x23318e)),a(0x4,_0x466303(_0x27c299))],c);class w extends _0x328fd1{['getCollaboration'](){var _0x30c69c=_0x274932;return this[_0x30c69c(0x12f)][_0x30c69c(0x119)](c,{'getUniverSheet':_0xc60ee4=>this['getUniverSheet'](_0xc60ee4)});}[_0x274932(0x134)](_0xf16a32,_0x2455f8,_0x3d895b){var _0x3eb9a1=_0x274932;return this[_0x3eb9a1(0x12f)]['get'](_0x35818e)['loadUnit'](_0xf16a32,_0x2455f8,_0x3d895b);}[_0x274932(0x120)](_0x2c4c82,_0x2d4349,_0x283f73){var _0x2a6785=_0x274932;return this['_injector'][_0x2a6785(0x136)](_0x35818e)[_0x2a6785(0x132)](_0x2c4c82,_0x2d4349,_0x283f73);}}function _0x4cf6(_0x2c7e16,_0x4abb21){var _0x54b160=_0x54b1();return _0x4cf6=function(_0x4cf6b0,_0x3ac094){_0x4cf6b0=_0x4cf6b0-0x119;var _0x11cced=_0x54b160[_0x4cf6b0];return _0x11cced;},_0x4cf6(_0x2c7e16,_0x4abb21);}_0x328fd1[_0x274932(0x12c)](w);export{c as FCollaboration};