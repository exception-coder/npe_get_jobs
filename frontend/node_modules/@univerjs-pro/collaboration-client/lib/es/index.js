var _0x2dad69=_0x35c2;(function(_0x193353,_0x570bab){var _0x40f9cd=_0x35c2,_0x172313=_0x193353();while(!![]){try{var _0xab33f6=parseInt(_0x40f9cd(0x2d4))/0x1+parseInt(_0x40f9cd(0x176))/0x2+-parseInt(_0x40f9cd(0xc6))/0x3+-parseInt(_0x40f9cd(0x31d))/0x4*(parseInt(_0x40f9cd(0x2cd))/0x5)+-parseInt(_0x40f9cd(0x7b))/0x6+parseInt(_0x40f9cd(0x35f))/0x7*(-parseInt(_0x40f9cd(0x303))/0x8)+parseInt(_0x40f9cd(0x100))/0x9;if(_0xab33f6===_0x570bab)break;else _0x172313['push'](_0x172313['shift']());}catch(_0xa5feeb){_0x172313['push'](_0x172313['shift']());}}}(_0x1259,0x68b50));var bi=Object[_0x2dad69(0x1b1)],Di=(_0x44f8b2,_0x361364,_0x361ffa)=>_0x361364 in _0x44f8b2?bi(_0x44f8b2,_0x361364,{'enumerable':!0x0,'configurable':!0x0,'writable':!0x0,'value':_0x361ffa}):_0x44f8b2[_0x361364]=_0x361ffa,D=(_0xca7f6f,_0xb4d895,_0xd00801)=>Di(_0xca7f6f,typeof _0xb4d895!=_0x2dad69(0xe4)?_0xb4d895+'':_0xb4d895,_0xd00801);import{CollaborationEvent as _0x8cf9e,ITransformService as _0x2578ac,isTransformMutationsWithChangesetSuccess as _0x41f739,mapDocumentTypeToUniverType as _0xf49937,RevisionService as _0x3b1a85,isTransformChangesetsSuccess as _0x8add78,CompressMutationService as _0x3a9277,parseProtocolChangeset as _0x488576,uuidv4 as _0x177acf,ISnapshotServerService as _0x34a1f3,parseChangesetToProtocol as _0x153fc8,SnapshotService as _0x5d8d7f,textEncoder as _0x328a36,b64DecodeUnicode as _0x32840c,isTransformMutationsWithChangesetFailure as _0x208c7a,UniverCollaborationPlugin as _0x37cbad}from'@univerjs-pro/collaboration';import{IUniverInstanceService as _0x532e30,Inject as _0x37d025,UserManagerService as _0x4f421e,Disposable as _0x3de454,UniverInstanceType as _0x2558f6,ILogService as _0xfd2baf,IConfigService as _0x49834e,Optional as _0x2fa604,RxDisposable as _0x1da050,createIdentifier as _0x5c198a,Injector as _0x290c7c,Tools as _0x5abe77,Rectangle as _0x10fa1f,ICommandService as _0x450dec,JSONX as _0x5095b7,CommandType as _0x3142c4,IUndoRedoService as _0x5619d5,IPermissionService as _0x25b205,LocaleService as _0x272d95,sequenceExecute as _0x35a28,toDisposable as _0x21e8bb,DisposableCollection as _0x2490e1,Workbook as _0x1b19f5,generateRandomId as _0x3a2a09,MentionType as _0x459aed,isInternalEditorID as _0x231bcb,LocalUndoRedoService as _0x58d766,IContextService as _0x161c1b,DependentOn as _0x29463a,Plugin as _0x5af48a,merge as _0x2620b3,mergeOverrideWithDependencies as _0x294cfe,IAuthzIoService as _0x2598a3,IMentionIOService as _0x8c9a5f,registerDependencies as _0x111a34,Quantity as _0x56e8f5,touchDependencies as _0x2e17b5}from'@univerjs/core';import{RichTextEditingMutation as _0x58aae6}from'@univerjs/docs';import{SheetsSelectionsService as _0xff0771,SetSelectionsOperation as _0x472b01,InsertSheetMutation as _0x3ed6f6,EmptyMutation as _0x1c3464,WorkbookEditablePermission as _0x4c63bd,SheetPermissionInitController as _0x79efa3}from'@univerjs/sheets';import{Subject as _0xe5b964,merge as _0x188f91,of as _0x9d0b47,BehaviorSubject as _0x545c65,takeUntil as _0x57724,ReplaySubject as _0x4e4a99,take as _0x553ab4,map as _0x4170a1,shareReplay as _0x5a5135,firstValueFrom as _0x26115a,concatMap as _0x49e647}from'rxjs';import{ITelemetryService as _0x35ceda}from'@univerjs/telemetry';import{map as _0x992660,take as _0x17d286,filter as _0xd3a02c,delay as _0xa99faa,takeUntil as _0x364228}from'rxjs/operators';import{HTTPService as _0xd106c1,ISocketService as _0x40427d,MergeInterceptorFactory as _0x2c3ed2,HTTPRequest as _0x168b99,UniverNetworkPlugin as _0x1f7e29,ThresholdInterceptorFactory as _0x44f611}from'@univerjs/network';import{ImageSourceType as _0x3dfad8,ImageUploadStatusType as _0x4f57d5,IImageIoService as _0x417a3d}from'@univerjs/drawing';import{getGlobalObject as _0xfb229}from'@univerjs-pro/license';const fs=_0x2dad69(0x1d7),vs='SNAPSHOT_URL_KEY',ps=0x7d0,Es=_0x2dad69(0x2dc),gr='/universer-api/user/session-ticket',ms='HEARTBEAT_INTERVAL',Is=0x7530,di='HEARTBEAT_TIMEOUT',fi=0x4e20,Ss=0x4e20,gs=_0x2dad69(0x24e),Ts=0x3,Tr='LOCAL_CACHE_INTERVAL',Or=0x3e8,Os='/universer-api/comb',Rs=_0x2dad69(0x1d1),Rr=_0x2dad69(0x14a),Cr='/universer-api/uniscript';var vi=(_0x519c8c=>(_0x519c8c[_0x519c8c[_0x2dad69(0x1e4)]=0x0]=_0x2dad69(0x1e4),_0x519c8c[_0x519c8c['OK']=0x1]='OK',_0x519c8c[_0x519c8c[_0x2dad69(0x30d)]=0x2]='INTERNAL_ERROR',_0x519c8c[_0x519c8c['PERMISSION_DENIED']=0x3]=_0x2dad69(0xee),_0x519c8c[_0x519c8c[_0x2dad69(0x1f9)]=0x4]='NOT_FOUND',_0x519c8c[_0x519c8c[_0x2dad69(0x2d7)]=0x5]=_0x2dad69(0x2d7),_0x519c8c[_0x519c8c[_0x2dad69(0x2c1)]=0x6]=_0x2dad69(0x2c1),_0x519c8c[_0x519c8c[_0x2dad69(0x1e7)]=0x7]='INVALID_ARGUMENT',_0x519c8c[_0x519c8c['TOO_MANY_REQUESTS']=0x8]='TOO_MANY_REQUESTS',_0x519c8c[_0x519c8c['COMPLETION_FINISHED']=0x9]=_0x2dad69(0x178),_0x519c8c[_0x519c8c['LOGIN_FAILED']=0xa]=_0x2dad69(0x215),_0x519c8c[_0x519c8c[_0x2dad69(0x2bc)]=0xb]=_0x2dad69(0x2bc),_0x519c8c[_0x519c8c['MOBILE_VERIFY_CODE_NOT_FOUND_OR_EXPIRED']=0xc]=_0x2dad69(0x228),_0x519c8c[_0x519c8c[_0x2dad69(0x14b)]=0xd]=_0x2dad69(0x14b),_0x519c8c[_0x519c8c[_0x2dad69(0x17d)]=0xe]=_0x2dad69(0x17d),_0x519c8c[_0x519c8c[_0x2dad69(0xb1)]=0xf]='AUTHORIZE_CODE_ILLEGAL',_0x519c8c[_0x519c8c['LOGIN_TOKEN_PROCESSING_FAILED']=0x10]=_0x2dad69(0x2e4),_0x519c8c[_0x519c8c[_0x2dad69(0x29d)]=0x64]=_0x2dad69(0x29d),_0x519c8c[_0x519c8c[_0x2dad69(0xf4)]=0x65]=_0x2dad69(0xf4),_0x519c8c[_0x519c8c[_0x2dad69(0x31c)]=0xc9]=_0x2dad69(0x31c),_0x519c8c[_0x519c8c['USER_IS_ANONYMOUS']=0xca]=_0x2dad69(0x296),_0x519c8c[_0x519c8c['CHANGESET_REVISION_CONFILICT']=0x1389]=_0x2dad69(0x2af),_0x519c8c[_0x519c8c[_0x2dad69(0x251)]=0x1771]='SNAPSHOT_INVALID_SNAPSHOT',_0x519c8c[_0x519c8c[_0x2dad69(0x300)]=0x1772]=_0x2dad69(0x300),_0x519c8c[_0x519c8c[_0x2dad69(0xd7)]=0x1773]=_0x2dad69(0xd7),_0x519c8c[_0x519c8c[_0x2dad69(0x181)]=0x1b59]='APPLY_REJECT',_0x519c8c[_0x519c8c[_0x2dad69(0x307)]=0x1b5a]=_0x2dad69(0x307),_0x519c8c[_0x519c8c[_0x2dad69(0x21c)]=0x1b5b]='APPLY_REVISION_CONFILICT',_0x519c8c[_0x519c8c[_0x2dad69(0x256)]=0x1b5c]=_0x2dad69(0x256),_0x519c8c[_0x519c8c[_0x2dad69(0x1bf)]=0x1b5d]=_0x2dad69(0x1bf),_0x519c8c[_0x519c8c['CONNECTOR_DATA_TOO_LARGE']=0x1f41]='CONNECTOR_DATA_TOO_LARGE',_0x519c8c[_0x519c8c[_0x2dad69(0x385)]=0x2329]=_0x2dad69(0x385),_0x519c8c[_0x519c8c[_0x2dad69(0xad)]=0x232a]='LICENSE_MAX_MEMBERS_PER_UNIT_EXCEEDED',_0x519c8c[_0x519c8c[_0x2dad69(0x14c)]=0x232b]='LICENSE_IMPORT_SIZE_EXCEEDED',_0x519c8c[_0x519c8c[_0x2dad69(0x1a3)]=0x232c]='LICENSE_EXPORT_SIZE_EXCEEDED',_0x519c8c[_0x519c8c['LICENSE_DISTRO_REJECTED']=0x232d]=_0x2dad69(0x169),_0x519c8c[_0x519c8c[_0x2dad69(0x283)]=0x2711]=_0x2dad69(0x283),_0x519c8c[_0x519c8c[_0x2dad69(0x8f)]=0x2712]=_0x2dad69(0x8f),_0x519c8c[_0x519c8c['YUUMI_RATE_OVER_LIMIT']=0x2713]=_0x2dad69(0x356),_0x519c8c[_0x519c8c[_0x2dad69(0x12e)]=0x2714]=_0x2dad69(0x12e),_0x519c8c[_0x519c8c[_0x2dad69(0x1e5)]=0x271a]='YUUMI_NO_CUBOID_FOR_QUESTION',_0x519c8c[_0x519c8c[_0x2dad69(0x2b3)]=0x271b]='YUUMI_ASYNCIO_CANCELLED',_0x519c8c[_0x519c8c[_0x2dad69(0x6d)]=0x271c]=_0x2dad69(0x6d),_0x519c8c[_0x519c8c[_0x2dad69(0xe9)]=0x271d]=_0x2dad69(0xe9),_0x519c8c[_0x519c8c[_0x2dad69(0x2d8)]=0x271e]='YUUMI_PROMPT_MAX_TOKENS_EXCEEDED',_0x519c8c[_0x519c8c[_0x2dad69(0x230)]=0x271f]=_0x2dad69(0x230),_0x519c8c[_0x519c8c['YUUMI_CONNECTOR_URL_NOT_FOUND']=0x2720]=_0x2dad69(0x376),_0x519c8c[_0x519c8c['PY_RUNTIME_SCRIPT_ERROR']=0x2af9]='PY_RUNTIME_SCRIPT_ERROR',_0x519c8c[_0x519c8c[_0x2dad69(0x35c)]=0x2ee1]=_0x2dad69(0x35c),_0x519c8c[_0x519c8c[_0x2dad69(0xc9)]=0x2ee2]=_0x2dad69(0xc9),_0x519c8c[_0x519c8c['INVITE_CODE_REQUIRED']=0x2ee3]='INVITE_CODE_REQUIRED',_0x519c8c[_0x519c8c[_0x2dad69(0xce)]=0x2ee4]=_0x2dad69(0xce),_0x519c8c[_0x519c8c[_0x2dad69(0x1a7)]=0x2ee5]=_0x2dad69(0x1a7),_0x519c8c[_0x519c8c['WECHAT_HAS_BEEN_BOUND']=0x32c9]=_0x2dad69(0x21d),_0x519c8c[_0x519c8c[_0x2dad69(0x240)]=0x32ca]='MOBILE_HAS_BEEN_BOUND',_0x519c8c[_0x519c8c['EMAIL_HAS_BEEN_BOUND']=0x32cb]=_0x2dad69(0x2c8),_0x519c8c[_0x519c8c[_0x2dad69(0x125)]=0x36b1]='ENTITLE_CAN_NOT_BUY_LOWER_OTP',_0x519c8c[_0x519c8c[_0x2dad69(0x218)]=0x36b2]=_0x2dad69(0x218),_0x519c8c[_0x519c8c['ENTITLE_DUP_SUBSCRIPTION']=0x36b3]=_0x2dad69(0x221),_0x519c8c[_0x519c8c[_0x2dad69(0x317)]=0x36b4]=_0x2dad69(0x317),_0x519c8c[_0x519c8c[_0x2dad69(0x227)]=0x3715]=_0x2dad69(0x227),_0x519c8c[_0x519c8c[_0x2dad69(0x111)]=0x3716]=_0x2dad69(0x111),_0x519c8c[_0x519c8c['ENTITLE_INSUFFICIENT_QUOTA']=0x3717]='ENTITLE_INSUFFICIENT_QUOTA',_0x519c8c[_0x519c8c[_0x2dad69(0xde)]=0x37dd]=_0x2dad69(0xde),_0x519c8c[_0x519c8c[_0x2dad69(0x36c)]=0x3a99]=_0x2dad69(0x36c),_0x519c8c[_0x519c8c[_0x2dad69(0x2d1)]=0x3a9a]='REDEMPTION_CODE_INACTIVE',_0x519c8c[_0x519c8c[_0x2dad69(0x1ac)]=0x3a9b]='REDEMPTION_CODE_FULLY_REDEEMED',_0x519c8c[_0x519c8c[_0x2dad69(0xa7)]=0x3a9c]=_0x2dad69(0xa7),_0x519c8c[_0x519c8c[_0x2dad69(0x321)]=0x3a9d]=_0x2dad69(0x321),_0x519c8c[_0x519c8c['REDEMPTION_USER_REDEEM_TIMES_EXCEED']=0x3a9e]=_0x2dad69(0x343),_0x519c8c[_0x519c8c[_0x2dad69(0x160)]=0x3a9f]=_0x2dad69(0x160),_0x519c8c[_0x519c8c['DATA_SOURCE_TOO_LARGE']=0x3e81]=_0x2dad69(0x1ad),_0x519c8c[_0x519c8c[_0x2dad69(0xd5)]=-0x1]=_0x2dad69(0xd5),_0x519c8c))(vi||{}),Q=(_0x3df6bc=>(_0x3df6bc[_0x3df6bc['UNIVER_UNKNOWN']=0x0]='UNIVER_UNKNOWN',_0x3df6bc[_0x3df6bc['UNIVER_DOC']=0x1]=_0x2dad69(0x2e8),_0x3df6bc[_0x3df6bc[_0x2dad69(0x172)]=0x2]=_0x2dad69(0x172),_0x3df6bc[_0x3df6bc[_0x2dad69(0x347)]=0x3]=_0x2dad69(0x347),_0x3df6bc[_0x3df6bc[_0x2dad69(0x17c)]=0x4]='UNIVER_PROJECT',_0x3df6bc[_0x3df6bc[_0x2dad69(0xd5)]=-0x1]=_0x2dad69(0xd5),_0x3df6bc))(Q||{}),j=(_0x54e6b5=>(_0x54e6b5[_0x54e6b5[_0x2dad69(0x90)]=0x0]=_0x2dad69(0x90),_0x54e6b5[_0x54e6b5[_0x2dad69(0x11a)]=0x1]=_0x2dad69(0x11a),_0x54e6b5[_0x54e6b5['JOIN']=0x2]=_0x2dad69(0x1fd),_0x54e6b5[_0x54e6b5[_0x2dad69(0x136)]=0x3]=_0x2dad69(0x136),_0x54e6b5[_0x54e6b5[_0x2dad69(0x105)]=0x4]='INGEST',_0x54e6b5[_0x54e6b5[_0x2dad69(0x309)]=0x5]=_0x2dad69(0x309),_0x54e6b5[_0x54e6b5[_0x2dad69(0x1a4)]=0x6]=_0x2dad69(0x1a4),_0x54e6b5[_0x54e6b5[_0x2dad69(0xd5)]=-0x1]=_0x2dad69(0xd5),_0x54e6b5))(j||{}),pe=(_0x431f24=>(_0x431f24[_0x431f24[_0x2dad69(0xa2)]=0x0]=_0x2dad69(0xa2),_0x431f24[_0x431f24['OK']=0x1]='OK',_0x431f24[_0x431f24[_0x2dad69(0x1e8)]=0x2]=_0x2dad69(0x1e8),_0x431f24[_0x431f24[_0x2dad69(0x10e)]=0x3e9]=_0x2dad69(0x10e),_0x431f24[_0x431f24[_0x2dad69(0x268)]=0x3ea]=_0x2dad69(0x268),_0x431f24[_0x431f24[_0x2dad69(0x147)]=0x3eb]=_0x2dad69(0x147),_0x431f24[_0x431f24[_0x2dad69(0x2ce)]=0x3ec]=_0x2dad69(0x2ce),_0x431f24[_0x431f24[_0x2dad69(0xd5)]=-0x1]='UNRECOGNIZED',_0x431f24))(pe||{}),pi=(_0x10509d=>(_0x10509d[_0x10509d[_0x2dad69(0xb5)]=0x0]='Undefined',_0x10509d[_0x10509d[_0x2dad69(0x140)]=0x1]=_0x2dad69(0x140),_0x10509d[_0x10509d['HttpExport']=0x2]=_0x2dad69(0x212),_0x10509d[_0x10509d[_0x2dad69(0x23c)]=0x3]='UnitEmbedded',_0x10509d[_0x10509d[_0x2dad69(0x179)]=0x4]=_0x2dad69(0x179),_0x10509d[_0x10509d['UserProfileImg']=0x5]=_0x2dad69(0x131),_0x10509d[_0x10509d[_0x2dad69(0x33a)]=0x6]=_0x2dad69(0x33a),_0x10509d[_0x10509d['UNRECOGNIZED']=-0x1]=_0x2dad69(0xd5),_0x10509d))(pi||{});const Cs=_0x2dad69(0x27f);function Ns(_0x1cb575){var _0x14bac9=_0x2dad69;return JSON[_0x14bac9(0x36e)](_0x1cb575)['length'];}var re=(_0x5aaf38=>(_0x5aaf38[_0x2dad69(0x127)]=_0x2dad69(0x127),_0x5aaf38[_0x2dad69(0xee)]=_0x2dad69(0xee),_0x5aaf38['CONFLICT']=_0x2dad69(0xb0),_0x5aaf38[_0x2dad69(0x255)]=_0x2dad69(0x255),_0x5aaf38[_0x2dad69(0x22e)]=_0x2dad69(0x22e),_0x5aaf38['SOCKET_FAILED_RETRY']=_0x2dad69(0x305),_0x5aaf38['SOCKET_FAILED']=_0x2dad69(0x10a),_0x5aaf38[_0x2dad69(0x185)]=_0x2dad69(0x185),_0x5aaf38))(re||{});class ve{constructor(){var _0x340fd6=_0x2dad69;D(this,'_event$',new _0xe5b964()),D(this,'event$',this['_event$'][_0x340fd6(0x1db)]());}[_0x2dad69(0xc2)](_0x1ceb94){var _0x5d590b=_0x2dad69;this[_0x5d590b(0x2ac)]['next'](_0x1ceb94);}}class Ei{constructor(){var _0x5f4d61=_0x2dad69;D(this,_0x5f4d61(0x192),new _0xe5b964()),D(this,_0x5f4d61(0x6e),this[_0x5f4d61(0x192)]['asObservable']());}[_0x2dad69(0x19b)](_0x39889e){this['_commentUpdate$']['next'](_0x39889e);}}var bs=Object[_0x2dad69(0x1f2)],Ds=(_0x270342,_0xd0e380,_0x1a2d63,_0x32b001)=>{var _0x1fa0ec=_0x2dad69;for(var _0x58352a=_0x32b001>0x1?void 0x0:_0x32b001?bs(_0xd0e380,_0x1a2d63):_0xd0e380,_0x32806c=_0x270342[_0x1fa0ec(0xd0)]-0x1,_0x157a2e;_0x32806c>=0x0;_0x32806c--)(_0x157a2e=_0x270342[_0x32806c])&&(_0x58352a=_0x157a2e(_0x58352a)||_0x58352a);return _0x58352a;},jt=(_0x3bf44f,_0x2778f7)=>(_0x31a31d,_0x43a84e)=>_0x2778f7(_0x31a31d,_0x43a84e,_0x3bf44f);let Pe=class extends _0x3de454{constructor(_0x39b76c,_0x2a029e){var _0x24a3e6=_0x2dad69;super(),D(this,_0x24a3e6(0x112),new Map()),D(this,_0x24a3e6(0x2fa),new _0xe5b964()),(this[_0x24a3e6(0x107)]=_0x39b76c,this[_0x24a3e6(0x2ff)]=_0x2a029e,this[_0x24a3e6(0x291)](_0x188f91(this['_univerInstanceService'][_0x24a3e6(0x329)](_0x2558f6['UNIVER_SHEET'])[_0x24a3e6(0x15c)](_0x992660(_0x11d4c9=>_0x11d4c9[_0x24a3e6(0x135)]())),this[_0x24a3e6(0x107)][_0x24a3e6(0x329)](_0x2558f6[_0x24a3e6(0x2e8)])[_0x24a3e6(0x15c)](_0x992660(_0x36ba19=>_0x36ba19[_0x24a3e6(0x135)]())),this[_0x24a3e6(0x107)]['getTypeOfUnitDisposed$'](_0x2558f6[_0x24a3e6(0x347)])[_0x24a3e6(0x15c)](_0x992660(_0x4143ba=>_0x4143ba['getUnitId']())))[_0x24a3e6(0x1cd)](_0x18aa26=>this[_0x24a3e6(0xe0)](_0x18aa26))));}[_0x2dad69(0x202)](_0x2d0e28){var _0x2699e9=_0x2dad69;return this[_0x2699e9(0x112)]['has'](_0x2d0e28)?_0x9d0b47(this['_roomMembers'][_0x2699e9(0x7e)](_0x2d0e28)):this[_0x2699e9(0x2fa)]['pipe'](_0x992660(_0x346699=>{var _0x98c0ba=_0x2699e9;if(_0x346699===_0x2d0e28)return this[_0x98c0ba(0x112)][_0x98c0ba(0x7e)](_0x346699);}));}[_0x2dad69(0x2ab)](_0xa9b4df){var _0xa08e11=_0x2dad69;this[_0xa08e11(0x2ff)]['setCurrentUser'](_0xa9b4df);}[_0x2dad69(0xd6)](){var _0x549289=_0x2dad69;return this[_0x549289(0x2ff)][_0x549289(0xd6)]();}['updateMember'](_0x561764,_0x577e34){var _0x10fd7e=_0x2dad69;let _0x52629f=this[_0x10fd7e(0x112)][_0x10fd7e(0x7e)](_0x561764);_0x52629f||(_0x52629f=new ys(),this[_0x10fd7e(0x112)]['set'](_0x561764,_0x52629f),this[_0x10fd7e(0x2fa)][_0x10fd7e(0x344)](_0x561764)),_0x52629f[_0x10fd7e(0x1ea)](_0x577e34);}[_0x2dad69(0x24c)](_0xb376af,_0xa29c91){var _0x17f84b=_0x2dad69;const _0xeee5c1=this['_roomMembers'][_0x17f84b(0x7e)](_0xb376af);_0xeee5c1&&_0xeee5c1[_0x17f84b(0x24c)](_0xa29c91);}[_0x2dad69(0x1da)](_0x5b7b4d){var _0x417696=_0x2dad69;return this[_0x417696(0x112)][_0x417696(0x7e)](_0x5b7b4d);}[_0x2dad69(0x70)](_0x3e8d37,_0x368ce3){var _0x4f71f5=_0x2dad69;const _0x400e40=this[_0x4f71f5(0x112)][_0x4f71f5(0x7e)](_0x3e8d37);if(_0x400e40)return _0x400e40[_0x4f71f5(0x70)](_0x368ce3);}['_removeRoom'](_0x42f873){var _0x30b83b=_0x2dad69;const _0x4e4c55=this[_0x30b83b(0x112)][_0x30b83b(0x7e)](_0x42f873);_0x4e4c55&&(_0x4e4c55[_0x30b83b(0x72)](),this[_0x30b83b(0x112)][_0x30b83b(0x115)](_0x42f873));}['dispose'](){var _0x184c7e=_0x2dad69;this['_roomMembers']['forEach'](_0x134d58=>_0x134d58[_0x184c7e(0x72)]()),this[_0x184c7e(0x112)][_0x184c7e(0x314)](),this['_roomCreated$'][_0x184c7e(0x2a9)]();}};Pe=Ds([jt(0x0,_0x532e30),jt(0x1,_0x37d025(_0x4f421e))],Pe);class ys extends _0x3de454{constructor(){var _0x19a14b=_0x2dad69;super(...arguments),D(this,'_members',new Map()),D(this,_0x19a14b(0x2ed),new _0x545c65(this['_members'])),D(this,_0x19a14b(0x29e),this[_0x19a14b(0x2ed)][_0x19a14b(0x1db)]());}[_0x2dad69(0x72)](){var _0x39ae4d=_0x2dad69;this[_0x39ae4d(0x148)]['clear']();}[_0x2dad69(0x1ea)](_0x31c77e){var _0x2c094a=_0x2dad69;this[_0x2c094a(0x148)]['set'](_0x31c77e['memberID'],_0x31c77e),this['_emitMembers']();}[_0x2dad69(0x24c)](_0x120943){var _0x14c125=_0x2dad69;this['_members'][_0x14c125(0x115)](_0x120943);}[_0x2dad69(0x70)](_0x4c7049){var _0x48ac5e=_0x2dad69;return this[_0x48ac5e(0x148)][_0x48ac5e(0x7e)](_0x4c7049);}[_0x2dad69(0x6f)](){var _0x32a999=_0x2dad69;return Array[_0x32a999(0x354)](this[_0x32a999(0x148)][_0x32a999(0x203)]());}[_0x2dad69(0x10f)](){var _0xabf28=_0x2dad69;this[_0xabf28(0x2ed)]['next'](this[_0xabf28(0x148)]);}}var Us=Object[_0x2dad69(0x1f2)],As=(_0xa57b95,_0x5604f1,_0x4f3622,_0x13a1c7)=>{var _0x11224b=_0x2dad69;for(var _0xf58a1e=_0x13a1c7>0x1?void 0x0:_0x13a1c7?Us(_0x5604f1,_0x4f3622):_0x5604f1,_0x19c5a7=_0xa57b95[_0x11224b(0xd0)]-0x1,_0x4ab993;_0x19c5a7>=0x0;_0x19c5a7--)(_0x4ab993=_0xa57b95[_0x19c5a7])&&(_0xf58a1e=_0x4ab993(_0xf58a1e)||_0xf58a1e);return _0xf58a1e;},Oe=(_0x1d9f03,_0x1a73f8)=>(_0x645b13,_0x3d3b0f)=>_0x1a73f8(_0x645b13,_0x3d3b0f,_0x1d9f03),me=(_0x154cee=>(_0x154cee[_0x154cee[_0x2dad69(0x6c)]=0x0]='IDLE',_0x154cee[_0x154cee[_0x2dad69(0x1d0)]=0x1]='JOINING',_0x154cee[_0x154cee[_0x2dad69(0x292)]=0x2]=_0x2dad69(0x292),_0x154cee[_0x154cee[_0x2dad69(0x16d)]=0x3]=_0x2dad69(0x16d),_0x154cee))(me||{});const Vt={[pe[_0x2dad69(0x1e8)]]:_0x2dad69(0x348),[pe['JOIN_ROOM_FULL']]:'session.room-full',[pe['JOIN_ROOM_NOT_EXISTS']]:_0x2dad69(0x34d),[pe['JOIN_ROOM_PERMISSION_DENIED']]:_0x2dad69(0x378),[pe['GLOBAL_ROOMS_CNT_EXCEEDS']]:'session.room-cnt-exceeds'};let mt=class extends _0x1da050{constructor(_0x12dad6,_0x39a3e5,_0x5c1daf,_0x1cb378,_0x5aa04d,_0x10697c,_0x536e1f,_0x529004){var _0x252972=_0x2dad69;super(),D(this,'_sessionStatus$',new _0x545c65(0x0)),D(this,_0x252972(0xfb),this[_0x252972(0x375)][_0x252972(0x1db)]()),D(this,'_event$',new _0xe5b964()),D(this,_0x252972(0x2b7),this[_0x252972(0x2ac)][_0x252972(0x1db)]()),D(this,_0x252972(0x1a6)),D(this,_0x252972(0x24b)),D(this,'_collaborationTimeoutTimer'),D(this,_0x252972(0x16f),!0x1),D(this,_0x252972(0xfc),null),(this[_0x252972(0x304)]=_0x12dad6,this[_0x252972(0xd3)]=_0x5c1daf,this[_0x252972(0x279)]=_0x1cb378,this['_memberService']=_0x5aa04d,this[_0x252972(0x2f3)]=_0x10697c,this[_0x252972(0x27a)]=_0x536e1f,this[_0x252972(0x164)]=_0x529004,this[_0x252972(0x16f)]=!!this[_0x252972(0x164)],_0x39a3e5['pipe'](_0x57724(this['dispose$']))[_0x252972(0x1cd)](_0x756e1a=>{var _0x5ac779=_0x252972,_0x40cec6;typeof _0x756e1a>'u'||(this[_0x5ac779(0x1a6)]=_0x756e1a,_0x756e1a?(this['_joinRoom'](_0x756e1a),this['_socketMessageSubscription']=_0x756e1a[_0x5ac779(0x2f8)][_0x5ac779(0x1cd)](_0x11ba63=>{_0x11ba63['routeKey']===this['_unitID']&&this['_onCombEvent'](_0x11ba63);})):(this[_0x5ac779(0x241)](),this['_sessionStatus$']['next'](0x2),(_0x40cec6=this[_0x5ac779(0x24b)])==null||_0x40cec6[_0x5ac779(0x137)](),this[_0x5ac779(0x24b)]=null));}));}get[_0x2dad69(0x349)](){var _0x52d5a9=_0x2dad69;return this[_0x52d5a9(0x375)]['getValue']();}[_0x2dad69(0x214)](){var _0x57b0b5=_0x2dad69,_0x55fe13,_0xfac2ca;return(_0xfac2ca=(_0x55fe13=this[_0x57b0b5(0x1a6)])==null?void 0x0:_0x55fe13[_0x57b0b5(0x76)])!=null?_0xfac2ca:null;}['dispose'](){var _0x283b8b=_0x2dad69;super['dispose'](),this['dispose$']['next'](),this[_0x283b8b(0x2da)][_0x283b8b(0x2a9)]();}[_0x2dad69(0x1c5)](){var _0x47c35e=_0x2dad69,_0x10c66c,_0x45bdef;this['_throwTelemetryCollaborationNewChangeset'](),(_0x10c66c=this['_socket'])==null||_0x10c66c[_0x47c35e(0x275)]({'cmd':j[_0x47c35e(0x136)],'data':{'roomID':this[_0x47c35e(0x304)]}}),(_0x45bdef=this[_0x47c35e(0x1a6)])==null||_0x45bdef['close'](),this[_0x47c35e(0x2ac)]['complete'](),this['_sessionStatus$'][_0x47c35e(0x2a9)](),this['dispose']();}['_onCombEvent'](_0x26767c){var _0x49d6ea=_0x2dad69;_0x26767c[_0x49d6ea(0x13b)]===j[_0x49d6ea(0x1fd)]?this['_onJoinRoomEvent'](_0x26767c):_0x26767c[_0x49d6ea(0x13b)]===j[_0x49d6ea(0x1a4)]&&this[_0x49d6ea(0x116)](_0x26767c);}['_joinRoom'](_0x56e178){var _0x1c6d9f=_0x2dad69;this[_0x1c6d9f(0x375)]['next'](0x1),_0x56e178[_0x1c6d9f(0x275)]({'cmd':j[_0x1c6d9f(0x1fd)],'routeKey':this[_0x1c6d9f(0x304)],'routeType':'','data':{'rooms':[{'roomID':this[_0x1c6d9f(0x304)]}]}});}[_0x2dad69(0x71)](_0xc046b1){var _0x5abf8d=_0x2dad69,_0x526938;if(_0xc046b1['code']in Vt){this[_0x5abf8d(0x27a)][_0x5abf8d(0xc2)]({'id':re[_0x5abf8d(0x22e)],'data':Vt[_0xc046b1[_0x5abf8d(0x25f)]]}),this[_0x5abf8d(0x375)][_0x5abf8d(0x344)](0x2);return;}this[_0x5abf8d(0x375)][_0x5abf8d(0x344)](0x3);const _0x175fac=(_0x526938=_0xc046b1['data'][_0x5abf8d(0x195)][this['_unitID']])==null?void 0x0:_0x526938[_0x5abf8d(0x1ef)];_0x175fac&&_0x175fac['forEach'](_0x5e8515=>this[_0x5abf8d(0x2bb)][_0x5abf8d(0x1ea)](this[_0x5abf8d(0x304)],_0x5e8515));}[_0x2dad69(0x116)](_0x4c2197){var _0x34bb91=_0x2dad69;try{const _0x53a547=_0x4c2197['data'];switch(_0x53a547['eventID']){case _0x8cf9e['USERS_ENTER']:this[_0x34bb91(0x2b6)](_0x53a547),this['_event$'][_0x34bb91(0x344)](_0x53a547);break;case _0x8cf9e['USERS_LEAVE']:this[_0x34bb91(0x220)](_0x53a547),this[_0x34bb91(0x2ac)][_0x34bb91(0x344)](_0x53a547);break;case _0x8cf9e['CHANGESET_ACK']:case _0x8cf9e[_0x34bb91(0x19a)]:this['_stopTelemetryCollaborationNewChangeset'](),this[_0x34bb91(0x2ae)](),this[_0x34bb91(0x2ac)]['next'](_0x53a547);break;case _0x8cf9e[_0x34bb91(0xa1)]:this[_0x34bb91(0xd3)]['error'](_0x34bb91(0x1e9)+JSON['stringify'](_0x53a547)),this[_0x34bb91(0x2ac)][_0x34bb91(0x344)](_0x53a547);break;case _0x8cf9e[_0x34bb91(0x2e3)]:this[_0x34bb91(0x2f3)]['onCommentUpdate'](_0x53a547['data']),this[_0x34bb91(0x2ac)]['next'](_0x53a547);break;default:this[_0x34bb91(0x2ac)][_0x34bb91(0x344)](_0x53a547);}}catch(_0x409a2){this[_0x34bb91(0xd3)][_0x34bb91(0x163)](_0x409a2,_0x4c2197);}}[_0x2dad69(0x2b6)](_0x2f7fe4){var _0x58d72d=_0x2dad69;this[_0x58d72d(0x2bb)][_0x58d72d(0x1ea)](this[_0x58d72d(0x304)],_0x2f7fe4[_0x58d72d(0xa3)]);}[_0x2dad69(0x220)](_0x5aa48f){var _0x459680=_0x2dad69;this['_memberService']['removeMember'](this[_0x459680(0x304)],_0x5aa48f[_0x459680(0xa3)][_0x459680(0x76)]);}async[_0x2dad69(0x275)](_0x25a86f,_0x582f70){var _0x4a6e98=_0x2dad69;if(this[_0x4a6e98(0x349)]!==0x3||!this[_0x4a6e98(0x1a6)])throw new Error(_0x4a6e98(0x315));try{_0x25a86f[_0x4a6e98(0x24d)]===_0x8cf9e[_0x4a6e98(0x277)]&&(this[_0x4a6e98(0x2a7)](),this[_0x4a6e98(0xc8)](_0x25a86f)),this[_0x4a6e98(0x1a6)][_0x4a6e98(0x275)]({'cmd':j[_0x4a6e98(0x105)],'routeKey':_0x582f70,'routeType':'','data':_0x25a86f});}catch(_0x2c9d2d){this[_0x4a6e98(0xd3)][_0x4a6e98(0x163)](_0x2c9d2d);}}[_0x2dad69(0x2a7)](){var _0x782d31=_0x2dad69,_0x34dd72;this[_0x782d31(0x19e)]=setTimeout(()=>{var _0xd0910a=_0x782d31;this[_0xd0910a(0x19e)]=null,this['_collaborationUIEventService'][_0xd0910a(0xc2)]({'id':re[_0xd0910a(0x185)]});},(_0x34dd72=this[_0x782d31(0x279)][_0x782d31(0x257)](di))!=null?_0x34dd72:fi);}['_clearCollaborationTimeoutTimer'](){var _0x33c5b4=_0x2dad69;this[_0x33c5b4(0x19e)]&&(clearTimeout(this[_0x33c5b4(0x19e)]),this[_0x33c5b4(0x19e)]=null);}['_startTelemetryCollaborationNewChangeset'](_0x5bcb56){var _0x162101=_0x2dad69;if(!this[_0x162101(0x16f)])return;const {data:_0x1389bf}=_0x5bcb56,{unitID:_0xa780aa,changeset:_0xbc5b0d}=_0x1389bf,{mutations:_0x3271d9,type:_0x4baa01}=_0xbc5b0d;this[_0x162101(0xfc)]={'unitId':_0xa780aa,'type':_0x4baa01,'startTime':performance[_0x162101(0x13f)](),'stopTime':0x0,'duration':0x0,'size':Ns(_0x3271d9)};}[_0x2dad69(0x173)](){var _0x147111=_0x2dad69;if(this[_0x147111(0x16f)]){if(!this[_0x147111(0xfc)]){this['_logService'][_0x147111(0x163)](_0x147111(0x23b),'telemetry\x20info\x20is\x20not\x20initialized');return;}this[_0x147111(0xfc)][_0x147111(0x26d)]=performance['now'](),this['_telemetryInfo'][_0x147111(0x2a0)]=this[_0x147111(0xfc)][_0x147111(0x26d)]-this[_0x147111(0xfc)]['startTime'],this['_telemetryService'][_0x147111(0xdc)](Cs,this[_0x147111(0xfc)]),this['_telemetryInfo']=null;}}[_0x2dad69(0x241)](){var _0x23c069=_0x2dad69;this[_0x23c069(0xfc)]=null;}};mt=As([Oe(0x2,_0xfd2baf),Oe(0x3,_0x49834e),Oe(0x4,_0x37d025(Pe)),Oe(0x5,_0x37d025(Ei)),Oe(0x6,_0x37d025(ve)),Oe(0x7,_0x2fa604(_0x35ceda))],mt);const J=_0x5c198a(_0x2dad69(0x17f));function Nr(_0x4e3c4c){var _0x3e2fb2=_0x2dad69;return _0x3e2fb2(0x1fb)+_0x4e3c4c;}var Ps=Object[_0x2dad69(0x1f2)],ws=(_0x2ab660,_0x54d150,_0x32e2eb,_0x4830cd)=>{var _0x2f2b32=_0x2dad69;for(var _0x1dc56a=_0x4830cd>0x1?void 0x0:_0x4830cd?Ps(_0x54d150,_0x32e2eb):_0x54d150,_0x3fb7f0=_0x2ab660[_0x2f2b32(0xd0)]-0x1,_0x230702;_0x3fb7f0>=0x0;_0x3fb7f0--)(_0x230702=_0x2ab660[_0x3fb7f0])&&(_0x1dc56a=_0x230702(_0x1dc56a)||_0x1dc56a);return _0x1dc56a;},ut=(_0x3435da,_0x936eb5)=>(_0x44c2c1,_0x58e62b)=>_0x936eb5(_0x44c2c1,_0x58e62b,_0x3435da);function Ms(_0x18fc86){var _0x30a8b4=_0x2dad69;const {unitID:_0xa5d1c,mutations:_0x631bfb}=_0x18fc86;return{'unitId':_0xa5d1c,'subUnitId':_0x631bfb[_0x30a8b4(0xd0)]>0x0?_0x631bfb[0x0][_0x30a8b4(0x23f)][_0x30a8b4(0x233)]:null};}let it=class{constructor(_0x46e78f,_0x1b440a,_0x10bd3e){var _0x28cde3=_0x2dad69;this[_0x28cde3(0x133)]=_0x46e78f,this[_0x28cde3(0x12a)]=_0x1b440a,this[_0x28cde3(0x29f)]=_0x10bd3e;}[_0x2dad69(0x139)](_0x5c8478){var _0x204ce1=_0x2dad69,_0x583c18,_0x3a51ab,_0x562c4b,_0xc76272;const _0x392d4c=this[_0x204ce1(0x133)][_0x204ce1(0x7e)](_0xff0771),{unitId:_0x3d8e39,subUnitId:_0x5b429c}=Ms(_0x5c8478),_0x41603b=_0x392d4c==null?void 0x0:_0x392d4c[_0x204ce1(0x1ae)](_0x3d8e39)[_0x204ce1(0x213)](),_0x24534a=(_0x3a51ab=(_0x583c18=this[_0x204ce1(0x29f)][_0x204ce1(0x363)](_0x3d8e39))==null?void 0x0:_0x583c18['getActiveSheet']())==null?void 0x0:_0x3a51ab['getSheetId']();if(_0x41603b[_0x204ce1(0xd0)]===0x0||!_0x3d8e39||!_0x5b429c)return;const _0x591695=[{'id':_0x472b01['id'],'params':{'unitId':_0x3d8e39,'subUnitId':_0x24534a,'selections':_0x5abe77[_0x204ce1(0xe2)](_0x41603b)}}],_0x13b2b7=this['_transformService'][_0x204ce1(0x21f)](_0x5c8478,_0x591695);if(!_0x41f739(_0x13b2b7))throw _0x13b2b7['error'];const _0x7b7720=(_0xc76272=(_0x562c4b=_0x13b2b7[_0x204ce1(0x2d2)][0x0])==null?void 0x0:_0x562c4b[_0x204ce1(0x23f)])==null?void 0x0:_0xc76272[_0x204ce1(0x150)];if(Array[_0x204ce1(0x299)](_0x7b7720)&&_0x7b7720['length']){if(_0x7b7720['length']===_0x591695[0x0][_0x204ce1(0x23f)][_0x204ce1(0x150)][_0x204ce1(0xd0)]&&_0x7b7720['every']((_0x247461,_0x57ade9)=>_0x10fa1f[_0x204ce1(0x2fc)](_0x247461[_0x204ce1(0x2e5)],_0x591695[0x0][_0x204ce1(0x23f)]['selections'][_0x57ade9]['range'])))return;this[_0x204ce1(0x133)]['get'](_0x450dec)[_0x204ce1(0x209)](_0x472b01['id'],{'unitId':_0x3d8e39,'subUnitId':_0x24534a,'selections':_0x7b7720});}}};it=ws([ut(0x0,_0x37d025(_0x290c7c)),ut(0x1,_0x2578ac),ut(0x2,_0x532e30)],it);const _t=_0x5c198a('univer-pro.collaboration-client.single-active-unit-service');var mi=(_0x4956ea=>(_0x4956ea[_0x4956ea[_0x2dad69(0x32b)]=0x0]=_0x2dad69(0x32b),_0x4956ea[_0x4956ea[_0x2dad69(0x9f)]=0x1]=_0x2dad69(0x9f),_0x4956ea))(mi||{});const K=_0x2dad69(0x383),Ls={},xs=new Set([_0x3ed6f6['id']]);function Gt(_0x31de79,_0x3f10d2,_0x37f121,_0xf21685,_0x26dc8c){var _0x58f18b=_0x2dad69,_0x5cb299,_0x52600f,_0x465665,_0x40724c;const _0x752695=[];for(const _0x2f293b of _0x31de79)if(xs[_0x58f18b(0x19c)](_0x2f293b['id'])){if(_0x752695['length']>0x0)break;_0x752695[_0x58f18b(0xf9)](_0x2f293b);break;}else _0x752695['push'](_0x2f293b);const _0x5977f8=(_0x52600f=(_0x5cb299=_0x26dc8c['getCurrentUser']())==null?void 0x0:_0x5cb299[_0x58f18b(0x102)])!=null?_0x52600f:_0x58f18b(0x239),_0x4c16d4=(_0x40724c=(_0x465665=_0x26dc8c[_0x58f18b(0xd6)]())==null?void 0x0:_0x465665[_0x58f18b(0x76)])!=null?_0x40724c:_0x58f18b(0x239);return{'changeset':{'unitID':_0x3f10d2,'type':_0xf49937(_0x37f121[_0x58f18b(0x346)](_0x3f10d2)),'baseRev':_0xf21685[_0x58f18b(0x201)](_0x3f10d2),'revision':0x0,'userID':_0x5977f8,'memberID':_0x4c16d4,'mutations':_0x752695},'pendingMutations':_0x31de79['slice'](_0x752695[_0x58f18b(0xd0)])};}function ks(_0x3d48e0,_0x2ea004,_0x147868,_0x2a0761,_0x453568){var _0x388aad=_0x2dad69,_0x4df13b,_0x339b2,_0x281310,_0x51d510;const _0x14e0c4=[_0x3d48e0['reduce']((_0x4f2d92,_0x406e2b)=>{var _0x3c786c=_0x35c2,_0x3de6f7;const {id:_0x314058}=_0x4f2d92,{id:_0xc000fe,type:_0x53ce59}=_0x406e2b,_0x1788d1=(_0x3de6f7=_0x4f2d92[_0x3c786c(0x23f)])!=null?_0x3de6f7:{'actions':null},_0xf9c072=_0x406e2b['params'];if(_0x314058&&_0x314058!==_0xc000fe)throw new Error(_0x3c786c(0x10c)+_0x314058+_0x3c786c(0x334)+_0xc000fe+'.');return{..._0x4f2d92,'id':_0xc000fe,'type':_0x53ce59,'params':{'unitId':_0xf9c072[_0x3c786c(0x32e)],'textRanges':_0xf9c072[_0x3c786c(0x1a2)],'actions':_0x5095b7[_0x3c786c(0x1d2)](_0x1788d1['actions'],_0xf9c072[_0x3c786c(0x189)])}};},{})],_0x13ceaf=(_0x339b2=(_0x4df13b=_0x453568['getCurrentUser']())==null?void 0x0:_0x4df13b[_0x388aad(0x102)])!=null?_0x339b2:_0x388aad(0x239),_0x581015=(_0x51d510=(_0x281310=_0x453568[_0x388aad(0xd6)]())==null?void 0x0:_0x281310[_0x388aad(0x76)])!=null?_0x51d510:_0x388aad(0x239);return{'changeset':{'unitID':_0x2ea004,'type':_0xf49937(_0x147868[_0x388aad(0x346)](_0x2ea004)),'baseRev':_0x2a0761['getCurrentRevOfUnit'](_0x2ea004),'revision':0x0,'userID':_0x13ceaf,'memberID':_0x581015,'mutations':_0x14e0c4},'pendingMutations':[]};}function Ii(_0x1a5376,_0x1b8214){var _0xa0849e=_0x2dad69;const _0x1cc0f7=new _0x4e4a99(0x1);return setTimeout(()=>_0x1cc0f7['next'](_0x1b8214),_0x1a5376),_0x1cc0f7[_0xa0849e(0x1db)]()[_0xa0849e(0x15c)](_0x553ab4(0x1));}const $s={'id':_0x1c3464['id'],'type':_0x3142c4['MUTATION'],'params':{}};var Hs=Object[_0x2dad69(0x1f2)],Se=(_0x386182,_0x12558f,_0x2ffb62,_0x1a2df7)=>{var _0x266599=_0x2dad69;for(var _0x4f1e90=_0x1a2df7>0x1?void 0x0:_0x1a2df7?Hs(_0x12558f,_0x2ffb62):_0x12558f,_0x548542=_0x386182[_0x266599(0xd0)]-0x1,_0x164117;_0x548542>=0x0;_0x548542--)(_0x164117=_0x386182[_0x548542])&&(_0x4f1e90=_0x164117(_0x4f1e90)||_0x4f1e90);return _0x4f1e90;},w=(_0x3688f1,_0x3994c0)=>(_0x1dc66f,_0x5f011c)=>_0x3994c0(_0x1dc66f,_0x5f011c,_0x3688f1),Si=(_0x5de1ca=>(_0x5de1ca['NOT_COLLAB']=_0x2dad69(0x33e),_0x5de1ca[_0x2dad69(0x20d)]=_0x2dad69(0x75),_0x5de1ca[_0x2dad69(0x253)]=_0x2dad69(0x31a),_0x5de1ca[_0x2dad69(0x91)]=_0x2dad69(0xe8),_0x5de1ca[_0x2dad69(0x1ff)]=_0x2dad69(0x1a5),_0x5de1ca[_0x2dad69(0x22a)]='fetch_missing',_0x5de1ca[_0x2dad69(0xb0)]=_0x2dad69(0x33c),_0x5de1ca['OFFLINE']=_0x2dad69(0x301),_0x5de1ca))(Si||{});const gi=0xea60;class ge{constructor(_0x4757f2,_0x278987,_0x3ff77c,_0x2bab2b,_0x2d977f,_0x5c5451,_0x243962,_0xf257e3,_0x32eb6a){var _0x2fa2cb=_0x2dad69;D(this,_0x2fa2cb(0x328),null),D(this,'_pendingMutations',[]),(this[_0x2fa2cb(0x22d)]=_0x4757f2,this[_0x2fa2cb(0x97)]=_0x278987,this[_0x2fa2cb(0x30e)]=_0x2d977f,this['_commandService']=_0x5c5451,this['_undoRedoService']=_0x243962,this['_revisionService']=_0xf257e3,this[_0x2fa2cb(0xbe)]=_0x32eb6a,this[_0x2fa2cb(0x328)]=_0x3ff77c,this[_0x2fa2cb(0x187)]=_0x2bab2b);}[_0x2dad69(0xab)](_0x5c889a){var _0x31ac4f=_0x2dad69;const _0x130d2f=this[_0x31ac4f(0x28c)]['getCurrentRevOfUnit'](this['unitID']);return _0x5c889a[_0x31ac4f(0x37c)]>_0x130d2f+0x1?(this[_0x31ac4f(0x30e)][_0x31ac4f(0x302)]({'from':_0x130d2f,'to':_0x5c889a['revision']-0x1}),!0x0):!0x1;}[_0x2dad69(0xc7)](_0x121122){var _0x5d0e85=_0x2dad69;this[_0x5d0e85(0x287)][_0x5d0e85(0x269)](this[_0x5d0e85(0x22d)],_0x121122);}[_0x2dad69(0x294)](_0x4ed918){var _0xd02427=_0x2dad69,_0x32fbba,_0x45de71;(_0x45de71=(_0x32fbba=this['_handler'])[_0xd02427(0x13e)])==null||_0x45de71[_0xd02427(0x2a6)](_0x32fbba,_0x4ed918);}['_transformIMECache'](_0x12d58e){var _0x579861=_0x2dad69,_0x3757f6,_0x188d84;return(_0x188d84=(_0x3757f6=this[_0x579861(0x30e)])['onTransformIME'])==null?void 0x0:_0x188d84['call'](_0x3757f6,_0x12d58e);}[_0x2dad69(0x83)](_0xd3d047){var _0x45a8b6=_0x2dad69,_0x47c5de,_0x8d1e02;return(_0x8d1e02=(_0x47c5de=this['_handler'])['onTransformState'])==null?void 0x0:_0x8d1e02[_0x45a8b6(0x2a6)](_0x47c5de,_0xd3d047);}[_0x2dad69(0x1b6)](_0x1d5415){var _0x34c8fc=_0x2dad69,_0x20b9f3,_0x305055,_0x3f840b;return(_0x3f840b=(_0x305055=(_0x20b9f3=this[_0x34c8fc(0x30e)])[_0x34c8fc(0x149)])==null?void 0x0:_0x305055[_0x34c8fc(0x2a6)](_0x20b9f3,_0x1d5415))!=null?_0x3f840b:_0x1d5415;}[_0x2dad69(0x2c5)](_0x52ba1d){var _0x54d7d2=_0x2dad69,_0xe0e797,_0x5f109a,_0x220b20;return(_0x220b20=(_0x5f109a=(_0xe0e797=this[_0x54d7d2(0x30e)])['onTransformRemoteChangesetByStateCache'])==null?void 0x0:_0x5f109a[_0x54d7d2(0x2a6)](_0xe0e797,_0x52ba1d))!=null?_0x220b20:_0x52ba1d;}[_0x2dad69(0x194)](_0x2600f4){var _0x5f0f6f=_0x2dad69,_0x3f8a2f,_0x180745;if(this[_0x5f0f6f(0x97)]===Q[_0x5f0f6f(0x2e8)]){const {unitID:_0x2eaa9b,mutations:_0x52640e,memberID:_0x5eb2c9}=_0x2600f4,_0x3074ac=_0x52640e[_0x5f0f6f(0xd0)]>0x0?_0x52640e[0x0][_0x5f0f6f(0x23f)][_0x5f0f6f(0x1a2)]:[];Array[_0x5f0f6f(0x299)](_0x3074ac)&&_0x3074ac['length']>0x0&&((_0x180745=(_0x3f8a2f=this[_0x5f0f6f(0x30e)])[_0x5f0f6f(0x1a1)])==null||_0x180745['call'](_0x3f8a2f,{'unitID':_0x2eaa9b,'memberID':_0x5eb2c9,'textRanges':_0x3074ac}));}}['_updateLocalCache'](){var _0xbc6d62=_0x2dad69,_0x3cc4a9;(_0x3cc4a9=this['_localCacheService'])==null||_0x3cc4a9[_0xbc6d62(0x10d)](this[_0xbc6d62(0x22d)],this[_0xbc6d62(0x97)],this['_awaitingChangeset'],this[_0xbc6d62(0x187)]);}[_0x2dad69(0x249)](){var _0x411014=_0x2dad69;return this['_revisionService'][_0x411014(0x201)](this[_0x411014(0x22d)]);}[_0x2dad69(0x29c)](){var _0x5dda65=_0x2dad69;this[_0x5dda65(0x28c)][_0x5dda65(0x2e9)](this[_0x5dda65(0x22d)]);}[_0x2dad69(0x308)](_0x5eab3b){var _0xd0cce7=_0x2dad69,_0x3a0644;let _0x390da=this['_transformRemoteChangesetByIMECache'](_0x5eab3b);_0x390da=this['_transformRemoteChangesetByStateCache'](_0x390da);const _0x5d8658=_0x35a28(_0x390da[_0xd0cce7(0x339)],this[_0xd0cce7(0x37d)],{'fromCollab':!0x0});if(!_0x5d8658[_0xd0cce7(0xfe)])throw _0x5d8658[_0xd0cce7(0x163)]instanceof Error?_0x5d8658[_0xd0cce7(0x163)]:new Error((_0x3a0644=_0x5d8658['error'])!=null?_0x3a0644:'[CollaborationState]:\x20apply\x20error!');this[_0xd0cce7(0xf7)](_0x390da),this['_transformStateCache'](_0x390da),this[_0xd0cce7(0xc7)](_0x5eab3b),this['_transformSelections'](_0x390da),this[_0xd0cce7(0x194)](_0x390da),this['_incrementRevisionNumber']();}}let be=class extends ge{constructor(_0x58b0c7,_0x42e21f,_0x147bb1,_0x2b29d4,_0x20fed2,_0x1f83da,_0xcae80,_0x287b99,_0x2c76da,_0x168cb6){var _0x2d7ec8=_0x2dad69;super(_0x58b0c7,_0x42e21f,null,[],_0x147bb1,_0xcae80,_0x1f83da,_0x2b29d4,_0x168cb6),D(this,_0x2d7ec8(0x88),'synced'),(this[_0x2d7ec8(0x133)]=_0x20fed2,this[_0x2d7ec8(0xd3)]=_0x287b99,this[_0x2d7ec8(0x12a)]=_0x2c76da,this[_0x2d7ec8(0x1bd)]=_0x168cb6);}[_0x2dad69(0x247)](_0x2e6e69){var _0x5f3d06=_0x2dad69;const _0x8a1568=this[_0x5f3d06(0x133)][_0x5f3d06(0x318)](ae,this[_0x5f3d06(0x22d)],this[_0x5f3d06(0x97)],[_0x2e6e69],this[_0x5f3d06(0x30e)]);return _0x8a1568['_schedule'](),_0x8a1568[_0x5f3d06(0x110)](),_0x8a1568;}['onRemoteChangeset'](_0x203895){var _0x3ed531=_0x2dad69;if(this['_checkMissing'](_0x203895))return this[_0x3ed531(0x133)][_0x3ed531(0x318)](ee,this[_0x3ed531(0x22d)],this[_0x3ed531(0x97)],null,[],null,[_0x203895],this[_0x3ed531(0x30e)]);try{const _0x5a6a6c=this['_transformService']['transformMutationsWithChangeset'](_0x203895,[$s]);if(_0x41f739(_0x5a6a6c)){const {c1Prime:_0x2a5108}=_0x5a6a6c;return this[_0x3ed531(0x308)](_0x2a5108),this;}throw _0x5a6a6c[_0x3ed531(0x163)];}catch(_0x104853){return this['_logService']['error'](_0x104853),this[_0x3ed531(0x1f8)](!0x1);}}[_0x2dad69(0x1f8)](_0x2fad07){var _0x50a122=_0x2dad69;return this[_0x50a122(0x133)][_0x50a122(0x318)](ue,this['unitID'],this[_0x50a122(0x97)],null,[],this[_0x50a122(0x30e)],_0x2fad07);}['onRemoteAck'](){var _0x4e1f3f=_0x2dad69;throw new Error(_0x4e1f3f(0x134));}[_0x2dad69(0x1fa)](){throw new Error('[SyncedState]:\x20received\x20rejection.');}['onRemoteRetry'](){return this;}[_0x2dad69(0x27c)](){var _0x31208a=_0x2dad69;return this[_0x31208a(0x133)][_0x31208a(0x318)](de,this[_0x31208a(0x22d)],this[_0x31208a(0x97)],null,[],this['_handler']);}[_0x2dad69(0x109)](){return this;}[_0x2dad69(0x369)](){throw new Error('[SyncedState]:\x20invalid\x20calling\x20to\x20`resend`.');}[_0x2dad69(0x1a8)](){var _0x3f3387=_0x2dad69;const _0xda8dc7=this['_revisionService']['getCurrentRevOfUnit'](this[_0x3f3387(0x22d)]);return this[_0x3f3387(0x30e)][_0x3f3387(0x302)]({'from':_0xda8dc7,'to':0x0}),this[_0x3f3387(0x133)][_0x3f3387(0x318)](ee,this[_0x3f3387(0x22d)],this['type'],null,[],null,[],this[_0x3f3387(0x30e)]);}};be=Se([w(0x3,_0x37d025(_0x3b1a85)),w(0x4,_0x37d025(_0x290c7c)),w(0x5,_0x5619d5),w(0x6,_0x450dec),w(0x7,_0xfd2baf),w(0x8,_0x2578ac),w(0x9,_0x2fa604(J))],be);let ae=class extends ge{constructor(_0x47e601,_0x5aabea,_0x20c22a,_0x4a9e90,_0x251f18,_0xa0d3f0,_0x5f1550,_0x1a884f,_0x327c40,_0x298213,_0x58bfcd,_0x53cdd9,_0x4d61a9,_0x4a9593){var _0x3cbe1b=_0x2dad69;super(_0x47e601,_0x5aabea,null,_0x20c22a,_0x4a9e90,_0x327c40,_0x4d61a9,_0xa0d3f0,_0x4a9593),D(this,_0x3cbe1b(0x88),_0x3cbe1b(0x31a)),D(this,_0x3cbe1b(0x36b),null),D(this,_0x3cbe1b(0xeb),null),(this[_0x3cbe1b(0x133)]=_0x251f18,this[_0x3cbe1b(0x2bb)]=_0x5f1550,this['_logService']=_0x1a884f,this['_configService']=_0x298213,this[_0x3cbe1b(0x12a)]=_0x58bfcd,this['_univerInstanceService']=_0x53cdd9);}[_0x2dad69(0x247)](_0x55356b){var _0x38a2f5=_0x2dad69;return this[_0x38a2f5(0x187)][_0x38a2f5(0xf9)](_0x55356b),this['_updateLocalCache'](),this;}[_0x2dad69(0x31f)](_0x36e887){var _0xef6f27=_0x2dad69;if(this[_0xef6f27(0xab)](_0x36e887))return this['_clearScheduledTask'](),this[_0xef6f27(0x133)][_0xef6f27(0x318)](ee,this[_0xef6f27(0x22d)],this['type'],null,this[_0xef6f27(0x187)],null,[_0x36e887],this[_0xef6f27(0x30e)]);try{const _0x382347=this['_transformService'][_0xef6f27(0x21f)](_0x36e887,this[_0xef6f27(0x187)]);if(_0x41f739(_0x382347)){const {c1Prime:_0x59e77c,m2Prime:_0x4092b1}=_0x382347;this[_0xef6f27(0x308)](_0x59e77c);const _0x101419=this['_injector'][_0xef6f27(0x318)](ae,this[_0xef6f27(0x22d)],this[_0xef6f27(0x97)],_0x4092b1,this[_0xef6f27(0x30e)]);this['_clearScheduledTask']();const _0x46d7b2=new Date()['getTime'](),_0x5c33e1=this[_0xef6f27(0x36b)]?Math[_0xef6f27(0x95)](this[_0xef6f27(0x36b)]-_0x46d7b2,0x0):this[_0xef6f27(0xef)]();return _0x101419[_0xef6f27(0xb2)](_0x5c33e1),_0x101419;}throw _0x382347[_0xef6f27(0x163)];}catch(_0x39ab13){return this['_logService'][_0xef6f27(0x163)](_0x39ab13),this[_0xef6f27(0x1f8)](!0x1);}}[_0x2dad69(0x252)](){var _0x2653e9=_0x2dad69;throw new Error(_0x2653e9(0x34e));}[_0x2dad69(0x1fa)](){throw new Error('[PendingState]:\x20received\x20rejection.');}[_0x2dad69(0x384)](){return this;}[_0x2dad69(0x27c)](){var _0x73c8ce=_0x2dad69;return this['_clearScheduledTask'](),this[_0x73c8ce(0x133)][_0x73c8ce(0x318)](de,this['unitID'],this[_0x73c8ce(0x97)],null,this[_0x73c8ce(0x187)],this[_0x73c8ce(0x30e)]);}[_0x2dad69(0x109)](){return this;}[_0x2dad69(0xb2)](_0x9ec2cd){var _0x52a8e7=_0x2dad69;const _0x4852c8=_0x9ec2cd!=null?_0x9ec2cd:this[_0x52a8e7(0xef)]();this[_0x52a8e7(0x36b)]=new Date()[_0x52a8e7(0x9c)]()+_0x4852c8,this[_0x52a8e7(0xeb)]=setTimeout(()=>{var _0x397b60=_0x52a8e7;this[_0x397b60(0x368)]();let _0x1ae8f6=null;switch(this[_0x397b60(0x97)]){case Q[_0x397b60(0x172)]:{_0x1ae8f6=Gt(this[_0x397b60(0x187)],this['unitID'],this[_0x397b60(0x107)],this['_revisionService'],this[_0x397b60(0x2bb)]);break;}case Q[_0x397b60(0x2e8)]:{this[_0x397b60(0x187)][_0x397b60(0x9b)](_0x2b558b=>_0x2b558b['id']===_0x58aae6['id'])?_0x1ae8f6=ks(this[_0x397b60(0x187)],this[_0x397b60(0x22d)],this[_0x397b60(0x107)],this[_0x397b60(0x28c)],this[_0x397b60(0x2bb)]):_0x1ae8f6=Gt(this[_0x397b60(0x187)],this[_0x397b60(0x22d)],this[_0x397b60(0x107)],this[_0x397b60(0x28c)],this[_0x397b60(0x2bb)]);break;}default:throw new Error(_0x397b60(0x81)+this['type']+_0x397b60(0x78));}const {changeset:_0x4530b1,pendingMutations:_0x1303be}=_0x1ae8f6;this[_0x397b60(0x30e)]['onSendChangeset'](_0x4530b1);const _0x568a6c=_0x1303be[_0x397b60(0xd0)]?this['_injector'][_0x397b60(0x318)](oe,this['unitID'],this[_0x397b60(0x97)],_0x4530b1,_0x1303be,this[_0x397b60(0x30e)],void 0x0):this[_0x397b60(0x133)][_0x397b60(0x318)](le,this[_0x397b60(0x22d)],this[_0x397b60(0x97)],_0x4530b1,this['_handler']);_0x568a6c[_0x397b60(0x110)](),this['_handler']['onStateChange'](this,_0x568a6c);},_0x4852c8);}[_0x2dad69(0xef)](){var _0x47e7fc=_0x2dad69,_0x30c93f;const _0x5f3425=this[_0x47e7fc(0x279)][_0x47e7fc(0x257)](K);return(_0x30c93f=_0x5f3425==null?void 0x0:_0x5f3425[_0x47e7fc(0x237)])!=null?_0x30c93f:ps;}[_0x2dad69(0x369)](){var _0x340c53=_0x2dad69;throw new Error(_0x340c53(0x2ec));}[_0x2dad69(0x368)](){var _0x4fb90c=_0x2dad69;this[_0x4fb90c(0xeb)]!=null&&(clearTimeout(this[_0x4fb90c(0xeb)]),this[_0x4fb90c(0xeb)]=null);}[_0x2dad69(0x1f8)](_0x130195){var _0x21b767=_0x2dad69;return this[_0x21b767(0x368)](),this[_0x21b767(0x133)][_0x21b767(0x318)](ue,this[_0x21b767(0x22d)],this[_0x21b767(0x97)],null,this[_0x21b767(0x187)],this[_0x21b767(0x30e)],_0x130195);}};ae=Se([w(0x4,_0x37d025(_0x290c7c)),w(0x5,_0x37d025(_0x3b1a85)),w(0x6,_0x37d025(Pe)),w(0x7,_0xfd2baf),w(0x8,_0x450dec),w(0x9,_0x49834e),w(0xa,_0x2578ac),w(0xb,_0x532e30),w(0xc,_0x5619d5),w(0xd,_0x2fa604(J))],ae);let le=class extends ge{constructor(_0x86deb7,_0x2f1008,_0x1ca7ff,_0x4533ca,_0x28e5a7,_0x46a2aa,_0x2557e7,_0x18471f,_0x274125,_0x19baf0,_0x46df94){var _0x1e76d3=_0x2dad69;super(_0x86deb7,_0x2f1008,_0x1ca7ff,[],_0x4533ca,_0x2557e7,_0x19baf0,_0x46a2aa,_0x46df94),D(this,_0x1e76d3(0x88),_0x1e76d3(0xe8)),D(this,'_resendTimeout',0x0),D(this,_0x1e76d3(0x32f)),D(this,_0x1e76d3(0x2e0)),(this['_injector']=_0x28e5a7,this[_0x1e76d3(0xd3)]=_0x18471f,this['_transformService']=_0x274125);}[_0x2dad69(0x247)](_0x67ec69){var _0x170d26=_0x2dad69;this['_clearScheduledTask']();const _0x1ed379=this['_injector'][_0x170d26(0x318)](oe,this[_0x170d26(0x22d)],this[_0x170d26(0x97)],this[_0x170d26(0x328)],[_0x67ec69],this[_0x170d26(0x30e)],this[_0x170d26(0x32f)]);return _0x1ed379[_0x170d26(0x110)](),_0x1ed379;}[_0x2dad69(0x31f)](_0x5d438b){var _0x944e44=_0x2dad69;if(this[_0x944e44(0xab)](_0x5d438b))return this[_0x944e44(0x368)](),this[_0x944e44(0x133)]['createInstance'](ee,this[_0x944e44(0x22d)],this[_0x944e44(0x97)],this[_0x944e44(0x328)],[],null,[_0x5d438b],this['_handler']);try{const _0x3a4709=this[_0x944e44(0x12a)]['transformChangesets']([_0x5d438b],[this[_0x944e44(0x328)]],!0x1);if(_0x8add78(_0x3a4709)){const {c1Prime:_0x5b1e7d,c2Prime:_0x15b47d}=_0x3a4709;this[_0x944e44(0x308)](_0x5b1e7d[0x0]),_0x15b47d[0x0][_0x944e44(0x161)]=this[_0x944e44(0x249)](),this[_0x944e44(0x368)]();const _0x458d2c=this['_injector']['createInstance'](le,this[_0x944e44(0x22d)],this['type'],_0x15b47d[0x0],this[_0x944e44(0x30e)]);return _0x458d2c[_0x944e44(0x110)](),_0x458d2c;}return this[_0x944e44(0x1f8)](!0x1);}catch(_0x2e819c){return this[_0x944e44(0xd3)][_0x944e44(0x163)](_0x2e819c),this[_0x944e44(0x1f8)](!0x1);}}[_0x2dad69(0x252)](_0x4a930e){var _0x2efcd4=_0x2dad69;this[_0x2efcd4(0x368)]();const _0x40e312=this[_0x2efcd4(0x28c)][_0x2efcd4(0x201)](this[_0x2efcd4(0x22d)]);if(_0x4a930e[_0x2efcd4(0x37c)]<_0x40e312-0x1)return this;if(this[_0x2efcd4(0xab)](_0x4a930e))return this[_0x2efcd4(0x133)][_0x2efcd4(0x318)](ee,this[_0x2efcd4(0x22d)],this[_0x2efcd4(0x97)],null,[],this['_awaitingChangeset'],[],this['_handler']);this[_0x2efcd4(0x29c)]();const _0x10bf93=this['_injector'][_0x2efcd4(0x318)](be,this['unitID'],this[_0x2efcd4(0x97)],this[_0x2efcd4(0x30e)]);return _0x10bf93['_updateLocalCache'](),_0x10bf93;}[_0x2dad69(0x1fa)](_0x1b68d5){var _0x311fcb=_0x2dad69;return this['_onConflict'](!!(_0x1b68d5!=null&&_0x1b68d5[_0x311fcb(0x34c)]));}[_0x2dad69(0x384)](_0x2b01f9){var _0x5c3a34=_0x2dad69;return this[_0x5c3a34(0xf2)]>gi?this[_0x5c3a34(0x27c)]():(this[_0x5c3a34(0x32f)]=Ii(this['_resendTimeout'],{'timeout':this[_0x5c3a34(0xf2)],'reqId':_0x2b01f9[_0x5c3a34(0x374)]}),this[_0x5c3a34(0x2e0)]=this['_resendTimer']['subscribe'](({reqId:_0x4dbe00,timeout:_0x5dbdf3})=>{var _0x19afc1=_0x5c3a34;this[_0x19afc1(0x13a)](_0x4dbe00,_0x5dbdf3);}),this);}[_0x2dad69(0x27c)](){var _0x196ed1=_0x2dad69;return this[_0x196ed1(0x368)](),this['_injector'][_0x196ed1(0x318)](de,this['unitID'],this[_0x196ed1(0x97)],this[_0x196ed1(0x328)],[],this[_0x196ed1(0x30e)]);}[_0x2dad69(0x109)](){return this;}[_0x2dad69(0x369)](){var _0x3f648e=_0x2dad69;this['_handler'][_0x3f648e(0x210)](this[_0x3f648e(0x328)]);}['_onConflict'](_0x581793){var _0x2ec547=_0x2dad69;return this[_0x2ec547(0x368)](),this[_0x2ec547(0x133)][_0x2ec547(0x318)](ue,this[_0x2ec547(0x22d)],this[_0x2ec547(0x97)],this[_0x2ec547(0x328)],[],this[_0x2ec547(0x30e)],_0x581793);}[_0x2dad69(0x13a)](_0xfe79fd,_0xb844fa){var _0x566862=_0x2dad69,_0x1ba4cf;_0xfe79fd===((_0x1ba4cf=this[_0x566862(0x328)])==null?void 0x0:_0x1ba4cf[_0x566862(0x374)])&&(this[_0x566862(0x369)](),this[_0x566862(0xf2)]=_0xb844fa===0x0?0x3e8:_0xb844fa*0x2);}[_0x2dad69(0x368)](){var _0x5f0f3f=_0x2dad69,_0x594019;(_0x594019=this[_0x5f0f3f(0x2e0)])==null||_0x594019[_0x5f0f3f(0x137)](),this[_0x5f0f3f(0xf2)]=0x0;}};le=Se([w(0x4,_0x37d025(_0x290c7c)),w(0x5,_0x37d025(_0x3b1a85)),w(0x6,_0x450dec),w(0x7,_0xfd2baf),w(0x8,_0x2578ac),w(0x9,_0x5619d5),w(0xa,_0x2fa604(J))],le);let oe=class extends ge{constructor(_0x31dfcb,_0x2077ae,_0x1a3e50,_0x45cc64,_0x1335e9,_0xd4fc3c,_0xb934b1,_0x196e9d,_0x4c5a2d,_0x55e47f,_0x514efd,_0x6b752b,_0x5bb7c9){var _0x465ff5=_0x2dad69;super(_0x31dfcb,_0x2077ae,_0x1a3e50,_0x45cc64,_0x1335e9,_0x4c5a2d,_0x6b752b,_0x196e9d,_0x5bb7c9),D(this,_0x465ff5(0x88),_0x465ff5(0x1a5)),D(this,'_resendTimeout',0x0),D(this,_0x465ff5(0x32f)),D(this,_0x465ff5(0x2e0)),(this[_0x465ff5(0x133)]=_0xb934b1,this[_0x465ff5(0xd3)]=_0x55e47f,this[_0x465ff5(0x12a)]=_0x514efd,this[_0x465ff5(0x1bd)]=_0x5bb7c9,_0xd4fc3c&&(this['_resendTimer']=_0xd4fc3c,this['_sender']=this['_resendTimer'][_0x465ff5(0x1cd)](({reqId:_0x1035a6,timeout:_0x36bbc0})=>{var _0x4e83fb=_0x465ff5;this[_0x4e83fb(0x13a)](_0x1035a6,_0x36bbc0);})));}[_0x2dad69(0x247)](_0x516bc7){var _0x320617=_0x2dad69;return this['_pendingMutations'][_0x320617(0xf9)](_0x516bc7),this;}[_0x2dad69(0x31f)](_0x26a224){var _0x474085=_0x2dad69;if(this[_0x474085(0xab)](_0x26a224))return this[_0x474085(0x368)](),this[_0x474085(0x133)][_0x474085(0x318)](ee,this['unitID'],this[_0x474085(0x97)],this[_0x474085(0x328)],this[_0x474085(0x187)],null,[_0x26a224],this[_0x474085(0x30e)]);try{const _0x320438=this[_0x474085(0x12a)][_0x474085(0x1f1)]([_0x26a224],[this[_0x474085(0x328)]],!0x1);if(_0x8add78(_0x320438)){const {c1Prime:_0x264686,c2Prime:_0x4c962c}=_0x320438,_0x1c97f1=this['_transformService'][_0x474085(0x21f)](_0x264686[0x0],this[_0x474085(0x187)]);if(_0x41f739(_0x1c97f1)){const {c1Prime:_0x29d495,m2Prime:_0xfa1faa}=_0x1c97f1;return this[_0x474085(0x308)](_0x29d495),_0x4c962c[0x0][_0x474085(0x161)]=this[_0x474085(0x249)](),this[_0x474085(0x368)](),this[_0x474085(0x133)][_0x474085(0x318)](oe,this['unitID'],this[_0x474085(0x97)],_0x4c962c[0x0],_0xfa1faa,this[_0x474085(0x30e)],void 0x0);}throw _0x1c97f1[_0x474085(0x163)];}throw _0x320438[_0x474085(0x163)];}catch(_0x440da1){return this[_0x474085(0xd3)][_0x474085(0x163)](_0x440da1),this['_onConflict'](!0x1);}}['onRemoteAck'](_0x596d53){var _0x14fdb1=_0x2dad69;if(this[_0x14fdb1(0x368)](),this['_checkMissing'](_0x596d53))return this['_injector']['createInstance'](ee,this[_0x14fdb1(0x22d)],this['type'],null,this[_0x14fdb1(0x187)],this[_0x14fdb1(0x328)],[],this['_handler']);this[_0x14fdb1(0x29c)]();const _0x53509f=this[_0x14fdb1(0x133)][_0x14fdb1(0x318)](ae,this[_0x14fdb1(0x22d)],this[_0x14fdb1(0x97)],this[_0x14fdb1(0x187)],this[_0x14fdb1(0x30e)]);return _0x53509f[_0x14fdb1(0xb2)](),_0x53509f[_0x14fdb1(0x110)](),_0x53509f;}['onRemoteRej'](_0x4f9812){var _0x1b136a=_0x2dad69;return this[_0x1b136a(0x1f8)](!!(_0x4f9812!=null&&_0x4f9812[_0x1b136a(0x34c)]));}[_0x2dad69(0x384)](_0x308a61){var _0x3634de=_0x2dad69;return this[_0x3634de(0xf2)]>gi?this['toggleOffline']():(this['_resendTimer']=Ii(this[_0x3634de(0xf2)],{'timeout':this[_0x3634de(0xf2)],'reqId':_0x308a61[_0x3634de(0x374)]}),this[_0x3634de(0x2e0)]=this[_0x3634de(0x32f)]['subscribe'](({reqId:_0x5c82bf,timeout:_0x4d8053})=>{var _0x2b4c3b=_0x3634de;this[_0x2b4c3b(0x13a)](_0x5c82bf,_0x4d8053);}),this);}['toggleOffline'](){var _0x42c136=_0x2dad69;return this['_clearScheduledTask'](),this['_injector'][_0x42c136(0x318)](de,this['unitID'],this[_0x42c136(0x97)],this[_0x42c136(0x328)],this[_0x42c136(0x187)],this[_0x42c136(0x30e)]);}['toggleOnline'](){return this;}[_0x2dad69(0x369)](){var _0x4dbcd4=_0x2dad69;this[_0x4dbcd4(0x30e)][_0x4dbcd4(0x210)](this[_0x4dbcd4(0x328)]);}[_0x2dad69(0x1f8)](_0x23b794){var _0x585bc7=_0x2dad69;return this[_0x585bc7(0x368)](),this['_injector'][_0x585bc7(0x318)](ue,this[_0x585bc7(0x22d)],this[_0x585bc7(0x97)],null,this[_0x585bc7(0x187)],this[_0x585bc7(0x30e)],_0x23b794);}['_resendWithTimeout'](_0xddd45b,_0x2287d1){var _0x568898=_0x2dad69,_0xed9822;_0xddd45b===((_0xed9822=this[_0x568898(0x328)])==null?void 0x0:_0xed9822[_0x568898(0x374)])&&(this['resend'](),this[_0x568898(0xf2)]=_0x2287d1===0x0?0x3e8:_0x2287d1*0x2);}[_0x2dad69(0x368)](){var _0x5793da=_0x2dad69,_0x59d8fa;(_0x59d8fa=this[_0x5793da(0x2e0)])==null||_0x59d8fa[_0x5793da(0x137)](),this['_resendTimeout']=0x0;}};oe=Se([w(0x6,_0x37d025(_0x290c7c)),w(0x7,_0x37d025(_0x3b1a85)),w(0x8,_0x450dec),w(0x9,_0xfd2baf),w(0xa,_0x2578ac),w(0xb,_0x5619d5),w(0xc,_0x2fa604(J))],oe);let ue=class extends ge{constructor(_0x152296,_0x2d04d9,_0x47df00,_0x4c5b9a,_0x5b8bf8,_0x2c597a=!0x1,_0x5dc722,_0x46a46d,_0x571a57,_0x3cbfab,_0x4ec5f4,_0x18c86d,_0x38bd59){var _0x5cd0c1=_0x2dad69;super(_0x152296,_0x2d04d9,_0x47df00,_0x4c5b9a,_0x5b8bf8,_0x46a46d,_0x571a57,_0x3cbfab,_0x38bd59),D(this,_0x5cd0c1(0x88),'conflict'),(this[_0x5cd0c1(0x2b5)]=_0x2c597a,this[_0x5cd0c1(0x242)]=_0x5dc722,this[_0x5cd0c1(0x264)]=_0x4ec5f4,this[_0x5cd0c1(0x27a)]=_0x18c86d,this[_0x5cd0c1(0x1bd)]=_0x38bd59,this[_0x5cd0c1(0x108)](),this[_0x5cd0c1(0x365)](),this['_disableEditing']());}[_0x2dad69(0x247)](){return this;}['onRemoteChangeset'](){return this;}[_0x2dad69(0x252)](){return this;}[_0x2dad69(0x1fa)](){return this;}[_0x2dad69(0x384)](){return this;}[_0x2dad69(0x27c)](){return this;}['toggleOnline'](){return this;}[_0x2dad69(0x369)](){var _0x1d4561=_0x2dad69;throw new Error(_0x1d4561(0x197));}[_0x2dad69(0x365)](){var _0x397fd2=_0x2dad69,_0x43682a;(_0x43682a=this[_0x397fd2(0xbe)])==null||_0x43682a['updateOfflineData'](this[_0x397fd2(0x22d)],this[_0x397fd2(0x97)],null,[]);}[_0x2dad69(0x108)](){var _0x12cc30=_0x2dad69;this['_isPermissionRej']?this[_0x12cc30(0x27a)][_0x12cc30(0xc2)]({'id':re[_0x12cc30(0xee)]}):this[_0x12cc30(0x27a)][_0x12cc30(0xc2)]({'id':re[_0x12cc30(0xb0)]});}[_0x2dad69(0x96)](){var _0x12f576=_0x2dad69;this['_permissionService'][_0x12f576(0x98)](new _0x4c63bd(this['unitID'])['id'],!0x1);}};ue=Se([w(0x6,_0x37d025(_0x25b205)),w(0x7,_0x450dec),w(0x8,_0x5619d5),w(0x9,_0x37d025(_0x3b1a85)),w(0xa,_0x37d025(_0x272d95)),w(0xb,_0x37d025(ve)),w(0xc,_0x2fa604(J))],ue);let de=class extends ge{constructor(_0x545b95,_0x3bfb8f,_0x3664f2,_0x48196f,_0x473852,_0xae065,_0x624939,_0x100bdb,_0x2b1941,_0x58a5f7){var _0x3117b1=_0x2dad69;super(_0x545b95,_0x3bfb8f,_0x3664f2,_0x48196f,_0x473852,_0x100bdb,_0x2b1941,_0x624939,_0x58a5f7),D(this,_0x3117b1(0x88),_0x3117b1(0x301)),this['_injector']=_0xae065;}['appendMutation'](_0x2dc4f1){var _0x20c18d=_0x2dad69;return this[_0x20c18d(0x187)][_0x20c18d(0xf9)](_0x2dc4f1),this['_updateLocalCache'](),this;}['onRemoteChangeset'](_0xe2c001){var _0x8e9590=_0x2dad69;throw new Error(_0x8e9590(0x32a));}['onRemoteAck'](){var _0x367c4c=_0x2dad69;throw new Error(_0x367c4c(0x290));}[_0x2dad69(0x1fa)](){var _0x55b667=_0x2dad69;throw new Error(_0x55b667(0x260));}[_0x2dad69(0x384)](){return this;}['toggleOffline'](){return this;}[_0x2dad69(0x109)](){const {_injector:_0x113fc2,_pendingMutations:_0x1d43ee,_awaitingChangeset:_0x12f34c,unitID:_0x4e0e9b,_handler:_0x3ce42d,type:_0x3b2d49}=this,_0x557767=Ti(_0x113fc2,_0x4e0e9b,_0x3b2d49,_0x12f34c,_0x1d43ee,_0x3ce42d);return _0x557767 instanceof ae?_0x557767['_schedule']():(_0x557767 instanceof oe||_0x557767 instanceof le)&&_0x557767['resend'](),_0x557767;}[_0x2dad69(0x369)](){var _0x1e1789=_0x2dad69;throw new Error(_0x1e1789(0x1c4));}};de=Se([w(0x5,_0x37d025(_0x290c7c)),w(0x6,_0x37d025(_0x3b1a85)),w(0x7,_0x450dec),w(0x8,_0x5619d5),w(0x9,_0x2fa604(J))],de);let ee=class extends ge{constructor(_0x58fe1,_0x2be418,_0x5bf578,_0x30dc61,_0x4c700f,_0x41abfc,_0xa2b793,_0xc8526e,_0x453649,_0x4264e3,_0x4b308f,_0x4bd16a,_0x327aff,_0x52d7eb){var _0x1f4d44=_0x2dad69;super(_0x58fe1,_0x2be418,_0x5bf578,_0x30dc61,_0xa2b793,_0x4b308f,_0x4bd16a,_0x453649,_0x52d7eb),D(this,_0x1f4d44(0x88),_0x1f4d44(0x2dd)),(this[_0x1f4d44(0xd1)]=_0x4c700f,this[_0x1f4d44(0x1b4)]=_0x41abfc,this[_0x1f4d44(0x133)]=_0xc8526e,this['_logService']=_0x4264e3,this[_0x1f4d44(0x12a)]=_0x327aff,this[_0x1f4d44(0x1bd)]=_0x52d7eb);}[_0x2dad69(0x2ea)](_0x34ace3){var _0x41052b=_0x2dad69;try{const _0x1f9a4e=[..._0x34ace3,...this[_0x41052b(0x1b4)]],_0x20677b=[this[_0x41052b(0x328)]||this[_0x41052b(0xd1)]][_0x41052b(0x1b5)](_0x50489a=>!!_0x50489a);let _0x444a14,_0x15ecf3;if(_0x20677b['length']){const _0x29be5a=this['_transformService']['transformChangesets'](_0x1f9a4e,_0x20677b,!0x1);if(!_0x8add78(_0x29be5a))throw _0x29be5a['error'];_0x444a14=_0x29be5a[_0x41052b(0x94)],_0x15ecf3=_0x29be5a['c2Prime'];}else _0x444a14=_0x1f9a4e,_0x15ecf3=[];let _0x14cf4d=this['_pendingMutations'];_0x444a14[_0x41052b(0x331)](_0x200a75=>{var _0x53f326=_0x41052b;let _0x21bc0a;if(_0x14cf4d['length']){const _0x221a2c=this[_0x53f326(0x12a)][_0x53f326(0x21f)](_0x200a75,_0x14cf4d);if(!_0x41f739(_0x221a2c))throw _0x221a2c[_0x53f326(0x163)];_0x21bc0a=_0x221a2c[_0x53f326(0x94)],_0x14cf4d=_0x221a2c[_0x53f326(0x2d2)];}else _0x21bc0a=_0x200a75;this[_0x53f326(0x308)](_0x21bc0a);}),this[_0x41052b(0xd1)]&&this[_0x41052b(0x29c)](),this[_0x41052b(0x328)]&&_0x15ecf3['length']&&(_0x15ecf3[0x0]['baseRev']=this['_getCurrentRevision']());let _0x5e663a;if(this[_0x41052b(0x328)]&&_0x14cf4d[_0x41052b(0xd0)]!==0x0)_0x5e663a=this[_0x41052b(0x133)][_0x41052b(0x318)](oe,this['unitID'],this[_0x41052b(0x97)],_0x15ecf3[0x0],_0x14cf4d,this['_handler'],void 0x0);else{if(this[_0x41052b(0x328)]&&_0x14cf4d[_0x41052b(0xd0)]===0x0)_0x15ecf3[0x0][_0x41052b(0x161)]=this[_0x41052b(0x249)](),_0x5e663a=this[_0x41052b(0x133)]['createInstance'](le,this[_0x41052b(0x22d)],this[_0x41052b(0x97)],_0x15ecf3[0x0],this[_0x41052b(0x30e)]);else{if(_0x14cf4d['length']!==0x0){const _0x59845f=this['_injector'][_0x41052b(0x318)](ae,this['unitID'],this[_0x41052b(0x97)],_0x14cf4d,this[_0x41052b(0x30e)]);_0x59845f[_0x41052b(0xb2)](),_0x5e663a=_0x59845f;}else _0x5e663a=this[_0x41052b(0x133)][_0x41052b(0x318)](be,this[_0x41052b(0x22d)],this[_0x41052b(0x97)],this[_0x41052b(0x30e)]);}}return _0x5e663a['_updateLocalCache'](),_0x5e663a;}catch(_0x4364ba){return this[_0x41052b(0xd3)][_0x41052b(0x163)](_0x41052b(0x157),_0x41052b(0x32d),_0x4364ba),this[_0x41052b(0x133)][_0x41052b(0x318)](ue,this[_0x41052b(0x22d)],this['type'],this[_0x41052b(0x328)],this[_0x41052b(0x187)],this['_handler'],!0x1);}}[_0x2dad69(0x369)](){throw new Error('[FetchingMissState]:\x20invalid\x20calling\x20to\x20`resend`.');}[_0x2dad69(0x247)](_0x155ef3){var _0x275342=_0x2dad69;return this[_0x275342(0x187)]['push'](_0x155ef3),this;}[_0x2dad69(0x31f)](_0x40e001){var _0x5d685e=_0x2dad69;return this[_0x5d685e(0x1b4)]['push'](_0x40e001),this;}['onRemoteAck'](_0x3807ff){var _0xdc490b=_0x2dad69;if(this['_awaitingChangeset'])return this[_0xdc490b(0xd1)]=this[_0xdc490b(0x328)],this[_0xdc490b(0x328)]=null,this;throw new Error(_0xdc490b(0xa0));}[_0x2dad69(0x1fa)](_0x283411){var _0x2ee4ab=_0x2dad69;return this[_0x2ee4ab(0x1f8)](!!(_0x283411!=null&&_0x283411['isPermissionRej']));}[_0x2dad69(0x384)](){return this;}[_0x2dad69(0x27c)](){var _0x18906e=_0x2dad69;return this[_0x18906e(0x133)][_0x18906e(0x318)](de,this['unitID'],this[_0x18906e(0x97)],this['_awaitingChangeset'],this[_0x18906e(0x187)],this[_0x18906e(0x30e)]);}[_0x2dad69(0x109)](){return this;}['_onConflict'](_0x1d1c23){var _0x33b781=_0x2dad69;return this[_0x33b781(0x133)]['createInstance'](ue,this['unitID'],this[_0x33b781(0x97)],this['_awaitingChangeset'],this['_pendingMutations'],this['_handler'],_0x1d1c23);}};ee=Se([w(0x7,_0x37d025(_0x290c7c)),w(0x8,_0x37d025(_0x3b1a85)),w(0x9,_0xfd2baf),w(0xa,_0x450dec),w(0xb,_0x5619d5),w(0xc,_0x2578ac),w(0xd,_0x2fa604(J))],ee);function Ti(_0x2bb868,_0x1584a7,_0x5a5c08,_0x4b8507,_0x37ea1f,_0x310cc6){var _0x2cf8a1=_0x2dad69;return _0x4b8507&&_0x37ea1f[_0x2cf8a1(0xd0)]?_0x2bb868[_0x2cf8a1(0x318)](oe,_0x1584a7,_0x5a5c08,_0x4b8507,_0x37ea1f,_0x310cc6,void 0x0):_0x4b8507?_0x2bb868[_0x2cf8a1(0x318)](le,_0x1584a7,_0x5a5c08,_0x4b8507,_0x310cc6):_0x37ea1f[_0x2cf8a1(0xd0)]?_0x2bb868[_0x2cf8a1(0x318)](ae,_0x1584a7,_0x5a5c08,_0x37ea1f,_0x310cc6):_0x2bb868[_0x2cf8a1(0x318)](be,_0x1584a7,_0x5a5c08,_0x310cc6);}var Bs=Object[_0x2dad69(0x1f2)],Pt=(_0x5babb1,_0x28abbf,_0x5ed58c,_0x133080)=>{var _0x417887=_0x2dad69;for(var _0x1d1d35=_0x133080>0x1?void 0x0:_0x133080?Bs(_0x28abbf,_0x5ed58c):_0x28abbf,_0x17ec00=_0x5babb1[_0x417887(0xd0)]-0x1,_0x3543b1;_0x17ec00>=0x0;_0x17ec00--)(_0x3543b1=_0x5babb1[_0x17ec00])&&(_0x1d1d35=_0x3543b1(_0x1d1d35)||_0x1d1d35);return _0x1d1d35;},$=(_0x704404,_0x82afdf)=>(_0x3f5503,_0x2baae3)=>_0x82afdf(_0x3f5503,_0x2baae3,_0x704404);let st=class extends _0x1da050{constructor(_0xd4387f,_0x58a513,_0x3873eb,_0x3900d3,_0x511041,_0x5e0c42,_0x4cb400,_0x3a611d,_0x5a30de,_0x22772d,_0x4c4b6b,_0x31510b,_0x269cf2,_0x11ed35){var _0x526edb=_0x2dad69;super(),D(this,'_state$',new _0x545c65(null)),D(this,_0x526edb(0x2b0),this[_0x526edb(0x114)]['asObservable']()),D(this,_0x526edb(0x8d)),D(this,'_collaborationPaused',!0x1),D(this,_0x526edb(0x1ce),''),D(this,_0x526edb(0x9e),0x0),D(this,_0x526edb(0x121),this['state$']['pipe'](_0x4170a1(_0xfccc02=>_0xfccc02?_0xfccc02[_0x526edb(0x88)]:Si[_0x526edb(0x292)]),_0x5a5135(0x1))),D(this,_0x526edb(0x89),!0x1),D(this,_0x526edb(0x229),[]),(this[_0x526edb(0x22d)]=_0xd4387f,this['session']=_0x58a513,this[_0x526edb(0x276)]=_0x3873eb,this[_0x526edb(0x133)]=_0x3900d3,this['_compressMutationService']=_0x511041,this[_0x526edb(0x264)]=_0x5e0c42,this['_revisionService']=_0x4cb400,this[_0x526edb(0x15a)]=_0x3a611d,this[_0x526edb(0x107)]=_0x5a30de,this[_0x526edb(0xd3)]=_0x22772d,this[_0x526edb(0x37d)]=_0x4c4b6b,this['_permissionService']=_0x31510b,this[_0x526edb(0x320)]=_0x269cf2,this[_0x526edb(0xbe)]=_0x11ed35);}get[_0x2dad69(0xc3)](){var _0x4903f4=_0x2dad69;return this[_0x4903f4(0x8d)];}async[_0x2dad69(0x198)](){var _0x390ce4=_0x2dad69;if(this['state'])throw new Error(_0x390ce4(0x223));await this[_0x390ce4(0xea)]();}[_0x2dad69(0x103)](){return this['_collaborationPaused']=!0x0,_0x21e8bb(()=>{var _0x41d5da=_0x35c2;this[_0x41d5da(0x372)]=!0x1,this[_0x41d5da(0xda)]();});}[_0x2dad69(0xf3)](_0x1348d7){this['_onLocalMutation'](_0x1348d7);}['_updateState'](_0x3d5ea2){var _0x8c2d87=_0x2dad69;this[_0x8c2d87(0x8d)]=_0x3d5ea2,this[_0x8c2d87(0x114)][_0x8c2d87(0x344)](_0x3d5ea2);}async['_init'](){var _0x3cd09f=_0x2dad69,_0x315b9e;this[_0x3cd09f(0x342)](await this[_0x3cd09f(0xb6)]()),this[_0x3cd09f(0x320)]&&((_0x315b9e=this[_0x3cd09f(0x320)])==null||_0x315b9e['editingUnit'](this[_0x3cd09f(0x22d)]),this['disposeWithMe'](this[_0x3cd09f(0x320)][_0x3cd09f(0x2c3)](this[_0x3cd09f(0x22d)])['subscribe'](_0x406471=>{var _0x234986=_0x3cd09f;this[_0x234986(0xd3)]['debug'](_0x234986(0x22c),_0x234986(0x35b),_0x406471),_0x406471===mi[_0x234986(0x9f)]?(this[_0x234986(0x15a)][_0x234986(0xc2)]({'id':re[_0x234986(0x127)]}),this[_0x234986(0x242)][_0x234986(0x98)](new _0x4c63bd(this[_0x234986(0x22d)])['id'],!0x1),this[_0x234986(0x242)][_0x234986(0x166)](!0x1)):(this[_0x234986(0x242)][_0x234986(0x98)](new _0x4c63bd(this[_0x234986(0x22d)])['id'],!0x0),this[_0x234986(0x242)]['setShowComponents'](!0x0));})));let _0x3e1462=!0x1;return this[_0x3cd09f(0x291)](this['session']['sessionStatus$']['subscribe'](_0x280a19=>{var _0x59772d=_0x3cd09f;_0x280a19===me[_0x59772d(0x16d)]?this['_toggleOnline'](_0x3e1462):_0x280a19===me['OFFLINE']&&(_0x3e1462=!0x0,this[_0x59772d(0x211)]());})),this['disposeWithMe'](this[_0x3cd09f(0x168)][_0x3cd09f(0x2b7)]['subscribe'](_0x595152=>{var _0x1dd1cc=_0x3cd09f;try{switch(_0x595152[_0x1dd1cc(0x24d)]){case _0x8cf9e[_0x1dd1cc(0x37b)]:{this[_0x1dd1cc(0x2f9)](_0x488576(_0x595152[_0x1dd1cc(0xa3)]));break;}case _0x8cf9e[_0x1dd1cc(0xac)]:{this['_onRemoteACK'](_0x595152[_0x1dd1cc(0xa3)]);break;}case _0x8cf9e['CHANGESET_REJ']:{this[_0x1dd1cc(0x2ee)]();break;}case _0x8cf9e[_0x1dd1cc(0x19a)]:{this['_onRemoteRetry'](_0x595152[_0x1dd1cc(0xa3)]);break;}case _0x8cf9e['PSEUDO_FETCH_MISSING_RESULT']:{this[_0x1dd1cc(0x1ed)](_0x595152['data'][_0x1dd1cc(0x11f)][_0x1dd1cc(0x360)](_0x76a0e1=>_0x488576(_0x76a0e1)));break;}case _0x8cf9e[_0x1dd1cc(0x152)]:{this[_0x1dd1cc(0x2ee)]({'isPermissionRej':!0x0});break;}case _0x8cf9e[_0x1dd1cc(0x2b2)]:break;}}catch(_0x4ab417){throw console[_0x1dd1cc(0x163)](_0x1dd1cc(0xaa),_0x4ab417),_0x4ab417;}})),this[_0x3cd09f(0x8d)];}[_0x2dad69(0x77)](){this['_transitionLocked']=!0x1;}['_lockTransition'](){var _0x2b1416=_0x2dad69;if(this[_0x2b1416(0x89)])throw new Error('[CollaborationEntity]:\x20cannot\x20lock\x20transition\x20twice!\x20This\x20is\x20an\x20implementation\x20error,\x20meaning\x20you\x20transit\x20the\x20collaboration\x20state\x20again\x20in\x20the\x20process\x20of\x20a\x20previous\x20transition.\x20This\x20should\x20never\x20happen.');this[_0x2b1416(0x89)]=!0x0;}[_0x2dad69(0x273)](_0x3095e0){var _0x3871ed=_0x2dad69;this[_0x3871ed(0x34b)](),this[_0x3871ed(0x342)](this[_0x3871ed(0x8d)][_0x3871ed(0x247)](_0x3095e0)),this[_0x3871ed(0x77)]();}[_0x2dad69(0x2f9)](_0xd953d6){var _0x39fd63=_0x2dad69;if(!(_0xd953d6[_0x39fd63(0x37c)]<=this['_revisionService'][_0x39fd63(0x201)](this[_0x39fd63(0x22d)]))){if(this[_0x39fd63(0x372)]){this['_remoteChangesetQueue'][_0x39fd63(0xf9)](_0xd953d6);return;}this['_applyRemoteChangeset'](_0xd953d6);}}[_0x2dad69(0xda)](){var _0x2384fa=_0x2dad69;this[_0x2384fa(0x229)]['forEach'](_0x3a1bfc=>this['_applyRemoteChangeset'](_0x3a1bfc)),this[_0x2384fa(0x229)]=[];}[_0x2dad69(0x282)](_0x1a1457){var _0x1ddc43=_0x2dad69;const _0x3313f6=this['_compressMutationService'][_0x1ddc43(0x338)][_0x1ddc43(0x8b)](this['_compressMutationService'][_0x1ddc43(0x338)][_0x1ddc43(0x31b)]()[_0x1ddc43(0x295)])(_0x1a1457[_0x1ddc43(0x339)],null)||_0x1a1457[_0x1ddc43(0x339)],_0x4d3034={..._0x1a1457,'mutations':_0x3313f6};this['_lockTransition'](),this[_0x1ddc43(0x342)](this[_0x1ddc43(0x8d)][_0x1ddc43(0x31f)](_0x4d3034)),this['_unlockTransition']();}[_0x2dad69(0x205)](_0x5e55ef){var _0x17992d=_0x2dad69;this[_0x17992d(0x34b)](),this[_0x17992d(0x342)](this[_0x17992d(0x8d)][_0x17992d(0x252)](_0x5e55ef)),this[_0x17992d(0x77)]();}['_onRemoteRejected'](_0x144ed2){var _0x140a97=_0x2dad69;this[_0x140a97(0x34b)](),this[_0x140a97(0x342)](this['_state'][_0x140a97(0x1fa)](_0x144ed2)),this[_0x140a97(0x77)]();}['_onRemoteRetry'](_0x501ca0){var _0x1d555f=_0x2dad69;this[_0x1d555f(0x34b)](),this[_0x1d555f(0x342)](this['_state'][_0x1d555f(0x384)](_0x501ca0)),this['_unlockTransition']();}[_0x2dad69(0x1ed)](_0x16fdcf){var _0x487c78=_0x2dad69;if(!(this[_0x487c78(0x8d)]instanceof ee))throw new TypeError(_0x487c78(0x99));const _0x418fb1=_0x16fdcf[_0x487c78(0x360)](_0x5abfa5=>{var _0x48b4db=_0x487c78;const _0xb902aa=this[_0x48b4db(0x20e)][_0x48b4db(0x338)][_0x48b4db(0x8b)](this[_0x48b4db(0x20e)]['interceptor'][_0x48b4db(0x31b)]()[_0x48b4db(0x295)])(_0x5abfa5[_0x48b4db(0x339)],null)||_0x5abfa5[_0x48b4db(0x339)];return{..._0x5abfa5,'mutations':_0xb902aa};});this[_0x487c78(0x34b)](),this[_0x487c78(0x342)](this[_0x487c78(0x8d)]['onMissedChangesetFetched'](_0x418fb1)),this[_0x487c78(0x77)]();}['_toggleOffline'](){var _0xcc8f9f=_0x2dad69;this[_0xcc8f9f(0x34b)](),this[_0xcc8f9f(0x342)](this[_0xcc8f9f(0x8d)]['toggleOffline']()),this['_unlockTransition']();}[_0x2dad69(0xec)](_0x384c0d=!0x1){var _0x57aaea=_0x2dad69;this[_0x57aaea(0x34b)](),this[_0x57aaea(0x342)](this[_0x57aaea(0x8d)][_0x57aaea(0x109)]()),this[_0x57aaea(0x77)]();const _0x1339cc=this['_state'];_0x384c0d&&_0x1339cc instanceof be&&(this['_lockTransition'](),this[_0x57aaea(0x342)](_0x1339cc[_0x57aaea(0x1a8)]()),this['_unlockTransition']());}async[_0x2dad69(0xb6)](){return new Promise(_0x4404e9=>{var _0x3edfcf=_0x35c2;this[_0x3edfcf(0x168)][_0x3edfcf(0xfb)][_0x3edfcf(0x15c)](_0x553ab4(0x1))['subscribe'](async _0x27c8f0=>{var _0x1a0001=_0x3edfcf;_0x4404e9(await this[_0x1a0001(0x2a3)](_0x27c8f0===me['ONLINE']));});});}[_0x2dad69(0x174)](){const _0x437163=this['unitID'];return{'onStateChange':(_0x26d726,_0x55f9d1)=>{var _0x320747=_0x35c2;if(_0x26d726!==this[_0x320747(0x8d)])throw new Error(_0x320747(0x1dd)+_0x26d726['status']+'\x0aAfter:\x20'+_0x55f9d1['status']+'\x0aCurrent:\x20'+this[_0x320747(0x8d)][_0x320747(0x88)]);this[_0x320747(0x342)](_0x55f9d1);},'onSendChangeset':_0x56dfb1=>{var _0xc7bf33=_0x35c2;_0x56dfb1[_0xc7bf33(0x1eb)]||(_0x56dfb1[_0xc7bf33(0x1eb)]=this['_changesetSessionId'],_0x56dfb1[_0xc7bf33(0x374)]=++this[_0xc7bf33(0x9e)]);const _0x3f2742={'eventID':_0x8cf9e['SUBMIT_CHANGESET'],'data':{'unitID':_0x56dfb1[_0xc7bf33(0x22d)],'unitType':this[_0xc7bf33(0x276)],'changeset':_0x56dfb1,'memberID':this['session']['getMemberID']()}};this[_0xc7bf33(0x168)][_0xc7bf33(0x275)](_0x3f2742,this[_0xc7bf33(0x22d)]);},'onMissingChangesets':({from:_0x13cccb,to:_0x4b3940})=>{var _0x58a7c9=_0x35c2;this[_0x58a7c9(0xd3)]['debug'](_0x58a7c9(0x22c),_0x58a7c9(0x17b)+_0x13cccb+_0x58a7c9(0x337)+_0x4b3940);const _0x5ccd40={'eventID':_0x8cf9e[_0x58a7c9(0xdb)],'data':{'unitID':_0x437163,'unitType':this[_0x58a7c9(0x276)],'from':_0x13cccb,'to':_0x4b3940}};this[_0x58a7c9(0x168)][_0x58a7c9(0x275)](_0x5ccd40,this[_0x58a7c9(0x22d)]);}};}async[_0x2dad69(0x2a3)](_0x3e74fe){var _0x18aeff=_0x2dad69,_0x22034d,_0x280214,_0x4107ce;const _0x5dd5e6=await((_0x22034d=this['_localCacheService'])==null?void 0x0:_0x22034d['loadOfflineData'](this['unitID'])),_0x392210=(_0x280214=_0x5dd5e6==null?void 0x0:_0x5dd5e6[_0x18aeff(0x339)])!=null?_0x280214:[],_0x3935ed=(_0x4107ce=_0x5dd5e6==null?void 0x0:_0x5dd5e6[_0x18aeff(0x1dc)])!=null?_0x4107ce:null,_0x1c59dc=!!(_0x3935ed!=null&&_0x3935ed[_0x18aeff(0x1eb)])&&!!(_0x3935ed!=null&&_0x3935ed['reqId']);this[_0x18aeff(0x1ce)]=_0x1c59dc?_0x3935ed[_0x18aeff(0x1eb)]:_0x177acf(),this['_changesetReqId']=_0x1c59dc?_0x3935ed[_0x18aeff(0x374)]:0x0;const _0x3812a5=this[_0x18aeff(0x22d)];try{this[_0x18aeff(0x20c)](_0x3935ed,_0x392210);}catch(_0x2bf871){this['_logService']['error'](_0x2bf871);}const _0x233f15=this[_0x18aeff(0x174)]();if(_0x3e74fe){const _0xa4e93=Ti(this[_0x18aeff(0x133)],_0x3812a5,this['_type'],_0x3935ed,_0x392210,_0x233f15);return _0xa4e93 instanceof ae?_0xa4e93[_0x18aeff(0xb2)]():(_0xa4e93 instanceof oe||_0xa4e93 instanceof le)&&_0xa4e93[_0x18aeff(0x369)](),_0xa4e93;}return this['_injector'][_0x18aeff(0x318)](de,_0x3812a5,this[_0x18aeff(0x276)],_0x3935ed,_0x392210,_0x233f15);}[_0x2dad69(0x20c)](_0x557250,_0x505438){var _0xa34d09=_0x2dad69,_0x23a4ca,_0x3fe52d;const _0x362ca8=this['_compressMutationService'][_0xa34d09(0x338)]['fetchThroughInterceptors'](this['_compressMutationService']['interceptor'][_0xa34d09(0x31b)]()[_0xa34d09(0x295)]);(_0x23a4ca=_0x362ca8((_0x557250==null?void 0x0:_0x557250[_0xa34d09(0x339)])||[],null))==null||_0x23a4ca[_0xa34d09(0x331)](_0x39f4dc=>this[_0xa34d09(0x37d)][_0xa34d09(0x209)](_0x39f4dc['id'],_0x39f4dc['params'])),(_0x3fe52d=_0x362ca8(_0x505438||[],null))==null||_0x3fe52d[_0xa34d09(0x331)](_0x3ad77f=>this[_0xa34d09(0x37d)][_0xa34d09(0x209)](_0x3ad77f['id'],_0x3ad77f[_0xa34d09(0x23f)]));}};st=Pt([$(0x3,_0x37d025(_0x290c7c)),$(0x4,_0x37d025(_0x3a9277)),$(0x5,_0x37d025(_0x272d95)),$(0x6,_0x37d025(_0x3b1a85)),$(0x7,_0x37d025(ve)),$(0x8,_0x532e30),$(0x9,_0xfd2baf),$(0xa,_0x450dec),$(0xb,_0x25b205),$(0xc,_0x2fa604(_t)),$(0xd,_0x2fa604(J))],st);let It=class extends st{constructor(_0x28aa88,_0x2f2946,_0x36333b,_0x4453f3,_0x5480ed,_0x1032de,_0x9ed2a2,_0x5e2746,_0x9a77d5,_0x28d14e,_0x1c6bd1,_0x59730d,_0x2faed3,_0x25107c){var _0x478ce8=_0x2dad69;super(_0x28aa88,_0x36333b,_0x2f2946,_0x4453f3,_0x5480ed,_0x1032de,_0x9ed2a2,_0x5e2746,_0x9a77d5,_0x28d14e,_0x1c6bd1,_0x59730d,_0x2faed3,_0x25107c),D(this,_0x478ce8(0x2e2),null),(this[_0x478ce8(0x22d)]=_0x28aa88,this[_0x478ce8(0x97)]=_0x2f2946);}[_0x2dad69(0x281)](_0x4d9ea1){var _0x50170c=_0x2dad69;this[_0x50170c(0x2e2)]=_0x4d9ea1;}['dispose'](){var _0x35f620=_0x2dad69;this[_0x35f620(0x2e2)]=null,super[_0x35f620(0x72)]();}[_0x2dad69(0x174)](){var _0x2b30db=_0x2dad69;const _0x2cbd9b=super[_0x2b30db(0x174)]();return _0x2cbd9b[_0x2b30db(0x14d)]=_0x31ad26=>{var _0x58e2ef=_0x2b30db,_0x47b805,_0x49824c;return(_0x49824c=(_0x47b805=this[_0x58e2ef(0x2e2)])==null?void 0x0:_0x47b805[_0x58e2ef(0x14d)])==null?void 0x0:_0x49824c[_0x58e2ef(0x2a6)](_0x47b805,_0x31ad26);},_0x2cbd9b[_0x2b30db(0x1af)]=_0x51d967=>{var _0x1b841e=_0x2b30db,_0x5b1a6b,_0xe97ceb;return(_0xe97ceb=(_0x5b1a6b=this[_0x1b841e(0x2e2)])==null?void 0x0:_0x5b1a6b[_0x1b841e(0x1af)])==null?void 0x0:_0xe97ceb[_0x1b841e(0x2a6)](_0x5b1a6b,_0x51d967);},_0x2cbd9b[_0x2b30db(0x13e)]=_0x5d53e6=>{var _0x281d67=_0x2b30db,_0x1567e4,_0x25a068;return(_0x25a068=(_0x1567e4=this['_handlerCallback'])==null?void 0x0:_0x1567e4[_0x281d67(0x13e)])==null?void 0x0:_0x25a068[_0x281d67(0x2a6)](_0x1567e4,_0x5d53e6);},_0x2cbd9b[_0x2b30db(0x1a1)]=_0x1d4ada=>{var _0x216f77=_0x2b30db,_0x4e1eee,_0x42c9f9;return(_0x42c9f9=(_0x4e1eee=this[_0x216f77(0x2e2)])==null?void 0x0:_0x4e1eee['onSyncEditingCollabCursor'])==null?void 0x0:_0x42c9f9[_0x216f77(0x2a6)](_0x4e1eee,_0x1d4ada);},_0x2cbd9b[_0x2b30db(0x149)]=_0x3a3d65=>{var _0x393416=_0x2b30db,_0x592bc7,_0x847eca,_0xdfc820;if(!((_0x592bc7=this[_0x393416(0x2e2)])!=null&&_0x592bc7[_0x393416(0x149)]))throw new Error(_0x393416(0x1c0));return(_0xdfc820=(_0x847eca=this['_handlerCallback'])==null?void 0x0:_0x847eca[_0x393416(0x149)])==null?void 0x0:_0xdfc820[_0x393416(0x2a6)](_0x847eca,_0x3a3d65);},_0x2cbd9b[_0x2b30db(0x18c)]=_0x48e409=>{var _0x583097=_0x2b30db,_0x541bb6,_0x178425,_0x50cd00;if(!((_0x541bb6=this['_handlerCallback'])!=null&&_0x541bb6[_0x583097(0x18c)]))throw new Error(_0x583097(0xb4));return(_0x50cd00=(_0x178425=this[_0x583097(0x2e2)])==null?void 0x0:_0x178425['onTransformRemoteChangesetByStateCache'])==null?void 0x0:_0x50cd00[_0x583097(0x2a6)](_0x178425,_0x48e409);},_0x2cbd9b;}async[_0x2dad69(0xea)](){var _0x5d5e23=_0x2dad69;const _0x5a77aa=await super[_0x5d5e23(0xea)]();return this[_0x5d5e23(0x291)](this['_commandService'][_0x5d5e23(0x1f7)]((_0x5d62a0,_0x57a4bf)=>{var _0x2c5a5e=_0x5d5e23;if(_0x5d62a0[_0x2c5a5e(0x97)]!==_0x3142c4[_0x2c5a5e(0x206)]||_0x57a4bf!=null&&_0x57a4bf[_0x2c5a5e(0x2bf)]||_0x57a4bf!=null&&_0x57a4bf['onlyLocal']||_0x5d62a0['id']===_0x58aae6['id'])return;const _0x3c8672=_0x5d62a0['params'];if((_0x3c8672==null?void 0x0:_0x3c8672[_0x2c5a5e(0x32e)])!==this[_0x2c5a5e(0x22d)])return;const _0xec0f59=_0x5d62a0,_0x20a29e=this[_0x2c5a5e(0x20e)][_0x2c5a5e(0x338)]['fetchThroughInterceptors'](this['_compressMutationService'][_0x2c5a5e(0x338)]['getInterceptPoints']()['COMPRESS_MUTATION_SEND'])([_0xec0f59],this[_0x2c5a5e(0x107)])||[_0xec0f59];this[_0x2c5a5e(0x273)](_0x20a29e[0x0]);})),_0x5a77aa;}};It=Pt([$(0x3,_0x37d025(_0x290c7c)),$(0x4,_0x37d025(_0x3a9277)),$(0x5,_0x37d025(_0x272d95)),$(0x6,_0x37d025(_0x3b1a85)),$(0x7,_0x37d025(ve)),$(0x8,_0x532e30),$(0x9,_0xfd2baf),$(0xa,_0x450dec),$(0xb,_0x25b205),$(0xc,_0x2fa604(_t)),$(0xd,_0x2fa604(J))],It);let St=class extends st{constructor(_0x3f8a9b,_0x5887cb,_0x2eb300,_0x1398b0,_0x5394ac,_0x17ed18,_0x53cf02,_0x1bc851,_0x50cd9d,_0x4cfd45,_0x5f0314,_0x223381,_0x27f33d,_0x202216,_0x4be21d){var _0x281cc2=_0x2dad69;super(_0x3f8a9b,_0x2eb300,_0x5887cb,_0x1398b0,_0x5394ac,_0x17ed18,_0x53cf02,_0x50cd9d,_0x4cfd45,_0x5f0314,_0x223381,_0x27f33d,_0x202216,_0x4be21d),this['unitID']=_0x3f8a9b,this[_0x281cc2(0x97)]=_0x5887cb,this[_0x281cc2(0x193)]=_0x1bc851;}[_0x2dad69(0x174)](){var _0x11994e=_0x2dad69;const _0x54f482=super[_0x11994e(0x174)]();return _0x54f482[_0x11994e(0x13e)]=_0x2a90da=>this[_0x11994e(0x193)][_0x11994e(0x139)](_0x2a90da),_0x54f482;}async[_0x2dad69(0xea)](){var _0xe68e78=_0x2dad69;const _0x503cc4=await super[_0xe68e78(0xea)]();return this['disposeWithMe'](this[_0xe68e78(0x37d)]['onCommandExecuted']((_0x1f812a,_0x3f2fb0)=>{var _0x53c892=_0xe68e78;if(_0x1f812a['type']!==_0x3142c4['MUTATION']||_0x3f2fb0!=null&&_0x3f2fb0[_0x53c892(0x2bf)]||_0x3f2fb0!=null&&_0x3f2fb0[_0x53c892(0x2a2)])return;const _0x366a16=_0x1f812a['params'];if((_0x366a16==null?void 0x0:_0x366a16[_0x53c892(0x32e)])!==this[_0x53c892(0x22d)])return;const _0x1fa930=_0x1f812a,_0x2ed1ca=this[_0x53c892(0x20e)][_0x53c892(0x338)][_0x53c892(0x8b)](this[_0x53c892(0x20e)][_0x53c892(0x338)][_0x53c892(0x31b)]()['COMPRESS_MUTATION_SEND'])([_0x1fa930],this['_univerInstanceService'])||[_0x1fa930];this[_0x53c892(0x273)](_0x2ed1ca[0x0]);})),_0x503cc4;}};St=Pt([$(0x3,_0x37d025(_0x290c7c)),$(0x4,_0x37d025(_0x3a9277)),$(0x5,_0x37d025(_0x272d95)),$(0x6,_0x37d025(_0x3b1a85)),$(0x7,_0x37d025(it)),$(0x8,_0x37d025(ve)),$(0x9,_0x532e30),$(0xa,_0xfd2baf),$(0xb,_0x450dec),$(0xc,_0x25b205),$(0xd,_0x2fa604(_t)),$(0xe,_0x2fa604(J))],St);const Fs=_0x5c198a(_0x2dad69(0x386));function js(_0xe3ac87){var _0x74709e=_0x2dad69,_0xb9b72,_0xae390f,_0x54bf43,_0x54f5ab,_0x545281;const _0xf84a55=_0xe3ac87[_0x74709e(0xa3)],_0x3027a4=JSON[_0x74709e(0x12f)](_0xf84a55);switch(_0x3027a4[_0x74709e(0x13b)]){case j['HEARTBEAT']:case j[_0x74709e(0x11a)]:{const _0x55a0fb=_0x3027a4[_0x74709e(0x1cc)];return{..._0x3027a4,'data':_0x55a0fb,'cmd':_0x3027a4['cmd']};}case j[_0x74709e(0x1fd)]:{const _0x5a5d1b=_0x3027a4[_0x74709e(0x1ab)];return{..._0x3027a4,'data':_0x5a5d1b,'cmd':_0x3027a4[_0x74709e(0x13b)]};}case j['RECV']:{const _0x5665d1=_0x3027a4['collaMsg'];switch(_0x5665d1[_0x74709e(0x24d)]){case _0x8cf9e[_0x74709e(0x152)]:return{..._0x3027a4,'data':{..._0x5665d1,'data':(_0xb9b72=_0x5665d1[_0x74709e(0x13c)])==null?void 0x0:_0xb9b72['cs']},'cmd':_0x3027a4[_0x74709e(0x13b)]};case _0x8cf9e['CHANGESET_ACK']:return{..._0x3027a4,'data':{..._0x5665d1,'data':(_0xae390f=_0x5665d1[_0x74709e(0x10b)])==null?void 0x0:_0xae390f['cs']},'cmd':_0x3027a4[_0x74709e(0x13b)]};case _0x8cf9e[_0x74709e(0x37b)]:return{..._0x3027a4,'data':{..._0x5665d1,'data':(_0x54bf43=_0x5665d1[_0x74709e(0x14e)])==null?void 0x0:_0x54bf43['cs']},'cmd':_0x3027a4[_0x74709e(0x13b)]};case _0x8cf9e[_0x74709e(0x217)]:return{..._0x3027a4,'data':{..._0x5665d1,'data':(_0x54f5ab=_0x5665d1['csRejEvent'])==null?void 0x0:_0x54f5ab['cs']},'cmd':_0x3027a4['cmd']};case _0x8cf9e[_0x74709e(0x19a)]:return{..._0x3027a4,'data':{..._0x5665d1,'data':(_0x545281=_0x5665d1['csShouldRetryEvent'])==null?void 0x0:_0x545281['cs']},'cmd':_0x3027a4[_0x74709e(0x13b)]};case _0x8cf9e[_0x74709e(0x8e)]:return{..._0x3027a4,'data':{..._0x5665d1,'data':_0x5665d1[_0x74709e(0x19d)]},'cmd':_0x3027a4[_0x74709e(0x13b)]};case _0x8cf9e[_0x74709e(0xa9)]:return{..._0x3027a4,'data':{..._0x5665d1,'data':_0x5665d1[_0x74709e(0xc0)]},'cmd':_0x3027a4[_0x74709e(0x13b)]};case _0x8cf9e['USERS_LEAVE']:return{..._0x3027a4,'data':{..._0x5665d1,'data':_0x5665d1[_0x74709e(0x183)]},'cmd':_0x3027a4[_0x74709e(0x13b)]};case _0x8cf9e[_0x74709e(0x1bc)]:return{..._0x3027a4,'data':{..._0x5665d1,'data':_0x5665d1[_0x74709e(0x26e)]},'cmd':_0x3027a4[_0x74709e(0x13b)]};case _0x8cf9e['LIVESHARE_FETCH_OPERATIONS']:case _0x8cf9e[_0x74709e(0x26c)]:return{..._0x3027a4,'data':{..._0x5665d1,'data':_0x5665d1['liveShareOperation']},'cmd':_0x3027a4[_0x74709e(0x13b)]};case _0x8cf9e[_0x74709e(0x2b1)]:return{..._0x3027a4,'data':{..._0x5665d1,'data':_0x5665d1[_0x74709e(0x26e)]},'cmd':_0x3027a4['cmd']};case _0x8cf9e['MSG_FOR_ERROR']:return{..._0x3027a4,'data':_0x5665d1,'cmd':_0x3027a4[_0x74709e(0x13b)]};case _0x8cf9e[_0x74709e(0x2e3)]:return{..._0x3027a4,'data':{..._0x5665d1,'data':_0x5665d1[_0x74709e(0x35a)]},'cmd':_0x3027a4[_0x74709e(0x13b)]};case _0x8cf9e[_0x74709e(0x92)]:return{..._0x3027a4,'data':{..._0x5665d1,'data':_0x5665d1[_0x74709e(0x182)]},'cmd':_0x3027a4[_0x74709e(0x13b)]};case _0x8cf9e[_0x74709e(0x355)]:return{..._0x3027a4,'data':{..._0x5665d1,'data':_0x5665d1[_0x74709e(0xe5)]},'cmd':_0x3027a4['cmd']};case _0x8cf9e[_0x74709e(0x2b2)]:return{..._0x3027a4,'data':{..._0x5665d1,'data':_0x5665d1[_0x74709e(0x379)]},'cmd':_0x3027a4['cmd']};default:return _0x3027a4;}}default:return _0x3027a4;}}function Vs(_0x213b57){var _0x32c94f=_0x2dad69;switch(_0x213b57[_0x32c94f(0x13b)]){case j[_0x32c94f(0x309)]:case j[_0x32c94f(0x11a)]:return JSON['stringify']({'cmd':_0x213b57[_0x32c94f(0x13b)],'routeKey':_0x213b57['routeKey']});case j[_0x32c94f(0x105)]:{let _0x538937;switch(_0x213b57[_0x32c94f(0xa3)]['eventID']){case _0x8cf9e[_0x32c94f(0x8e)]:{_0x538937={'eventID':_0x8cf9e[_0x32c94f(0x8e)],'updateCursorEvent':_0x213b57['data'][_0x32c94f(0xa3)]};break;}case _0x8cf9e[_0x32c94f(0x266)]:{_0x538937={'eventID':_0x8cf9e[_0x32c94f(0x266)],'leaveEvent':_0x213b57[_0x32c94f(0xa3)][_0x32c94f(0xa3)]};break;}case _0x8cf9e[_0x32c94f(0xa9)]:{_0x538937={'eventID':_0x8cf9e['USERS_ENTER'],'joinEvent':_0x213b57[_0x32c94f(0xa3)][_0x32c94f(0xa3)]};break;}case _0x8cf9e['LIVESHARE_NEW_HOST']:{_0x538937={'eventID':_0x8cf9e[_0x32c94f(0x1bc)],'liveShareNewHost':_0x213b57[_0x32c94f(0xa3)][_0x32c94f(0xa3)]};break;}case _0x8cf9e[_0x32c94f(0x26c)]:{_0x538937={'eventID':_0x8cf9e[_0x32c94f(0x26c)],'liveShareOperation':_0x213b57[_0x32c94f(0xa3)][_0x32c94f(0xa3)]};break;}case _0x8cf9e[_0x32c94f(0x2b1)]:{_0x538937={'eventID':_0x8cf9e[_0x32c94f(0x2b1)],'liveShareTerminate':_0x213b57[_0x32c94f(0xa3)][_0x32c94f(0xa3)]};break;}case _0x8cf9e['LIVESHARE_REQUEST_HOST']:{_0x538937={'eventID':_0x8cf9e['LIVESHARE_REQUEST_HOST'],'liveShareRequestHost':_0x213b57[_0x32c94f(0xa3)]['data']};break;}case _0x8cf9e[_0x32c94f(0x2eb)]:{_0x538937={'eventID':_0x8cf9e[_0x32c94f(0x2eb)]};break;}default:_0x538937={'eventID':_0x213b57['data'][_0x32c94f(0x24d)]};}return JSON[_0x32c94f(0x36e)]({'cmd':_0x213b57['cmd'],'routeKey':_0x213b57['routeKey'],'collaMsg':_0x538937});}case j[_0x32c94f(0x1fd)]:return JSON['stringify']({'cmd':_0x213b57['cmd'],'routeKey':_0x213b57['routeKey'],'joinReq':_0x213b57[_0x32c94f(0xa3)]});case j['LEAVE']:return JSON[_0x32c94f(0x36e)]({'cmd':_0x213b57[_0x32c94f(0x13b)],'routeKey':_0x213b57[_0x32c94f(0x285)],'leaveReq':_0x213b57['data']});default:throw new Error(_0x32c94f(0x366));}}var Gs=Object[_0x2dad69(0x1f2)],Ws=(_0x2033ae,_0x16df89,_0x518136,_0x16ef91)=>{var _0x3eb238=_0x2dad69;for(var _0x4619cc=_0x16ef91>0x1?void 0x0:_0x16ef91?Gs(_0x16df89,_0x518136):_0x16df89,_0x3df2f6=_0x2033ae[_0x3eb238(0xd0)]-0x1,_0x1dc930;_0x3df2f6>=0x0;_0x3df2f6--)(_0x1dc930=_0x2033ae[_0x3df2f6])&&(_0x4619cc=_0x1dc930(_0x4619cc)||_0x4619cc);return _0x4619cc;},ye=(_0x15ae8e,_0x49f77c)=>(_0x136ceb,_0x3a821a)=>_0x49f77c(_0x136ceb,_0x3a821a,_0x15ae8e);const Oi=_0x5c198a(_0x2dad69(0x119));function Ys(_0xfc4d68,_0x5466c2,_0x177580){var _0x3fcb5c=_0x2dad69;return _0xfc4d68+'/'+_0x5466c2+'/unit/'+_0x177580+_0x3fcb5c(0x132);}let Wt=class extends _0x3de454{constructor(_0x3750f7,_0x5d4d74,_0x30b2f6,_0x4c1d9b,_0x41cccb){var _0x9e56f4=_0x2dad69;super(),this['_injector']=_0x3750f7,this['_httpService']=_0x5d4d74,this[_0x9e56f4(0x279)]=_0x30b2f6,this[_0x9e56f4(0xd3)]=_0x4c1d9b,this[_0x9e56f4(0x216)]=_0x41cccb;}[_0x2dad69(0x30a)](_0x20fcfa){var _0x352610=_0x2dad69;const _0x35c56d=this[_0x352610(0x133)][_0x352610(0x7e)](_0x40427d);if(!_0x35c56d)throw new Error(_0x352610(0x324));const _0x240cca=_0x35c56d[_0x352610(0x2f6)](_0x20fcfa);if(!_0x240cca)throw new Error('[CollaborationSocketService]:\x20failed\x20to\x20create\x20socket!');const _0x3fba2c=new _0x2490e1(),_0x229aed=new _0xe5b964();_0x3fba2c[_0x352610(0xdd)](_0x240cca[_0x352610(0x9a)][_0x352610(0x1cd)](_0xc2df30=>_0x229aed[_0x352610(0x344)](_0xc2df30))),_0x3fba2c['add'](_0x21e8bb(()=>_0x229aed[_0x352610(0x2a9)]()));const _0x569efb=new _0xe5b964();_0x3fba2c['add'](_0x240cca[_0x352610(0x1aa)]['subscribe'](_0x45b47f=>_0x569efb[_0x352610(0x344)](_0x45b47f))),_0x3fba2c[_0x352610(0xdd)](_0x21e8bb(()=>_0x569efb['complete']()));const _0x39de67=new _0xe5b964();_0x3fba2c['add'](_0x240cca[_0x352610(0x2f8)][_0x352610(0x1cd)](_0x2eded5=>{const _0x5d883e=js(_0x2eded5);_0x39de67['next'](_0x5d883e);})),_0x3fba2c[_0x352610(0xdd)](_0x21e8bb(()=>_0x39de67[_0x352610(0x2a9)]()));let _0x481a70;const _0x220493=()=>{var _0x6e3473=_0x352610;_0x569efb[_0x6e3473(0x344)](new Event(_0x6e3473(0x288))),_0x229aed[_0x6e3473(0x344)](new Event('connection\x20error')),_0x481a70[_0x6e3473(0x1c5)]();};return _0x481a70={'memberID':'','close$':_0x229aed['asObservable'](),'error$':_0x569efb[_0x352610(0x1db)](),'open$':_0x240cca[_0x352610(0x278)],'message$':_0x39de67['asObservable'](),'send':_0x5b1584=>{var _0x17031e=_0x352610;if(_0x5b1584['cmd']===j[_0x17031e(0x105)]){if(_0x5b1584[_0x17031e(0xa3)][_0x17031e(0x24d)]===_0x8cf9e[_0x17031e(0x277)]){this[_0x17031e(0x117)](_0x481a70,_0x5b1584[_0x17031e(0xa3)])[_0x17031e(0x351)](_0x276fe6=>{var _0x1150fe=_0x17031e;this[_0x1150fe(0xd3)][_0x1150fe(0x163)](_0x276fe6),_0x220493();});return;}if(_0x5b1584[_0x17031e(0xa3)][_0x17031e(0x24d)]===_0x8cf9e[_0x17031e(0xdb)]){const _0x69934d=_0x5b1584[_0x17031e(0xa3)];this[_0x17031e(0x371)](_0x69934d)['then'](_0x51bb2e=>{var _0x288006=_0x17031e;_0x39de67['next']({'cmd':j[_0x288006(0x1a4)],'code':pe['OK'],'routeKey':_0x69934d[_0x288006(0xa3)][_0x288006(0x22d)],'routeType':'','data':{'eventID':_0x8cf9e[_0x288006(0x2fe)],'data':{'changesets':_0x51bb2e}}});})['catch'](_0x4b59ab=>{this['_logService']['error'](_0x4b59ab),_0x220493();});return;}}_0x240cca['send'](Vs(_0x5b1584));},'close':()=>{var _0x598d9e=_0x352610;_0x240cca['close'](),_0x3fba2c[_0x598d9e(0x72)]();}},_0x481a70;}async[_0x2dad69(0x117)](_0x28bded,_0x2c9c3f){var _0x34156e=_0x2dad69,_0x3d3975;const {unitType:_0x1fd95c,unitID:_0x2f741c,changeset:_0x53a2f7}=_0x2c9c3f[_0x34156e(0xa3)],_0x2d0dba={'unitID':_0x2f741c,'memberID':_0x28bded[_0x34156e(0x76)],'type':_0x1fd95c,'changeset':_0x153fc8(_0x53a2f7)},_0x4716c1=this[_0x34156e(0x279)][_0x34156e(0x257)](K),_0x142f09=Ys((_0x3d3975=_0x4716c1==null?void 0x0:_0x4716c1[_0x34156e(0x1c6)])!=null?_0x3d3975:Os,_0x1fd95c,_0x2f741c);try{await this[_0x34156e(0x15d)][_0x34156e(0x335)](_0x142f09,{'body':_0x2d0dba});}catch(_0x260d68){throw this['_logService'][_0x34156e(0x163)](_0x34156e(0x23b),_0x34156e(0x154)),_0x260d68;}}async[_0x2dad69(0x371)](_0x481da5){var _0x5826e4=_0x2dad69;const {unitID:_0x223684,from:_0x5210d4,to:_0x14a11d,unitType:_0x2e2ea3}=_0x481da5[_0x5826e4(0xa3)];return(await this[_0x5826e4(0x216)][_0x5826e4(0x16a)]({'metadata':void 0x0},{'unitID':_0x223684,'type':_0x2e2ea3,'from':_0x5210d4,'to':_0x14a11d}))['changesets'][_0x5826e4(0x360)](_0x3108d4=>((_0x3108d4[_0x5826e4(0x339)]===null||_0x3108d4[_0x5826e4(0x339)]===void 0x0)&&(_0x3108d4[_0x5826e4(0x339)]=[]),_0x3108d4));}};Wt=Ws([ye(0x0,_0x37d025(_0x290c7c)),ye(0x1,_0x37d025(_0xd106c1)),ye(0x2,_0x49834e),ye(0x3,_0xfd2baf),ye(0x4,_0x34a1f3)],Wt);var Ks=Object[_0x2dad69(0x1f2)],qs=(_0x4a8b7f,_0x5a848b,_0x273f6c,_0x35ee2f)=>{var _0x56f26=_0x2dad69;for(var _0x885aa1=_0x35ee2f>0x1?void 0x0:_0x35ee2f?Ks(_0x5a848b,_0x273f6c):_0x5a848b,_0x43771d=_0x4a8b7f[_0x56f26(0xd0)]-0x1,_0x37a88d;_0x43771d>=0x0;_0x43771d--)(_0x37a88d=_0x4a8b7f[_0x43771d])&&(_0x885aa1=_0x37a88d(_0x885aa1)||_0x885aa1);return _0x885aa1;},Re=(_0x3f7500,_0x3ae3da)=>(_0x521be2,_0x4893c3)=>_0x3ae3da(_0x521be2,_0x4893c3,_0x3f7500);let we=class extends _0x3de454{constructor(_0x3e9160,_0x6b160,_0x51df2b,_0x464c11,_0x13c3e5,_0x571bee){var _0x4afcaf=_0x2dad69;super(),D(this,_0x4afcaf(0x2f7),new _0x545c65(void 0x0)),D(this,_0x4afcaf(0x1f4),this[_0x4afcaf(0x2f7)][_0x4afcaf(0x1db)]()),D(this,_0x4afcaf(0x1f3),null),D(this,_0x4afcaf(0x26f),new Map()),D(this,_0x4afcaf(0x28a),new _0x545c65(me[_0x4afcaf(0x6c)])),D(this,_0x4afcaf(0x121),this['_status$']['asObservable']()),D(this,_0x4afcaf(0x87),!0x1),D(this,'_retryConnectingTimer'),D(this,_0x4afcaf(0x2a5),0x0),D(this,_0x4afcaf(0x175)),D(this,'_timeoutTimer'),(this[_0x4afcaf(0x133)]=_0x3e9160,this[_0x4afcaf(0xd3)]=_0x6b160,this[_0x4afcaf(0x279)]=_0x51df2b,this['_socketService']=_0x464c11,this[_0x4afcaf(0x27a)]=_0x13c3e5,this[_0x4afcaf(0x1cb)]=_0x571bee,this[_0x4afcaf(0x84)]());}get['_socket'](){var _0x215549=_0x2dad69;return this[_0x215549(0x2f7)][_0x215549(0x312)]();}[_0x2dad69(0x84)](){var _0x1c369c=_0x2dad69;this['_networkConditionService']&&this[_0x1c369c(0x291)](this[_0x1c369c(0x1cb)][_0x1c369c(0x11b)][_0x1c369c(0x1cd)](_0xb4ec9f=>{var _0x18e6bd=_0x1c369c;_0xb4ec9f&&!this[_0x18e6bd(0x1a6)]&&this[_0x18e6bd(0x2aa)](),_0xb4ec9f||this[_0x18e6bd(0x153)]();}));}[_0x2dad69(0x72)](){var _0x5b95bf=_0x2dad69;super['dispose'](),this[_0x5b95bf(0x2b4)](),this[_0x5b95bf(0x231)](),this[_0x5b95bf(0x1d5)](),this[_0x5b95bf(0x26f)]['forEach'](_0x170781=>_0x170781['dispose']()),this[_0x5b95bf(0x26f)]['clear'](),this[_0x5b95bf(0x28a)][_0x5b95bf(0x2a9)]();}async[_0x2dad69(0x289)](_0x3ef72a){var _0x5714c4=_0x2dad69;if(this[_0x5714c4(0x26f)][_0x5714c4(0x19c)](_0x3ef72a))return this[_0x5714c4(0x26f)][_0x5714c4(0x7e)](_0x3ef72a);this['_tryEnsureSocket']();const _0x3690bf=this[_0x5714c4(0x133)][_0x5714c4(0x318)](mt,_0x3ef72a,this[_0x5714c4(0x2f7)][_0x5714c4(0x1db)]());return this[_0x5714c4(0x26f)][_0x5714c4(0x82)](_0x3ef72a,_0x3690bf),_0x3690bf;}[_0x2dad69(0x146)](_0xabcf49){var _0x3237c5=_0x2dad69,_0x1b4041;const _0x3dd2af=this[_0x3237c5(0x26f)]['get'](_0xabcf49);_0x3dd2af&&(this[_0x3237c5(0x26f)][_0x3237c5(0x115)](_0xabcf49),_0x3dd2af[_0x3237c5(0x1c5)]()),this[_0x3237c5(0x26f)][_0x3237c5(0xf8)]||(_0x1b4041=this[_0x3237c5(0x1a6)])==null||_0x1b4041[_0x3237c5(0x1c5)]();}[_0x2dad69(0x2aa)](){var _0x2e5f70=_0x2dad69;this[_0x2e5f70(0x2a5)]=0x0,this['_clearRetryConnectingTimer'](),this['_tryReconnect']();}[_0x2dad69(0x2b4)](){var _0x4587e1=_0x2dad69;this['_retryConnectingTimer']!=null&&(clearTimeout(this[_0x4587e1(0x250)]),this['_retryConnectingTimer']=null);}async[_0x2dad69(0x2cb)](){var _0x2ee81f=_0x2dad69,_0x3ea726;const _0x492381=this[_0x2ee81f(0x279)]['getConfig'](K),_0x3558e2=(_0x3ea726=_0x492381==null?void 0x0:_0x492381[_0x2ee81f(0xf1)])!=null?_0x3ea726:Es,_0x991eec=await this['_socketService']['createSocket'](_0x3558e2);return this[_0x2ee81f(0x1f3)]=_0x991eec,_0x991eec;}async[_0x2dad69(0x226)](){var _0x1948bf=_0x2dad69,_0x1994a2,_0x33cdd9;try{const _0x433e2f=(_0x33cdd9=(_0x1994a2=this['_socket'])!=null?_0x1994a2:this[_0x1948bf(0x1f3)])!=null?_0x33cdd9:await this['_createSocket']();if(_0x433e2f){const _0xeab674=_0x433e2f[_0x1948bf(0x275)];_0x433e2f[_0x1948bf(0x275)]=_0x1125b8=>(this['_rescheduleHeartbeat'](),_0xeab674[_0x1948bf(0x2df)](_0x433e2f,[_0x1125b8])),_0x433e2f[_0x1948bf(0x2f8)][_0x1948bf(0x1cd)](_0x4f1adb=>this[_0x1948bf(0x30b)](_0x433e2f,_0x4f1adb)),_0x433e2f[_0x1948bf(0x1aa)]['pipe'](_0x17d286(0x1))['subscribe'](_0xcb8c76=>this[_0x1948bf(0xd3)]['error'](_0x1948bf(0x235),_0xcb8c76)),_0x433e2f[_0x1948bf(0x278)]['pipe'](_0x17d286(0x1))[_0x1948bf(0x1cd)](()=>{this['_onConnectionOpen'](_0x433e2f);}),_0x433e2f['close$'][_0x1948bf(0x15c)](_0x17d286(0x1))[_0x1948bf(0x1cd)](_0x14d405=>{var _0x256ada=_0x1948bf;this[_0x256ada(0xd3)][_0x256ada(0xd2)](_0x256ada(0x362),'socket\x20close',_0x14d405),this[_0x256ada(0x20f)]();});}}catch(_0x440631){this[_0x1948bf(0xd3)][_0x1948bf(0x163)](_0x440631),this[_0x1948bf(0x20f)]();}}[_0x2dad69(0x196)](_0x5af5d8){var _0x40c287=_0x2dad69;this[_0x40c287(0xd3)][_0x40c287(0xd2)]('[CollaborationSessionService]',_0x40c287(0x2c4)),_0x5af5d8['send']({'cmd':j[_0x40c287(0x11a)]}),this[_0x40c287(0x2ba)]();}[_0x2dad69(0x153)](){var _0x27b858=_0x2dad69;this[_0x27b858(0x87)]=!0x1,this[_0x27b858(0x1f3)]=null,this[_0x27b858(0x28a)][_0x27b858(0x344)](me['OFFLINE']),this[_0x27b858(0x2f7)][_0x27b858(0x344)](null),this[_0x27b858(0x231)](),this[_0x27b858(0x1d5)]();}['_onConnectionFailed'](){var _0x16c061=_0x2dad69,_0x3b07e3;this[_0x16c061(0x153)](),this[_0x16c061(0x2a5)]<((_0x3b07e3=this['_configService'][_0x16c061(0x257)](gs))!=null?_0x3b07e3:Ts)?(this['_collaborationUIEventService']['emitEvent']({'id':re[_0x16c061(0x305)]}),this[_0x16c061(0x332)]()):this['_collaborationUIEventService'][_0x16c061(0xc2)]({'id':re[_0x16c061(0x10a)]});}[_0x2dad69(0x332)](){var _0x51b8af=_0x2dad69,_0xc1a137;const _0x485bb3=this['_retryCount'],_0x24f855=this['_configService']['getConfig'](K),_0x5a7be2=_0x485bb3===0x0?0x0:((_0xc1a137=_0x24f855==null?void 0x0:_0x24f855[_0x51b8af(0x323)])!=null?_0xc1a137:Ss)*0x2**_0x485bb3;this[_0x51b8af(0x250)]=setTimeout(()=>{var _0x55f00b=_0x51b8af;clearTimeout(this[_0x55f00b(0x250)]),this['_retryConnectingTimer']=null,this[_0x55f00b(0x226)]();},_0x5a7be2),this[_0x51b8af(0x2a5)]+=0x1;}['_onMessage'](_0x24e91f,_0x591afb){var _0xcb816f=_0x2dad69;const {cmd:_0x4d753d}=_0x591afb;_0x4d753d===j['HELLO']&&!this[_0xcb816f(0x87)]&&(_0x24e91f['memberID']=_0x591afb[_0xcb816f(0xa3)][_0xcb816f(0x76)],this['_socket$'][_0xcb816f(0x344)](_0x24e91f),this[_0xcb816f(0x28a)][_0xcb816f(0x344)](me[_0xcb816f(0x16d)]),this[_0xcb816f(0x87)]=!0x0,this[_0xcb816f(0x1f3)]=null),_0x4d753d===j['HEARTBEAT']&&this[_0xcb816f(0x231)](),this[_0xcb816f(0x2ba)]();}[_0x2dad69(0x2ba)](){var _0x3bc79c=_0x2dad69,_0x88ff4c;this[_0x3bc79c(0x1d5)](),this[_0x3bc79c(0x175)]=setTimeout(()=>this[_0x3bc79c(0x259)](),(_0x88ff4c=this[_0x3bc79c(0x279)][_0x3bc79c(0x257)](ms))!=null?_0x88ff4c:Is);}[_0x2dad69(0x259)](){var _0xb23b24=_0x2dad69;this['_socket'][_0xb23b24(0x275)]({'cmd':j[_0xb23b24(0x309)]}),this['_waitForHeartbeatResponse']();}[_0x2dad69(0x293)](){var _0x496c66=_0x2dad69,_0x168f02;this[_0x496c66(0x34f)]=setTimeout(()=>this[_0x496c66(0x20f)](),(_0x168f02=this[_0x496c66(0x279)][_0x496c66(0x257)](di))!=null?_0x168f02:fi);}[_0x2dad69(0x1d5)](){var _0x220b8d=_0x2dad69;this[_0x220b8d(0x175)]!=null&&(clearTimeout(this[_0x220b8d(0x175)]),this[_0x220b8d(0x175)]=null);}[_0x2dad69(0x231)](){var _0x1c7355=_0x2dad69;this[_0x1c7355(0x34f)]!=null&&(clearTimeout(this['_timeoutTimer']),this['_timeoutTimer']=null);}};we=qs([Re(0x0,_0x37d025(_0x290c7c)),Re(0x1,_0xfd2baf),Re(0x2,_0x49834e),Re(0x3,Oi),Re(0x4,_0x37d025(ve)),Re(0x5,_0x2fa604(Fs))],we);var zs=Object[_0x2dad69(0x1f2)],Js=(_0x188095,_0x41fdd6,_0x4774c3,_0x5dc901)=>{var _0x1f3b2f=_0x2dad69;for(var _0xda6db4=_0x5dc901>0x1?void 0x0:_0x5dc901?zs(_0x41fdd6,_0x4774c3):_0x41fdd6,_0x434cdf=_0x188095[_0x1f3b2f(0xd0)]-0x1,_0x295341;_0x434cdf>=0x0;_0x434cdf--)(_0x295341=_0x188095[_0x434cdf])&&(_0xda6db4=_0x295341(_0xda6db4)||_0xda6db4);return _0xda6db4;},Be=(_0x422e70,_0x3a21de)=>(_0x14c77e,_0xc70ee6)=>_0x3a21de(_0x14c77e,_0xc70ee6,_0x422e70);let nt=class extends _0x1da050{constructor(_0xb82667,_0x3f1d6e,_0x311010,_0x473f9b){var _0x4b662d=_0x2dad69,_0xc704a2;super(),D(this,_0x4b662d(0xf0),new Map()),D(this,'_entityInit$',new _0xe5b964()),D(this,'entityInit$',this[_0x4b662d(0xfa)][_0x4b662d(0x1db)]()),(this[_0x4b662d(0x133)]=_0xb82667,this[_0x4b662d(0x225)]=_0x3f1d6e,this[_0x4b662d(0x279)]=_0x311010,this['_univerInstanceService']=_0x473f9b,((_0xc704a2=this[_0x4b662d(0x279)][_0x4b662d(0x257)](K))==null?void 0x0:_0xc704a2[_0x4b662d(0x261)])!==!0x1&&this[_0x4b662d(0xea)]());}['dispose'](){var _0x5ea84d=_0x2dad69;super[_0x5ea84d(0x72)](),this[_0x5ea84d(0xf0)][_0x5ea84d(0x331)](_0x3fac9d=>_0x3fac9d[_0x5ea84d(0x72)]()),this['_entities']['clear']();}[_0x2dad69(0x2c7)](_0x3b27af){var _0x3f3646=_0x2dad69,_0x13e963;return(_0x13e963=this['_entities'][_0x3f3646(0x7e)](_0x3b27af))!=null?_0x13e963:null;}[_0x2dad69(0x2f0)](_0x217e1f){var _0x106707=_0x2dad69;const _0x140a35=this[_0x106707(0x2c7)](_0x217e1f);return _0x140a35?_0x9d0b47(_0x140a35):this['_entityInit$']['pipe'](_0xd3a02c(_0x4117ad=>_0x4117ad['unitID']===_0x217e1f));}[_0x2dad69(0x145)](_0x2175dc){var _0x358210=_0x2dad69;return _0x26115a(this[_0x358210(0x2f0)](_0x2175dc)['pipe'](_0x992660(()=>{})));}[_0x2dad69(0xea)](){var _0x436365=_0x2dad69;this[_0x436365(0x107)][_0x436365(0x23e)](_0x2558f6['UNIVER_SHEET'])[_0x436365(0x15c)](_0x57724(this['dispose$']),_0xa99faa(0x10))['subscribe'](async _0x45ce03=>{var _0xa484e1=_0x436365;const _0x49a9e4=_0x45ce03['getUnitId'](),_0x35e6f8=await this[_0xa484e1(0xbf)](_0x49a9e4,Q[_0xa484e1(0x172)]);this[_0xa484e1(0xf0)][_0xa484e1(0x82)](_0x49a9e4,_0x35e6f8);}),this[_0x436365(0x107)]['getTypeOfUnitAdded$'](_0x2558f6[_0x436365(0x2e8)])['pipe'](_0x57724(this[_0x436365(0x2da)]),_0xa99faa(0x10))[_0x436365(0x15c)](_0xd3a02c(_0x2bb96d=>!_0x2bb96d['getUnitId']()['startsWith']('__')))['subscribe'](async _0xd21a3e=>{var _0x336cf5=_0x436365;const _0xdadb9=_0xd21a3e[_0x336cf5(0x135)](),_0x172b09=await this[_0x336cf5(0xbf)](_0xdadb9,Q['UNIVER_DOC']);this[_0x336cf5(0xf0)]['set'](_0xdadb9,_0x172b09);}),_0x188f91(this['_univerInstanceService'][_0x436365(0x329)](_0x2558f6[_0x436365(0x172)]),this['_univerInstanceService']['getTypeOfUnitDisposed$'](_0x2558f6[_0x436365(0x2e8)]))[_0x436365(0x15c)](_0x57724(this[_0x436365(0x2da)]))['subscribe'](_0x5617a7=>{var _0x47d5a3=_0x436365;const _0x3013c3=_0x5617a7[_0x47d5a3(0x135)](),_0x54454f=this[_0x47d5a3(0xf0)][_0x47d5a3(0x7e)](_0x3013c3);_0x54454f&&(_0x54454f[_0x47d5a3(0x72)](),this[_0x47d5a3(0xf0)][_0x47d5a3(0x115)](_0x3013c3));});}async['_startCollaboration'](_0x289a1a,_0x58988f){var _0x5ec48e=_0x2dad69;const _0x2bfd79=await this['_collabSessionService'][_0x5ec48e(0x289)](_0x289a1a),_0xca9bce=this[_0x5ec48e(0x133)][_0x5ec48e(0x318)](this[_0x5ec48e(0x24f)](_0x58988f),_0x289a1a,_0x58988f,_0x2bfd79);return await _0xca9bce['init'](),this['_entityInit$'][_0x5ec48e(0x344)](_0xca9bce),_0xca9bce;}['_getCtorByUniverType'](_0xa899d6){var _0x1d0845=_0x2dad69;switch(_0xa899d6){case Q[_0x1d0845(0x2e8)]:return It;case Q['UNIVER_SHEET']:return St;default:throw new Error(_0x1d0845(0x2c0)+_0xa899d6);}}};nt=Js([Be(0x0,_0x37d025(_0x290c7c)),Be(0x1,_0x37d025(we)),Be(0x2,_0x49834e),Be(0x3,_0x532e30)],nt);var Xs=Object['getOwnPropertyDescriptor'],Zs=(_0x468d88,_0x502e42,_0x315a2a,_0x371b56)=>{var _0x5cdc00=_0x2dad69;for(var _0x1d01e9=_0x371b56>0x1?void 0x0:_0x371b56?Xs(_0x502e42,_0x315a2a):_0x502e42,_0x531924=_0x468d88[_0x5cdc00(0xd0)]-0x1,_0x1ac029;_0x531924>=0x0;_0x531924--)(_0x1ac029=_0x468d88[_0x531924])&&(_0x1d01e9=_0x1ac029(_0x1d01e9)||_0x1d01e9);return _0x1d01e9;},Yt=(_0x1c9eb3,_0xf2aaf5)=>(_0x387d16,_0x3593f7)=>_0xf2aaf5(_0x387d16,_0x3593f7,_0x1c9eb3);const Qs='DEFAULT_FILE_NAME',en=_0x2dad69(0x25c);let gt=class extends _0x3de454{constructor(_0xd37f6e,_0x1666e3){var _0x9d70ff=_0x2dad69;super(),this[_0x9d70ff(0x107)]=_0xd37f6e,this['_configService']=_0x1666e3,this[_0x9d70ff(0xea)]();}['_init'](){var _0x1ad4ed=_0x2dad69;this[_0x1ad4ed(0x291)](this[_0x1ad4ed(0x107)][_0x1ad4ed(0x33b)][_0x1ad4ed(0x1cd)](()=>{var _0x16edfe=_0x1ad4ed,_0x3f436b;const _0x1fb9c5=this[_0x16edfe(0x107)][_0x16edfe(0x357)]();let _0x2359b2=(_0x3f436b=this[_0x16edfe(0x279)][_0x16edfe(0x257)](Qs))!=null?_0x3f436b:en;_0x1fb9c5 instanceof _0x1b19f5&&(_0x2359b2=_0x1fb9c5['name']),document['title']=_0x2359b2;}));}};gt=Zs([Yt(0x0,_0x532e30),Yt(0x1,_0x49834e)],gt);var tn=Object[_0x2dad69(0x1f2)],sn=(_0x1345ae,_0x164f5e,_0x4d8340,_0x27c2ed)=>{var _0x51d11e=_0x2dad69;for(var _0x56ad23=_0x27c2ed>0x1?void 0x0:_0x27c2ed?tn(_0x164f5e,_0x4d8340):_0x164f5e,_0x19fdf1=_0x1345ae[_0x51d11e(0xd0)]-0x1,_0x4a3846;_0x19fdf1>=0x0;_0x19fdf1--)(_0x4a3846=_0x1345ae[_0x19fdf1])&&(_0x56ad23=_0x4a3846(_0x56ad23)||_0x56ad23);return _0x56ad23;},dt=(_0x131a0e,_0x2c8319)=>(_0x1fea9b,_0x197f9f)=>_0x2c8319(_0x1fea9b,_0x197f9f,_0x131a0e);let rt=class{constructor(_0x33f1ab,_0x5ebbc3,_0x4db698){var _0x325869=_0x2dad69;this[_0x325869(0x279)]=_0x33f1ab,this[_0x325869(0x15d)]=_0x5ebbc3,this[_0x325869(0x1e0)]=_0x4db698,this[_0x325869(0x198)]();}['init'](){var _0x516ca6=_0x2dad69;this['_httpService'][_0x516ca6(0x1a0)]({'priority':0x1,'interceptor':(_0x143f47,_0x33e2eb)=>_0x33e2eb(_0x143f47)['pipe'](_0x49e647(async _0x5165cb=>{var _0x362cfd=_0x516ca6;const _0x52da0b=_0x5165cb;if(_0x52da0b[_0x362cfd(0x88)]===0x191){if(typeof window>'u')throw new Error(_0x362cfd(0x170));if(window[_0x362cfd(0x1d6)](this['localeService']['t'](_0x362cfd(0x12b)))){const _0x34d1af=window[_0x362cfd(0xf5)](window[_0x362cfd(0x35d)][_0x362cfd(0x26a)]);window['location'][_0x362cfd(0x26a)]=this['_getLoginPath']()+_0x362cfd(0x16e)+_0x34d1af;}}return _0x52da0b;}))});}[_0x2dad69(0x199)](){var _0x22c1c4=_0x2dad69,_0x1402f0;const _0x1d3ee6=this[_0x22c1c4(0x279)][_0x22c1c4(0x257)](K);return(_0x1402f0=_0x1d3ee6==null?void 0x0:_0x1d3ee6[_0x22c1c4(0xed)])!=null?_0x1402f0:Rs;}};rt=sn([dt(0x0,_0x49834e),dt(0x1,_0x37d025(_0xd106c1)),dt(0x2,_0x37d025(_0x272d95))],rt);function _0x1259(){var _0x53f866=['call','_scheduleCollaborationTimeoutTimer','signUrlServerUrl','complete','reconnect','setCurrentUser','_event$','NoPadding','_clearCollaborationTimeoutTimer','CHANGESET_REVISION_CONFILICT','state$','LIVESHARE_TERMINATE','UNISCRIPT_RUN','YUUMI_ASYNCIO_CANCELLED','_clearRetryConnectingTimer','_isPermissionRej','_onUserJoin','event$','_substituteRedoStack','ERROR_IMAGE_TYPE','_rescheduleHeartbeat','_memberService','MOBILE_VERIFY_CODE_MISMATCH','hostname','_prevBlock','fromCollab','[CollaborationController]:\x20invalid\x20univer\x20type:\x20','ALREADY_EXISTS','hasOwnProperty','getUnitStatus$','socket\x20open.','_transformRemoteChangesetByStateCache','createDecryptor','getCollabEntity','EMAIL_HAS_BEEN_BOUND','substr','_getUploadFileURL','_createSocket','prototype','60FCOjdH','GLOBAL_ROOMS_CNT_EXCEEDS','CipherParams','unitInfo$','REDEMPTION_CODE_INACTIVE','m2Prime','exports','287932OLbckZ','Cipher','BlockCipherMode','UNAUTHENTICATED','YUUMI_PROMPT_MAX_TOKENS_EXCEEDED','charAt','dispose$','_createHelper','ws://127.0.0.1:8000/universer-api/comb/connect','fetch_missing','decrypt','apply','_sender','getRandomValues','_handlerCallback','COMMENT_UPDATE','LOGIN_TOKEN_PROCESSING_FAILED','range','Base','patch','UNIVER_DOC','incrementRevOfUnit','onMissedChangesetFetched','LIVESHARE_FETCH_OPERATIONS','[PendingState]:\x20invalid\x20calling\x20to\x20`resend`.','_members$','_onRemoteRejected','batchAllowed','getCollabEntity$','Native\x20crypto\x20module\x20could\x20not\x20be\x20used\x20to\x20get\x20secure\x20random\x20number.','kdf','_commentService','slice','name','createSocket','_socket$','message$','_onRemoteChangeset','_roomCreated$','requestParams','equals','create','PSEUDO_FETCH_MISSING_RESULT','_userManagerService','SNAPSHOT_HAS_BEEN_REMOVED','offline','onMissingChangesets','4869352KInCri','_unitID','SOCKET_FAILED_RETRY','HMAC','APPLY_NON_SEQUENTIAL_REVISION','_executeRemoteChangeset','HEARTBEAT','_doCreateSocket','_onMessage','subject','INTERNAL_ERROR','_handler','loadUnit','[UniverCollaborationClientPlugin]','getSnapshotAPIPath','getValue','updateCollaborator','clear','[CollaborationSession]:\x20should\x20not\x20send\x20message\x20when\x20the\x20session\x20is\x20offline!','ceil','PAYMENT_CHANNEL_NOT_SUPPORT','createInstance','_clearUndo','pending','getInterceptPoints','USER_NOT_FOUND','198184kJeOuF','[DataLoaderService]','onRemoteChangeset','_singleActiveUnitService','REDEMPTION_USER_NOT_ELIGIBLE','ERROR_EXCEED_SIZE','retryConnectingInterval','[CollaborationSocketService]:\x20failed\x20to\x20get\x20web\x20socket\x20factory!','_keySchedule','BlockCipher','update','_awaitingChangeset','getTypeOfUnitDisposed$','[OfflineState]:\x20received\x20changeset.','NO_OTHER_CLIENTS_EDITING','listCollaborators','failed\x20to\x20apply\x20missed\x20changesets!','unitId','_resendTimer','finalize','forEach','_tryReconnect','_substituteUndoStack','\x20-\x20','post','salt','\x20to\x20','interceptor','mutations','ClipsheetFragments','focused$','conflict','_map','not_collab','abs','_mode','reduce','_updateState','REDEMPTION_USER_REDEEM_TIMES_EXCEED','next','Hex','getUnitType','UNIVER_SLIDE','session.join-failed','sessionStatus','objectActions','_lockTransition','isPermissionRej','session.room-not-exists','[PendingState]:\x20received\x20acknowledgement.','_timeoutTimer','entries','catch','_clearRedo','getImage','from','SHOULD_CLOSE_CONN','YUUMI_RATE_OVER_LIMIT','getFocusedUnit','/block/','allowed','commentUpdateEvent','editing\x20status\x20changed\x20to','INVITE_CODE_HAS_BEEN_UES','location','_replaceFileID','7inZbGL','map','/object/','[CollaborationSessionService]','getUnit','transformStack\x20failed!','_clearLocalCache','[serializeCombRequest]:\x20should\x20not\x20fall\x20into\x20default\x20branch!','floor','_clearScheduledTask','resend','enableAuthServer','_scheduleCompleteTimestamp','REDEMPTION_INVALID_CODE','_createHmacHelper','stringify','src','saveChangeset','_fetchMissChangesets','_collaborationPaused','objectType','reqId','_sessionStatus$','YUUMI_CONNECTOR_URL_NOT_FOUND','clone','session.room-permission-denied','uniscriptRunEvent','SUCCUSS','NEW_CHANGESETS','revision','_commandService','image/jpeg','POST','_doProcessBlock','initWorkbookPermissionChange','reject','collaboration-client.config','onRemoteRetry','LICENSE_MAX_UNITS_EXCEEDED','univer-pro.collaboration-client.network-condition.service','IDLE','YUUMI_TABLE_NOT_FOUND_IN_UNIT','commentUpdate$','getAllMembers','getMember','_onJoinRoomEvent','dispose','Hasher','_reverseMap','synced','memberID','_unlockTransition','\x20in\x20_schedule.','saveSheetBlock','replace','2129436CvaGEI','msCrypto','loadSheet','get','__creator','algo','[PendingState]:\x20unhandled\x20univer\x20type:\x20','set','_transformStateCache','_listenToNetworkCondition','blockSize','mode','_socketReady','status','_transitionLocked','random','fetchThroughInterceptors','append','_state','UPDATE_CURSOR','YUUMI_URL_COL_OUT_OF_RANGE','UNKNOWN_CMD','AWAITING','UPDATE_PERMISSION_OBJ','image/png','c1Prime','max','_disableEditing','type','updatePermissionPoint','[CollaborationEntity]:\x20cannot\x20apply\x20missing\x20results\x20on\x20other\x20states!','close$','every','getTime','_ENC_XFORM_MODE','_changesetReqId','OTHER_CLIENTS_EDITING','[FetchingMissState]:\x20not\x20expected\x20to\x20receive\x20ack\x20when\x20`this._awaitingChangeset`\x20is\x20null!','MSG_FOR_ERROR','UNKNOWN_CODE','data','x-univer-host','byteOffset','/resources','REDEMPTION_CODE_NOT_STARTED','join','USERS_ENTER','Error\x20on\x20receiving\x20event','_checkMissing','CHANGESET_ACK','LICENSE_MAX_MEMBERS_PER_UNIT_EXCEEDED','image/gif','authzUrl','CONFLICT','AUTHORIZE_CODE_ILLEGAL','_schedule','_decreaseWaiting','onTransformRemoteChangesetByStateCache\x20callback\x20is\x20not\x20added\x20yet.','Undefined','_createInitialState','UUID','_key','OPTIONAL','url','/universer-api/stream/file/upload','/universer-api/authz','&to=','_localCacheService','_startCollaboration','joinEvent','hasher','emitEvent','state','ERROR_IMAGE','listRoles','2125251xQoJcF','_transformUndoredo','_startTelemetryCollaborationNewChangeset','INVALID_INVITE_CODE','_nDataBytes','onStarting','encode','setWaitCount','USER_NOT_INVITED_CODE','cfg','length','_acknowledgedAwaitingChangeset','debug','_logService','updateSnapshot','UNRECOGNIZED','getCurrentUser','ENSURE_SNAPSHOT_EXECUTION','originalMeta','resolve','_exhaustRemoteChangesetQueue','FETCH_MISSING','capture','add','ENTITLE_NEED_BILLING_ADDRESS','crypto','_removeRoom','/allowed','deepClone','mixIn','symbol','shouldCloseConn','\x22.\x20Please\x20configure\x20the\x20dynamicRequireTargets\x20or/and\x20ignoreDynamicRequires\x20option\x20of\x20@rollup/plugin-commonjs\x20appropriately\x20for\x20this\x20require\x20call\x20to\x20work.','SHA1','awaiting','YUUMI_ALL_TABLES_IS_INVALID','_init','_sendingTimer','_toggleOnline','loginUrlKey','PERMISSION_DENIED','_getSendChangesetTimeout','_entities','collabWebSocketUrl','_resendTimeout','onLocalMutation','ERROR_AGAIN','encodeURIComponent','BufferedBlockAlgorithm','_transformIMECache','size','push','_entityInit$','sessionStatus$','_telemetryInfo','_imageSourceCache','result','socketService','19467882XRrCvT','[CollaborationUndoRedoService]','userID','pauseCollaboration','_nRounds','INGEST','collaboratorID','_univerInstanceService','_showConflictNotification','toggleOnline','SOCKET_FAILED','csAckEvent','Cannot\x20assemble\x20a\x20changeset\x20from\x20multiple\x20mutations\x20of\x20different\x20types:\x20','updateOfflineData','JOIN_ROOM_FULL','_emitMembers','_updateLocalCache','ENTITLE_REPORT_LIMIT_EXCEED','_roomMembers','action','_state$','delete','_onRecvEvent','_submitChangeset','OpenSSL','univer-pro.collaboration-client-socket-service','HELLO','online$','_initRequestHeader','default','readAsDataURL','changesets','_redoStacks','status$','_invKeySchedule','snapshotServerUrl','_append','ENTITLE_CAN_NOT_BUY_LOWER_OTP','objects','OTHER_CLIENT_EDITING','roles','findIndex','_transformService','auth.needGotoLoginAlert','extend','getUnitOnRev','YUUMI_SUBSCRIPTION_NOT_FOUND','parse','_data','UserProfileImg','/new_changes','_injector','[SyncedState]:\x20received\x20acknowledgement.','getUnitId','LEAVE','unsubscribe','&source=','transformSelections','_resendWithTimeout','cmd','permissionRejEvent','function','onTransformSelections','now','HttpImport','padding','_parse','ciphertext','byteLength','readyForCollab','closeSession','JOIN_ROOM_PERMISSION_DENIED','_members','onTransformRemoteChangesetByIMECache','REMOTE_UNISCRIPT_EXECUTION_ENDPOINT','EMAIL_VERIFY_CODE_MISMATCH','LICENSE_IMPORT_SIZE_EXCEEDED','onTransformIME','newCsEvent','headers','selections','_xformMode','PERMISSION_REJ','_onOffline','submit\x20changeset\x20error!','buffer','_config','[FetchMissState]','objectID','_transformStack','_eventService','__Key__','pipe','_httpService','_minBufferSize','[UniverCollaborationClientPlugin]:\x20you\x20must\x20provide\x20a\x20socketService\x20implementation\x20in\x20config!','REDEMPTION_CODE_HAS_BEEN_CREATED','baseRev','_waitCount','error','_telemetryService','_doCryptBlock','setShowComponents','_cipher','session','LICENSE_DISTRO_REJECTED','fetchMissingChangesets','collaborators','Failed\x20to\x20update\x20permission\x20point','ONLINE','?url=','_shouldReportTelemetry','[AuthServerService]:\x20you\x20should\x20provide\x20authentication\x20info\x20on\x20Node.js.','_getUndoStack','UNIVER_SHEET','_stopTelemetryCollaborationNewChangeset','_createHandler','_sendHeartbeatTimer','488788wUKoYO','_initCloseConn','COMPLETION_FINISHED','UnitSnapshot','target','fetching\x20missing\x20changesets\x20from\x20','UNIVER_PROJECT','EMAIL_VERIFY_CODE_NOT_FOUND_OR_EXPIRED','_hash','collaboration-client.local-cache-service','loadOfflineData','APPLY_REJECT','updatePermissionObjEvent','leaveEvent','compute','SUBMIT_CHANGESET_TIMEOUT','_collaborationSessionService','_pendingMutations','_snapshotService','actions','encrypt','getResourcesRequest','onTransformRemoteChangesetByStateCache','_change$','_updateStatus','unitId\x20is\x20not\x20found','deleteCollaborator','This\x20method\x20should\x20not\x20be\x20called\x20on\x20the\x20client\x20side!','_commentUpdate$','_sheetTransformSelectionsService','_syncEditingCollabCursor','roomInfos','_onConnectionOpen','[ConflictState]:\x20invalid\x20calling\x20to\x20`resend`.','init','_getLoginPath','CHANGESET_SHOULD_RETRY','onCommentUpdate','has','updateCursorEvent','_collaborationTimeoutTimer','includes','registerHTTPInterceptor','onSyncEditingCollabCursor','textRanges','LICENSE_EXPORT_SIZE_EXCEEDED','RECV','awaiting_with_pending','_socket','INVITE_CODE_ALREADY_BOUND','fetchMiss','_iv','error$','joinRsp','REDEMPTION_CODE_FULLY_REDEEMED','DATA_SOURCE_TOO_LARGE','getWorkbookSelections','onTransformState','body','defineProperty','createCollaborator','_hasher','_queuedRemoteChangesets','filter','_transformRemoteChangesetByIMECache','pad','ivSize','toString','disableLocalCache','Decryptor','LIVESHARE_NEW_HOST','localCacheService','avatar','APPLY_DUPLICATED','onTransformRemoteChangesetByIMECache\x20callback\x20is\x20not\x20added\x20yet.','override','_getAPIPrefix','Utf8','[OfflineState]:\x20invalid\x20calling\x20to\x20`resend`.','close','collabSubmitChangesetUrl','list','MD5','concat','processBlock','_networkConditionService','infoRsp','subscribe','_changesetSessionId','getSheetBlock','JOINING','/universer-api/oidc/authpage','compose','onload','sigBytes','_clearHeartbeatTimer','confirm','/universer-api/snapshot','AES','createEncryptor','getRoom','asObservable','awaitingChangeset','[CollaborationEntity]:\x20invalid\x20state\x20transition!\x20State\x20transferred\x20from\x20is\x20not\x20the\x20current\x20state.\x0aBefore:\x20','/universer-api/snapshot/','saveImage','localeService','keySize','pluginName','image/bmp','UNDEFINED','YUUMI_NO_CUBOID_FOR_QUESTION','People','INVALID_ARGUMENT','FAIL','save\x20fail\x20reason\x20is\x20','updateMember','sid','randomBytes','_onFetchMissResult','_unitInfo$','members','/fetchmissing?from=','transformChangesets','getOwnPropertyDescriptor','_candidateSocket','socket$','enc','rev','onCommandExecuted','_onConflict','NOT_FOUND','onRemoteRej','unit-cache-','Encryptor','JOIN','Base64','AWAITING_WITH_PENDING','BASE64','getCurrentRevOfUnit','waitForRoom$','values','_DEC_XFORM_MODE','_onRemoteACK','MUTATION','_doFinalize','reset','executeCommand','/collaborator','/role','_replayCachedMutations','SYNCED','_compressMutationService','_onConnectionFailed','onSendChangeset','_toggleOffline','HttpExport','getCurrentSelections','getMemberID','LOGIN_FAILED','_snapshotServerService','CHANGESET_REJ','ENTITLE_UPDOWN_GRADE_NOT_SUPPORT','_getRedoStack','key','__esModule','APPLY_REVISION_CONFILICT','WECHAT_HAS_BEEN_BOUND','method','transformMutationsWithChangeset','_onUserLeave','ENTITLE_DUP_SUBSCRIPTION','_process','[CollaborationEntity]:\x20initial\x20state\x20has\x20been\x20created\x20before.\x20You\x20should\x20not\x20call\x20\x22init\x22\x20twice.','Pkcs7','_collabSessionService','_tryEnsureSocket','ENTITLE_CHAT_LIMIT_EXCEED','MOBILE_VERIFY_CODE_NOT_FOUND_OR_EXPIRED','_remoteChangesetQueue','FETCH_MISS','_initUnitPermissionChange','[CollaborationEntity]','unitID','JOIN_ROOM_FAILED','change$','YUUMI_AI_RUN_FAILED','_clearTimeoutTimer','charCodeAt','subUnitId','$super','[CollaborationSessionService]:\x20socket\x20error','_oKey','sendChangesetTimeout','putCollaborators','unknown','WordArray','[CollaborationSession]','UnitEmbedded','FileId','getTypeOfUnitAdded$','params','MOBILE_HAS_BEEN_BOUND','_throwTelemetryCollaborationNewChangeset','_permissionService','words','/object','_initMergeInterceptor','_initDependencies','appendMutation','loadUnitOfRevision','_getCurrentRevision','format','_socketMessageSubscription','removeMember','eventID','RETRY_CONNECTING_MAX_COUNT','_getCtorByUniverType','_retryConnectingTimer','SNAPSHOT_INVALID_SNAPSHOT','onRemoteAck','PENDING','reverse','CLOSE_ROOM','APPLY_PERMISSION_DENIED','getConfig','min','_sendHeartbeat','saveSnapshot','clamp','Univer','Latin1','indexOf','code','[OfflineState]:\x20received\x20rejection.','enableCollaboration','unpad','PERSON','_localeService','find','USERS_LEAVE','fetching\x20the\x20latest\x20document\x20from\x20the\x20server.','JOIN_ROOM_NOT_EXISTS','transformUndoRedo','href','/unit/','LIVESHARE_OPERATION','stopTime','liveShareNewHost','_sessions','/-/object/-/batch_allowed','Malformed\x20UTF-8\x20data','_getSignURL','_onLocalMutation','getImageSourceCache','send','_type','SUBMIT_CHANGESET','open$','_configService','_collaborationUIEventService','HmacSHA1','toggleOffline','decryptBlock','execute','collaboration_new_changeset','EvpKDF','addHandlerCallback','_applyRemoteChangeset','YUUMI_UNABLE_LOAD_URL','you\x20should\x20override\x20\x22IUndoRedoService\x22\x20provided\x20in\x20\x22core\x22\x20package!','routeKey','_registerDependencies','_undoRedoService','connection\x20error','requireSession','_status$','string','_revisionService','splice','_iKey','_getAPIPrefixPath','[OfflineState]:\x20received\x20acknowledgement.','disposeWithMe','OFFLINE','_waitForHeartbeatResponse','_transformSelections','COMPRESS_MUTATION_APPLY','USER_IS_ANONYMOUS','_HTTPService','lib','isArray','_getDownloadEndpointURL','fromCharCode','_incrementRevisionNumber','CURRENT_STATUS_CANNOT_OPERATE','members$','_instanceService','duration','SerializableCipher','onlyLocal','_createInitialStateImpl','sin','_retryCount'];_0x1259=function(){return _0x53f866;};return _0x1259();}var nn=Object[_0x2dad69(0x1f2)],rn=(_0x414653,_0x2fa115,_0x2255e5,_0x56c716)=>{for(var _0x465c21=_0x56c716>0x1?void 0x0:_0x56c716?nn(_0x2fa115,_0x2255e5):_0x2fa115,_0x2796bb=_0x414653['length']-0x1,_0x2ed497;_0x2796bb>=0x0;_0x2796bb--)(_0x2ed497=_0x414653[_0x2796bb])&&(_0x465c21=_0x2ed497(_0x465c21)||_0x465c21);return _0x465c21;},Kt=(_0x4eef5a,_0x272c30)=>(_0x4c6840,_0x38b5e6)=>_0x272c30(_0x4c6840,_0x38b5e6,_0x4eef5a);const an=_0x2dad69(0xbc);let Tt=class extends _0x3de454{constructor(_0x508b23,_0x18fede){var _0x3f92ef=_0x2dad69;super(),this[_0x3f92ef(0x297)]=_0x508b23,this[_0x3f92ef(0x279)]=_0x18fede,this[_0x3f92ef(0x245)]();}['_initMergeInterceptor'](){var _0x58f314=_0x2dad69;const _0x4bb333=this;this[_0x58f314(0x291)](this[_0x58f314(0x297)][_0x58f314(0x1a0)]({'priority':0x3e7,'interceptor':_0x2c3ed2({'isMatch'(_0x5ce041){var _0xc525ba=_0x58f314,_0x144dcb;if(_0x5ce041[_0xc525ba(0x21e)]===_0xc525ba(0x37f)&&((_0x144dcb=_0x5ce041[_0xc525ba(0x2fb)])!=null&&_0x144dcb['body'])){const {objectID:_0x20deeb,objectType:_0x5c8114}=_0x5ce041[_0xc525ba(0x2fb)][_0xc525ba(0x1b0)]||{};if(!_0x20deeb||_0x5c8114===void 0x0)return!0x1;const _0x3147a3=_0x4bb333[_0xc525ba(0x28f)]()+'/'+_0x5c8114+'/object/'+_0x20deeb+_0xc525ba(0xe1);if(_0x5ce041[_0xc525ba(0xba)]===_0x3147a3)return!0x0;}return!0x1;},'getParamsFromRequest'(_0x3ebe9f){var _0x10e1f0=_0x58f314,_0xbc60c8;return(_0xbc60c8=_0x3ebe9f[_0x10e1f0(0x2fb)])==null?void 0x0:_0xbc60c8[_0x10e1f0(0x1b0)];},'mergeParamsToRequest'(_0x4153f3,_0x58f798){var _0x2f9191=_0x58f314;const _0x392438=_0x4bb333['_getAPIPrefixPath']()+_0x2f9191(0x270),_0x56ca13=_0x4153f3[_0x2f9191(0x341)]((_0xd6d991,_0x5fe838)=>{var _0x1b9b6f=_0x2f9191;const {unitID:_0x3740ab,objectID:_0x216cba,objectType:_0x18f605,actions:_0x2b597b}=_0x5fe838;return _0xd6d991[_0x3740ab]||(_0xd6d991[_0x3740ab]={}),_0xd6d991[_0x3740ab][_0x216cba]||(_0xd6d991[_0x3740ab][_0x216cba]={'objectID':_0x216cba,'objectType':_0x18f605,'actions':[]}),_0xd6d991[_0x3740ab][_0x216cba][_0x1b9b6f(0x189)][_0x1b9b6f(0xf9)](..._0x2b597b),_0xd6d991;},{}),_0x1c01fd=[];for(const _0x43c35b in _0x56ca13)for(const _0x5ee270 in _0x56ca13[_0x43c35b]){const {actions:_0x3a7e87,objectType:_0x1dbd89}=_0x56ca13[_0x43c35b][_0x5ee270],_0x697920=[...new Set(_0x3a7e87)];_0x1c01fd[_0x2f9191(0xf9)]({'unitID':_0x43c35b,'objectID':_0x5ee270,'objectType':_0x1dbd89,'actions':_0x697920});}return new _0x168b99('POST',_0x392438,{'headers':_0x58f798[_0x2f9191(0x14f)],'withCredentials':_0x58f798['withCredentials'],'responseType':_0x58f798['responseType'],'body':{'requests':_0x1c01fd}});}},{'distributeResult'(_0x106279,_0x3d8de7){var _0x44177a=_0x58f314;const {objectActions:_0x5abb56}=_0x106279;return _0x3d8de7[_0x44177a(0x360)](_0xcfe5ac=>{var _0x42efe8=_0x44177a;const {unitID:_0x100999,objectID:_0x56d4e4,actions:_0x4a51d9}=_0xcfe5ac,_0x46260e=_0x5abb56[_0x42efe8(0x265)](_0x390af6=>_0x390af6[_0x42efe8(0x22d)]===_0x100999&&_0x390af6[_0x42efe8(0x158)]===_0x56d4e4),_0x42281e=_0x4a51d9[_0x42efe8(0x360)](_0x481087=>_0x46260e==null?void 0x0:_0x46260e[_0x42efe8(0x189)][_0x42efe8(0x265)](_0x341bab=>_0x341bab[_0x42efe8(0x113)]===_0x481087))['filter'](_0x279acd=>!!_0x279acd);return{'config':_0xcfe5ac,'result':{'actions':_0x42281e,'error':_0x106279[_0x42efe8(0x163)]}};});}})}));}[_0x2dad69(0x28f)](){var _0x5396e3=_0x2dad69,_0x359b6b;const _0x3e0626=this[_0x5396e3(0x279)][_0x5396e3(0x257)](K);return(_0x359b6b=_0x3e0626==null?void 0x0:_0x3e0626[_0x5396e3(0xaf)])!=null?_0x359b6b:an;}async[_0x2dad69(0x2fd)](_0x30346e){var _0x1e30fb=_0x2dad69;const _0x2d38b5=this[_0x1e30fb(0x28f)]()+'/'+_0x30346e[_0x1e30fb(0x373)]+_0x1e30fb(0x244);return(await this[_0x1e30fb(0x297)][_0x1e30fb(0x335)](_0x2d38b5,{'body':_0x30346e}))[_0x1e30fb(0x1b0)][_0x1e30fb(0x158)]||'';}async[_0x2dad69(0x1c7)](_0x5cb91c){var _0x654d83=_0x2dad69;const _0xa3174a=this[_0x654d83(0x28f)]()+'/-/object/list';return(await this[_0x654d83(0x297)][_0x654d83(0x335)](_0xa3174a,{'body':_0x5cb91c}))[_0x654d83(0x1b0)][_0x654d83(0x126)];}async[_0x2dad69(0x327)](_0x1e0c82){var _0x4a63cc=_0x2dad69,_0x32d35c,_0x30d3d0;const _0x2f4a96=this['_getAPIPrefixPath']()+'/'+_0x1e0c82[_0x4a63cc(0x373)]+_0x4a63cc(0x361)+_0x1e0c82[_0x4a63cc(0x158)],_0x2080d3=await this['_HTTPService']['put'](_0x2f4a96,{'body':_0x1e0c82});if(((_0x30d3d0=(_0x32d35c=_0x2080d3==null?void 0x0:_0x2080d3[_0x4a63cc(0x1b0)])==null?void 0x0:_0x32d35c[_0x4a63cc(0x163)])==null?void 0x0:_0x30d3d0[_0x4a63cc(0x25f)])!==0x1)throw new Error(_0x4a63cc(0x16c));}async[_0x2dad69(0x359)](_0x1c5d66){var _0x1057ca=_0x2dad69;const _0x57ac7c=this[_0x1057ca(0x28f)]()+'/'+_0x1c5d66[_0x1057ca(0x373)]+_0x1057ca(0x361)+_0x1c5d66['objectID']+'/allowed';return(await this[_0x1057ca(0x297)][_0x1057ca(0x335)](_0x57ac7c,{'body':_0x1c5d66}))[_0x1057ca(0x1b0)][_0x1057ca(0x189)];}async[_0x2dad69(0x2ef)](_0x2b4599){var _0x5f2cad=_0x2dad69;const _0x7e0504=this[_0x5f2cad(0x28f)]()+_0x5f2cad(0x270);return(await this[_0x5f2cad(0x297)]['post'](_0x7e0504,{'body':{'requests':_0x2b4599}}))[_0x5f2cad(0x1b0)][_0x5f2cad(0x34a)];}async[_0x2dad69(0xc5)](_0x3b4a53){var _0x69b963=_0x2dad69;const _0x4b3b5a=this['_getAPIPrefixPath']()+'/'+_0x3b4a53[_0x69b963(0x373)]+_0x69b963(0x20b),_0x3ac747=await this[_0x69b963(0x297)]['post'](_0x4b3b5a,{'body':_0x3b4a53});return{'roles':_0x3ac747[_0x69b963(0x1b0)][_0x69b963(0x128)],'actions':_0x3ac747[_0x69b963(0x1b0)][_0x69b963(0x189)]};}async[_0x2dad69(0x190)](_0x3e281d){var _0x50eff2=_0x2dad69;const _0x85c740=this['_getAPIPrefixPath']()+'/collaborator';await this['_HTTPService'][_0x50eff2(0x115)](_0x85c740,{'params':{'collaboratorID':_0x3e281d[_0x50eff2(0x106)],'objectID':_0x3e281d[_0x50eff2(0x158)],'unitID':_0x3e281d[_0x50eff2(0x22d)]}});}async[_0x2dad69(0x313)](_0x13a3d0){var _0x5bf993=_0x2dad69;const _0x2dd26e=this['_getAPIPrefixPath']()+'/collaborator';await this[_0x5bf993(0x297)][_0x5bf993(0x2e7)](_0x2dd26e,{'body':_0x13a3d0});}async[_0x2dad69(0x1b2)](_0x3de41e){var _0x4229ba=_0x2dad69;const _0x135ddb=this['_getAPIPrefixPath']()+_0x4229ba(0x20a);await this[_0x4229ba(0x297)][_0x4229ba(0x335)](_0x135ddb,{'body':_0x3de41e});}async[_0x2dad69(0x32c)](_0xe90948){var _0x30155f=_0x2dad69;const _0x1b0313=this[_0x30155f(0x28f)]()+_0x30155f(0x20a);return(await this[_0x30155f(0x297)][_0x30155f(0x7e)](_0x1b0313,{'params':{'objectID':_0xe90948['objectID'],'unitID':_0xe90948['unitID']}}))[_0x30155f(0x1b0)][_0x30155f(0x16b)];}async[_0x2dad69(0x238)](_0x2cf79c){var _0x4ec1ff=_0x2dad69;const _0x56295c=this[_0x4ec1ff(0x28f)]()+_0x4ec1ff(0x20a);await this[_0x4ec1ff(0x297)]['put'](_0x56295c,{'body':_0x2cf79c});}};Tt=rn([Kt(0x0,_0x37d025(_0xd106c1)),Kt(0x1,_0x37d025(_0x49834e))],Tt);var ft=typeof globalThis<'u'?globalThis:typeof window<'u'?window:typeof global<'u'?global:typeof self<'u'?self:{};function $e(_0x3d620a){var _0x2f6159=_0x2dad69;return _0x3d620a&&_0x3d620a[_0x2f6159(0x21b)]&&Object[_0x2f6159(0x2cc)][_0x2f6159(0x2c2)][_0x2f6159(0x2a6)](_0x3d620a,_0x2f6159(0x11d))?_0x3d620a[_0x2f6159(0x11d)]:_0x3d620a;}var Ve={'exports':{}};function on(_0x4f9d61){var _0x28f5bf=_0x2dad69;throw new Error('Could\x20not\x20dynamically\x20require\x20\x22'+_0x4f9d61+_0x28f5bf(0xe6));}var Ge={'exports':{}},cn=Ge[_0x2dad69(0x2d3)],qt;function ie(){var _0x4828a8=_0x2dad69;return qt||(qt=0x1,function(_0x561de9,_0x92388b){(function(_0x1eb57f,_0x2acd26){var _0x3816a3=_0x35c2;_0x561de9[_0x3816a3(0x2d3)]=_0x2acd26();}(cn,function(){var _0x45b0d4=_0x45b0d4||function(_0x32efd5,_0x3652f5){var _0x12176c=_0x35c2,_0x18dd92;if(typeof window<'u'&&window[_0x12176c(0xdf)]&&(_0x18dd92=window[_0x12176c(0xdf)]),typeof self<'u'&&self[_0x12176c(0xdf)]&&(_0x18dd92=self[_0x12176c(0xdf)]),typeof globalThis<'u'&&globalThis['crypto']&&(_0x18dd92=globalThis[_0x12176c(0xdf)]),!_0x18dd92&&typeof window<'u'&&window['msCrypto']&&(_0x18dd92=window[_0x12176c(0x7c)]),!_0x18dd92&&typeof ft<'u'&&ft[_0x12176c(0xdf)]&&(_0x18dd92=ft[_0x12176c(0xdf)]),!_0x18dd92&&typeof on=='function')try{_0x18dd92=require('crypto');}catch{}var _0x235fa4=function(){var _0x424e99=_0x12176c;if(_0x18dd92){if(typeof _0x18dd92[_0x424e99(0x2e1)]==_0x424e99(0x13d))try{return _0x18dd92[_0x424e99(0x2e1)](new Uint32Array(0x1))[0x0];}catch{}if(typeof _0x18dd92[_0x424e99(0x1ec)]==_0x424e99(0x13d))try{return _0x18dd92[_0x424e99(0x1ec)](0x4)['readInt32LE']();}catch{}}throw new Error(_0x424e99(0x2f1));},_0x4fc85d=Object[_0x12176c(0x2fd)]||(function(){function _0x474fc8(){}return function(_0x1a45e6){var _0x536268=_0x35c2,_0x3998b2;return _0x474fc8[_0x536268(0x2cc)]=_0x1a45e6,_0x3998b2=new _0x474fc8(),_0x474fc8[_0x536268(0x2cc)]=null,_0x3998b2;};}()),_0x2cf52c={},_0x11c602=_0x2cf52c[_0x12176c(0x298)]={},_0x1e2eeb=_0x11c602['Base']=(function(){return{'extend':function(_0x57b4e5){var _0x5cba8b=_0x35c2,_0x2fe96e=_0x4fc85d(this);return _0x57b4e5&&_0x2fe96e['mixIn'](_0x57b4e5),(!_0x2fe96e[_0x5cba8b(0x2c2)]('init')||this[_0x5cba8b(0x198)]===_0x2fe96e[_0x5cba8b(0x198)])&&(_0x2fe96e['init']=function(){var _0x4635d8=_0x5cba8b;_0x2fe96e[_0x4635d8(0x234)][_0x4635d8(0x198)][_0x4635d8(0x2df)](this,arguments);}),_0x2fe96e['init'][_0x5cba8b(0x2cc)]=_0x2fe96e,_0x2fe96e[_0x5cba8b(0x234)]=this,_0x2fe96e;},'create':function(){var _0x534898=_0x35c2,_0x38c0b1=this[_0x534898(0x12c)]();return _0x38c0b1[_0x534898(0x198)][_0x534898(0x2df)](_0x38c0b1,arguments),_0x38c0b1;},'init':function(){},'mixIn':function(_0xde85f3){var _0x3f0954=_0x35c2;for(var _0x3d1e94 in _0xde85f3)_0xde85f3[_0x3f0954(0x2c2)](_0x3d1e94)&&(this[_0x3d1e94]=_0xde85f3[_0x3d1e94]);_0xde85f3[_0x3f0954(0x2c2)](_0x3f0954(0x1b9))&&(this['toString']=_0xde85f3['toString']);},'clone':function(){var _0x42c282=_0x35c2;return this[_0x42c282(0x198)]['prototype'][_0x42c282(0x12c)](this);}};}()),_0x9f0f38=_0x11c602[_0x12176c(0x23a)]=_0x1e2eeb[_0x12176c(0x12c)]({'init':function(_0x3b530c,_0x125cba){var _0x42549a=_0x12176c;_0x3b530c=this[_0x42549a(0x243)]=_0x3b530c||[],_0x125cba!=_0x3652f5?this[_0x42549a(0x1d4)]=_0x125cba:this[_0x42549a(0x1d4)]=_0x3b530c['length']*0x4;},'toString':function(_0x4c5ce4){var _0x2e3b0b=_0x12176c;return(_0x4c5ce4||_0x148fc1)[_0x2e3b0b(0x36e)](this);},'concat':function(_0x58ab2b){var _0x46b0d2=_0x12176c,_0xfbe207=this[_0x46b0d2(0x243)],_0x334788=_0x58ab2b[_0x46b0d2(0x243)],_0xa9dc5e=this['sigBytes'],_0x4b4831=_0x58ab2b[_0x46b0d2(0x1d4)];if(this[_0x46b0d2(0x25b)](),_0xa9dc5e%0x4)for(var _0x2024a3=0x0;_0x2024a3<_0x4b4831;_0x2024a3++){var _0x369d3a=_0x334788[_0x2024a3>>>0x2]>>>0x18-_0x2024a3%0x4*0x8&0xff;_0xfbe207[_0xa9dc5e+_0x2024a3>>>0x2]|=_0x369d3a<<0x18-(_0xa9dc5e+_0x2024a3)%0x4*0x8;}else{for(var _0x908726=0x0;_0x908726<_0x4b4831;_0x908726+=0x4)_0xfbe207[_0xa9dc5e+_0x908726>>>0x2]=_0x334788[_0x908726>>>0x2];}return this[_0x46b0d2(0x1d4)]+=_0x4b4831,this;},'clamp':function(){var _0x4fc626=_0x12176c,_0x64ccd5=this['words'],_0x9fc182=this[_0x4fc626(0x1d4)];_0x64ccd5[_0x9fc182>>>0x2]&=0xffffffff<<0x20-_0x9fc182%0x4*0x8,_0x64ccd5[_0x4fc626(0xd0)]=_0x32efd5[_0x4fc626(0x316)](_0x9fc182/0x4);},'clone':function(){var _0x2d93be=_0x12176c,_0x2a98af=_0x1e2eeb['clone'][_0x2d93be(0x2a6)](this);return _0x2a98af['words']=this[_0x2d93be(0x243)][_0x2d93be(0x2f4)](0x0),_0x2a98af;},'random':function(_0x1aad05){var _0x5eef69=_0x12176c;for(var _0x57dd6c=[],_0x520042=0x0;_0x520042<_0x1aad05;_0x520042+=0x4)_0x57dd6c['push'](_0x235fa4());return new _0x9f0f38[(_0x5eef69(0x198))](_0x57dd6c,_0x1aad05);}}),_0x57236f=_0x2cf52c['enc']={},_0x148fc1=_0x57236f[_0x12176c(0x345)]={'stringify':function(_0x4c0cfc){var _0xccc829=_0x12176c;for(var _0x55695e=_0x4c0cfc[_0xccc829(0x243)],_0x348d7b=_0x4c0cfc['sigBytes'],_0x10233b=[],_0xc13464=0x0;_0xc13464<_0x348d7b;_0xc13464++){var _0x1b1c2e=_0x55695e[_0xc13464>>>0x2]>>>0x18-_0xc13464%0x4*0x8&0xff;_0x10233b[_0xccc829(0xf9)]((_0x1b1c2e>>>0x4)['toString'](0x10)),_0x10233b[_0xccc829(0xf9)]((_0x1b1c2e&0xf)['toString'](0x10));}return _0x10233b['join']('');},'parse':function(_0x581813){var _0x40f90c=_0x12176c;for(var _0x2a981e=_0x581813[_0x40f90c(0xd0)],_0x571e40=[],_0x2071b5=0x0;_0x2071b5<_0x2a981e;_0x2071b5+=0x2)_0x571e40[_0x2071b5>>>0x3]|=parseInt(_0x581813[_0x40f90c(0x2c9)](_0x2071b5,0x2),0x10)<<0x18-_0x2071b5%0x8*0x4;return new _0x9f0f38[(_0x40f90c(0x198))](_0x571e40,_0x2a981e/0x2);}},_0x9ebde7=_0x57236f[_0x12176c(0x25d)]={'stringify':function(_0x458a63){var _0x164e44=_0x12176c;for(var _0x24b566=_0x458a63[_0x164e44(0x243)],_0x48f165=_0x458a63[_0x164e44(0x1d4)],_0x468761=[],_0x25fb3d=0x0;_0x25fb3d<_0x48f165;_0x25fb3d++){var _0x1124b7=_0x24b566[_0x25fb3d>>>0x2]>>>0x18-_0x25fb3d%0x4*0x8&0xff;_0x468761[_0x164e44(0xf9)](String['fromCharCode'](_0x1124b7));}return _0x468761[_0x164e44(0xa8)]('');},'parse':function(_0x314aef){var _0x3ef2e8=_0x12176c;for(var _0xf5055d=_0x314aef['length'],_0x5f5389=[],_0x331c41=0x0;_0x331c41<_0xf5055d;_0x331c41++)_0x5f5389[_0x331c41>>>0x2]|=(_0x314aef['charCodeAt'](_0x331c41)&0xff)<<0x18-_0x331c41%0x4*0x8;return new _0x9f0f38[(_0x3ef2e8(0x198))](_0x5f5389,_0xf5055d);}},_0x175d9a=_0x57236f[_0x12176c(0x1c3)]={'stringify':function(_0x3eb8b2){var _0x4f4b4a=_0x12176c;try{return decodeURIComponent(escape(_0x9ebde7[_0x4f4b4a(0x36e)](_0x3eb8b2)));}catch{throw new Error(_0x4f4b4a(0x271));}},'parse':function(_0x405985){var _0x37b610=_0x12176c;return _0x9ebde7[_0x37b610(0x12f)](unescape(encodeURIComponent(_0x405985)));}},_0x21c014=_0x11c602[_0x12176c(0xf6)]=_0x1e2eeb['extend']({'reset':function(){var _0x1d3ad3=_0x12176c;this[_0x1d3ad3(0x130)]=new _0x9f0f38[(_0x1d3ad3(0x198))](),this[_0x1d3ad3(0xca)]=0x0;},'_append':function(_0x1105e7){var _0x121e0b=_0x12176c;typeof _0x1105e7==_0x121e0b(0x28b)&&(_0x1105e7=_0x175d9a[_0x121e0b(0x12f)](_0x1105e7)),this['_data'][_0x121e0b(0x1c9)](_0x1105e7),this['_nDataBytes']+=_0x1105e7[_0x121e0b(0x1d4)];},'_process':function(_0x2a8d02){var _0x316a45=_0x12176c,_0x36b11b,_0x22c0eb=this[_0x316a45(0x130)],_0x5d663e=_0x22c0eb[_0x316a45(0x243)],_0x175775=_0x22c0eb['sigBytes'],_0x41e4f0=this[_0x316a45(0x85)],_0x3c11cc=_0x41e4f0*0x4,_0x22074e=_0x175775/_0x3c11cc;_0x2a8d02?_0x22074e=_0x32efd5[_0x316a45(0x316)](_0x22074e):_0x22074e=_0x32efd5[_0x316a45(0x95)]((_0x22074e|0x0)-this[_0x316a45(0x15e)],0x0);var _0x3a0cc5=_0x22074e*_0x41e4f0,_0x1e3a4b=_0x32efd5[_0x316a45(0x258)](_0x3a0cc5*0x4,_0x175775);if(_0x3a0cc5){for(var _0x3364bc=0x0;_0x3364bc<_0x3a0cc5;_0x3364bc+=_0x41e4f0)this[_0x316a45(0x380)](_0x5d663e,_0x3364bc);_0x36b11b=_0x5d663e[_0x316a45(0x28d)](0x0,_0x3a0cc5),_0x22c0eb[_0x316a45(0x1d4)]-=_0x1e3a4b;}return new _0x9f0f38['init'](_0x36b11b,_0x1e3a4b);},'clone':function(){var _0x185caf=_0x12176c,_0x5c174b=_0x1e2eeb[_0x185caf(0x377)][_0x185caf(0x2a6)](this);return _0x5c174b[_0x185caf(0x130)]=this[_0x185caf(0x130)]['clone'](),_0x5c174b;},'_minBufferSize':0x0});_0x11c602['Hasher']=_0x21c014[_0x12176c(0x12c)]({'cfg':_0x1e2eeb[_0x12176c(0x12c)](),'init':function(_0x4abba5){var _0x7a4f48=_0x12176c;this['cfg']=this[_0x7a4f48(0xcf)][_0x7a4f48(0x12c)](_0x4abba5),this[_0x7a4f48(0x208)]();},'reset':function(){var _0x29016a=_0x12176c;_0x21c014[_0x29016a(0x208)][_0x29016a(0x2a6)](this),this['_doReset']();},'update':function(_0x50d220){var _0x3fb595=_0x12176c;return this[_0x3fb595(0x124)](_0x50d220),this['_process'](),this;},'finalize':function(_0x287902){var _0x8f9d4a=_0x12176c;_0x287902&&this['_append'](_0x287902);var _0x31123a=this[_0x8f9d4a(0x207)]();return _0x31123a;},'blockSize':0x10,'_createHelper':function(_0x484beb){return function(_0x5af05e,_0x19da50){var _0x1324e7=_0x35c2;return new _0x484beb[(_0x1324e7(0x198))](_0x19da50)[_0x1324e7(0x330)](_0x5af05e);};},'_createHmacHelper':function(_0x2a8cbc){return function(_0x1ae967,_0x423b5){var _0x577375=_0x35c2;return new _0x5d6d50[(_0x577375(0x306))][(_0x577375(0x198))](_0x2a8cbc,_0x423b5)[_0x577375(0x330)](_0x1ae967);};}});var _0x5d6d50=_0x2cf52c[_0x12176c(0x80)]={};return _0x2cf52c;}(Math);return _0x45b0d4;}));}(Ge)),Ge[_0x4828a8(0x2d3)];}var We={'exports':{}},_n=We[_0x2dad69(0x2d3)],zt;function Ri(){var _0x2a309b=_0x2dad69;return zt||(zt=0x1,function(_0x15431f,_0x5c95aa){(function(_0x7e3ad7,_0x445c31){var _0x360095=_0x35c2;_0x15431f[_0x360095(0x2d3)]=_0x445c31(ie());}(_n,function(_0xf02b8f){var _0x240b1f=_0x35c2;return(function(){var _0x40d4cc=_0x35c2,_0x3db760=_0xf02b8f,_0x2193bc=_0x3db760[_0x40d4cc(0x298)],_0x3d9c12=_0x2193bc[_0x40d4cc(0x23a)],_0x240c5b=_0x3db760[_0x40d4cc(0x1f5)];_0x240c5b[_0x40d4cc(0x1fe)]={'stringify':function(_0x4cf617){var _0x219cdf=_0x40d4cc,_0x43e121=_0x4cf617[_0x219cdf(0x243)],_0x1c82c3=_0x4cf617['sigBytes'],_0x132ac5=this[_0x219cdf(0x33d)];_0x4cf617[_0x219cdf(0x25b)]();for(var _0x416811=[],_0x5f2134=0x0;_0x5f2134<_0x1c82c3;_0x5f2134+=0x3)for(var _0x1afe75=_0x43e121[_0x5f2134>>>0x2]>>>0x18-_0x5f2134%0x4*0x8&0xff,_0x379b37=_0x43e121[_0x5f2134+0x1>>>0x2]>>>0x18-(_0x5f2134+0x1)%0x4*0x8&0xff,_0x20ebd2=_0x43e121[_0x5f2134+0x2>>>0x2]>>>0x18-(_0x5f2134+0x2)%0x4*0x8&0xff,_0x580cdb=_0x1afe75<<0x10|_0x379b37<<0x8|_0x20ebd2,_0x4bb770=0x0;_0x4bb770<0x4&&_0x5f2134+_0x4bb770*0.75<_0x1c82c3;_0x4bb770++)_0x416811[_0x219cdf(0xf9)](_0x132ac5[_0x219cdf(0x2d9)](_0x580cdb>>>0x6*(0x3-_0x4bb770)&0x3f));var _0x3bf771=_0x132ac5[_0x219cdf(0x2d9)](0x40);if(_0x3bf771){for(;_0x416811[_0x219cdf(0xd0)]%0x4;)_0x416811[_0x219cdf(0xf9)](_0x3bf771);}return _0x416811['join']('');},'parse':function(_0x5f1d09){var _0x5ecc0d=_0x40d4cc,_0x26ec0e=_0x5f1d09['length'],_0x3c6850=this[_0x5ecc0d(0x33d)],_0x3f6a07=this[_0x5ecc0d(0x74)];if(!_0x3f6a07){_0x3f6a07=this[_0x5ecc0d(0x74)]=[];for(var _0x57ceae=0x0;_0x57ceae<_0x3c6850['length'];_0x57ceae++)_0x3f6a07[_0x3c6850[_0x5ecc0d(0x232)](_0x57ceae)]=_0x57ceae;}var _0x2ac376=_0x3c6850[_0x5ecc0d(0x2d9)](0x40);if(_0x2ac376){var _0x5800eb=_0x5f1d09[_0x5ecc0d(0x25e)](_0x2ac376);_0x5800eb!==-0x1&&(_0x26ec0e=_0x5800eb);}return _0x359fa4(_0x5f1d09,_0x26ec0e,_0x3f6a07);},'_map':'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/='};function _0x359fa4(_0x404d5c,_0x1a0df8,_0x3c90d8){var _0x177f13=_0x40d4cc;for(var _0xb520c9=[],_0x305157=0x0,_0x3c2680=0x0;_0x3c2680<_0x1a0df8;_0x3c2680++)if(_0x3c2680%0x4){var _0x140804=_0x3c90d8[_0x404d5c[_0x177f13(0x232)](_0x3c2680-0x1)]<<_0x3c2680%0x4*0x2,_0x5463f1=_0x3c90d8[_0x404d5c['charCodeAt'](_0x3c2680)]>>>0x6-_0x3c2680%0x4*0x2,_0x3af388=_0x140804|_0x5463f1;_0xb520c9[_0x305157>>>0x2]|=_0x3af388<<0x18-_0x305157%0x4*0x8,_0x305157++;}return _0x3d9c12[_0x177f13(0x2fd)](_0xb520c9,_0x305157);}}()),_0xf02b8f[_0x240b1f(0x1f5)][_0x240b1f(0x1fe)];}));}(We)),We[_0x2a309b(0x2d3)];}var Ye={'exports':{}},hn=Ye[_0x2dad69(0x2d3)],Jt;function ln(){var _0x48012c=_0x2dad69;return Jt||(Jt=0x1,function(_0x13518b,_0x327e67){(function(_0x4b1aa0,_0x2048fc){var _0xf024c5=_0x35c2;_0x13518b[_0xf024c5(0x2d3)]=_0x2048fc(ie());}(hn,function(_0x92c15){var _0x3bd304=_0x35c2;return function(_0x1f0e88){var _0x2c1d52=_0x35c2,_0x1852b9=_0x92c15,_0x2b378b=_0x1852b9[_0x2c1d52(0x298)],_0x3065ea=_0x2b378b['WordArray'],_0x4a5138=_0x2b378b[_0x2c1d52(0x73)],_0x145b72=_0x1852b9[_0x2c1d52(0x80)],_0x40d7e9=[];(function(){var _0x2ccf00=_0x2c1d52;for(var _0x303c9b=0x0;_0x303c9b<0x40;_0x303c9b++)_0x40d7e9[_0x303c9b]=_0x1f0e88[_0x2ccf00(0x33f)](_0x1f0e88[_0x2ccf00(0x2a4)](_0x303c9b+0x1))*0x100000000|0x0;}());var _0x59019c=_0x145b72[_0x2c1d52(0x1c8)]=_0x4a5138[_0x2c1d52(0x12c)]({'_doReset':function(){var _0x434991=_0x2c1d52;this[_0x434991(0x17e)]=new _0x3065ea[(_0x434991(0x198))]([0x67452301,0xefcdab89,0x98badcfe,0x10325476]);},'_doProcessBlock':function(_0x1c7d43,_0x32924a){var _0x4ac039=_0x2c1d52;for(var _0x2ed48d=0x0;_0x2ed48d<0x10;_0x2ed48d++){var _0x584c76=_0x32924a+_0x2ed48d,_0x3ee935=_0x1c7d43[_0x584c76];_0x1c7d43[_0x584c76]=(_0x3ee935<<0x8|_0x3ee935>>>0x18)&0xff00ff|(_0x3ee935<<0x18|_0x3ee935>>>0x8)&0xff00ff00;}var _0x11b20a=this[_0x4ac039(0x17e)][_0x4ac039(0x243)],_0x1b4c71=_0x1c7d43[_0x32924a+0x0],_0x1c4fd9=_0x1c7d43[_0x32924a+0x1],_0x4d7aa0=_0x1c7d43[_0x32924a+0x2],_0x4aef03=_0x1c7d43[_0x32924a+0x3],_0x1cdfe6=_0x1c7d43[_0x32924a+0x4],_0x3696f6=_0x1c7d43[_0x32924a+0x5],_0x315f74=_0x1c7d43[_0x32924a+0x6],_0x507cac=_0x1c7d43[_0x32924a+0x7],_0x58affc=_0x1c7d43[_0x32924a+0x8],_0x6a9903=_0x1c7d43[_0x32924a+0x9],_0x5ca7a7=_0x1c7d43[_0x32924a+0xa],_0x3ad06c=_0x1c7d43[_0x32924a+0xb],_0x4335c3=_0x1c7d43[_0x32924a+0xc],_0x19512d=_0x1c7d43[_0x32924a+0xd],_0x1039b5=_0x1c7d43[_0x32924a+0xe],_0x5e54dd=_0x1c7d43[_0x32924a+0xf],_0x1f3dc7=_0x11b20a[0x0],_0x37d195=_0x11b20a[0x1],_0x3e2ee3=_0x11b20a[0x2],_0x30034f=_0x11b20a[0x3];_0x1f3dc7=_0x473b3e(_0x1f3dc7,_0x37d195,_0x3e2ee3,_0x30034f,_0x1b4c71,0x7,_0x40d7e9[0x0]),_0x30034f=_0x473b3e(_0x30034f,_0x1f3dc7,_0x37d195,_0x3e2ee3,_0x1c4fd9,0xc,_0x40d7e9[0x1]),_0x3e2ee3=_0x473b3e(_0x3e2ee3,_0x30034f,_0x1f3dc7,_0x37d195,_0x4d7aa0,0x11,_0x40d7e9[0x2]),_0x37d195=_0x473b3e(_0x37d195,_0x3e2ee3,_0x30034f,_0x1f3dc7,_0x4aef03,0x16,_0x40d7e9[0x3]),_0x1f3dc7=_0x473b3e(_0x1f3dc7,_0x37d195,_0x3e2ee3,_0x30034f,_0x1cdfe6,0x7,_0x40d7e9[0x4]),_0x30034f=_0x473b3e(_0x30034f,_0x1f3dc7,_0x37d195,_0x3e2ee3,_0x3696f6,0xc,_0x40d7e9[0x5]),_0x3e2ee3=_0x473b3e(_0x3e2ee3,_0x30034f,_0x1f3dc7,_0x37d195,_0x315f74,0x11,_0x40d7e9[0x6]),_0x37d195=_0x473b3e(_0x37d195,_0x3e2ee3,_0x30034f,_0x1f3dc7,_0x507cac,0x16,_0x40d7e9[0x7]),_0x1f3dc7=_0x473b3e(_0x1f3dc7,_0x37d195,_0x3e2ee3,_0x30034f,_0x58affc,0x7,_0x40d7e9[0x8]),_0x30034f=_0x473b3e(_0x30034f,_0x1f3dc7,_0x37d195,_0x3e2ee3,_0x6a9903,0xc,_0x40d7e9[0x9]),_0x3e2ee3=_0x473b3e(_0x3e2ee3,_0x30034f,_0x1f3dc7,_0x37d195,_0x5ca7a7,0x11,_0x40d7e9[0xa]),_0x37d195=_0x473b3e(_0x37d195,_0x3e2ee3,_0x30034f,_0x1f3dc7,_0x3ad06c,0x16,_0x40d7e9[0xb]),_0x1f3dc7=_0x473b3e(_0x1f3dc7,_0x37d195,_0x3e2ee3,_0x30034f,_0x4335c3,0x7,_0x40d7e9[0xc]),_0x30034f=_0x473b3e(_0x30034f,_0x1f3dc7,_0x37d195,_0x3e2ee3,_0x19512d,0xc,_0x40d7e9[0xd]),_0x3e2ee3=_0x473b3e(_0x3e2ee3,_0x30034f,_0x1f3dc7,_0x37d195,_0x1039b5,0x11,_0x40d7e9[0xe]),_0x37d195=_0x473b3e(_0x37d195,_0x3e2ee3,_0x30034f,_0x1f3dc7,_0x5e54dd,0x16,_0x40d7e9[0xf]),_0x1f3dc7=_0x3d2bcf(_0x1f3dc7,_0x37d195,_0x3e2ee3,_0x30034f,_0x1c4fd9,0x5,_0x40d7e9[0x10]),_0x30034f=_0x3d2bcf(_0x30034f,_0x1f3dc7,_0x37d195,_0x3e2ee3,_0x315f74,0x9,_0x40d7e9[0x11]),_0x3e2ee3=_0x3d2bcf(_0x3e2ee3,_0x30034f,_0x1f3dc7,_0x37d195,_0x3ad06c,0xe,_0x40d7e9[0x12]),_0x37d195=_0x3d2bcf(_0x37d195,_0x3e2ee3,_0x30034f,_0x1f3dc7,_0x1b4c71,0x14,_0x40d7e9[0x13]),_0x1f3dc7=_0x3d2bcf(_0x1f3dc7,_0x37d195,_0x3e2ee3,_0x30034f,_0x3696f6,0x5,_0x40d7e9[0x14]),_0x30034f=_0x3d2bcf(_0x30034f,_0x1f3dc7,_0x37d195,_0x3e2ee3,_0x5ca7a7,0x9,_0x40d7e9[0x15]),_0x3e2ee3=_0x3d2bcf(_0x3e2ee3,_0x30034f,_0x1f3dc7,_0x37d195,_0x5e54dd,0xe,_0x40d7e9[0x16]),_0x37d195=_0x3d2bcf(_0x37d195,_0x3e2ee3,_0x30034f,_0x1f3dc7,_0x1cdfe6,0x14,_0x40d7e9[0x17]),_0x1f3dc7=_0x3d2bcf(_0x1f3dc7,_0x37d195,_0x3e2ee3,_0x30034f,_0x6a9903,0x5,_0x40d7e9[0x18]),_0x30034f=_0x3d2bcf(_0x30034f,_0x1f3dc7,_0x37d195,_0x3e2ee3,_0x1039b5,0x9,_0x40d7e9[0x19]),_0x3e2ee3=_0x3d2bcf(_0x3e2ee3,_0x30034f,_0x1f3dc7,_0x37d195,_0x4aef03,0xe,_0x40d7e9[0x1a]),_0x37d195=_0x3d2bcf(_0x37d195,_0x3e2ee3,_0x30034f,_0x1f3dc7,_0x58affc,0x14,_0x40d7e9[0x1b]),_0x1f3dc7=_0x3d2bcf(_0x1f3dc7,_0x37d195,_0x3e2ee3,_0x30034f,_0x19512d,0x5,_0x40d7e9[0x1c]),_0x30034f=_0x3d2bcf(_0x30034f,_0x1f3dc7,_0x37d195,_0x3e2ee3,_0x4d7aa0,0x9,_0x40d7e9[0x1d]),_0x3e2ee3=_0x3d2bcf(_0x3e2ee3,_0x30034f,_0x1f3dc7,_0x37d195,_0x507cac,0xe,_0x40d7e9[0x1e]),_0x37d195=_0x3d2bcf(_0x37d195,_0x3e2ee3,_0x30034f,_0x1f3dc7,_0x4335c3,0x14,_0x40d7e9[0x1f]),_0x1f3dc7=_0x1ec9f5(_0x1f3dc7,_0x37d195,_0x3e2ee3,_0x30034f,_0x3696f6,0x4,_0x40d7e9[0x20]),_0x30034f=_0x1ec9f5(_0x30034f,_0x1f3dc7,_0x37d195,_0x3e2ee3,_0x58affc,0xb,_0x40d7e9[0x21]),_0x3e2ee3=_0x1ec9f5(_0x3e2ee3,_0x30034f,_0x1f3dc7,_0x37d195,_0x3ad06c,0x10,_0x40d7e9[0x22]),_0x37d195=_0x1ec9f5(_0x37d195,_0x3e2ee3,_0x30034f,_0x1f3dc7,_0x1039b5,0x17,_0x40d7e9[0x23]),_0x1f3dc7=_0x1ec9f5(_0x1f3dc7,_0x37d195,_0x3e2ee3,_0x30034f,_0x1c4fd9,0x4,_0x40d7e9[0x24]),_0x30034f=_0x1ec9f5(_0x30034f,_0x1f3dc7,_0x37d195,_0x3e2ee3,_0x1cdfe6,0xb,_0x40d7e9[0x25]),_0x3e2ee3=_0x1ec9f5(_0x3e2ee3,_0x30034f,_0x1f3dc7,_0x37d195,_0x507cac,0x10,_0x40d7e9[0x26]),_0x37d195=_0x1ec9f5(_0x37d195,_0x3e2ee3,_0x30034f,_0x1f3dc7,_0x5ca7a7,0x17,_0x40d7e9[0x27]),_0x1f3dc7=_0x1ec9f5(_0x1f3dc7,_0x37d195,_0x3e2ee3,_0x30034f,_0x19512d,0x4,_0x40d7e9[0x28]),_0x30034f=_0x1ec9f5(_0x30034f,_0x1f3dc7,_0x37d195,_0x3e2ee3,_0x1b4c71,0xb,_0x40d7e9[0x29]),_0x3e2ee3=_0x1ec9f5(_0x3e2ee3,_0x30034f,_0x1f3dc7,_0x37d195,_0x4aef03,0x10,_0x40d7e9[0x2a]),_0x37d195=_0x1ec9f5(_0x37d195,_0x3e2ee3,_0x30034f,_0x1f3dc7,_0x315f74,0x17,_0x40d7e9[0x2b]),_0x1f3dc7=_0x1ec9f5(_0x1f3dc7,_0x37d195,_0x3e2ee3,_0x30034f,_0x6a9903,0x4,_0x40d7e9[0x2c]),_0x30034f=_0x1ec9f5(_0x30034f,_0x1f3dc7,_0x37d195,_0x3e2ee3,_0x4335c3,0xb,_0x40d7e9[0x2d]),_0x3e2ee3=_0x1ec9f5(_0x3e2ee3,_0x30034f,_0x1f3dc7,_0x37d195,_0x5e54dd,0x10,_0x40d7e9[0x2e]),_0x37d195=_0x1ec9f5(_0x37d195,_0x3e2ee3,_0x30034f,_0x1f3dc7,_0x4d7aa0,0x17,_0x40d7e9[0x2f]),_0x1f3dc7=_0x3503d6(_0x1f3dc7,_0x37d195,_0x3e2ee3,_0x30034f,_0x1b4c71,0x6,_0x40d7e9[0x30]),_0x30034f=_0x3503d6(_0x30034f,_0x1f3dc7,_0x37d195,_0x3e2ee3,_0x507cac,0xa,_0x40d7e9[0x31]),_0x3e2ee3=_0x3503d6(_0x3e2ee3,_0x30034f,_0x1f3dc7,_0x37d195,_0x1039b5,0xf,_0x40d7e9[0x32]),_0x37d195=_0x3503d6(_0x37d195,_0x3e2ee3,_0x30034f,_0x1f3dc7,_0x3696f6,0x15,_0x40d7e9[0x33]),_0x1f3dc7=_0x3503d6(_0x1f3dc7,_0x37d195,_0x3e2ee3,_0x30034f,_0x4335c3,0x6,_0x40d7e9[0x34]),_0x30034f=_0x3503d6(_0x30034f,_0x1f3dc7,_0x37d195,_0x3e2ee3,_0x4aef03,0xa,_0x40d7e9[0x35]),_0x3e2ee3=_0x3503d6(_0x3e2ee3,_0x30034f,_0x1f3dc7,_0x37d195,_0x5ca7a7,0xf,_0x40d7e9[0x36]),_0x37d195=_0x3503d6(_0x37d195,_0x3e2ee3,_0x30034f,_0x1f3dc7,_0x1c4fd9,0x15,_0x40d7e9[0x37]),_0x1f3dc7=_0x3503d6(_0x1f3dc7,_0x37d195,_0x3e2ee3,_0x30034f,_0x58affc,0x6,_0x40d7e9[0x38]),_0x30034f=_0x3503d6(_0x30034f,_0x1f3dc7,_0x37d195,_0x3e2ee3,_0x5e54dd,0xa,_0x40d7e9[0x39]),_0x3e2ee3=_0x3503d6(_0x3e2ee3,_0x30034f,_0x1f3dc7,_0x37d195,_0x315f74,0xf,_0x40d7e9[0x3a]),_0x37d195=_0x3503d6(_0x37d195,_0x3e2ee3,_0x30034f,_0x1f3dc7,_0x19512d,0x15,_0x40d7e9[0x3b]),_0x1f3dc7=_0x3503d6(_0x1f3dc7,_0x37d195,_0x3e2ee3,_0x30034f,_0x1cdfe6,0x6,_0x40d7e9[0x3c]),_0x30034f=_0x3503d6(_0x30034f,_0x1f3dc7,_0x37d195,_0x3e2ee3,_0x3ad06c,0xa,_0x40d7e9[0x3d]),_0x3e2ee3=_0x3503d6(_0x3e2ee3,_0x30034f,_0x1f3dc7,_0x37d195,_0x4d7aa0,0xf,_0x40d7e9[0x3e]),_0x37d195=_0x3503d6(_0x37d195,_0x3e2ee3,_0x30034f,_0x1f3dc7,_0x6a9903,0x15,_0x40d7e9[0x3f]),_0x11b20a[0x0]=_0x11b20a[0x0]+_0x1f3dc7|0x0,_0x11b20a[0x1]=_0x11b20a[0x1]+_0x37d195|0x0,_0x11b20a[0x2]=_0x11b20a[0x2]+_0x3e2ee3|0x0,_0x11b20a[0x3]=_0x11b20a[0x3]+_0x30034f|0x0;},'_doFinalize':function(){var _0x416b3c=_0x2c1d52,_0x54199b=this[_0x416b3c(0x130)],_0x51c8de=_0x54199b[_0x416b3c(0x243)],_0x360306=this['_nDataBytes']*0x8,_0x37f863=_0x54199b['sigBytes']*0x8;_0x51c8de[_0x37f863>>>0x5]|=0x80<<0x18-_0x37f863%0x20;var _0x3a0cc9=_0x1f0e88['floor'](_0x360306/0x100000000),_0xe8d666=_0x360306;_0x51c8de[(_0x37f863+0x40>>>0x9<<0x4)+0xf]=(_0x3a0cc9<<0x8|_0x3a0cc9>>>0x18)&0xff00ff|(_0x3a0cc9<<0x18|_0x3a0cc9>>>0x8)&0xff00ff00,_0x51c8de[(_0x37f863+0x40>>>0x9<<0x4)+0xe]=(_0xe8d666<<0x8|_0xe8d666>>>0x18)&0xff00ff|(_0xe8d666<<0x18|_0xe8d666>>>0x8)&0xff00ff00,_0x54199b[_0x416b3c(0x1d4)]=(_0x51c8de['length']+0x1)*0x4,this[_0x416b3c(0x222)]();for(var _0x29147a=this['_hash'],_0x20409c=_0x29147a['words'],_0x2d5f5a=0x0;_0x2d5f5a<0x4;_0x2d5f5a++){var _0x4d86e9=_0x20409c[_0x2d5f5a];_0x20409c[_0x2d5f5a]=(_0x4d86e9<<0x8|_0x4d86e9>>>0x18)&0xff00ff|(_0x4d86e9<<0x18|_0x4d86e9>>>0x8)&0xff00ff00;}return _0x29147a;},'clone':function(){var _0x53dd00=_0x2c1d52,_0x2cb22b=_0x4a5138[_0x53dd00(0x377)][_0x53dd00(0x2a6)](this);return _0x2cb22b['_hash']=this[_0x53dd00(0x17e)]['clone'](),_0x2cb22b;}});function _0x473b3e(_0x216c98,_0x288128,_0x23b76f,_0xf53e91,_0x4f577a,_0x2ae02c,_0x27385f){var _0x336bb9=_0x216c98+(_0x288128&_0x23b76f|~_0x288128&_0xf53e91)+_0x4f577a+_0x27385f;return(_0x336bb9<<_0x2ae02c|_0x336bb9>>>0x20-_0x2ae02c)+_0x288128;}function _0x3d2bcf(_0x202e06,_0xd6ecee,_0x2094be,_0x126bc4,_0x20733f,_0x4c4e4f,_0x1ed065){var _0x4789ba=_0x202e06+(_0xd6ecee&_0x126bc4|_0x2094be&~_0x126bc4)+_0x20733f+_0x1ed065;return(_0x4789ba<<_0x4c4e4f|_0x4789ba>>>0x20-_0x4c4e4f)+_0xd6ecee;}function _0x1ec9f5(_0x31c34d,_0x4b703d,_0x379310,_0x150905,_0x260e0c,_0x1488c9,_0x33dd35){var _0x537eb3=_0x31c34d+(_0x4b703d^_0x379310^_0x150905)+_0x260e0c+_0x33dd35;return(_0x537eb3<<_0x1488c9|_0x537eb3>>>0x20-_0x1488c9)+_0x4b703d;}function _0x3503d6(_0x38b546,_0x199188,_0x5894cb,_0x2497fd,_0x199b6,_0x763f67,_0x56474e){var _0x322eb8=_0x38b546+(_0x5894cb^(_0x199188|~_0x2497fd))+_0x199b6+_0x56474e;return(_0x322eb8<<_0x763f67|_0x322eb8>>>0x20-_0x763f67)+_0x199188;}_0x1852b9[_0x2c1d52(0x1c8)]=_0x4a5138['_createHelper'](_0x59019c),_0x1852b9['HmacMD5']=_0x4a5138[_0x2c1d52(0x36d)](_0x59019c);}(Math),_0x92c15[_0x3bd304(0x1c8)];}));}(Ye)),Ye[_0x48012c(0x2d3)];}var Ke={'exports':{}},qe={'exports':{}},un=qe[_0x2dad69(0x2d3)],Xt;function dn(){return Xt||(Xt=0x1,function(_0x2de1a9,_0x320a1d){(function(_0x5c5826,_0x467076){var _0x1dcd92=_0x35c2;_0x2de1a9[_0x1dcd92(0x2d3)]=_0x467076(ie());}(un,function(_0x57f74c){var _0x4e7d1b=_0x35c2;return(function(){var _0x37baac=_0x35c2,_0x154bc8=_0x57f74c,_0x447b1d=_0x154bc8[_0x37baac(0x298)],_0x3cb22c=_0x447b1d[_0x37baac(0x23a)],_0x396f0f=_0x447b1d[_0x37baac(0x73)],_0x86f681=_0x154bc8['algo'],_0x32f7f2=[],_0x199052=_0x86f681[_0x37baac(0xe7)]=_0x396f0f[_0x37baac(0x12c)]({'_doReset':function(){var _0x1f3e75=_0x37baac;this[_0x1f3e75(0x17e)]=new _0x3cb22c[(_0x1f3e75(0x198))]([0x67452301,0xefcdab89,0x98badcfe,0x10325476,0xc3d2e1f0]);},'_doProcessBlock':function(_0x2829e7,_0x1588db){var _0x435b07=_0x37baac;for(var _0x309db2=this[_0x435b07(0x17e)][_0x435b07(0x243)],_0x4f4795=_0x309db2[0x0],_0x537e54=_0x309db2[0x1],_0x34512f=_0x309db2[0x2],_0x3f0a50=_0x309db2[0x3],_0x46f8cc=_0x309db2[0x4],_0x3a8f23=0x0;_0x3a8f23<0x50;_0x3a8f23++){if(_0x3a8f23<0x10)_0x32f7f2[_0x3a8f23]=_0x2829e7[_0x1588db+_0x3a8f23]|0x0;else{var _0xfdc7f8=_0x32f7f2[_0x3a8f23-0x3]^_0x32f7f2[_0x3a8f23-0x8]^_0x32f7f2[_0x3a8f23-0xe]^_0x32f7f2[_0x3a8f23-0x10];_0x32f7f2[_0x3a8f23]=_0xfdc7f8<<0x1|_0xfdc7f8>>>0x1f;}var _0x99b46f=(_0x4f4795<<0x5|_0x4f4795>>>0x1b)+_0x46f8cc+_0x32f7f2[_0x3a8f23];_0x3a8f23<0x14?_0x99b46f+=(_0x537e54&_0x34512f|~_0x537e54&_0x3f0a50)+0x5a827999:_0x3a8f23<0x28?_0x99b46f+=(_0x537e54^_0x34512f^_0x3f0a50)+0x6ed9eba1:_0x3a8f23<0x3c?_0x99b46f+=(_0x537e54&_0x34512f|_0x537e54&_0x3f0a50|_0x34512f&_0x3f0a50)-0x70e44324:_0x99b46f+=(_0x537e54^_0x34512f^_0x3f0a50)-0x359d3e2a,_0x46f8cc=_0x3f0a50,_0x3f0a50=_0x34512f,_0x34512f=_0x537e54<<0x1e|_0x537e54>>>0x2,_0x537e54=_0x4f4795,_0x4f4795=_0x99b46f;}_0x309db2[0x0]=_0x309db2[0x0]+_0x4f4795|0x0,_0x309db2[0x1]=_0x309db2[0x1]+_0x537e54|0x0,_0x309db2[0x2]=_0x309db2[0x2]+_0x34512f|0x0,_0x309db2[0x3]=_0x309db2[0x3]+_0x3f0a50|0x0,_0x309db2[0x4]=_0x309db2[0x4]+_0x46f8cc|0x0;},'_doFinalize':function(){var _0x356379=_0x37baac,_0x583fad=this[_0x356379(0x130)],_0x5bca74=_0x583fad[_0x356379(0x243)],_0x493050=this['_nDataBytes']*0x8,_0x2c5607=_0x583fad['sigBytes']*0x8;return _0x5bca74[_0x2c5607>>>0x5]|=0x80<<0x18-_0x2c5607%0x20,_0x5bca74[(_0x2c5607+0x40>>>0x9<<0x4)+0xe]=Math[_0x356379(0x367)](_0x493050/0x100000000),_0x5bca74[(_0x2c5607+0x40>>>0x9<<0x4)+0xf]=_0x493050,_0x583fad[_0x356379(0x1d4)]=_0x5bca74[_0x356379(0xd0)]*0x4,this[_0x356379(0x222)](),this[_0x356379(0x17e)];},'clone':function(){var _0x552cee=_0x37baac,_0x3e3c61=_0x396f0f['clone'][_0x552cee(0x2a6)](this);return _0x3e3c61['_hash']=this[_0x552cee(0x17e)][_0x552cee(0x377)](),_0x3e3c61;}});_0x154bc8['SHA1']=_0x396f0f[_0x37baac(0x2db)](_0x199052),_0x154bc8[_0x37baac(0x27b)]=_0x396f0f[_0x37baac(0x36d)](_0x199052);}()),_0x57f74c[_0x4e7d1b(0xe7)];}));}(qe)),qe['exports'];}var ze={'exports':{}},fn=ze[_0x2dad69(0x2d3)],Zt;function vn(){var _0x5f15a6=_0x2dad69;return Zt||(Zt=0x1,function(_0x52775e,_0x20ae29){(function(_0x1e0df9,_0xa4859a){var _0xeccdf0=_0x35c2;_0x52775e[_0xeccdf0(0x2d3)]=_0xa4859a(ie());}(fn,function(_0x27a5f4){(function(){var _0x2a6dc7=_0x35c2,_0x106ea5=_0x27a5f4,_0x83a45=_0x106ea5[_0x2a6dc7(0x298)],_0x31dca1=_0x83a45[_0x2a6dc7(0x2e6)],_0x44dd14=_0x106ea5[_0x2a6dc7(0x1f5)],_0x239b49=_0x44dd14[_0x2a6dc7(0x1c3)],_0xdbc7bb=_0x106ea5[_0x2a6dc7(0x80)];_0xdbc7bb[_0x2a6dc7(0x306)]=_0x31dca1[_0x2a6dc7(0x12c)]({'init':function(_0x2e91e6,_0x57aa1b){var _0x12a680=_0x2a6dc7;_0x2e91e6=this['_hasher']=new _0x2e91e6[(_0x12a680(0x198))](),typeof _0x57aa1b=='string'&&(_0x57aa1b=_0x239b49[_0x12a680(0x12f)](_0x57aa1b));var _0x4c1b20=_0x2e91e6[_0x12a680(0x85)],_0x12096e=_0x4c1b20*0x4;_0x57aa1b[_0x12a680(0x1d4)]>_0x12096e&&(_0x57aa1b=_0x2e91e6['finalize'](_0x57aa1b)),_0x57aa1b[_0x12a680(0x25b)]();for(var _0x336635=this['_oKey']=_0x57aa1b[_0x12a680(0x377)](),_0x6783ee=this['_iKey']=_0x57aa1b[_0x12a680(0x377)](),_0x3813e7=_0x336635[_0x12a680(0x243)],_0x16013b=_0x6783ee[_0x12a680(0x243)],_0x1a24b9=0x0;_0x1a24b9<_0x4c1b20;_0x1a24b9++)_0x3813e7[_0x1a24b9]^=0x5c5c5c5c,_0x16013b[_0x1a24b9]^=0x36363636;_0x336635[_0x12a680(0x1d4)]=_0x6783ee[_0x12a680(0x1d4)]=_0x12096e,this['reset']();},'reset':function(){var _0x3647e5=_0x2a6dc7,_0x1f3329=this[_0x3647e5(0x1b3)];_0x1f3329[_0x3647e5(0x208)](),_0x1f3329['update'](this[_0x3647e5(0x28e)]);},'update':function(_0x1a1ce1){var _0x63dad4=_0x2a6dc7;return this[_0x63dad4(0x1b3)]['update'](_0x1a1ce1),this;},'finalize':function(_0x1d6d71){var _0x446399=_0x2a6dc7,_0x14b276=this['_hasher'],_0x1ec3f8=_0x14b276[_0x446399(0x330)](_0x1d6d71);_0x14b276[_0x446399(0x208)]();var _0x273022=_0x14b276[_0x446399(0x330)](this[_0x446399(0x236)][_0x446399(0x377)]()[_0x446399(0x1c9)](_0x1ec3f8));return _0x273022;}});}());}));}(ze)),ze[_0x5f15a6(0x2d3)];}var pn=Ke[_0x2dad69(0x2d3)],Qt;function Ci(){var _0x105567=_0x2dad69;return Qt||(Qt=0x1,function(_0x13345e,_0x408a26){(function(_0x5cf796,_0x238f47,_0x147fa7){var _0x3642d6=_0x35c2;_0x13345e[_0x3642d6(0x2d3)]=_0x238f47(ie(),dn(),vn());}(pn,function(_0x384787){var _0x3232e4=_0x35c2;return(function(){var _0x365b30=_0x35c2,_0x23192f=_0x384787,_0x4a8a14=_0x23192f[_0x365b30(0x298)],_0x5bec3f=_0x4a8a14[_0x365b30(0x2e6)],_0x3960e0=_0x4a8a14['WordArray'],_0x48de35=_0x23192f['algo'],_0x5178b0=_0x48de35[_0x365b30(0x1c8)],_0x31ab11=_0x48de35['EvpKDF']=_0x5bec3f['extend']({'cfg':_0x5bec3f[_0x365b30(0x12c)]({'keySize':0x80/0x20,'hasher':_0x5178b0,'iterations':0x1}),'init':function(_0x1d3ab7){var _0x2949bb=_0x365b30;this[_0x2949bb(0xcf)]=this[_0x2949bb(0xcf)][_0x2949bb(0x12c)](_0x1d3ab7);},'compute':function(_0x464a4e,_0x4f04ea){var _0x1f21bd=_0x365b30;for(var _0x2c3363,_0x567691=this[_0x1f21bd(0xcf)],_0x1dd1c7=_0x567691[_0x1f21bd(0xc1)]['create'](),_0x3aa974=_0x3960e0['create'](),_0x3ff7e7=_0x3aa974[_0x1f21bd(0x243)],_0x33212f=_0x567691[_0x1f21bd(0x1e1)],_0x1c41c3=_0x567691['iterations'];_0x3ff7e7['length']<_0x33212f;){_0x2c3363&&_0x1dd1c7[_0x1f21bd(0x327)](_0x2c3363),_0x2c3363=_0x1dd1c7['update'](_0x464a4e)[_0x1f21bd(0x330)](_0x4f04ea),_0x1dd1c7['reset']();for(var _0x2498df=0x1;_0x2498df<_0x1c41c3;_0x2498df++)_0x2c3363=_0x1dd1c7[_0x1f21bd(0x330)](_0x2c3363),_0x1dd1c7[_0x1f21bd(0x208)]();_0x3aa974['concat'](_0x2c3363);}return _0x3aa974[_0x1f21bd(0x1d4)]=_0x33212f*0x4,_0x3aa974;}});_0x23192f[_0x365b30(0x280)]=function(_0xa24d21,_0x4854d5,_0x297c80){var _0x1f048e=_0x365b30;return _0x31ab11[_0x1f048e(0x2fd)](_0x297c80)[_0x1f048e(0x184)](_0xa24d21,_0x4854d5);};}()),_0x384787[_0x3232e4(0x280)];}));}(Ke)),Ke[_0x105567(0x2d3)];}var Je={'exports':{}},En=Je[_0x2dad69(0x2d3)],ei;function Ni(){return ei||(ei=0x1,function(_0x3df571,_0x2df3bb){(function(_0x2a76cd,_0xacfecc,_0xfe31d4){var _0x29f2be=_0x35c2;_0x3df571[_0x29f2be(0x2d3)]=_0xacfecc(ie(),Ci());}(En,function(_0x3addde){var _0x2bf7d5=_0x35c2;_0x3addde[_0x2bf7d5(0x298)][_0x2bf7d5(0x2d5)]||function(_0x7b7708){var _0x142af6=_0x2bf7d5,_0x2d8a4b=_0x3addde,_0x41f2d2=_0x2d8a4b[_0x142af6(0x298)],_0x5a4ec3=_0x41f2d2[_0x142af6(0x2e6)],_0x1460ee=_0x41f2d2[_0x142af6(0x23a)],_0x1c1635=_0x41f2d2[_0x142af6(0xf6)],_0x496408=_0x2d8a4b[_0x142af6(0x1f5)];_0x496408[_0x142af6(0x1c3)];var _0x90a107=_0x496408['Base64'],_0x53c62e=_0x2d8a4b[_0x142af6(0x80)],_0x5c3385=_0x53c62e[_0x142af6(0x280)],_0x4ddbfa=_0x41f2d2[_0x142af6(0x2d5)]=_0x1c1635[_0x142af6(0x12c)]({'cfg':_0x5a4ec3[_0x142af6(0x12c)](),'createEncryptor':function(_0x33b464,_0x4d9443){var _0x2c875=_0x142af6;return this[_0x2c875(0x2fd)](this[_0x2c875(0x9d)],_0x33b464,_0x4d9443);},'createDecryptor':function(_0xa89d5d,_0x342b5c){var _0x186502=_0x142af6;return this['create'](this[_0x186502(0x204)],_0xa89d5d,_0x342b5c);},'init':function(_0x511725,_0x3a6147,_0x30a829){var _0x4567e0=_0x142af6;this[_0x4567e0(0xcf)]=this[_0x4567e0(0xcf)][_0x4567e0(0x12c)](_0x30a829),this['_xformMode']=_0x511725,this[_0x4567e0(0xb8)]=_0x3a6147,this['reset']();},'reset':function(){var _0xad0d=_0x142af6;_0x1c1635[_0xad0d(0x208)][_0xad0d(0x2a6)](this),this['_doReset']();},'process':function(_0x58f746){var _0x4d8ce9=_0x142af6;return this[_0x4d8ce9(0x124)](_0x58f746),this['_process']();},'finalize':function(_0x10801a){var _0x474fca=_0x142af6;_0x10801a&&this['_append'](_0x10801a);var _0x268aed=this[_0x474fca(0x207)]();return _0x268aed;},'keySize':0x80/0x20,'ivSize':0x80/0x20,'_ENC_XFORM_MODE':0x1,'_DEC_XFORM_MODE':0x2,'_createHelper':(function(){function _0x152675(_0x53d6cd){var _0x1bb50f=_0x35c2;return typeof _0x53d6cd==_0x1bb50f(0x28b)?_0x2ff834:_0x3b0dc8;}return function(_0x227528){return{'encrypt':function(_0x146b73,_0x4f1bb7,_0x411760){return _0x152675(_0x4f1bb7)['encrypt'](_0x227528,_0x146b73,_0x4f1bb7,_0x411760);},'decrypt':function(_0x3d4e34,_0x4da86c,_0x36abc9){return _0x152675(_0x4da86c)['decrypt'](_0x227528,_0x3d4e34,_0x4da86c,_0x36abc9);}};};}())});_0x41f2d2['StreamCipher']=_0x4ddbfa['extend']({'_doFinalize':function(){var _0x159b4b=_0x142af6,_0x57f802=this[_0x159b4b(0x222)](!0x0);return _0x57f802;},'blockSize':0x1});var _0x295d2e=_0x2d8a4b['mode']={},_0x5f0f4d=_0x41f2d2[_0x142af6(0x2d6)]=_0x5a4ec3[_0x142af6(0x12c)]({'createEncryptor':function(_0x556e6e,_0x333b2a){var _0x15237e=_0x142af6;return this['Encryptor'][_0x15237e(0x2fd)](_0x556e6e,_0x333b2a);},'createDecryptor':function(_0x440f6e,_0x33b3c1){var _0x523734=_0x142af6;return this[_0x523734(0x1bb)]['create'](_0x440f6e,_0x33b3c1);},'init':function(_0x2f06ca,_0x3cdd9f){var _0x1d1850=_0x142af6;this[_0x1d1850(0x167)]=_0x2f06ca,this[_0x1d1850(0x1a9)]=_0x3cdd9f;}}),_0x310430=_0x295d2e['CBC']=(function(){var _0x16c9d5=_0x142af6,_0x56e103=_0x5f0f4d['extend']();_0x56e103[_0x16c9d5(0x1fc)]=_0x56e103[_0x16c9d5(0x12c)]({'processBlock':function(_0x433b4a,_0x24cec6){var _0x56a8d3=_0x16c9d5,_0x21920e=this[_0x56a8d3(0x167)],_0x5bb670=_0x21920e[_0x56a8d3(0x85)];_0x49e70e[_0x56a8d3(0x2a6)](this,_0x433b4a,_0x24cec6,_0x5bb670),_0x21920e['encryptBlock'](_0x433b4a,_0x24cec6),this['_prevBlock']=_0x433b4a['slice'](_0x24cec6,_0x24cec6+_0x5bb670);}}),_0x56e103['Decryptor']=_0x56e103[_0x16c9d5(0x12c)]({'processBlock':function(_0x26881c,_0xf31023){var _0x9d3dca=_0x16c9d5,_0x21d1ea=this[_0x9d3dca(0x167)],_0x3bd5da=_0x21d1ea[_0x9d3dca(0x85)],_0x467c42=_0x26881c[_0x9d3dca(0x2f4)](_0xf31023,_0xf31023+_0x3bd5da);_0x21d1ea[_0x9d3dca(0x27d)](_0x26881c,_0xf31023),_0x49e70e['call'](this,_0x26881c,_0xf31023,_0x3bd5da),this[_0x9d3dca(0x2be)]=_0x467c42;}});function _0x49e70e(_0x4e8da4,_0x30f1d4,_0x171858){var _0x2785ff=_0x16c9d5,_0x2b54c7,_0x1ee032=this[_0x2785ff(0x1a9)];_0x1ee032?(_0x2b54c7=_0x1ee032,this[_0x2785ff(0x1a9)]=_0x7b7708):_0x2b54c7=this[_0x2785ff(0x2be)];for(var _0xf989a9=0x0;_0xf989a9<_0x171858;_0xf989a9++)_0x4e8da4[_0x30f1d4+_0xf989a9]^=_0x2b54c7[_0xf989a9];}return _0x56e103;}()),_0x3d3feb=_0x2d8a4b['pad']={},_0x14bf89=_0x3d3feb[_0x142af6(0x224)]={'pad':function(_0x2bf8f8,_0x4463ec){var _0x2c8853=_0x142af6;for(var _0x15ab4b=_0x4463ec*0x4,_0x1ef621=_0x15ab4b-_0x2bf8f8[_0x2c8853(0x1d4)]%_0x15ab4b,_0x53caa3=_0x1ef621<<0x18|_0x1ef621<<0x10|_0x1ef621<<0x8|_0x1ef621,_0x34e2e3=[],_0x4f75a7=0x0;_0x4f75a7<_0x1ef621;_0x4f75a7+=0x4)_0x34e2e3[_0x2c8853(0xf9)](_0x53caa3);var _0x4e82f0=_0x1460ee[_0x2c8853(0x2fd)](_0x34e2e3,_0x1ef621);_0x2bf8f8['concat'](_0x4e82f0);},'unpad':function(_0x8aab2d){var _0x14a6b5=_0x142af6,_0x441fb4=_0x8aab2d[_0x14a6b5(0x243)][_0x8aab2d[_0x14a6b5(0x1d4)]-0x1>>>0x2]&0xff;_0x8aab2d[_0x14a6b5(0x1d4)]-=_0x441fb4;}};_0x41f2d2['BlockCipher']=_0x4ddbfa[_0x142af6(0x12c)]({'cfg':_0x4ddbfa[_0x142af6(0xcf)][_0x142af6(0x12c)]({'mode':_0x310430,'padding':_0x14bf89}),'reset':function(){var _0x2ceab5=_0x142af6,_0x5eb795;_0x4ddbfa['reset'][_0x2ceab5(0x2a6)](this);var _0x34515f=this['cfg'],_0x240c03=_0x34515f['iv'],_0x5b124f=_0x34515f[_0x2ceab5(0x86)];this[_0x2ceab5(0x151)]==this[_0x2ceab5(0x9d)]?_0x5eb795=_0x5b124f[_0x2ceab5(0x1d9)]:(_0x5eb795=_0x5b124f[_0x2ceab5(0x2c6)],this['_minBufferSize']=0x1),this['_mode']&&this[_0x2ceab5(0x340)][_0x2ceab5(0x7f)]==_0x5eb795?this[_0x2ceab5(0x340)][_0x2ceab5(0x198)](this,_0x240c03&&_0x240c03['words']):(this[_0x2ceab5(0x340)]=_0x5eb795['call'](_0x5b124f,this,_0x240c03&&_0x240c03['words']),this[_0x2ceab5(0x340)]['__creator']=_0x5eb795);},'_doProcessBlock':function(_0x4940f5,_0x48809e){var _0x23877c=_0x142af6;this['_mode'][_0x23877c(0x1ca)](_0x4940f5,_0x48809e);},'_doFinalize':function(){var _0x356890=_0x142af6,_0x703f15,_0x825a76=this[_0x356890(0xcf)]['padding'];return this['_xformMode']==this[_0x356890(0x9d)]?(_0x825a76['pad'](this[_0x356890(0x130)],this[_0x356890(0x85)]),_0x703f15=this[_0x356890(0x222)](!0x0)):(_0x703f15=this[_0x356890(0x222)](!0x0),_0x825a76[_0x356890(0x262)](_0x703f15)),_0x703f15;},'blockSize':0x80/0x20});var _0x32dc02=_0x41f2d2[_0x142af6(0x2cf)]=_0x5a4ec3[_0x142af6(0x12c)]({'init':function(_0x6aed4e){var _0x25098e=_0x142af6;this[_0x25098e(0xe3)](_0x6aed4e);},'toString':function(_0x55228b){return(_0x55228b||this['formatter'])['stringify'](this);}}),_0x1d00e4=_0x2d8a4b[_0x142af6(0x24a)]={},_0x20a477=_0x1d00e4[_0x142af6(0x118)]={'stringify':function(_0x1fe16c){var _0x4ebf43=_0x142af6,_0x13cd82,_0x4c93b7=_0x1fe16c['ciphertext'],_0x1241c2=_0x1fe16c[_0x4ebf43(0x336)];return _0x1241c2?_0x13cd82=_0x1460ee[_0x4ebf43(0x2fd)]([0x53616c74,0x65645f5f])[_0x4ebf43(0x1c9)](_0x1241c2)[_0x4ebf43(0x1c9)](_0x4c93b7):_0x13cd82=_0x4c93b7,_0x13cd82[_0x4ebf43(0x1b9)](_0x90a107);},'parse':function(_0x10493e){var _0x533a23=_0x142af6,_0x4f3476,_0x542636=_0x90a107['parse'](_0x10493e),_0x5cadd9=_0x542636[_0x533a23(0x243)];return _0x5cadd9[0x0]==0x53616c74&&_0x5cadd9[0x1]==0x65645f5f&&(_0x4f3476=_0x1460ee[_0x533a23(0x2fd)](_0x5cadd9[_0x533a23(0x2f4)](0x2,0x4)),_0x5cadd9[_0x533a23(0x28d)](0x0,0x4),_0x542636[_0x533a23(0x1d4)]-=0x10),_0x32dc02[_0x533a23(0x2fd)]({'ciphertext':_0x542636,'salt':_0x4f3476});}},_0x3b0dc8=_0x41f2d2[_0x142af6(0x2a1)]=_0x5a4ec3[_0x142af6(0x12c)]({'cfg':_0x5a4ec3['extend']({'format':_0x20a477}),'encrypt':function(_0x58b86d,_0x574658,_0x548150,_0x687c05){var _0xb6781a=_0x142af6;_0x687c05=this[_0xb6781a(0xcf)]['extend'](_0x687c05);var _0xe0ac35=_0x58b86d[_0xb6781a(0x1d9)](_0x548150,_0x687c05),_0x5ce21d=_0xe0ac35['finalize'](_0x574658),_0x488056=_0xe0ac35[_0xb6781a(0xcf)];return _0x32dc02[_0xb6781a(0x2fd)]({'ciphertext':_0x5ce21d,'key':_0x548150,'iv':_0x488056['iv'],'algorithm':_0x58b86d,'mode':_0x488056[_0xb6781a(0x86)],'padding':_0x488056[_0xb6781a(0x141)],'blockSize':_0x58b86d[_0xb6781a(0x85)],'formatter':_0x687c05[_0xb6781a(0x24a)]});},'decrypt':function(_0x489457,_0x49a1e5,_0x14fb0d,_0x482601){var _0xd40ca5=_0x142af6;_0x482601=this[_0xd40ca5(0xcf)][_0xd40ca5(0x12c)](_0x482601),_0x49a1e5=this[_0xd40ca5(0x142)](_0x49a1e5,_0x482601['format']);var _0x490787=_0x489457[_0xd40ca5(0x2c6)](_0x14fb0d,_0x482601)[_0xd40ca5(0x330)](_0x49a1e5[_0xd40ca5(0x143)]);return _0x490787;},'_parse':function(_0x269409,_0x8e1b9f){return typeof _0x269409=='string'?_0x8e1b9f['parse'](_0x269409,this):_0x269409;}}),_0x12e7c8=_0x2d8a4b[_0x142af6(0x2f2)]={},_0x4608cc=_0x12e7c8[_0x142af6(0x118)]={'execute':function(_0x16e59e,_0xb0009b,_0x3b21aa,_0x5ef0cb,_0x5dbcbc){var _0x21c9c2=_0x142af6;if(_0x5ef0cb||(_0x5ef0cb=_0x1460ee['random'](0x40/0x8)),_0x5dbcbc)var _0x281656=_0x5c3385[_0x21c9c2(0x2fd)]({'keySize':_0xb0009b+_0x3b21aa,'hasher':_0x5dbcbc})[_0x21c9c2(0x184)](_0x16e59e,_0x5ef0cb);else var _0x281656=_0x5c3385[_0x21c9c2(0x2fd)]({'keySize':_0xb0009b+_0x3b21aa})[_0x21c9c2(0x184)](_0x16e59e,_0x5ef0cb);var _0x564213=_0x1460ee[_0x21c9c2(0x2fd)](_0x281656[_0x21c9c2(0x243)][_0x21c9c2(0x2f4)](_0xb0009b),_0x3b21aa*0x4);return _0x281656['sigBytes']=_0xb0009b*0x4,_0x32dc02[_0x21c9c2(0x2fd)]({'key':_0x281656,'iv':_0x564213,'salt':_0x5ef0cb});}},_0x2ff834=_0x41f2d2['PasswordBasedCipher']=_0x3b0dc8[_0x142af6(0x12c)]({'cfg':_0x3b0dc8[_0x142af6(0xcf)][_0x142af6(0x12c)]({'kdf':_0x4608cc}),'encrypt':function(_0x21607f,_0x2dcd88,_0xef4d6e,_0x3b1af3){var _0x260491=_0x142af6;_0x3b1af3=this[_0x260491(0xcf)]['extend'](_0x3b1af3);var _0x80f633=_0x3b1af3['kdf']['execute'](_0xef4d6e,_0x21607f[_0x260491(0x1e1)],_0x21607f[_0x260491(0x1b8)],_0x3b1af3[_0x260491(0x336)],_0x3b1af3[_0x260491(0xc1)]);_0x3b1af3['iv']=_0x80f633['iv'];var _0x15de3d=_0x3b0dc8[_0x260491(0x18a)]['call'](this,_0x21607f,_0x2dcd88,_0x80f633[_0x260491(0x21a)],_0x3b1af3);return _0x15de3d['mixIn'](_0x80f633),_0x15de3d;},'decrypt':function(_0x217ec0,_0x372209,_0x55d6c8,_0x2f967b){var _0x4c39a5=_0x142af6;_0x2f967b=this[_0x4c39a5(0xcf)]['extend'](_0x2f967b),_0x372209=this[_0x4c39a5(0x142)](_0x372209,_0x2f967b[_0x4c39a5(0x24a)]);var _0x4c5c73=_0x2f967b[_0x4c39a5(0x2f2)][_0x4c39a5(0x27e)](_0x55d6c8,_0x217ec0[_0x4c39a5(0x1e1)],_0x217ec0['ivSize'],_0x372209['salt'],_0x2f967b[_0x4c39a5(0xc1)]);_0x2f967b['iv']=_0x4c5c73['iv'];var _0x112609=_0x3b0dc8[_0x4c39a5(0x2de)][_0x4c39a5(0x2a6)](this,_0x217ec0,_0x372209,_0x4c5c73['key'],_0x2f967b);return _0x112609;}});}();}));}(Je)),Je['exports'];}var mn=Ve[_0x2dad69(0x2d3)],ti;function In(){return ti||(ti=0x1,function(_0x1a3fbe,_0x477f7c){(function(_0x2a06a3,_0x35f900,_0x43461f){_0x1a3fbe['exports']=_0x35f900(ie(),Ri(),ln(),Ci(),Ni());}(mn,function(_0x3e3924){return(function(){var _0x3f2617=_0x35c2,_0x1a8e32=_0x3e3924,_0x3af3cb=_0x1a8e32[_0x3f2617(0x298)],_0x5e9376=_0x3af3cb[_0x3f2617(0x326)],_0x49089e=_0x1a8e32[_0x3f2617(0x80)],_0x633724=[],_0xbfe253=[],_0x13fd0f=[],_0x20fc72=[],_0x59735e=[],_0x5656d3=[],_0x1c0d72=[],_0x239461=[],_0x116059=[],_0x3d448d=[];(function(){for(var _0x1569be=[],_0x61984c=0x0;_0x61984c<0x100;_0x61984c++)_0x61984c<0x80?_0x1569be[_0x61984c]=_0x61984c<<0x1:_0x1569be[_0x61984c]=_0x61984c<<0x1^0x11b;for(var _0x42c1a8=0x0,_0x443566=0x0,_0x61984c=0x0;_0x61984c<0x100;_0x61984c++){var _0x44382b=_0x443566^_0x443566<<0x1^_0x443566<<0x2^_0x443566<<0x3^_0x443566<<0x4;_0x44382b=_0x44382b>>>0x8^_0x44382b&0xff^0x63,_0x633724[_0x42c1a8]=_0x44382b,_0xbfe253[_0x44382b]=_0x42c1a8;var _0x5a2baf=_0x1569be[_0x42c1a8],_0x1a6f55=_0x1569be[_0x5a2baf],_0x39622f=_0x1569be[_0x1a6f55],_0x3c1790=_0x1569be[_0x44382b]*0x101^_0x44382b*0x1010100;_0x13fd0f[_0x42c1a8]=_0x3c1790<<0x18|_0x3c1790>>>0x8,_0x20fc72[_0x42c1a8]=_0x3c1790<<0x10|_0x3c1790>>>0x10,_0x59735e[_0x42c1a8]=_0x3c1790<<0x8|_0x3c1790>>>0x18,_0x5656d3[_0x42c1a8]=_0x3c1790;var _0x3c1790=_0x39622f*0x1010101^_0x1a6f55*0x10001^_0x5a2baf*0x101^_0x42c1a8*0x1010100;_0x1c0d72[_0x44382b]=_0x3c1790<<0x18|_0x3c1790>>>0x8,_0x239461[_0x44382b]=_0x3c1790<<0x10|_0x3c1790>>>0x10,_0x116059[_0x44382b]=_0x3c1790<<0x8|_0x3c1790>>>0x18,_0x3d448d[_0x44382b]=_0x3c1790,_0x42c1a8?(_0x42c1a8=_0x5a2baf^_0x1569be[_0x1569be[_0x1569be[_0x39622f^_0x5a2baf]]],_0x443566^=_0x1569be[_0x1569be[_0x443566]]):_0x42c1a8=_0x443566=0x1;}}());var _0xb9b158=[0x0,0x1,0x2,0x4,0x8,0x10,0x20,0x40,0x80,0x1b,0x36],_0x150764=_0x49089e['AES']=_0x5e9376[_0x3f2617(0x12c)]({'_doReset':function(){var _0x4b119e=_0x3f2617,_0x23f3c5;if(!(this[_0x4b119e(0x104)]&&this['_keyPriorReset']===this['_key'])){for(var _0x49566d=this['_keyPriorReset']=this[_0x4b119e(0xb8)],_0x351b27=_0x49566d[_0x4b119e(0x243)],_0x2ef49d=_0x49566d[_0x4b119e(0x1d4)]/0x4,_0x571c9e=this[_0x4b119e(0x104)]=_0x2ef49d+0x6,_0x43e5ea=(_0x571c9e+0x1)*0x4,_0x3fa251=this[_0x4b119e(0x325)]=[],_0x5f2a29=0x0;_0x5f2a29<_0x43e5ea;_0x5f2a29++)_0x5f2a29<_0x2ef49d?_0x3fa251[_0x5f2a29]=_0x351b27[_0x5f2a29]:(_0x23f3c5=_0x3fa251[_0x5f2a29-0x1],_0x5f2a29%_0x2ef49d?_0x2ef49d>0x6&&_0x5f2a29%_0x2ef49d==0x4&&(_0x23f3c5=_0x633724[_0x23f3c5>>>0x18]<<0x18|_0x633724[_0x23f3c5>>>0x10&0xff]<<0x10|_0x633724[_0x23f3c5>>>0x8&0xff]<<0x8|_0x633724[_0x23f3c5&0xff]):(_0x23f3c5=_0x23f3c5<<0x8|_0x23f3c5>>>0x18,_0x23f3c5=_0x633724[_0x23f3c5>>>0x18]<<0x18|_0x633724[_0x23f3c5>>>0x10&0xff]<<0x10|_0x633724[_0x23f3c5>>>0x8&0xff]<<0x8|_0x633724[_0x23f3c5&0xff],_0x23f3c5^=_0xb9b158[_0x5f2a29/_0x2ef49d|0x0]<<0x18),_0x3fa251[_0x5f2a29]=_0x3fa251[_0x5f2a29-_0x2ef49d]^_0x23f3c5);for(var _0x3a8c15=this[_0x4b119e(0x122)]=[],_0x43e1d2=0x0;_0x43e1d2<_0x43e5ea;_0x43e1d2++){var _0x5f2a29=_0x43e5ea-_0x43e1d2;if(_0x43e1d2%0x4)var _0x23f3c5=_0x3fa251[_0x5f2a29];else var _0x23f3c5=_0x3fa251[_0x5f2a29-0x4];_0x43e1d2<0x4||_0x5f2a29<=0x4?_0x3a8c15[_0x43e1d2]=_0x23f3c5:_0x3a8c15[_0x43e1d2]=_0x1c0d72[_0x633724[_0x23f3c5>>>0x18]]^_0x239461[_0x633724[_0x23f3c5>>>0x10&0xff]]^_0x116059[_0x633724[_0x23f3c5>>>0x8&0xff]]^_0x3d448d[_0x633724[_0x23f3c5&0xff]];}}},'encryptBlock':function(_0x54c1dd,_0x564ff1){var _0x559dbe=_0x3f2617;this['_doCryptBlock'](_0x54c1dd,_0x564ff1,this[_0x559dbe(0x325)],_0x13fd0f,_0x20fc72,_0x59735e,_0x5656d3,_0x633724);},'decryptBlock':function(_0x26aa6d,_0x12ac7b){var _0x5b1bc9=_0x3f2617,_0x1ebf32=_0x26aa6d[_0x12ac7b+0x1];_0x26aa6d[_0x12ac7b+0x1]=_0x26aa6d[_0x12ac7b+0x3],_0x26aa6d[_0x12ac7b+0x3]=_0x1ebf32,this[_0x5b1bc9(0x165)](_0x26aa6d,_0x12ac7b,this['_invKeySchedule'],_0x1c0d72,_0x239461,_0x116059,_0x3d448d,_0xbfe253);var _0x1ebf32=_0x26aa6d[_0x12ac7b+0x1];_0x26aa6d[_0x12ac7b+0x1]=_0x26aa6d[_0x12ac7b+0x3],_0x26aa6d[_0x12ac7b+0x3]=_0x1ebf32;},'_doCryptBlock':function(_0x2e2e19,_0x53a8f2,_0x507edc,_0x499bf7,_0x182ef6,_0x51e6e2,_0x3761d2,_0x14e992){var _0x2cea12=_0x3f2617;for(var _0x15ddda=this[_0x2cea12(0x104)],_0x165d6d=_0x2e2e19[_0x53a8f2]^_0x507edc[0x0],_0x4c95f5=_0x2e2e19[_0x53a8f2+0x1]^_0x507edc[0x1],_0x43dad9=_0x2e2e19[_0x53a8f2+0x2]^_0x507edc[0x2],_0x4c9546=_0x2e2e19[_0x53a8f2+0x3]^_0x507edc[0x3],_0x49c529=0x4,_0x5e4c5a=0x1;_0x5e4c5a<_0x15ddda;_0x5e4c5a++){var _0x12fc56=_0x499bf7[_0x165d6d>>>0x18]^_0x182ef6[_0x4c95f5>>>0x10&0xff]^_0x51e6e2[_0x43dad9>>>0x8&0xff]^_0x3761d2[_0x4c9546&0xff]^_0x507edc[_0x49c529++],_0x138c01=_0x499bf7[_0x4c95f5>>>0x18]^_0x182ef6[_0x43dad9>>>0x10&0xff]^_0x51e6e2[_0x4c9546>>>0x8&0xff]^_0x3761d2[_0x165d6d&0xff]^_0x507edc[_0x49c529++],_0x4d01bc=_0x499bf7[_0x43dad9>>>0x18]^_0x182ef6[_0x4c9546>>>0x10&0xff]^_0x51e6e2[_0x165d6d>>>0x8&0xff]^_0x3761d2[_0x4c95f5&0xff]^_0x507edc[_0x49c529++],_0x118ae7=_0x499bf7[_0x4c9546>>>0x18]^_0x182ef6[_0x165d6d>>>0x10&0xff]^_0x51e6e2[_0x4c95f5>>>0x8&0xff]^_0x3761d2[_0x43dad9&0xff]^_0x507edc[_0x49c529++];_0x165d6d=_0x12fc56,_0x4c95f5=_0x138c01,_0x43dad9=_0x4d01bc,_0x4c9546=_0x118ae7;}var _0x12fc56=(_0x14e992[_0x165d6d>>>0x18]<<0x18|_0x14e992[_0x4c95f5>>>0x10&0xff]<<0x10|_0x14e992[_0x43dad9>>>0x8&0xff]<<0x8|_0x14e992[_0x4c9546&0xff])^_0x507edc[_0x49c529++],_0x138c01=(_0x14e992[_0x4c95f5>>>0x18]<<0x18|_0x14e992[_0x43dad9>>>0x10&0xff]<<0x10|_0x14e992[_0x4c9546>>>0x8&0xff]<<0x8|_0x14e992[_0x165d6d&0xff])^_0x507edc[_0x49c529++],_0x4d01bc=(_0x14e992[_0x43dad9>>>0x18]<<0x18|_0x14e992[_0x4c9546>>>0x10&0xff]<<0x10|_0x14e992[_0x165d6d>>>0x8&0xff]<<0x8|_0x14e992[_0x4c95f5&0xff])^_0x507edc[_0x49c529++],_0x118ae7=(_0x14e992[_0x4c9546>>>0x18]<<0x18|_0x14e992[_0x165d6d>>>0x10&0xff]<<0x10|_0x14e992[_0x4c95f5>>>0x8&0xff]<<0x8|_0x14e992[_0x43dad9&0xff])^_0x507edc[_0x49c529++];_0x2e2e19[_0x53a8f2]=_0x12fc56,_0x2e2e19[_0x53a8f2+0x1]=_0x138c01,_0x2e2e19[_0x53a8f2+0x2]=_0x4d01bc,_0x2e2e19[_0x53a8f2+0x3]=_0x118ae7;},'keySize':0x100/0x20});_0x1a8e32[_0x3f2617(0x1d8)]=_0x5e9376[_0x3f2617(0x2db)](_0x150764);}()),_0x3e3924['AES'];}));}(Ve)),Ve['exports'];}var Sn=In();const gn=$e(Sn);var Tn=Ri();const ii=$e(Tn);var Xe={'exports':{}},On=Xe['exports'],si;function Rn(){return si||(si=0x1,function(_0x391298,_0x2f7fd1){(function(_0x33ad4c,_0x32aefd){var _0x59765a=_0x35c2;_0x391298[_0x59765a(0x2d3)]=_0x32aefd(ie());}(On,function(_0x21c5c3){return _0x21c5c3['enc']['Utf8'];}));}(Xe)),Xe['exports'];}var Cn=Rn();const Nn=$e(Cn);var Ze={'exports':{}},bn=Ze[_0x2dad69(0x2d3)],ni;function Dn(){var _0x338be7=_0x2dad69;return ni||(ni=0x1,function(_0x1d2ed6,_0x282687){(function(_0x5d83dc,_0x4ea0ff){var _0x360c43=_0x35c2;_0x1d2ed6[_0x360c43(0x2d3)]=_0x4ea0ff(ie());}(bn,function(_0x22acda){var _0x59fa35=_0x35c2;return(function(){var _0x2485c4=_0x35c2;if(typeof ArrayBuffer==_0x2485c4(0x13d)){var _0x395a75=_0x22acda,_0x4f1bc8=_0x395a75[_0x2485c4(0x298)],_0x4a0005=_0x4f1bc8[_0x2485c4(0x23a)],_0x132e7a=_0x4a0005['init'],_0x25ffec=_0x4a0005[_0x2485c4(0x198)]=function(_0x37b342){var _0x581be2=_0x2485c4;if(_0x37b342 instanceof ArrayBuffer&&(_0x37b342=new Uint8Array(_0x37b342)),(_0x37b342 instanceof Int8Array||typeof Uint8ClampedArray<'u'&&_0x37b342 instanceof Uint8ClampedArray||_0x37b342 instanceof Int16Array||_0x37b342 instanceof Uint16Array||_0x37b342 instanceof Int32Array||_0x37b342 instanceof Uint32Array||_0x37b342 instanceof Float32Array||_0x37b342 instanceof Float64Array)&&(_0x37b342=new Uint8Array(_0x37b342[_0x581be2(0x155)],_0x37b342[_0x581be2(0xa5)],_0x37b342[_0x581be2(0x144)])),_0x37b342 instanceof Uint8Array){for(var _0x37f754=_0x37b342[_0x581be2(0x144)],_0x41577c=[],_0x2ccdff=0x0;_0x2ccdff<_0x37f754;_0x2ccdff++)_0x41577c[_0x2ccdff>>>0x2]|=_0x37b342[_0x2ccdff]<<0x18-_0x2ccdff%0x4*0x8;_0x132e7a[_0x581be2(0x2a6)](this,_0x41577c,_0x37f754);}else _0x132e7a['apply'](this,arguments);};_0x25ffec[_0x2485c4(0x2cc)]=_0x4a0005;}}()),_0x22acda[_0x59fa35(0x298)][_0x59fa35(0x23a)];}));}(Ze)),Ze[_0x338be7(0x2d3)];}var yn=Dn();const Un=$e(yn);var Qe={'exports':{}},An=Qe[_0x2dad69(0x2d3)],ri;function Pn(){var _0x21f0d4=_0x2dad69;return ri||(ri=0x1,function(_0x44aa66,_0x7a87c8){(function(_0x30d65e,_0x50de55,_0x1a5a8a){var _0x53229f=_0x35c2;_0x44aa66[_0x53229f(0x2d3)]=_0x50de55(ie(),Ni());}(An,function(_0x2c8e89){var _0xbc8017=_0x35c2;return _0x2c8e89[_0xbc8017(0x1b7)][_0xbc8017(0x2ad)]={'pad':function(){},'unpad':function(){}},_0x2c8e89[_0xbc8017(0x1b7)][_0xbc8017(0x2ad)];}));}(Qe)),Qe[_0x21f0d4(0x2d3)];}var wn=Pn();const Mn=$e(wn);function Ln(_0x1e3440,_0x528053){var _0x5bbb65=_0x2dad69;const _0x3f5612=_0x528053-_0x1e3440[_0x5bbb65(0xd0)]%_0x528053,_0x4ac4f9=String[_0x5bbb65(0x29b)](_0x3f5612)['repeat'](_0x3f5612);return _0x1e3440+_0x4ac4f9;}function xn(_0x10caa3,_0x58201e){var _0x47d36c=_0x2dad69;const _0x15791d=Un[_0x47d36c(0x8a)](0x10),_0x2d8fe1=Ln(_0x10caa3,0x10),_0x4aedf0=gn[_0x47d36c(0x18a)](Nn[_0x47d36c(0x12f)](_0x2d8fe1),ii[_0x47d36c(0x12f)](_0x58201e),{'iv':_0x15791d,'padding':Mn});return _0x15791d[_0x47d36c(0x1c9)](_0x4aedf0['ciphertext'])[_0x47d36c(0x1b9)](ii);}function kn(){var _0x46bbcc=_0x2dad69;const _0x4c6e68=_0xfb229()[_0x46bbcc(0x15b)];if(_0x4c6e68){const _0x30af64={'time':Math[_0x46bbcc(0x367)](Date[_0x46bbcc(0x13f)]()/0x3e8),'domain':location[_0x46bbcc(0x2bd)]};return xn(JSON[_0x46bbcc(0x36e)](_0x30af64),_0x4c6e68);}}var $n=Object[_0x2dad69(0x1f2)],Hn=(_0x3ba090,_0x4efe69,_0x2051ec,_0x1a8ad2)=>{for(var _0x36d063=_0x1a8ad2>0x1?void 0x0:_0x1a8ad2?$n(_0x4efe69,_0x2051ec):_0x4efe69,_0x7793b0=_0x3ba090['length']-0x1,_0x3e5315;_0x7793b0>=0x0;_0x7793b0--)(_0x3e5315=_0x3ba090[_0x7793b0])&&(_0x36d063=_0x3e5315(_0x36d063)||_0x36d063);return _0x36d063;},Bn=(_0x4294c9,_0x44211e)=>(_0x311d12,_0x17c064)=>_0x44211e(_0x311d12,_0x17c064,_0x4294c9);let at=class{constructor(_0x3d96fa){var _0x453555=_0x2dad69;this[_0x453555(0x15d)]=_0x3d96fa,this[_0x453555(0x11c)]();}[_0x2dad69(0x11c)](){var _0x1f071a=_0x2dad69;this[_0x1f071a(0x15d)][_0x1f071a(0x1a0)]({'interceptor':(_0x2109e7,_0x384970)=>{var _0x296e62=_0x1f071a;const _0x36e763=_0x2109e7['headers'],_0x590861=kn();return _0x590861&&_0x36e763['set'](_0x296e62(0xa4),_0x590861),_0x384970(_0x2109e7);}});}};at=Hn([Bn(0x0,_0x37d025(_0xd106c1))],at);var Fn=Object[_0x2dad69(0x1f2)],jn=(_0x40e419,_0x192bdf,_0x4fbd6c,_0x424fd7)=>{var _0x14e0dc=_0x2dad69;for(var _0x265f08=_0x424fd7>0x1?void 0x0:_0x424fd7?Fn(_0x192bdf,_0x4fbd6c):_0x192bdf,_0x1bf42d=_0x40e419[_0x14e0dc(0xd0)]-0x1,_0x52d150;_0x1bf42d>=0x0;_0x1bf42d--)(_0x52d150=_0x40e419[_0x1bf42d])&&(_0x265f08=_0x52d150(_0x265f08)||_0x265f08);return _0x265f08;},vt=(_0x8e77df,_0x3c4574)=>(_0x5ef300,_0x52deeb)=>_0x3c4574(_0x5ef300,_0x52deeb,_0x8e77df);let Ot=class extends _0x1da050{constructor(_0x4e9c12,_0x4bdf65,_0x1493ce){var _0x251499=_0x2dad69;super(),D(this,_0x251499(0x1ee),new _0x545c65(null)),D(this,_0x251499(0x2d0),this['_unitInfo$'][_0x251499(0x1db)]()),(this[_0x251499(0xd3)]=_0x4e9c12,this[_0x251499(0x188)]=_0x4bdf65,this[_0x251499(0xbe)]=_0x1493ce);}async[_0x2dad69(0x248)](_0x21a9b3,_0x4c6a4e,_0x43c284){var _0x34c50d=_0x2dad69;this[_0x34c50d(0x1ee)][_0x34c50d(0x344)]({'unitId':_0x21a9b3,'type':_0x4c6a4e});let _0x5833b9=null;switch(_0x4c6a4e){case Q[_0x34c50d(0x172)]:{_0x5833b9=await this[_0x34c50d(0x188)][_0x34c50d(0x7d)](_0x21a9b3,_0x43c284);break;}case Q[_0x34c50d(0x2e8)]:{_0x5833b9=await this[_0x34c50d(0x188)]['loadDoc'](_0x21a9b3,_0x43c284);break;}default:{this[_0x34c50d(0xd3)]['error'](_0x34c50d(0x31e),'Unknown\x20type.\x20Will\x20not\x20load\x20files\x20from\x20remote\x20address.');break;}}return _0x5833b9;}async[_0x2dad69(0x30f)](_0x2004f9,_0x2ed7c2,_0x3a7b59){var _0x6b5d2f=_0x2dad69,_0x25266e;this[_0x6b5d2f(0x1ee)]['next']({'unitId':_0x2004f9,'type':_0x2ed7c2,'subUnitId':_0x3a7b59});let _0x4e65e4=0x0;const _0x4f48dd=await((_0x25266e=this[_0x6b5d2f(0xbe)])==null?void 0x0:_0x25266e[_0x6b5d2f(0x180)](_0x2004f9));return _0x4f48dd&&(_0x4f48dd[_0x6b5d2f(0x1dc)]||_0x4f48dd['mutations'][_0x6b5d2f(0xd0)]!==0x0)&&(_0x4e65e4=_0x4f48dd[_0x6b5d2f(0x1f6)]),_0x4e65e4===0x0&&this[_0x6b5d2f(0xd3)][_0x6b5d2f(0xd2)](_0x6b5d2f(0x31e),_0x6b5d2f(0x267)),this['loadUnitOfRevision'](_0x2004f9,_0x2ed7c2,_0x4e65e4);}};Ot=jn([vt(0x0,_0xfd2baf),vt(0x1,_0x37d025(_0x5d8d7f)),vt(0x2,_0x2fa604(J))],Ot);var Vn=Object[_0x2dad69(0x1f2)],Gn=(_0x343a5c,_0x40a8c6,_0x131feb,_0x34c1a2)=>{var _0x266101=_0x2dad69;for(var _0x58bfd1=_0x34c1a2>0x1?void 0x0:_0x34c1a2?Vn(_0x40a8c6,_0x131feb):_0x40a8c6,_0x92d622=_0x343a5c[_0x266101(0xd0)]-0x1,_0x26aca5;_0x92d622>=0x0;_0x92d622--)(_0x26aca5=_0x343a5c[_0x92d622])&&(_0x58bfd1=_0x26aca5(_0x58bfd1)||_0x58bfd1);return _0x58bfd1;},pt=(_0x48029f,_0x2521e7)=>(_0x566f82,_0x5ef226)=>_0x2521e7(_0x566f82,_0x5ef226,_0x48029f);const Wn=[_0x2dad69(0x93),_0x2dad69(0x37e),'image/jpg',_0x2dad69(0xae),_0x2dad69(0x1e3)],Yn=0x5*0x400*0x400,Kn=_0x2dad69(0xbb),qn='/universer-api/file/{fileID}/sign-url';let Rt=class{constructor(_0x402d28,_0x2dfe58,_0x1a85bb){var _0x51d747=_0x2dad69;D(this,_0x51d747(0x162),0x0),D(this,_0x51d747(0x18d),new _0xe5b964()),D(this,_0x51d747(0x22f),this[_0x51d747(0x18d)]),D(this,_0x51d747(0xfd),new Map()),(this['_httpService']=_0x402d28,this[_0x51d747(0x279)]=_0x2dfe58,this[_0x51d747(0x107)]=_0x1a85bb);}[_0x2dad69(0xcd)](_0x26f29d){var _0x1a9fdd=_0x2dad69;this[_0x1a9fdd(0x162)]=_0x26f29d,this[_0x1a9fdd(0x18d)][_0x1a9fdd(0x344)](_0x26f29d);}[_0x2dad69(0x274)](_0x40da56,_0x124e41){var _0x164e11=_0x2dad69;if(_0x124e41===_0x3dfad8[_0x164e11(0x200)]){const _0x478777=new Image();return _0x478777[_0x164e11(0x36f)]=_0x40da56,_0x478777;}return this[_0x164e11(0xfd)][_0x164e11(0x7e)](_0x40da56);}['addImageSourceCache'](_0xbeb645,_0x9cf34b,_0x236e5c){var _0x250093=_0x2dad69;_0x9cf34b===_0x3dfad8[_0x250093(0x200)]||_0x236e5c==null||this[_0x250093(0xfd)]['set'](_0xbeb645,_0x236e5c);}async[_0x2dad69(0x353)](_0x5a9a66){var _0xa9696c=_0x2dad69;try{const _0x56f2e4=this[_0xa9696c(0x35e)](this[_0xa9696c(0x272)](),''+_0x5a9a66),_0xcd9007=(await this[_0xa9696c(0x15d)]['get'](_0x56f2e4))[_0xa9696c(0x1b0)];if(_0xcd9007['error']&&_0xcd9007[_0xa9696c(0x163)][_0xa9696c(0x25f)]===vi['OK']){const _0x5cdc13=new URL(_0xcd9007[_0xa9696c(0xba)],this[_0xa9696c(0x29a)]())[_0xa9696c(0x1b9)]();return Promise[_0xa9696c(0xd9)](_0x5cdc13);}return Promise[_0xa9696c(0x382)](_0xcd9007[_0xa9696c(0x163)]);}catch(_0x35c13e){return Promise[_0xa9696c(0x382)](_0x35c13e);}}async[_0x2dad69(0x1df)](_0x58c0f5){var _0x119e74=_0x2dad69;let _0x47b31d='';if(!Wn[_0x119e74(0x19f)](_0x58c0f5[_0x119e74(0x97)]))return this[_0x119e74(0xb3)](),Promise[_0x119e74(0x382)](new Error(_0x4f57d5[_0x119e74(0x2b9)]));if(_0x58c0f5['size']>Yn)return this[_0x119e74(0xb3)](),Promise[_0x119e74(0x382)](new Error(_0x4f57d5[_0x119e74(0x322)]));try{const _0x2a1b6e=new FormData();_0x2a1b6e[_0x119e74(0x8c)]('file',_0x58c0f5);const _0x745c34=this[_0x119e74(0x107)][_0x119e74(0x357)](),_0x4a6335=_0x745c34==null?void 0x0:_0x745c34[_0x119e74(0x135)]();if(!_0x4a6335)throw new Error(_0x119e74(0x18f));const _0x4d1c55=this['_getUploadFileURL']()+'?size='+_0x58c0f5[_0x119e74(0xf8)][_0x119e74(0x1b9)]()+_0x119e74(0x138)+pi[_0x119e74(0x23c)]+'&assign='+encodeURIComponent(_0x4a6335),_0x54fd1b={'body':_0x2a1b6e},_0x3a1ba6=(await this[_0x119e74(0x15d)][_0x119e74(0x335)](_0x4d1c55,_0x54fd1b))[_0x119e74(0x1b0)];if(typeof _0x3a1ba6[_0x119e74(0x23d)]!=_0x119e74(0x28b))return this[_0x119e74(0xb3)](),Promise[_0x119e74(0x382)](new Error(_0x4f57d5[_0x119e74(0xc4)]));_0x47b31d=_0x3a1ba6[_0x119e74(0x23d)];}catch{return this[_0x119e74(0xb3)](),Promise[_0x119e74(0x382)](new Error(_0x4f57d5['ERROR_IMAGE']));}return new Promise((_0x4a2b1b,_0x4abf85)=>{var _0x2ddd3d=_0x119e74;const _0x1debf1=new FileReader();_0x1debf1[_0x2ddd3d(0x11e)](_0x58c0f5),_0x1debf1[_0x2ddd3d(0x1d3)]=_0x482181=>{var _0x189be5=_0x2ddd3d,_0x21b0b9;const _0x57cfde=(_0x21b0b9=_0x482181[_0x189be5(0x17a)])==null?void 0x0:_0x21b0b9[_0x189be5(0xfe)];if(_0x57cfde==null){this['_decreaseWaiting'](),_0x4abf85(new Error(_0x4f57d5['ERROR_IMAGE']));return;}const _0x413f1f=_0x3a2a09(0x6);_0x4a2b1b({'imageId':_0x413f1f,'imageSourceType':_0x3dfad8[_0x189be5(0xb7)],'source':_0x47b31d,'base64Cache':_0x57cfde,'status':_0x4f57d5[_0x189be5(0x37a)]}),this['_decreaseWaiting']();};});}[_0x2dad69(0x2ca)](){var _0x19cef2=_0x2dad69,_0x55f8b6;const _0x390228=this[_0x19cef2(0x279)][_0x19cef2(0x257)](K);return(_0x55f8b6=_0x390228==null?void 0x0:_0x390228['uploadFileServerUrl'])!=null?_0x55f8b6:Kn;}[_0x2dad69(0x272)](){var _0x5b0a05=_0x2dad69,_0x28c78d;const _0x46913b=this['_configService'][_0x5b0a05(0x257)](K);return(_0x28c78d=_0x46913b==null?void 0x0:_0x46913b[_0x5b0a05(0x2a8)])!=null?_0x28c78d:qn;}[_0x2dad69(0x29a)](){var _0x5200ff=_0x2dad69,_0x1793c9;const _0x3fd77d=this[_0x5200ff(0x279)][_0x5200ff(0x257)](K);return(_0x1793c9=_0x3fd77d==null?void 0x0:_0x3fd77d['downloadEndpointUrl'])!=null?_0x1793c9:location['origin'];}[_0x2dad69(0x35e)](_0x58110f,_0xcbd366){var _0x82ed0c=_0x2dad69;return _0x58110f[_0x82ed0c(0x7a)]('{fileID}',_0xcbd366);}[_0x2dad69(0xb3)](){var _0x2f1993=_0x2dad69;this[_0x2f1993(0x162)]-=0x1,this['_change$'][_0x2f1993(0x344)](this['_waitCount']);}};Rt=Gn([pt(0x0,_0x37d025(_0xd106c1)),pt(0x1,_0x49834e),pt(0x2,_0x37d025(_0x532e30))],Rt);function _0x35c2(_0x39f089,_0x39c369){var _0x125953=_0x1259();return _0x35c2=function(_0x35c292,_0x383217){_0x35c292=_0x35c292-0x6c;var _0x1b0987=_0x125953[_0x35c292];return _0x1b0987;},_0x35c2(_0x39f089,_0x39c369);}var zn=Object[_0x2dad69(0x1f2)],Jn=(_0xc2977f,_0x191b2c,_0x30a4ae,_0x4c87fe)=>{var _0x35efe=_0x2dad69;for(var _0x3e5ad6=_0x4c87fe>0x1?void 0x0:_0x4c87fe?zn(_0x191b2c,_0x30a4ae):_0x191b2c,_0x2fbc75=_0xc2977f[_0x35efe(0xd0)]-0x1,_0x177f08;_0x2fbc75>=0x0;_0x2fbc75--)(_0x177f08=_0xc2977f[_0x2fbc75])&&(_0x3e5ad6=_0x177f08(_0x3e5ad6)||_0x3e5ad6);return _0x3e5ad6;},ai=(_0x1e196d,_0x39a55f)=>(_0x56e60c,_0xf72087)=>_0x39a55f(_0x56e60c,_0xf72087,_0x1e196d);const Xn=_0x2dad69(0xbc);let Ct=class{constructor(_0x2fc2b7,_0x77992f){var _0x628f25=_0x2dad69;this[_0x628f25(0x279)]=_0x2fc2b7,this['_HTTPService']=_0x77992f;}[_0x2dad69(0x28f)](){var _0x5d6c55=_0x2dad69,_0x546622;const _0x189f59=this[_0x5d6c55(0x279)][_0x5d6c55(0x257)](K);return(_0x546622=_0x189f59==null?void 0x0:_0x189f59[_0x5d6c55(0xaf)])!=null?_0x546622:Xn;}async[_0x2dad69(0x1c7)](_0x4b66ce){var _0x14d945=_0x2dad69;const _0x41ae1f=this[_0x14d945(0x28f)]()+_0x14d945(0x20a);return{'list':[{'title':_0x14d945(0x1e6),'mentions':(await this[_0x14d945(0x297)][_0x14d945(0x7e)](_0x41ae1f,{'params':{'objectID':_0x4b66ce[_0x14d945(0x32e)],'unitID':_0x4b66ce['unitId']}}))[_0x14d945(0x1b0)][_0x14d945(0x16b)]['map'](_0x1873b6=>({'objectId':_0x1873b6['id'],'name':_0x1873b6[_0x14d945(0x30c)][_0x14d945(0x2f5)],'metadata':{'icon':_0x1873b6[_0x14d945(0x30c)][_0x14d945(0x1be)]},'label':_0x1873b6[_0x14d945(0x30c)][_0x14d945(0x2f5)],'objectType':_0x459aed[_0x14d945(0x263)]})),'metadata':{},'type':_0x459aed[_0x14d945(0x263)]}]};}};Ct=Jn([ai(0x0,_0x37d025(_0x49834e)),ai(0x1,_0x37d025(_0xd106c1))],Ct);var Zn=Object[_0x2dad69(0x1f2)],Qn=(_0x417a40,_0x23f58e,_0x28d100,_0xb0445d)=>{var _0x1674d5=_0x2dad69;for(var _0x31115b=_0xb0445d>0x1?void 0x0:_0xb0445d?Zn(_0x23f58e,_0x28d100):_0x23f58e,_0xe90ba0=_0x417a40[_0x1674d5(0xd0)]-0x1,_0xf1718a;_0xe90ba0>=0x0;_0xe90ba0--)(_0xf1718a=_0x417a40[_0xe90ba0])&&(_0x31115b=_0xf1718a(_0x31115b)||_0x31115b);return _0x31115b;},Ue=(_0x207c22,_0x5b6cb2)=>(_0x19bccd,_0x322a6f)=>_0x5b6cb2(_0x19bccd,_0x322a6f,_0x207c22);let ot=class extends _0x1da050{constructor(_0x446960,_0x611bd9,_0x4a25bc,_0x2cf037,_0x3bc831){var _0x1befee=_0x2dad69;super(),this['_injector']=_0x446960,this[_0x1befee(0x107)]=_0x611bd9,this['_permissionService']=_0x4a25bc,this[_0x1befee(0x186)]=_0x2cf037,this[_0x1befee(0x27a)]=_0x3bc831,this[_0x1befee(0x22b)](),this[_0x1befee(0x177)]();}[_0x2dad69(0x177)](){var _0x517b78=_0x2dad69;const _0xbe13f6=async _0x199253=>{var _0x23e49d=_0x35c2;(await this[_0x23e49d(0x186)]['requireSession'](_0x199253))[_0x23e49d(0x2b7)]['pipe'](_0xd3a02c(_0xbb0120=>_0xbb0120[_0x23e49d(0x24d)]===_0x8cf9e[_0x23e49d(0x355)]),_0x364228(this[_0x23e49d(0x2da)]))[_0x23e49d(0x1cd)](_0x1f4275=>{var _0x578f5a=_0x23e49d;const _0x4498ac=_0x1f4275,{reason:_0x2b5bfc}=_0x4498ac['data'];this[_0x578f5a(0x27a)]['emitEvent']({'id':re['CLOSE_ROOM'],'data':_0x2b5bfc}),this[_0x578f5a(0x242)]['updatePermissionPoint'](new _0x4c63bd(_0x199253)['id'],!0x1),this[_0x578f5a(0x186)][_0x578f5a(0x146)](_0x199253);});};_0x188f91(this[_0x517b78(0x107)][_0x517b78(0x23e)](_0x2558f6[_0x517b78(0x172)]),this[_0x517b78(0x107)][_0x517b78(0x23e)](_0x2558f6[_0x517b78(0x2e8)]))[_0x517b78(0x15c)](_0x992660(_0x209756=>_0x209756['getUnitId']()),_0xd3a02c(_0x3c6aaf=>!_0x231bcb(_0x3c6aaf)),_0x364228(this[_0x517b78(0x2da)]))[_0x517b78(0x1cd)](_0x305d92=>{_0xbe13f6(_0x305d92);});}['_initUnitPermissionChange'](){var _0x4d2c65=_0x2dad69;const _0x585a6d=async _0xd8e6bd=>{var _0x2e31bc=_0x35c2;const _0x5cb77d=await this[_0x2e31bc(0x186)]['requireSession'](_0xd8e6bd),_0x45a14e=this[_0x2e31bc(0x133)][_0x2e31bc(0x7e)](_0x79efa3);_0x5cb77d[_0x2e31bc(0x2b7)][_0x2e31bc(0x15c)](_0xd3a02c(_0x4af64c=>_0x4af64c[_0x2e31bc(0x24d)]===_0x8cf9e[_0x2e31bc(0x92)]),_0x364228(this[_0x2e31bc(0x2da)]))[_0x2e31bc(0x1cd)](_0x326a7a=>{var _0xa06988=_0x2e31bc;const _0x3d1e6b=_0x326a7a,{objectId:_0x579bbf}=_0x3d1e6b['data'];_0x579bbf===_0xd8e6bd?_0x45a14e[_0xa06988(0x381)](_0xd8e6bd):_0x45a14e['refreshPermission'](_0xd8e6bd,_0x579bbf);});};_0x188f91(this[_0x4d2c65(0x107)][_0x4d2c65(0x23e)](_0x2558f6[_0x4d2c65(0x172)]))[_0x4d2c65(0x15c)](_0x992660(_0x513cff=>_0x513cff[_0x4d2c65(0x135)]()),_0xd3a02c(_0x408087=>!_0x231bcb(_0x408087)),_0x364228(this[_0x4d2c65(0x2da)]))[_0x4d2c65(0x1cd)](_0x53d0ec=>{_0x585a6d(_0x53d0ec);});}};ot=Qn([Ue(0x0,_0x37d025(_0x290c7c)),Ue(0x1,_0x532e30),Ue(0x2,_0x25b205),Ue(0x3,_0x37d025(we)),Ue(0x4,_0x37d025(ve))],ot);var er=Object[_0x2dad69(0x1f2)],tr=(_0x26c57c,_0x136987,_0x44a482,_0x56e915)=>{var _0x2c5a51=_0x2dad69;for(var _0x4187f0=_0x56e915>0x1?void 0x0:_0x56e915?er(_0x136987,_0x44a482):_0x136987,_0x8610a7=_0x26c57c[_0x2c5a51(0xd0)]-0x1,_0x48a602;_0x8610a7>=0x0;_0x8610a7--)(_0x48a602=_0x26c57c[_0x8610a7])&&(_0x4187f0=_0x48a602(_0x4187f0)||_0x4187f0);return _0x4187f0;},oi=(_0x2737ba,_0x421709)=>(_0x1d7776,_0x17beb0)=>_0x421709(_0x1d7776,_0x17beb0,_0x2737ba);let Nt=class{constructor(_0x3e9c88,_0x4dcaf0){var _0x297d4e=_0x2dad69;this[_0x297d4e(0x279)]=_0x3e9c88,this[_0x297d4e(0x15d)]=_0x4dcaf0;}async[_0x2dad69(0x12d)](_0x100852,_0x15cb60){var _0x40c092=_0x2dad69,_0x5dd00f;const {unitID:_0xc4d5fd,type:_0x396811,revision:_0x5d5b90=0x0}=_0x15cb60,_0x24b9b2=this[_0x40c092(0x311)]()+'/'+_0x396811+'/unit/'+_0xc4d5fd+'/rev/'+_0x5d5b90,_0x40d3e3=(await this[_0x40c092(0x15d)][_0x40c092(0x7e)](_0x24b9b2))['body'],_0x39bb90=(_0x5dd00f=_0x40d3e3['snapshot'])==null?void 0x0:_0x5dd00f['workbook'];if(_0x39bb90){const _0x4df7c0=_0x39bb90==null?void 0x0:_0x39bb90[_0x40c092(0xd8)],_0x1fe86b=_0x328a36[_0x40c092(0xcc)](_0x32840c(_0x4df7c0));_0x39bb90[_0x40c092(0xd8)]=_0x1fe86b,Object[_0x40c092(0x350)](_0x39bb90['sheets'])[_0x40c092(0x331)](([,_0x2dba8b])=>{var _0x4c91d0=_0x40c092;const _0x47cf1b=_0x2dba8b['originalMeta'],_0x4e8dbc=_0x328a36['encode'](_0x32840c(_0x47cf1b));_0x2dba8b[_0x4c91d0(0xd8)]=_0x4e8dbc;});}return _0x40d3e3;}async[_0x2dad69(0x1cf)](_0x89db1b,_0x4d10b4){var _0x3da61e=_0x2dad69;const {unitID:_0x18c45a,type:_0x5155f1,blockID:_0x4f6335}=_0x4d10b4,_0x24ede1=this['_getAPIPrefix']()+'/'+_0x5155f1+'/unit/'+_0x18c45a+_0x3da61e(0x358)+_0x4f6335;return(await this[_0x3da61e(0x15d)]['get'](_0x24ede1))[_0x3da61e(0x1b0)];}async['getDeserializedSheetBlock'](_0x5e2824,_0x535ec8){var _0x110918=_0x2dad69;const {unitID:_0x32d0e1,type:_0x308a76,blockID:_0x52d5d1}=_0x535ec8,_0x1fade8=this['_getAPIPrefix']()+_0x110918(0x358)+_0x308a76+_0x110918(0x26b)+_0x32d0e1+'/block/'+_0x52d5d1;return(await this['_httpService'][_0x110918(0x7e)](_0x1fade8))['body'];}async[_0x2dad69(0x16a)](_0x19cb96,_0x5a7b9d){var _0x116bdf=_0x2dad69;const {unitID:_0x59747a,type:_0x3595c9,from:_0x12041f,to:_0x53a0b6}=_0x5a7b9d,_0x203b61=this[_0x116bdf(0x1c2)]()+'/'+_0x3595c9+'/unit/'+_0x59747a+_0x116bdf(0x1f0)+_0x12041f+_0x116bdf(0xbd)+_0x53a0b6;return(await this[_0x116bdf(0x15d)][_0x116bdf(0x7e)](_0x203b61))['body'];}[_0x2dad69(0x311)](){var _0xb0ab38=_0x2dad69,_0x4f2313;return(_0x4f2313=this[_0xb0ab38(0x279)]['getConfig'](vs))!=null?_0x4f2313:this[_0xb0ab38(0x1c2)]();}['_getAPIPrefix'](){var _0x461d4f=_0x2dad69,_0x3e7a17;const _0x4a6ca7=this[_0x461d4f(0x279)][_0x461d4f(0x257)](K);return(_0x3e7a17=_0x4a6ca7==null?void 0x0:_0x4a6ca7[_0x461d4f(0x123)])!=null?_0x3e7a17:fs;}async[_0x2dad69(0x18b)](_0x3f383a,_0x568493){var _0x251e64=_0x2dad69;const _0x38759b=_0x251e64(0x1de)+_0x568493['type']+_0x251e64(0x26b)+_0x568493['unitID']+_0x251e64(0xa6);return(await this[_0x251e64(0x15d)]['get'](_0x38759b,{'params':{'resourceId':JSON[_0x251e64(0x36e)](_0x568493['resourceIDs'])}}))[_0x251e64(0x1b0)];}[_0x2dad69(0x25a)](){throw new Error('This\x20method\x20should\x20not\x20be\x20called\x20on\x20the\x20client\x20side!');}[_0x2dad69(0xd4)](){var _0x440677=_0x2dad69;throw new Error(_0x440677(0x191));}[_0x2dad69(0x79)](){var _0x4d0358=_0x2dad69;throw new Error(_0x4d0358(0x191));}[_0x2dad69(0x370)](){var _0x30f1cd=_0x2dad69;throw new Error(_0x30f1cd(0x191));}['copyFileMeta'](){var _0x1f2063=_0x2dad69;throw new Error(_0x1f2063(0x191));}['getLatestCsReqIdBySid'](){var _0x4962d0=_0x2dad69;throw new Error(_0x4962d0(0x191));}};Nt=tr([oi(0x0,_0x49834e),oi(0x1,_0x37d025(_0xd106c1))],Nt);var ir=Object[_0x2dad69(0x1f2)],sr=(_0x50c969,_0x41304c,_0x124664,_0x36b43a)=>{for(var _0x31d218=_0x36b43a>0x1?void 0x0:_0x36b43a?ir(_0x41304c,_0x124664):_0x41304c,_0x103a2e=_0x50c969['length']-0x1,_0x4afacc;_0x103a2e>=0x0;_0x103a2e--)(_0x4afacc=_0x50c969[_0x103a2e])&&(_0x31d218=_0x4afacc(_0x31d218)||_0x31d218);return _0x31d218;},Ae=(_0x1806a3,_0x20f11f)=>(_0xcb8c2e,_0x52b0a4)=>_0x20f11f(_0xcb8c2e,_0x52b0a4,_0x1806a3);let bt=class extends _0x58d766{constructor(_0x13f256,_0x59da5c,_0x342e4e,_0x1e28df,_0x2a437a){var _0x37ffb6=_0x2dad69;super(_0x13f256,_0x59da5c,_0x342e4e),this[_0x37ffb6(0x12a)]=_0x1e28df,this[_0x37ffb6(0xd3)]=_0x2a437a;}[_0x2dad69(0x269)](_0x51015d,_0x2c48b1){var _0x5048df=_0x2dad69;const _0x42516c=this[_0x5048df(0x171)](_0x51015d);if(_0x42516c)try{const _0x3a3309=this[_0x5048df(0x159)](_0x42516c,_0x2c48b1);this[_0x5048df(0x333)](_0x51015d,_0x3a3309);}catch(_0x12ae0a){this['_logService']['error'](_0x5048df(0x101),_0x12ae0a),this['_clearUndo'](_0x51015d);}const _0x4a08e9=this[_0x5048df(0x219)](_0x51015d);if(_0x4a08e9)try{const _0x22e1d7=this[_0x5048df(0x159)](_0x4a08e9,_0x2c48b1);this['_substituteRedoStack'](_0x51015d,_0x22e1d7);}catch(_0x4e8b75){this[_0x5048df(0xd3)][_0x5048df(0x163)](_0x4e8b75),this['_clearRedo'](_0x51015d);}}[_0x2dad69(0x319)](_0x14ad14){const _0x217d9b=this['_getUndoStack'](_0x14ad14);_0x217d9b&&(_0x217d9b['length']=0x0,this['_updateStatus']());}[_0x2dad69(0x352)](_0x19dc27){var _0x4c4e95=_0x2dad69;const _0xbc217=this[_0x4c4e95(0x219)](_0x19dc27);_0xbc217&&(_0xbc217[_0x4c4e95(0xd0)]=0x0,this[_0x4c4e95(0x18e)]());}[_0x2dad69(0x333)](_0x323c3e,_0x2c6f3c){var _0x2c6e7a=_0x2dad69;this['_undoStacks'][_0x2c6e7a(0x82)](_0x323c3e,_0x2c6f3c),this['_updateStatus']();}[_0x2dad69(0x2b8)](_0x1f7fd6,_0xe2785){var _0x3dfed2=_0x2dad69;this[_0x3dfed2(0x120)][_0x3dfed2(0x82)](_0x1f7fd6,_0xe2785),this[_0x3dfed2(0x18e)]();}[_0x2dad69(0x159)](_0x23da7a,_0x2aaac9){var _0x163b43=_0x2dad69;const _0x2e34ad=[];let _0x3c1db8=_0x2aaac9,_0x38fe9d=_0x2aaac9;for(let _0x5e2c85=_0x23da7a[_0x163b43(0xd0)]-0x1;_0x5e2c85>=0x0;_0x5e2c85--){const {unitID:_0xebe5e7,undoMutations:_0x9984a3,redoMutations:_0x5230fa}=_0x23da7a[_0x5e2c85],_0x469612=this[_0x163b43(0x12a)][_0x163b43(0x21f)](_0x3c1db8,_0x9984a3),_0x61ff33=this[_0x163b43(0x12a)]['transformMutationsWithChangeset'](_0x38fe9d,_0x5230fa);if(_0x208c7a(_0x469612)||_0x208c7a(_0x61ff33)){this['_logService']['error'](_0x163b43(0x101),_0x163b43(0x364),_0x469612,_0x61ff33);break;}_0x3c1db8=_0x469612['c1Prime'],_0x38fe9d=_0x61ff33['c1Prime'],_0x2e34ad['push']({'unitID':_0xebe5e7,'undoMutations':_0x469612[_0x163b43(0x2d2)],'redoMutations':_0x61ff33[_0x163b43(0x2d2)]});}return _0x2e34ad[_0x163b43(0x254)]();}};bt=sr([Ae(0x0,_0x532e30),Ae(0x1,_0x450dec),Ae(0x2,_0x161c1b),Ae(0x3,_0x2578ac),Ae(0x4,_0xfd2baf)],bt);var nr=Object['defineProperty'],rr=Object['getOwnPropertyDescriptor'],ar=(_0x392292,_0x10409e,_0x280425)=>_0x10409e in _0x392292?nr(_0x392292,_0x10409e,{'enumerable':!0x0,'configurable':!0x0,'writable':!0x0,'value':_0x280425}):_0x392292[_0x10409e]=_0x280425,or=(_0xdce362,_0x923dbc,_0x183916,_0x5509eb)=>{for(var _0x15cb51=_0x5509eb>0x1?void 0x0:_0x5509eb?rr(_0x923dbc,_0x183916):_0x923dbc,_0x1227b=_0xdce362['length']-0x1,_0x3cc5c1;_0x1227b>=0x0;_0x1227b--)(_0x3cc5c1=_0xdce362[_0x1227b])&&(_0x15cb51=_0x3cc5c1(_0x15cb51)||_0x15cb51);return _0x15cb51;},Et=(_0x172974,_0x1242f0)=>(_0x123150,_0x5bb9ae)=>_0x1242f0(_0x123150,_0x5bb9ae,_0x172974),cr=(_0x349c9f,_0x123b09,_0x2f81e8)=>ar(_0x349c9f,_0x123b09+'',_0x2f81e8);const _r='UNIVER_COLLABORATION_CLIENT_PLUGIN';let Dt=class extends _0x5af48a{constructor(_0x4b83b3,_0x49331f,_0x34578a,_0x44ca50){var _0x18e787=_0x2dad69;super(),D(this,'_config'),(this[_0x18e787(0xd3)]=_0x49331f,this[_0x18e787(0x133)]=_0x34578a,this['_configService']=_0x44ca50);const {..._0x5349f0}=_0x2620b3({},Ls,_0x4b83b3);if(!_0x5349f0[_0x18e787(0xff)])throw new Error(_0x18e787(0x15f));this[_0x18e787(0x156)]=_0x5349f0,this[_0x18e787(0x279)]['setConfig'](K,_0x5349f0);}[_0x2dad69(0xcb)](){var _0x5cbb4e=_0x2dad69;this[_0x5cbb4e(0x286)](),this[_0x5cbb4e(0x246)]();}[_0x2dad69(0x286)](){var _0x54206d=_0x2dad69,_0x2cbc79,_0x538787;this[_0x54206d(0x133)][_0x54206d(0x19c)](_0x5619d5)&&this[_0x54206d(0xd3)][_0x54206d(0x163)](_0x54206d(0x310),_0x54206d(0x284));const _0x92d9d8=_0x294cfe([[_0x5619d5,{'useClass':bt}],[we],[Pe],[it],[rt],[at],[Ei],[ot],[ve],[Ot],[Oi,{'useClass':this[_0x54206d(0x156)][_0x54206d(0xff)]}],[_0x34a1f3,{'useClass':Nt}],[_0x2598a3,{'useClass':Tt}],[_0x417a3d,{'useClass':Rt}],[_0x8c9a5f,{'useClass':Ct}],[nt],[gt]],(_0x2cbc79=this[_0x54206d(0x156)])==null?void 0x0:_0x2cbc79[_0x54206d(0x1c1)]);if(!((_0x538787=this[_0x54206d(0x156)])!=null&&_0x538787['enableSingleActiveInstanceLock'])){const _0x2126b0=_0x92d9d8[_0x54206d(0x129)](([_0x24927c])=>_0x24927c===_t);_0x2126b0!==-0x1&&_0x92d9d8['splice'](_0x2126b0,0x1);}_0x111a34(this[_0x54206d(0x133)],_0x92d9d8);}[_0x2dad69(0x246)](){var _0x535465=_0x2dad69,_0x223f7e,_0x1e6c7d,_0x90dddd;this[_0x535465(0x133)][_0x535465(0x7e)](_0xd106c1)['registerHTTPInterceptor']({'priority':0x14,'interceptor':_0x44f611({'maxParallel':0x6})}),(_0x223f7e=this['_config'])!=null&&_0x223f7e['enableOfflineEditing']||(_0x1e6c7d=this[_0x535465(0x133)][_0x535465(0x7e)](J,_0x56e8f5[_0x535465(0xb9)]))==null||_0x1e6c7d[_0x535465(0x1ba)](),(_0x90dddd=this[_0x535465(0x156)])!=null&&_0x90dddd[_0x535465(0x36a)]&&_0x2e17b5(this[_0x535465(0x133)],[[rt]]),_0x2e17b5(this[_0x535465(0x133)],[[at],[nt],[ot]]);}};cr(Dt,_0x2dad69(0x1e2),_r),Dt=or([_0x29463a(_0x37cbad,_0x1f7e29),Et(0x1,_0xfd2baf),Et(0x2,_0x37d025(_0x290c7c)),Et(0x3,_0x49834e)],Dt);export{Tt as AuthzIoHttpService,le as AwaitingState,oe as AwaitingWithPendingState,K as COLLABORATION_CLIENT_PLUGIN_CONFIG_KEY,nt as CollaborationController,st as CollaborationEntity,Rt as CollaborationImageIoService,mt as CollaborationSession,we as CollaborationSessionService,Wt as CollaborationSocketService,Si as CollaborationStatus,re as CollaborationUIEventId,ve as CollaborationUIEventService,bt as CollaborativeUndoRedoService,Ei as CommentService,ue as ConflictState,Es as DEFAULT_COLLAB_WEB_SOCKET_URL,Cr as DEFAULT_REMOTE_UNISCRIPT_EXECUTION_ENDPOINT,gr as DEFAULT_WS_SESSION_TICKET_URL,Ot as DataLoaderService,It as DocCollaborationEntity,ee as FetchingMissState,ms as HEARTBEAT_INTERVAL_KEY,di as HEARTBEAT_TIMEOUT_KEY,Oi as ICollaborationSocketService,J as ILocalCacheService,Fs as INetworkConditionService,_t as ISingleActiveUnitService,Or as LOCAL_CACHE_INTERVAL,Tr as LOCAL_CACHE_INTERVAL_KEY,Pe as MemberService,Ct as MentionIoHttpService,de as OfflineState,ae as PendingState,Rr as REMOTE_UNISCRIPT_EXECUTION_ENDPOINT_KEY,gs as RETRY_CONNECTING_MAX_COUNT_KEY,me as SessionStatus,St as SheetCollaborationEntity,it as SheetTransformSelectionsService,Nt as SnapshotServerOverHTTPService,be as SyncedState,mi as UnitStatus,Dt as UniverCollaborationClientPlugin,js as deserializeToCombResponse,Nr as getLocalCacheKey,Vs as serializeCombRequest};